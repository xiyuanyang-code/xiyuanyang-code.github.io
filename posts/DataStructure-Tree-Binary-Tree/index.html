

<!DOCTYPE html>
<html lang="en" >



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/YXY.png">
  <link rel="icon" href="/img/YXY.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#c30000">
  <meta name="author" content="Xiyuan Yang">
  <meta name="keywords" content="Code">
  
    <meta name="description" content="This Blog introduces several basic knowledge of binary Tree, including the linked implementation and its applications of calculating expressions and using Huffman Tree to minimize loss while coding.">
<meta property="og:type" content="article">
<meta property="og:title" content="DataStructure-Tree-Binary-Tree">
<meta property="og:url" content="https://xiyuanyang-code.github.io/posts/DataStructure-Tree-Binary-Tree/index.html">
<meta property="og:site_name" content="Xiyuan Yang&#39;s Blog">
<meta property="og:description" content="This Blog introduces several basic knowledge of binary Tree, including the linked implementation and its applications of calculating expressions and using Huffman Tree to minimize loss while coding.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://xiyuanyang-code.github.io/img/cover/binarytree.png">
<meta property="article:published_time" content="2025-02-06T14:35:50.000Z">
<meta property="article:modified_time" content="2025-05-18T16:12:44.007Z">
<meta property="article:author" content="Xiyuan Yang">
<meta property="article:tag" content="tutorial">
<meta property="article:tag" content="Tree">
<meta property="article:tag" content="Finished">
<meta property="article:tag" content="Data Structure">
<meta property="article:tag" content="C&#x2F;C++">
<meta property="article:tag" content="Binary Tree">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://xiyuanyang-code.github.io/img/cover/binarytree.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>DataStructure-Tree-Binary-Tree - Xiyuan Yang&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"xiyuanyang-code.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":50,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"❡"},"progressbar":{"enable":true,"height_px":3,"color":"red","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"L7r0uGb0fafbzNvmBADCMH42-gzGzoHsz","app_key":"2Lr1fQ2rjhwRiUrDx0VOQyUm","server_url":null,"path":"window.location.pathname","ignore_local":true},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Xiyuan Yang&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="https://xiyuanyang-code.github.io/posts/Above-All-en/" target="_self">
                <i class="iconfont icon-bookmark-fill"></i>
                <span>Intro</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archive</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Category</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tag</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="https://xiyuanyang-code.github.io/My-Resume/" target="_self">
                <i class="iconfont icon-code"></i>
                <span>Resume</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                <span>Else</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/FAQ/" target="_self">
                    <i class="iconfont icon-bug"></i>
                    <span>FAQ</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/links" target="_self">
                    <i class="iconfont icon-link-fill"></i>
                    <span>Links</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://xiyuanyang-code.github.io/Blog-word-counting/" target="_self">
                    <i class="iconfont icon-plan"></i>
                    <span>Status</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://xiyuanyang-code.github.io/posts/My-Posts/" target="_self">
                    <i class="iconfont icon-notebook"></i>
                    <span>All Posts</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/Recordings/" target="_self">
                    <i class="iconfont icon-clipcheck"></i>
                    <span>Daily Loggings</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://github.com/xiyuanyang-code" target="_self">
                    <i class="iconfont icon-github-fill"></i>
                    <span>My Github</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/" target="_self">
                    <i class="iconfont icon-copyright"></i>
                    <span>About Hexo</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://xiyuanyang-code.github.io/posts/Life-musings/" target="_self">
                    <i class="iconfont icon-brush"></i>
                    <span>Life Musing</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/place.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="DataStructure-Tree-Binary-Tree"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Xiyuan Yang
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-02-06 22:35" pubdate>
          February 6, 2025 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.1k words
        
      </span>
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Algorithm"
        id="heading-4afa80e77a07f7488ce4d1bdd8c4977a" role="tab" data-toggle="collapse" href="#collapse-4afa80e77a07f7488ce4d1bdd8c4977a"
        aria-expanded="true"
      >
        Algorithm
        <span class="list-group-count">(40)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-4afa80e77a07f7488ce4d1bdd8c4977a"
           role="tabpanel" aria-labelledby="heading-4afa80e77a07f7488ce4d1bdd8c4977a">
        
        
          
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/Algorithm-Introduction/" title="Algorithm-Introduction"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-Introduction</span>
        </a>
      
    
      
      
        <a href="/posts/Algorithm-BinaryTree/" title="Algorithm-BinaryTree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-BinaryTree</span>
        </a>
      
    
      
      
        <a href="/posts/Algorithm-MCTS/" title="Algorithm-MCTS"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-MCTS</span>
        </a>
      
    
  </div>

          
  
    
    
    
    <div class="category-sub row nomargin-x">
      <a class="category-subitem collapsed
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="LeetCode Mistake Collection"
        id="heading-f89f43d24f55bb4824da96656a932e4b" role="tab" data-toggle="collapse" href="#collapse-f89f43d24f55bb4824da96656a932e4b"
        aria-expanded="false"
      >
        LeetCode Mistake Collection
        <span class="list-group-count">(5)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse " id="collapse-f89f43d24f55bb4824da96656a932e4b"
           role="tabpanel" aria-labelledby="heading-f89f43d24f55bb4824da96656a932e4b">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/Leetcode-Mistake-collection/" title="Leetcode-Mistake-Collection"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Leetcode-Mistake-Collection</span>
        </a>
      
    
      
      
        <a href="/posts/Leetcode-Mistake-collection-1-10/" title="Leetcode-Mistake-Collection-1-10"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Leetcode-Mistake-Collection-1-10</span>
        </a>
      
    
      
      
        <a href="/posts/Leetcode-Mistake-collection-11-20/" title="Leetcode-Mistake-Collection-11-20"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Leetcode-Mistake-Collection-11-20</span>
        </a>
      
    
      
      
        <a href="/posts/Leetcode-Mistake-collection-21-30/" title="Leetcode-Mistake-Collection-21-30"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Leetcode-Mistake-Collection-21-30</span>
        </a>
      
    
      
      
        <a href="/posts/Leetcode-Mistake-collection-31-40/" title="Leetcode-Mistake-Collection-31-40"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Leetcode-Mistake-Collection-31-40</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
    
    
    
    <div class="category-sub row nomargin-x">
      <a class="category-subitem collapsed
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="MIT 6.006 Introduction to Algorithms"
        id="heading-ab1a1fc5fcbd097929a85a70fd4d5816" role="tab" data-toggle="collapse" href="#collapse-ab1a1fc5fcbd097929a85a70fd4d5816"
        aria-expanded="false"
      >
        MIT 6.006 Introduction to Algorithms
        <span class="list-group-count">(1)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse " id="collapse-ab1a1fc5fcbd097929a85a70fd4d5816"
           role="tabpanel" aria-labelledby="heading-ab1a1fc5fcbd097929a85a70fd4d5816">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/Algorithm-BFS-DFS/" title="Algorithm-BFS-DFS"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-BFS-DFS</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
    
    
    
    <div class="category-sub row nomargin-x">
      <a class="category-subitem 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="SJTU CS0501(H) Data Structure"
        id="heading-de3627ab1808ecdab5905798eec54119" role="tab" data-toggle="collapse" href="#collapse-de3627ab1808ecdab5905798eec54119"
        aria-expanded="true"
      >
        SJTU CS0501(H) Data Structure
        <span class="list-group-count">(31)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-de3627ab1808ecdab5905798eec54119"
           role="tabpanel" aria-labelledby="heading-de3627ab1808ecdab5905798eec54119">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/DataStructure-Tutorial/" title="DataStructure-Tutorial"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Tutorial</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-LinearList/" title="DataStructure-LinearList"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-LinearList</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Stack/" title="DataStructure-Stack"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Stack</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Queue/" title="DataStructure-Queue"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Queue</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-String/" title="DataStructure-String"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-String</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Tree/" title="DataStructure-Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Tree-Binary-Tree/" title="DataStructure-Tree-Binary-Tree"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">DataStructure-Tree-Binary-Tree</span>
        </a>
      
    
      
      
        <a href="/posts/Algorithm-Chunking/" title="Algorithm-Chunking"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-Chunking</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Stack-Queue-Advanced/" title="DataStructure-Stack-Queue-Advanced"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Stack-Queue-Advanced</span>
        </a>
      
    
      
      
        <a href="/posts/Algorithm-Memo/" title="Algorithm-Memo"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-Memo</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Tree-Binary-Heap/" title="DataStructure-Tree-Binary-Heap"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Tree-Binary-Heap</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Set/" title="DataStructure-Set"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Set</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Tree-Binary-Search-Tree/" title="DataStructure-Tree-Binary-Search-Tree-AVL-Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Tree-Binary-Search-Tree-AVL-Tree</span>
        </a>
      
    
      
      
        <a href="/posts/Algorithm-Sorting/" title="Algorithm-Sorting"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Algorithm-Sorting</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Fenwick-Tree/" title="DataStructure-Fenwick-Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Fenwick-Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Sparse-Table/" title="DataStructure-Sparse-Table"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-Sparse-Table</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-LCA/" title="DataStructure-LCA"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-LCA</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-AVL-Tree/" title="DataStructure-AVL-Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-AVL-Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-RBT-Tree/" title="DataStructure-RBT-Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure-RBT-Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Splay-Tree/" title="DataStructure Splay Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Splay Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Hash-Table/" title="DataStructure Hash Table"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Hash Table</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Segment-Tree/" title="DataStructure Segment Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Segment Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-B-and-B-plus-Tree/" title="DataStructure B and B Plus Tree"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure B and B Plus Tree</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Disjoint-Set/" title="DataStructure Disjoint Set"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Disjoint Set</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-Introduction/" title="DataStructure Graph Introduction"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph Introduction</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-MST-problem/" title="DataStructure Graph MST Problem"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph MST Problem</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-SSSP-problem/" title="DataStructure Graph SSSP Problem"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph SSSP Problem</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-Mathematical-Basis/" title="DataStructure Graph Mathematical Basis"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph Mathematical Basis</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-AOE-and-AOV-Network/" title="DataStructure Graph AOE and AOV Network"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph AOE and AOV Network</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-Examples/" title="DataStructure Graph Examples"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph Examples</span>
        </a>
      
    
      
      
        <a href="/posts/DataStructure-Graph-SCC/" title="DataStructure Graph SCC"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">DataStructure Graph SCC</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">DataStructure-Tree-Binary-Tree</h1>
            
            
              <div class="markdown-body">
                
                <style>
  html, body, .markdown-body {
    font-family: Georgia, sans, serif;
  }
</style>

<h1 id="Data-Structure-Binary-Tree"><a href="#Data-Structure-Binary-Tree" class="headerlink" title="Data Structure: Binary Tree"></a>Data Structure: Binary Tree</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>树的定义有两种形式：<strong>递归形式</strong> 和 <strong>延伸形式</strong>。同理，我们对<strong>二叉树</strong>也可以有两种定义的解释：</p>
<ul>
<li><p><strong>延伸形式</strong>：每一个节点至多延伸出两个子节点。（可以无节点，一个节点或者两个节点）</p>
</li>
<li><p><strong>递归形式</strong>：或者为空，或者由<strong>一个根节点和两颗互不相交的子树构成</strong>，而左右子树都是<strong>二叉树</strong>。</p>
</li>
</ul>
<blockquote>
<p>可以把“二叉树为空”理解为递归调用中的函数终止条件。</p>
</blockquote>
<p>根据上面的定义，我们可以归纳二叉树的<strong>五种基本形态</strong>：</p>
<table>
<thead>
<tr>
<th>空二叉树</th>
<th>只有根的二叉树</th>
<th>只有非空左子树</th>
<th>只有非空右子树</th>
<th>左右子树均非空</th>
</tr>
</thead>
</table>
<p><img src="https://s1.imagehub.cc/images/2025/02/07/b3ab2a0443e525aee7eb1fbdca255773.png" srcset="/img/loading.gif" lazyload alt="five categories"></p>
<div class="note note-warning">
            <p><strong>注意！</strong> 二叉树是<strong>有序树</strong>，其左右子树存在差异，必须严格区分。</p><p>换句话说，下面的两棵树不可以看做是同一颗二叉树！</p>
          </div>


<pre>
<code class="mermaid" >

graph TD

A[node] --> B[value_1]

A --> C[value_2]

D[node] --> E[value_2]

D --> F[value_1]

</code>
</pre>

<p>二叉树是一种特殊的树，但在二叉树内部，又有很多<strong>特殊的二叉树</strong>：</p>
<table>
<thead>
<tr>
<th>名词</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>满二叉树</strong></td>
<td>每个节点都有 0 或 2 个子节点，且<strong>所有叶节点都在同一层</strong>。</td>
</tr>
<tr>
<td><strong>完全二叉树</strong></td>
<td>除最后一层外，其他层都是满的，且最后一层的节点尽量<strong>靠左排列</strong>。<br>也就是说，满二叉树一定是完全二叉树，把完全二叉树的叶节点全部补齐就可以变成满二叉树。</td>
</tr>
<tr>
<td><strong>平衡二叉树</strong></td>
<td>任意节点的左右子树高度差不超过 1，常见实现如 AVL 树、红黑树。</td>
</tr>
<tr>
<td><strong>二叉搜索树 (BST)</strong></td>
<td>左子树所有节点的值小于根节点，右子树所有节点的值大于根节点，且左右子树也分别是二叉搜索树。</td>
</tr>
<tr>
<td><strong>AVL 树</strong></td>
<td>一种自平衡二叉搜索树，通过旋转操作保持平衡，确保左右子树高度差不超过 1。</td>
</tr>
<tr>
<td><strong>红黑树</strong></td>
<td>一种自平衡二叉搜索树，通过颜色标记和旋转操作保持平衡，确保最长路径不超过最短路径的两倍。</td>
</tr>
<tr>
<td><strong>线索二叉树</strong></td>
<td>通过利用空指针指向节点的前驱或后继，优化遍历效率。</td>
</tr>
<tr>
<td><strong>堆 (Heap)</strong></td>
<td>一种完全二叉树，分为最大堆（父节点值大于子节点）和最小堆（父节点值小于子节点）。</td>
</tr>
<tr>
<td><strong>B 树</strong></td>
<td>一种多路平衡搜索树，常用于数据库和文件系统，节点可以有多个子节点。</td>
</tr>
<tr>
<td><strong>B+ 树</strong></td>
<td>B 树的变种，所有数据存储在叶节点，内部节点仅存储索引，适合范围查询。</td>
</tr>
<tr>
<td><strong>哈夫曼树</strong></td>
<td>一种带权路径长度最短的二叉树，用于数据压缩（如哈夫曼编码）。</td>
</tr>
<tr>
<td><strong>二叉字典树 (Trie)</strong></td>
<td>一种多叉树，用于高效存储和检索字符串，每个节点代表一个字符。</td>
</tr>
</tbody></table>
<h2 id="Mathematical-Properties"><a href="#Mathematical-Properties" class="headerlink" title="Mathematical Properties"></a>Mathematical Properties</h2><p><img src="https://s1.imagehub.cc/images/2025/02/07/69c05a5935d390a5750f7806da87c2d6.png" srcset="/img/loading.gif" lazyload alt="BinaryTree HandNotes"></p>
<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>根据上一篇博客的内容，对于一般的树结构可以有如下的操作：</p>
<ul>
<li><p><code>create()</code> : create a new tree.</p>
</li>
<li><p><code>clear()</code> : clear all nodes in a tree.</p>
</li>
<li><p><code>isEmpty()</code> : judge whether a tree is clean.</p>
</li>
<li><p><code>root()</code> : find the value of the root node.</p>
</li>
<li><p><code>parent(x)</code> : find the parent value of node <code>x</code>.</p>
</li>
<li><p><code>child(x, i)</code> : find the <code>i</code>th child value of node <code>x</code>.</p>
</li>
<li><p><code>remove(x, i)</code> : remove the <code>i</code>th child subtree of node <code>x</code>.</p>
</li>
<li><p><code>travese()</code> : traverse all the nodes in the tree.</p>
</li>
</ul>
<p>在二叉树中，<strong>树的运算可以被进一步的细分</strong>：</p>
<ul>
<li><p><strong>找孩子节点</strong>可以被细分为<strong>找左子节点和右子节点</strong>。</p>
</li>
<li><p><strong>删除子树</strong>可以被细分为<strong>删除左子树和删除右子树</strong>。</p>
</li>
<li><p><strong>二叉树的遍历</strong>可以被细分为<strong>前序遍历，中序遍历，后序遍历和层次遍历</strong>。</p>
</li>
</ul>
<h3 id="Traversal-for-Binary-Tree"><a href="#Traversal-for-Binary-Tree" class="headerlink" title="Traversal for Binary Tree"></a>Traversal for Binary Tree</h3><p>下面重点解释一下第三点，对于如下的二叉树：</p>
<blockquote>
<p>由于mermaid流程图的原因，null表示空，没有节点（这样做是为了区分左节点和右节点）。</p>
</blockquote>

<pre>
<code class="mermaid" >

graph TD
    1((1)) --> 2((2))
    1 --> 3((3))
    2 --> 4((4))
    2 --> 5((5))
    3 --> 6((6))
    3 --> 7((7))
    4 --> 8((8))
    4 --> 9((9))
    5 --> 10((10))
    5 --> 11((11))
    6 --> 12((12))
    6 --> 13((13))
    7 --> 14((14))
    7 --> 15((15))
    8 --> 16((16))
    9 --> 17((17))
    10 --> 18((18))
    11 --> 19((19))
    12 --> 20((20))

    8 --> 21((null))

    9 --> 22((null))

    10 --> 23((null))

    11 --> 24((null))

    12 --> 25((null))

</code>
</pre>

<p>在标好号之后（见上文的手写笔记性质5，从上到下，从左到右），<strong>二叉树的遍历</strong>就是从1~n遍历一遍，不过由于<strong>节点之间的关系是层次关系比较复杂</strong>，因此可以有很多种不同的遍历方式。</p>
<h4 id="Level-Order-Traversal-BFS"><a href="#Level-Order-Traversal-BFS" class="headerlink" title="Level-Order Traversal (BFS)"></a>Level-Order Traversal (BFS)</h4><p>一种最显而易见的<strong>遍历方法</strong>就是根据序号的排列<strong>升序</strong>遍历，具体到树而言，可以做如下定义：</p>
<p><strong>在访问完<code>k</code>层的所有节点后，再按照从左到右的次序访问<code>k + 1</code>层的节点</strong>。我们把这种遍历的方式叫做<strong>层次遍历</strong>。</p>
<blockquote>
<p>Level order traversal follows breadth-first search to visit&#x2F;modify every node of the tree. As BFS suggests, the breadth of the tree <strong>takes priority first</strong> and then <strong>moves to depth</strong>. In simple words, we will visit <strong>all the nodes present at the same level</strong> one-by-one <strong>from left to right</strong>, and then it <strong>moves to the next level</strong> to visit all the nodes of that level.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="[4 Types of Tree Traversal Algorithms | Built In](https://builtin.com/software-engineering-perspectives/tree-traversal#:~:text=The%20types%20of%20tree%20traversal,traversal%20and%20level%20order%20traversal.)">[1]</span></a></sup></p>
<p><strong>层次遍历</strong>本质上就是一种<strong>广度优先算法</strong>，何为广度？就是相同层数下的每一个节点都要遍历到，才会继续探索更深的层数。</p>
</blockquote>
<p>因此，对于上述的二叉树，遍历的顺序就是从1到20，升序遍历。</p>
<p>至于具体实现：可以使用<strong>队列</strong>来存储节点的in和out，<strong>队列的入队顺序正好就是层次遍历的顺序</strong>。对于队尾元素出队后再将<strong>两个子节点（如果有的话）</strong>进队，这样就保证了<strong>只有在同一层的所有节点全部遍历完之后</strong>才回去考虑下一节点。同时我们的入队满足先左后右的顺序，因此便能轻松实现二叉树的层次遍历。</p>
<h4 id="Traversal-Order-for-DFS"><a href="#Traversal-Order-for-DFS" class="headerlink" title="Traversal Order for DFS"></a>Traversal Order for DFS</h4><p>上面的遍历方法很直观，但有一个致命的缺陷：<strong>树结构的核心是层次关系，或者说是父子关系</strong>，但是层次便利相邻两个节点的关系是<strong>同级别的邻居关系</strong>，例如10-&gt;11，两个节点关系并不密切。因此，<strong>我们需要从树的递归定义出发，探索新的遍历方式</strong>。</p>
<p>新的遍历方式要求遍历相邻的两个节点应存在父子关系（对于大部分而言），因此，<strong>我们需要使用递归的方式</strong>，因为树的父子关系的生成就是依靠的递归定义。这与经典的搜索算法：<strong>深度优先搜索</strong>（DFS）不谋而合。</p>
<p>具体的递归方式如何实现？仿照树的递归定义，我们在每一个<strong>递归单元</strong>无非是要遍历完成这三个东西：<strong>左子树，根节点，右子树</strong>。这三者之间的遍历并没有具体的先后顺序要求（当然我们默认左子树先于右子树被遍历）。因此，DFS类的二叉树遍历还可以被细分为如下三种遍历方式：</p>
<ul>
<li><p><strong>Preorder Traversal</strong> : <code>root -&gt; left sub_tree -&gt; right sub_tree</code></p>
</li>
<li><p><strong>Inorder Traversal</strong> : <code>left sub_tree -&gt; root -&gt; right sub_tree</code></p>
</li>
<li><p><strong>Postorder Traversal</strong> : <code>left sub_tree -&gt; right sub_tree -&gt; root</code></p>
</li>
</ul>
<blockquote>
<p>分类的关键就是在于<strong>根节点</strong>在何时被遍历。</p>
</blockquote>
<h5 id="Preorder-Traversal"><a href="#Preorder-Traversal" class="headerlink" title="Preorder Traversal"></a>Preorder Traversal</h5><p>我们首先仿照树的定义，引出<strong>前序遍历，或者叫先根遍历</strong>（Preorder Traversal）的定义：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Pseudocode for Preorder Traversal</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>    <span class="hljs-comment">//End for recursion: The sub_tree remaining is empty</span><br>    no operations here<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    traverse the root node<br>    <span class="hljs-built_in">Preorder_traverse</span>(left_subtree)<br>    <span class="hljs-built_in">Preorder_traverse</span>(right_subtree)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>也就是说，对于每一棵树，拆分成<strong>前序遍历左子树——访问根节点——前序遍历右子树</strong>的顺序，直到达到递归终止条件：<strong>树为空</strong>。</p>
<p>这里的底层原理其实就是二叉树的递归定义：</p>
<blockquote>
<p>二叉树递归的定义方式：<strong>一个树或者为空，或者由一个根节点及两颗互不相交的子树构成。而子树也是二叉树</strong>。</p>
</blockquote>
<p>对于上面的树，先根遍历的顺序是：1,2,4,8,16,9,17,5,10,18,11,19,3,6,12,20,13,7,14,15.</p>
<blockquote>
<p><strong>The essence of Inorder Traversal</strong> is <strong>DFS</strong> !</p>
<p>The atomic operations in a recursive function are the same as inorder traversal but in a different order. Here, we visit the current node first and then go to the left subtree. After covering every node of the left subtree, we will move toward the right subtree and visit in a similar fashion.</p>
</blockquote>
<h5 id="Inorder-Traversal"><a href="#Inorder-Traversal" class="headerlink" title="Inorder Traversal"></a>Inorder Traversal</h5><p>中序遍历（中根遍历）：<strong>根节点夹在左右子树之间被遍历</strong>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Pseudocode for Inorder Traversal</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>    <span class="hljs-comment">//End for recursion: The sub_tree remaining is empty</span><br>    no operations here<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-built_in">Inorder_traverse</span>(left_subtree)<br>    traverse the root node<br>    <span class="hljs-built_in">Inorder_traverse</span>(right_subtree)<br>&#125;<br></code></pre></td></tr></table></figure>

<blockquote>
<p>值得一提的是，这是一种<strong>最常见的DFS搜索模型</strong>，严格按照从左至右的顺序进行。</p>
</blockquote>
<p>对于上面的树，遍历顺序为：16,8,4,17,9,2,18,10,5,19,11,1,20,12,6,13,3,14,7,15.</p>
<h5 id="Postorder-Traversal"><a href="#Postorder-Traversal" class="headerlink" title="Postorder Traversal"></a>Postorder Traversal</h5><p>后序遍历（后根遍历）：<strong>根节点在最后遍历</strong>。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Pseudocode for Postorder Traversal</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>    <span class="hljs-comment">//End for recursion: The sub_tree remaining is empty</span><br>    no operations here<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-built_in">Postorder_traverse</span>(left_subtree)<br>    <span class="hljs-built_in">Postorder_traverse</span>(right_subtree)<br>    traverse the root node<br>&#125;<br></code></pre></td></tr></table></figure>

<p>遍历顺序：16,8,17,9,4,18,10,19,11,5,2,20,12,13,6,14,15,7,3,1</p>
<h5 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h5>
<pre>
<code class="mermaid" >

graph TD
 1((1)) --> 2((2))
 1 --> 3((3))
 2 --> 4((4))
 2 --> 5((5))
 3 --> 6((6))
 3 --> 7((7))
 4 --> 8((8))
 4 --> 9((9))
 5 --> 10((10))
 5 --> 11((11))
 6 --> 12((12))
 6 --> 13((13))
 7 --> 14((14))
 7 --> 15((15))
 8 --> 16((16))
 9 --> 17((17))
 10 --> 18((18))
 11 --> 19((19))
 12 --> 20((20))

    8 --> 21((null))

    9 --> 22((null))

    10 --> 23((null))

    11 --> 24((null))

    12 --> 25((null))

</code>
</pre>

<p>层次遍历：升序遍历</p>
<p>先根遍历：1,2,4,8,16,9,17,5,10,18,11,19,3,6,12,20,13,7,14,15.</p>
<p>中根遍历：16,8,4,17,9,2,18,10,5,19,11,1,20,12,6,13,3,14,7,15.</p>
<p>后跟遍历：16,8,17,9,4,18,10,19,11,5,2,20,12,13,6,14,15,7,3,1</p>
<div class="note note-info">
            <p><strong>一个很有意思的小问题：在已知这三种遍历顺序的哪几种的情况下</strong>，可以唯一确定一颗二叉树？</p><blockquote><p>在这里不考虑层次遍历，因为层次遍历无法提示我们层数的信息。</p></blockquote><p>先给出结论：</p><table><thead><tr><th>已知信息</th><th>结果</th></tr></thead><tbody><tr><td><strong>已知前序和中序的遍历顺序</strong></td><td>✅</td></tr><tr><td><strong>已知后序和中序的遍历顺序</strong></td><td>✅</td></tr><tr><td><strong>已知前序和后序的遍历顺序</strong></td><td>❌</td></tr></tbody></table><p>具体的解释比较难讲清楚：关键就在于<strong>确定根节点——左子树——右子树三者之间的关系</strong>，形象的来说，现在每个节点都像一颗珠子，我们需要根据<strong>已知遍历顺序把他们归纳成三堆：左子树，根节点和右子树</strong>。</p><p>再对左子树和右子树做相同的递归操作，最后可以画出树形结构。</p><p>那为什么最后一种不可以呢？<strong>因为二叉树严格区分左右子树</strong>，但是前序和后序遍历左右子树的挨着的，会出现无法区分的情况，例如：前序AB，后序BA，A为根节点，但无法确定B为左子树还是右子树。</p>
          </div>

<h3 id="Abstract-Class"><a href="#Abstract-Class" class="headerlink" title="Abstract Class"></a>Abstract Class</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief Abstract class for Binary Tree</span><br><span class="hljs-comment"> * </span><br><span class="hljs-comment"> * @tparam T </span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryTree</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">create</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">root</span><span class="hljs-params">(T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">parent</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">lchild</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">rchild</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">delLeft</span> <span class="hljs-params">(T current_node)</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">delRight</span> <span class="hljs-params">(T current_node)</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">PreOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">InOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">PostOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">LevelOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="Linked-Implementation"><a href="#Linked-Implementation" class="headerlink" title="Linked Implementation"></a>Linked Implementation</h3><p><strong>二叉树</strong>一般采用链接方式进行存储，因为顺序存储必须为可能存在插入点位的位置腾出空间，<strong>或者说需要先构建一个完全二叉树</strong>，再引入虚节点。但是这样的存储随着层数的上升会带来<strong>几何级数的空间浪费</strong>，因此，绝大部分二叉树采用链接实现。</p>
<p>链表的核心在于<strong>额外存储指针信息来实现遍历（跳转到其他节点）</strong>。具体来说有如下形式：</p>
<table>
<thead>
<tr>
<th>普通链表</th>
<th>二叉树链表</th>
</tr>
</thead>
<tbody><tr>
<td>单向链表：单向遍历，只需要储存一个指针的值。</td>
<td><strong>二叉链表</strong>：只储存两个孩子的地址</td>
</tr>
<tr>
<td>双向链表：可以双向遍历，需要储存前继节点和后继结点的值。</td>
<td><strong>三叉链表</strong>：还要储存父亲节点的地址</td>
</tr>
<tr>
<td>循环链表：从链尾回到链头（此处不讨论）</td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://s1.imagehub.cc/images/2025/02/08/b9f88b36919b4c1bee78fbd32d7b6b4f.png" srcset="/img/loading.gif" lazyload alt="Ternary Linked List"><br><img src="https://s1.imagehub.cc/images/2025/02/08/e36026a7fe5b69d36cfeb2652e711d86.png" srcset="/img/loading.gif" lazyload alt="Binary Linked List"></p>
<p>我们把<strong>二叉链表</strong>成为<strong>标准存储结构</strong>，把<strong>三叉链表</strong>称为<strong>广义标准存储结构</strong>。</p>
<table>
<thead>
<tr>
<th>二叉链表</th>
<th><code>left</code></th>
<th><code>data</code></th>
<th><code>right</code></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><strong>三叉链表</strong></td>
<td><strong><code>data</code></strong></td>
<td><strong><code>left</code></strong></td>
<td><strong><code>paret</code></strong></td>
<td><strong><code>right</code></strong></td>
</tr>
</tbody></table>
<p>为了方便，我们在下文只实现<strong>二叉树的二叉链表类</strong>。</p>
<p>二叉树的其余成员函数实现都相对比较简单。下面给出类的声明和一些重要函数的实现思路。</p>
<h4 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h4><h4 id="createTree"><a href="#createTree" class="headerlink" title="createTree()"></a><code>createTree()</code></h4><p>在这个函数中，我们需要创建<strong>一颗新的树</strong>。来看代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//创建树</span><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">void</span> binaryTree&lt;T&gt;::<span class="hljs-built_in">creatTree</span>(T flag) &#123;<br>    std::queue&lt;Node *&gt;que;<br>    Node *tmp;<br>    T x,l_data,r_data;<br>    <span class="hljs-comment">//创建树，输入flag表示空</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Enter the root node&quot;</span>;<br>    std::cin &gt;&gt; x;<br>    root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(x);<br>    que.<span class="hljs-built_in">push</span>(root);<br>    <span class="hljs-keyword">while</span>(!que.<span class="hljs-built_in">empty</span>()) &#123;<br>        tmp = que.<span class="hljs-built_in">top</span>();<br>        que.<span class="hljs-built_in">pop</span>();<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Enter&quot;</span> &lt;&lt; tmp-&gt;data &lt;&lt;<span class="hljs-string">&quot;two sons (&quot;</span> &lt;&lt; flag &lt;&lt; <span class="hljs-string">&quot;) represents the null node&quot;</span>;<br>        std::cin &gt;&gt; l_data &gt;&gt; r_data;<br>        <span class="hljs-keyword">if</span>(l_data != flag)&#123;<br>            que.<span class="hljs-built_in">push</span>(tmp -&gt; left = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(l_data));<br>        &#125;<br>        <span class="hljs-keyword">if</span>(r_data != flag)&#123;<br>            que.<span class="hljs-built_in">push</span>(tmp-&gt;right = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(r_data));<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>基本实现思路：采用和<strong>层次遍历</strong>相同的实现思路。（使用队列）</p>
<div class="note note-primary">
            <p><strong>二叉树</strong>的实现看似复杂，其实思想非常的简单。只需要在脑海中存在树的图像，并且灵活运用<strong>树的递归定义</strong>即可。</p>
          </div>

<h4 id="二叉树遍历的非递归实现-栈实现"><a href="#二叉树遍历的非递归实现-栈实现" class="headerlink" title="二叉树遍历的非递归实现 栈实现"></a>二叉树遍历的非递归实现 栈实现</h4><div class="note note-primary">
            <p>递归函数是程序设计中非常经典的一个算法环节，但是传统的函数递归调用是建立在<strong>栈内存</strong>上的，编译器自动为函数递归的层层调用创建<strong>栈帧空间</strong>，存在不小的时间和空间开销（例如函数指针）。因此，我们也可以使用栈自己模拟<strong>二叉树遍历的递归版本</strong>，有关栈模拟递归的讲解在本质上就是<strong>手搓状态机和栈帧空间</strong>，具体的教程可以看如下的材料：</p><ul><li><a href="https://xiyuanyang-code.github.io/posts/DataStructure-Stack-Queue-Advanced/">栈模拟递归</a></li><li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1HTAWeTEo3/?share_source=copy_web&vd_source=1722361acea5d9b6aee1f9fef0777c69&t=998">从状态机的角度看栈模拟递归的实现</a></li></ul>
          </div>

<div class="note note-primary">
            <p>1.执行代码块0</p><p>2.保存现场准备进入下一层</p><p>3.接受下层返回的数据</p><p>4.恢复现场</p><p>5.继续执行代码块1</p>
          </div>

<h5 id="例题-二叉树的后根遍历的栈模拟递归实现"><a href="#例题-二叉树的后根遍历的栈模拟递归实现" class="headerlink" title="例题 二叉树的后根遍历的栈模拟递归实现"></a>例题 二叉树的后根遍历的栈模拟递归实现</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> SRC_HPP</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> SRC_HPP</span><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">The recursive implementation:</span><br><span class="hljs-comment">traverse(x.left)</span><br><span class="hljs-comment">traverse(x.right)</span><br><span class="hljs-comment">traverse(x)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">the default function</span><br><span class="hljs-comment">if(node.left == nullptr &amp;&amp; node.right == nullptr)&#123;</span><br><span class="hljs-comment">    traverse the node of x</span><br><span class="hljs-comment">&#125;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Info</span> &#123;<br>  <span class="hljs-comment">// Add whatever you want here</span><br>  <span class="hljs-type">int</span> current_size; <span class="hljs-comment">// now the traversa has gone to which section</span><br>  <span class="hljs-type">int</span> pc;<br>  <span class="hljs-comment">//pc = 1: The initial statement</span><br>  <span class="hljs-comment">//pc = 2: Has been traversed the left node</span><br>  <span class="hljs-comment">//pc = 3: has been traversed the right node</span><br>  <span class="hljs-type">const</span> Node*  root_node;<br>  <span class="hljs-type">int</span> *arr;<br>  <span class="hljs-type">int</span> total_treesize;<br>  <br><br><br><br><br>  <span class="hljs-built_in">Info</span>(<span class="hljs-type">int</span> current= <span class="hljs-number">0</span>, <span class="hljs-type">int</span> pc= <span class="hljs-number">1</span>, <span class="hljs-type">const</span> Node*  root= <span class="hljs-literal">nullptr</span>, <span class="hljs-type">int</span> *arr =<span class="hljs-literal">nullptr</span>, <span class="hljs-type">int</span> total_treesize = <span class="hljs-number">0</span>)<br>  :<span class="hljs-built_in">current_size</span>(current), <span class="hljs-built_in">pc</span>(pc),<span class="hljs-built_in">root_node</span>(root), <span class="hljs-built_in">arr</span>(arr),<span class="hljs-built_in">total_treesize</span>(total_treesize) &#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span></span><br>  &#125;<br><br>  ~<span class="hljs-built_in">Info</span>() &#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span></span><br>  &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> &#123;  <span class="hljs-comment">// DO NOT edit this part</span><br> <span class="hljs-keyword">private</span>:<br>  <span class="hljs-type">int</span> _data;<br>  Node *_lson, *_rson;<br>  <span class="hljs-keyword">mutable</span> Info _info;  <span class="hljs-comment">// custom data</span><br><br>  <span class="hljs-function"><span class="hljs-keyword">friend</span> Node *<span class="hljs-title">genTree</span><span class="hljs-params">()</span></span>;<br><br> <span class="hljs-keyword">public</span>:<br>  <span class="hljs-built_in">Node</span>();<br><br>  <span class="hljs-built_in">Node</span>(<span class="hljs-type">int</span> data);<br><br>  ~<span class="hljs-built_in">Node</span>();<br><br>  <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">data</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">const</span> Node *<span class="hljs-type">const</span> <span class="hljs-title">lson</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function"><span class="hljs-type">const</span> Node *<span class="hljs-type">const</span> <span class="hljs-title">rson</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>  <span class="hljs-function">Info &amp;<span class="hljs-title">info</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traversePostOrder</span><span class="hljs-params">(<span class="hljs-type">const</span> Node *<span class="hljs-type">const</span> root, <span class="hljs-type">int</span> *arr, <span class="hljs-type">int</span> tree_size)</span> </span>&#123;<br>  <span class="hljs-type">int</span> currentsize = <span class="hljs-number">0</span>;<br>  Info* st = <span class="hljs-keyword">new</span> Info[tree_size];<span class="hljs-comment">//the simulation of stack</span><br>  <span class="hljs-type">int</span> top = <span class="hljs-number">0</span>;<br>  st[top] = <span class="hljs-built_in">Info</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, root, arr, tree_size);<br><br>  <span class="hljs-keyword">while</span>(top &gt;= <span class="hljs-number">0</span>)&#123;<br>    <span class="hljs-keyword">auto</span>&amp; top_val = st[top];<br>    <span class="hljs-keyword">switch</span>(top_val.pc)&#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">if</span>(top_val.root_node-&gt;<span class="hljs-built_in">lson</span>() == <span class="hljs-literal">nullptr</span> &amp;&amp; top_val.root_node-&gt;<span class="hljs-built_in">rson</span>() == <span class="hljs-literal">nullptr</span>)&#123;<br>                <span class="hljs-comment">//fill in the root node!</span><br>                arr[currentsize] = top_val.root_node-&gt;<span class="hljs-built_in">data</span>();<br>                currentsize ++;<br>                <span class="hljs-keyword">if</span>(currentsize &gt; tree_size)&#123;<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br>                top --;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(top_val.root_node-&gt;<span class="hljs-built_in">lson</span>() == <span class="hljs-literal">nullptr</span>)&#123;<br>                top_val.pc = <span class="hljs-number">3</span>;<br>                st[++top] = <span class="hljs-built_in">Info</span>(currentsize, <span class="hljs-number">1</span>, top_val.root_node-&gt;<span class="hljs-built_in">rson</span>(), arr, tree_size);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                top_val.pc = <span class="hljs-number">2</span>;<br>                st[++top] = <span class="hljs-built_in">Info</span>(currentsize, <span class="hljs-number">1</span>, top_val.root_node-&gt;<span class="hljs-built_in">lson</span>(), arr, tree_size);<br>            &#125;<span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">if</span>(top_val.root_node-&gt;<span class="hljs-built_in">rson</span>() == <span class="hljs-literal">nullptr</span>)&#123;<br>                arr[currentsize] = top_val.root_node-&gt;<span class="hljs-built_in">data</span>();<br>                currentsize ++;<br>                <span class="hljs-keyword">if</span>(currentsize &gt; tree_size)&#123;<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br>                top --;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                top_val.pc = <span class="hljs-number">3</span>;<br>                st[++top] = <span class="hljs-built_in">Info</span>(currentsize, <span class="hljs-number">1</span>, top_val.root_node-&gt;<span class="hljs-built_in">rson</span>(), arr, tree_size);<br>            &#125;<span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>            arr[currentsize] = top_val.root_node-&gt;<span class="hljs-built_in">data</span>();<br>                currentsize ++;<br>                <span class="hljs-keyword">if</span>(currentsize &gt; tree_size)&#123;<br>                    <span class="hljs-keyword">return</span>;<br>                &#125;<br>                top --;<br>            <span class="hljs-keyword">break</span>;<br>    &#125;<br>  &#125;<br>&#125;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>解释：</p>
<ul>
<li>这里使用的是<strong>模拟栈</strong>，就是一个原始数组。</li>
<li>分析递归调用的核心：<ul>
<li>定义<code>pc == 1</code>为初始状态<ul>
<li>这个时候函数开始执行，首先应该执行if语句，判断是否为叶节点<ul>
<li>如果是，那么说明递归到达终点，将此时的栈帧弹出（他已经完成了自己的使命）</li>
<li>如果不是，就需要完成以下操作：<ul>
<li>先遍历左子树（达到下一层递归）</li>
<li>遍历右子树（达到下一层递归）</li>
<li>遍历自身根节点</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>于是我们便很轻松定义出<code>pc == 2</code> 和 <code>pc == 3</code> 的状态，分别代表已经遍历完成左子树和右子树。</li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h2><h3 id="计算表达式"><a href="#计算表达式" class="headerlink" title="计算表达式"></a>计算表达式</h3><p>在学习<strong>栈</strong>的时候，我们学习了<strong>前缀表达式</strong>和<strong>中缀表达式</strong>，根本思想是利用<strong>运算符</strong>的优先级，通过栈来控制弹出顺序，从而达到计算顺序和输入顺序之间的差异。</p>
<p>我们是否可以使用树来完成这一操作？貌似可操作性非常的大！请看下面的<strong>表达式树</strong>：</p>
<p><img src="https://s1.imagehub.cc/images/2025/03/26/c76d32ad239b58520dbc7601d78043f3.png" srcset="/img/loading.gif" lazyload alt="Tree for expressions"></p>
<p>这样的书写方式相比于波兰表达式更加的直观。同样的，计算分成两步：</p>
<ul>
<li>将中缀表达式转化成<strong>表达式二叉树</strong>。</li>
<li>对二叉树进行<strong>后序遍历</strong>，得到计算结果。<ul>
<li>此处还是需要栈来实现运算，如果一个运算符的两个节点全部遍历完成，此时需要完成该运算符的二元运算。</li>
</ul>
</li>
</ul>
<p>接下来我们来重点研究如何从中缀转成二叉树。</p>
<p>为什么我们可以写成<strong>二叉树</strong>的形式？关键原因在于运算符（所有的二元运算符）可以看成是一个<code>function</code>，换句话说，一个表达式的基本结构就是<code>function(a,b)</code>，而$a$与$b$都是对应的数，其可以在内部递归调用更小的运算（存在优先级），而这与<strong>二叉树的递归定义</strong>不谋而合！</p>
<p>也就是说，树的构建过程就是树的生长过程，这里看 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Gq4y1i7BX?spm_id_from=333.788.videopod.episodes&vd_source=6955add1d28c52cd48096d58e09ce798&p=22">这个视频</a> 比较直观。本质上和中缀转后缀的过程相同！</p>
<p><strong>总结</strong>：</p>
<ul>
<li>顺序扫描中缀表达式</li>
<li>扫描的运算数<ul>
<li>运算树为空：作为第一个运算数保存。</li>
<li>运算树非空：作为上一运算符的<strong>右儿子</strong>。</li>
</ul>
</li>
<li>如果扫描到 <code>+</code> 或 <code>-</code>：<ul>
<li>在树中，由于我们最后是做的后序遍历，越靠近根节点的运算符越晚运算（相当于根节点的栈帧在最底层，最后被返回），而加减在运算符中的优先级是最低的，并且满足从左至右的顺序。</li>
<li>因此，<strong>需要直接将整颗子树下移，同时将其作为新的根节点</strong>（右子树保持空）</li>
</ul>
</li>
<li>如果扫描到 <code>*</code> 或 <code>\</code>:<ul>
<li>与当前的根节点进行比较：<ul>
<li>如果根节点也是乘除，那么当前运算符上提为根节点，而原树下移为左子树</li>
<li>如果根节点是加减，则优先级高于他，故下移成为其右子树的根，原先的右子树变成这个节点的左子树。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>现在我们加上对<strong>括号</strong>的处理：<strong>括号内部本质上就是调用一个子表达式！</strong></p>
<ul>
<li>遇到括号，将括号内部的子表达式<strong>构建成一颗子树作为整个表达式的一个运算数</strong>。</li>
</ul>
<h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><p>You can see my Github repo for <a target="_blank" rel="noopener" href="https://github.com/xiyuanyang-code/Data_structure/blob/master/single_files/Specific_USage/calculator2.cpp">Data Structure</a>!</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*</span><br><span class="hljs-comment">Implementatin of expression of Binary Tree</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">calc</span>&#123;<br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Type</span>&#123;DATA, ADD, SUB, MULTI, DIV, OPAREN, CPAREN, EOL&#125;;<br><br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span><br>    <span class="hljs-comment">//define the binary tree</span><br>    &#123;<br>        Type type;<br>        <span class="hljs-type">int</span> data;<br>        node *lchild, *rchild;<br>        <span class="hljs-built_in">node</span> (Type t, <span class="hljs-type">int</span> d = <span class="hljs-number">0</span>, node *lc = <span class="hljs-literal">nullptr</span>, node *rc = <span class="hljs-literal">nullptr</span>)&#123;<br>            type = t;<br>            data = d;<br>            lchild = lc;<br>            rchild = rc;<br>        &#125;<br>    &#125;;<br>    <br>    <span class="hljs-keyword">private</span>:<br>        node* root;<br>    <br>        <span class="hljs-comment">//several tool function</span><br>        <span class="hljs-function">node* <span class="hljs-title">create</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>*&amp; s)</span></span>&#123;<br>            node *p = <span class="hljs-literal">nullptr</span>;<br>            node *root = <span class="hljs-literal">nullptr</span>;<br>            Type returntype;<br>            <span class="hljs-type">int</span> value;<br><br>            <span class="hljs-comment">//creating the new tree</span><br>            <span class="hljs-keyword">while</span>(*s)&#123;<br>                returntype = <span class="hljs-built_in">gettoken</span>(s, value);<br>                <span class="hljs-keyword">switch</span> (returntype)<br>                &#123;<br>                    <span class="hljs-keyword">case</span> DATA:<br>                    <span class="hljs-keyword">case</span> OPAREN:<br>                        <span class="hljs-keyword">if</span> (returntype == DATA) &#123;<br>                            p = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(DATA, value);<br>                        &#125; <span class="hljs-keyword">else</span> &#123;<br>                            p = <span class="hljs-built_in">create</span>(s);<br>                            <span class="hljs-comment">//if is a OPAREN, then we need to create a new subtree recursively!</span><br>                        &#125;<br><br>                        <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">nullptr</span>) &#123;<br>                            <span class="hljs-keyword">if</span>(root -&gt; rchild == <span class="hljs-literal">nullptr</span>)&#123;<br>                                root -&gt; rchild = p;<br>                            &#125;<span class="hljs-keyword">else</span>&#123;<br>                                <span class="hljs-comment">//it must be * or /</span><br>                                root -&gt; rchild -&gt; rchild = p;<br>                            &#125;<br>                        &#125;<br>                        <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> CPAREN:<br>                    <span class="hljs-keyword">case</span> EOL:<br>                        <span class="hljs-comment">// the creation ends</span><br>                        <span class="hljs-keyword">return</span> root;<br>                    <span class="hljs-keyword">case</span> ADD:<br>                    <span class="hljs-keyword">case</span> SUB:<br>                        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">nullptr</span>)&#123;<br>                            root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(returntype, <span class="hljs-number">0</span>, p);<br>                            <span class="hljs-comment">//attention, in this case, the data 0 is meaningless for non-data operators;</span><br>                        &#125; <span class="hljs-keyword">else</span> &#123;<br>                            root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(returntype, <span class="hljs-number">0</span>, root);<br>                        &#125;<br>                        <span class="hljs-keyword">break</span>;<br>                    <span class="hljs-keyword">case</span> MULTI:<br>                    <span class="hljs-keyword">case</span> DIV:<br>                        <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)&#123;<br>                            root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(returntype, <span class="hljs-number">0</span>, p);<br>                        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (root -&gt; type == MULTI || root -&gt; type == DIV) &#123;<br>                            root = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(returntype, <span class="hljs-number">0</span>, root);<br>                        &#125; <span class="hljs-keyword">else</span> &#123;<br>                            root -&gt; rchild = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(returntype, <span class="hljs-number">0</span>, root -&gt; rchild);<br>                        &#125;<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-comment">//return the root node of the tree</span><br>            <span class="hljs-keyword">return</span> root;<br>        &#125;<br><br>        <span class="hljs-function">Type <span class="hljs-title">gettoken</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *&amp;s, <span class="hljs-type">int</span> &amp;data)</span></span><br><span class="hljs-function">        </span>&#123;<br>            <span class="hljs-type">char</span> type;<br><br>            <span class="hljs-keyword">while</span> (*s == <span class="hljs-string">&#x27; &#x27;</span>) ++s;          <span class="hljs-comment">// Skip spaces in the infix expression</span><br><br>            <span class="hljs-keyword">if</span> (*s &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; *s &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) &#123;   <span class="hljs-comment">// Encountered a number</span><br>                data = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span> (*s &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; *s &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<br>                    data = data * <span class="hljs-number">10</span> + *s - <span class="hljs-string">&#x27;0&#x27;</span>;<br>                    ++s;<br>                &#125;<br>                <span class="hljs-keyword">return</span> DATA;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (*s == <span class="hljs-string">&#x27;\0&#x27;</span>) <span class="hljs-keyword">return</span> EOL;<br><br>            type = *s; ++s;<br>            <span class="hljs-keyword">switch</span> (type) &#123;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>: <span class="hljs-keyword">return</span> ADD;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>: <span class="hljs-keyword">return</span> SUB;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>: <span class="hljs-keyword">return</span> MULTI;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>: <span class="hljs-keyword">return</span> DIV;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;(&#x27;</span>: <span class="hljs-keyword">return</span> OPAREN;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;)&#x27;</span>: <span class="hljs-keyword">return</span> CPAREN;<br>                <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> EOL;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">result</span><span class="hljs-params">(calc::node *t)</span></span><br><span class="hljs-function">        </span>&#123;<br>            <span class="hljs-type">int</span> num1, num2;<br>        <br>            <span class="hljs-keyword">if</span> (t-&gt;type == DATA) <span class="hljs-keyword">return</span> t-&gt;data;<br>            num1 = <span class="hljs-built_in">result</span>(t-&gt;lchild);  <span class="hljs-comment">// Calculate the left sub-expression</span><br>            num2 = <span class="hljs-built_in">result</span>(t-&gt;rchild);  <span class="hljs-comment">// Calculate the right sub-expression</span><br>            <span class="hljs-keyword">switch</span> (t -&gt; type) &#123;<br>                <span class="hljs-keyword">case</span> ADD: t-&gt;data = num1 + num2; <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> SUB: t-&gt;data = num1 - num2; <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> MULTI: t-&gt;data = num1 * num2; <span class="hljs-keyword">break</span>;<br>                <span class="hljs-keyword">case</span> DIV: t-&gt;data = num1 / num2; <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">return</span> t-&gt;data;<br>        &#125;<br><br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">calc</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s)&#123;<br>            root = <span class="hljs-built_in">create</span>(s);<br>        &#125;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">result</span><span class="hljs-params">()</span></span>&#123;<br>            <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">result</span>(root);<br>        &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    std::string exp;<br>    std::cin &gt;&gt; exp;<br>    <span class="hljs-function">calc <span class="hljs-title">cl</span><span class="hljs-params">(exp.c_str())</span></span>;<br><br>    std::cout &lt;&lt; cl.<span class="hljs-built_in">result</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="哈夫曼树和哈夫曼编码"><a href="#哈夫曼树和哈夫曼编码" class="headerlink" title="哈夫曼树和哈夫曼编码"></a>哈夫曼树和哈夫曼编码</h3><h4 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h4><p>在文本处理中，我们经常涉及到<strong>字符编码</strong>的问题，例如<strong>ASCII</strong>编码是一种等长的编码，但是在一些情况下为了提高效率，我们往往采用<strong>不等长编码</strong>，使<strong>频率较高的字符具有较短的编码而频率较低的字符具有较长的编码</strong>。</p>
<p>因此，在此处介绍<strong>哈夫曼树</strong>和<strong>哈夫曼编码</strong>，来实现最优化的非等长编码问题。</p>
<h4 id="前缀编码"><a href="#前缀编码" class="headerlink" title="前缀编码"></a>前缀编码</h4><p>对于等长的编码形式，使用<strong>完全二叉树</strong>来构建01序列即可解决。例如如果使用等长编码的完全二叉树来构建ASCII，需要7个二进制位，也就是$height &#x3D; 7$的一颗完全二叉树（在这里是满二叉树）可以构建成功。</p>
<p>很显然，对于等长编码，<strong>非叶节点的存储空间被浪费了</strong>，我们需要做出优化从而修改成非等长编码，但是在此之前，我们需要确立<strong>编码的前提</strong>：</p>
<ul>
<li>对于前缀编码而言，<strong>字符只放在叶节点</strong>中，换句话说，任何一个编码的子集（根节点）不可以作为一个新的编码，否则在解码的过程中会出现冲突（对于前缀编码而言）。<ul>
<li>为什么不可以放在根节点中？如果根节点$A$是一个字符的前缀01编码，其衍生出的根节点是在A的01编码的基础之上<strong>再加一位</strong>，产生冲突。</li>
</ul>
</li>
<li>本质上确定<strong>前缀可以被唯一解码</strong>。</li>
</ul>
<h4 id="哈夫曼算法"><a href="#哈夫曼算法" class="headerlink" title="哈夫曼算法"></a>哈夫曼算法</h4><p>确定目标：在给定一组字符集$S$的元素及其使用频率的情况下，使计算出最优化的非等长前缀编码算法，使得<strong>期望编码空间的空间使用</strong>最小。</p>
<p><strong>思路</strong>：</p>
<ul>
<li><strong>权值大的更靠近树根</strong></li>
<li><strong>权值小的更远离树根</strong>（相对的，我们希望每一个字符的编码长度都尽可能的短）</li>
</ul>
<div class="note note-primary">
            <p>给定一个带有权值的集合 $T &#x3D; { T_1,T_2, T_3,T_4,T_5…T_n}$，在初始状态下$A &#x3D; T$，之后执行<strong>n-1</strong>次循环：</p><ul><li>从A中选择<strong>权值最小和次小</strong>的节点</li><li>生成新的内部节点$b$，$T_1$，$T_2$是其左右儿子，权值为$\omega_1 + \omega_2$.</li><li>将新节点放入集合中。</li></ul>
          </div>

<p><img src="https://s1.imagehub.cc/images/2025/03/27/c1ea6598712843be773f6bc075839fd7.png" srcset="/img/loading.gif" lazyload alt="Huffman Tree"></p>
<h4 id="Implementation-1"><a href="#Implementation-1" class="headerlink" title="Implementation"></a>Implementation</h4><p>在二叉树的过程中，“<strong>儿子找爸爸</strong>”和“<strong>爸爸找儿子</strong>”的情况都会发生。我们可以使用<strong>二叉树的广义存储结构</strong>来实现，同时，对于静态的编码问题，节点的个数保持不变，因此我们可以使用<strong>数组</strong>来存储每一个节点的值。接下来，我们实现哈夫曼算法的实现代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iomanip&gt;</span> </span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">hfTree</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> &#123;<br>        T data;<br>        <span class="hljs-type">int</span> weight;<br>        <span class="hljs-type">int</span> parent, left, right;<br>    &#125;;<br><br>    Node* elem;<br>    <span class="hljs-type">int</span> length; <span class="hljs-comment">// Fixed size of the tree</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">hfcode</span> &#123;<br>        T data;<br>        std::string code;<br>    &#125;;<br><br>    <span class="hljs-built_in">hfTree</span>(<span class="hljs-type">const</span> T* x, <span class="hljs-type">const</span> <span class="hljs-type">int</span>* w, <span class="hljs-type">int</span> size) &#123;<br>        <span class="hljs-type">const</span> <span class="hljs-type">int</span> MAXINT = <span class="hljs-number">32767</span>;<br>        <span class="hljs-type">int</span> min_1, min_2; <span class="hljs-comment">// The lowest and second lowest weights</span><br>        <span class="hljs-type">int</span> least, second_least;<br><br>        <span class="hljs-comment">// Initialize</span><br>        length = <span class="hljs-number">2</span> * size;<br>        elem = <span class="hljs-keyword">new</span> Node[length];<br><br>        <span class="hljs-comment">// Initial values for leaf nodes</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = size; i &lt; length; ++i) &#123;<br>            elem[i].weight = w[i - size];<br>            elem[i].data = x[i - size];<br>            elem[i].parent = elem[i].right = elem[i].left = <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// Merge nodes to build the Huffman tree</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = size - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; --i) &#123;<br>            min_1 = min_2 = MAXINT;<br>            least = second_least = <span class="hljs-number">0</span>;<br><br>            <span class="hljs-comment">// Find the two smallest nodes without parents</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; length; j++) &#123;<br>                <span class="hljs-keyword">if</span> (elem[j].parent == <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-keyword">if</span> (elem[j].weight &lt; min_1) &#123;<br>                        min_2 = min_1;<br>                        min_1 = elem[j].weight;<br>                        second_least = least;<br>                        least = j;<br>                    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (elem[j].weight &lt; min_2) &#123;<br>                        min_2 = elem[j].weight;<br>                        second_least = j;<br>                    &#125;<br>                &#125;<br>            &#125;<br><br>            <span class="hljs-comment">// Update the new internal node</span><br>            elem[i].weight = min_1 + min_2;<br>            elem[i].left = second_least;<br>            elem[i].right = least;<br>            elem[i].parent = <span class="hljs-number">0</span>;<br>            elem[least].parent = i;<br>            elem[second_least].parent = i;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// Generate Huffman codes</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">getcode</span><span class="hljs-params">(hfcode result[])</span> </span>&#123;<br>        <span class="hljs-type">int</span> size = length / <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> cur, cur_parent;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = size; i &lt; length; ++i) &#123;<br>            result[i - size].data = elem[i].data;<br>            result[i - size].code = <span class="hljs-string">&quot;&quot;</span>;<br>            cur_parent = elem[i].parent;<br>            cur = i;<br><br>            <span class="hljs-keyword">while</span> (cur_parent != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">if</span> (elem[cur_parent].left == cur) &#123;<br>                    result[i - size].code = <span class="hljs-string">&quot;0&quot;</span> + result[i - size].code;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    result[i - size].code = <span class="hljs-string">&quot;1&quot;</span> + result[i - size].code;<br>                &#125;<br>                cur = cur_parent;<br>                cur_parent = elem[cur_parent].parent;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// Visualize the tree structure</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">viewTree</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Huffman Tree Structure:\n&quot;</span>;<br>        <span class="hljs-built_in">viewTreeHelper</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>); <span class="hljs-comment">// Start from root (index 1) with depth 0</span><br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-comment">// Recursive helper function to print the tree</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">viewTreeHelper</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> depth)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (index &gt;= length || elem[index].weight == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<br><br>        <span class="hljs-comment">// Print indentation based on depth</span><br>        std::cout &lt;&lt; std::<span class="hljs-built_in">setw</span>(depth * <span class="hljs-number">4</span>) &lt;&lt; <span class="hljs-string">&quot;&quot;</span>;<br><br>        <span class="hljs-comment">// Print node information</span><br>        <span class="hljs-keyword">if</span> (index &gt;= length / <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-comment">// Leaf node</span><br>            std::cout &lt;&lt; <span class="hljs-string">&quot;Leaf: &quot;</span> &lt;&lt; elem[index].data &lt;&lt; <span class="hljs-string">&quot; (Weight: &quot;</span> &lt;&lt; elem[index].weight &lt;&lt; <span class="hljs-string">&quot;)\n&quot;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Internal node</span><br>            std::cout &lt;&lt; <span class="hljs-string">&quot;Node (Weight: &quot;</span> &lt;&lt; elem[index].weight &lt;&lt; <span class="hljs-string">&quot;)\n&quot;</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// Recursively print left and right children</span><br>        <span class="hljs-built_in">viewTreeHelper</span>(elem[index].left, depth + <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">viewTreeHelper</span>(elem[index].right, depth + <span class="hljs-number">1</span>);<br>    &#125;<br><br><span class="hljs-keyword">public</span>:<br>    ~<span class="hljs-built_in">hfTree</span>() &#123;<br>        <span class="hljs-keyword">delete</span>[] elem;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// Test data</span><br>    <span class="hljs-type">char</span> ch[] = &#123;<span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>, <span class="hljs-string">&#x27;k&#x27;</span>&#125;;<br>    <span class="hljs-type">int</span> w[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">66</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>&#125;;<br><br>    <span class="hljs-function">hfTree&lt;<span class="hljs-type">char</span>&gt; <span class="hljs-title">tree</span><span class="hljs-params">(ch, w, <span class="hljs-number">10</span>)</span></span>;<br>    hfTree&lt;<span class="hljs-type">char</span>&gt;::hfcode result[<span class="hljs-number">10</span>];<br><br>    <span class="hljs-comment">// Generate and print Huffman codes</span><br>    tree.<span class="hljs-built_in">getcode</span>(result);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Huffman Codes:\n&quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>        std::cout &lt;&lt; result[i].data &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; result[i].code &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// Visualize the Huffman tree</span><br>    tree.<span class="hljs-built_in">viewTree</span>();<br>&#125;<br><br></code></pre></td></tr></table></figure>

<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://builtin.com/software-engineering-perspectives/tree-traversal#:~:text=The%20types%20of%20tree%20traversal,traversal%20and%20level%20order%20traversal.">4 Types of Tree Traversal Algorithms | Built In</a>
<a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Algorithm/" class="category-chain-item">Algorithm</a>
  
  
    <span>></span>
    
  <a href="/categories/Algorithm/SJTU-CS0501-H-Data-Structure/" class="category-chain-item">SJTU CS0501(H) Data Structure</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/tutorial/" class="print-no-link">#tutorial</a>
      
        <a href="/tags/Tree/" class="print-no-link">#Tree</a>
      
        <a href="/tags/Finished/" class="print-no-link">#Finished</a>
      
        <a href="/tags/Data-Structure/" class="print-no-link">#Data Structure</a>
      
        <a href="/tags/C-C/" class="print-no-link">#C/C++</a>
      
        <a href="/tags/Binary-Tree/" class="print-no-link">#Binary Tree</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>DataStructure-Tree-Binary-Tree</div>
      <div>https://xiyuanyang-code.github.io/posts/DataStructure-Tree-Binary-Tree/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Xiyuan Yang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>February 6, 2025</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Updated on</div>
          <div>May 19, 2025</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/posts/My-Posts/" title="My-Posts">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">My-Posts</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/DataStructure-Tree/" title="DataStructure-Tree">
                        <span class="hidden-mobile">DataStructure-Tree</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"xiyuanyang-code/xiyuanyang-code.github.io","repo-id":"R_kgDONRhvHQ","category":"Announcements","category-id":"DIC_kwDONRhvHc4ClBnp","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top","lang":"zh-CN"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});

    Fluid.utils.listenDOMLoaded(function() {
      Fluid.events.registerRefreshCallback(function() {
        if ('mermaid' in window) {
          mermaid.init();
        }
      });
    });
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://github.com/xiyuanyang-code" target="_blank" rel="nofollow noopener"><span>YXY</span></a> <a href="https://xiyuanyang-code.github.io/Loving-Count/" target="_blank" rel="nofollow noopener"><span>❤️</span></a> <a href="https://github.com/Siyan-Li" target="_blank" rel="nofollow noopener"><span>LSY</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
