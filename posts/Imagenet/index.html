

<!DOCTYPE html>
<html lang="en" >



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/YXY.png">
  <link rel="icon" href="/img/YXY.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#c30000">
  <meta name="author" content="Xiyuan Yang">
  <meta name="keywords" content="Code">
  
    <meta name="description" content="A detailed explanation of the mathematical principles of convolutional neural networks.">
<meta property="og:type" content="article">
<meta property="og:title" content="ImageNet and ILSVRC">
<meta property="og:url" content="https://xiyuanyang-code.github.io/posts/Imagenet/index.html">
<meta property="og:site_name" content="Xiyuan Yang&#39;s Blog">
<meta property="og:description" content="A detailed explanation of the mathematical principles of convolutional neural networks.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://xiyuanyang-code.github.io/img/cover/AlexNet-1.jpg">
<meta property="article:published_time" content="2025-04-14T02:21:32.000Z">
<meta property="article:modified_time" content="2025-04-15T01:34:57.316Z">
<meta property="article:author" content="Xiyuan Yang">
<meta property="article:tag" content="Artificial Intelligence">
<meta property="article:tag" content="Deep Learning">
<meta property="article:tag" content="Convolutional Neural Networks">
<meta property="article:tag" content="AlexNet">
<meta property="article:tag" content="Image Clssification">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://xiyuanyang-code.github.io/img/cover/AlexNet-1.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ImageNet and ILSVRC - Xiyuan Yang&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"xiyuanyang-code.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":50,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":"❡"},"progressbar":{"enable":true,"height_px":3,"color":"red","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":2},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":"L7r0uGb0fafbzNvmBADCMH42-gzGzoHsz","app_key":"2Lr1fQ2rjhwRiUrDx0VOQyUm","server_url":null,"path":"window.location.pathname","ignore_local":true},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Xiyuan Yang&#39;s Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/above/" target="_self">
                <i class="iconfont icon-bookmark-fill"></i>
                <span>Intro</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archive</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Category</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tag</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="https://xiyuanyang-code.github.io/My-Resume/" target="_self">
                <i class="iconfont icon-code"></i>
                <span>Resume</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                <span>Else</span>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/FAQ/" target="_self">
                    <i class="iconfont icon-bug"></i>
                    <span>FAQ</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/links" target="_self">
                    <i class="iconfont icon-link-fill"></i>
                    <span>Links</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/All-posts/" target="_self">
                    <i class="iconfont icon-notebook"></i>
                    <span>All-posts</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/Recordings/" target="_self">
                    <i class="iconfont icon-clipcheck"></i>
                    <span>recordings</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/resume/" target="_self">
                    <i class="iconfont icon-github-fill"></i>
                    <span>Github Introduction</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://github.com/xiyuanyang-code" target="_self">
                    <i class="iconfont icon-github-fill"></i>
                    <span>My Github</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://hexo.fluid-dev.com/" target="_self">
                    <i class="iconfont icon-copyright"></i>
                    <span>About Hexo</span>
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="https://xiyuanyang-code.github.io/posts/Life-musings/" target="_self">
                    <i class="iconfont icon-brush"></i>
                    <span>Life Musing</span>
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/place.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ImageNet and ILSVRC"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Xiyuan Yang
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-04-14 10:21" pubdate>
          April 14, 2025 am
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          2.6k words
        
      </span>
    

    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar category-bar" style="margin-right: -1rem">
    





<div class="category-list">
  
  
    
    
    
    <div class="category row nomargin-x">
      <a class="category-item 
          list-group-item category-item-action col-10 col-md-11 col-xm-11" title="Artificial Intelligence"
        id="heading-5cd2adc9e2a5254e4c1da803519f298b" role="tab" data-toggle="collapse" href="#collapse-5cd2adc9e2a5254e4c1da803519f298b"
        aria-expanded="true"
      >
        Artificial Intelligence
        <span class="list-group-count">(9)</span>
        <i class="iconfont icon-arrowright"></i>
      </a>
      
      <div class="category-collapse collapse show" id="collapse-5cd2adc9e2a5254e4c1da803519f298b"
           role="tabpanel" aria-labelledby="heading-5cd2adc9e2a5254e4c1da803519f298b">
        
        
          
  <div class="category-post-list">
    
    
      
      
        <a href="/posts/CS294-1-LLM-Reasoning/" title="CS294-1-LLM-Reasoning"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">CS294-1-LLM-Reasoning</span>
        </a>
      
    
      
      
        <a href="/posts/CS294-3-Autogen/" title="CS294-3-Autogen"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">CS294-3-Autogen</span>
        </a>
      
    
      
      
        <a href="/posts/Pre-training-Is-Dead/" title="Pre-Training-Is-Dead?"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Pre-Training-Is-Dead?</span>
        </a>
      
    
      
      
        <a href="/posts/Deep-Learning-Memo/" title="Deep_Learning_Memo"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">Deep_Learning_Memo</span>
        </a>
      
    
      
      
        <a href="/posts/RL-speeches/" title="RL_speeches"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">RL_speeches</span>
        </a>
      
    
      
      
        <a href="/posts/AI-Paper-2024/" title="AI-Paper-2024"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">AI-Paper-2024</span>
        </a>
      
    
      
      
        <a href="/posts/RAG-tutorial/" title="RAG-Tutorial"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">RAG-Tutorial</span>
        </a>
      
    
      
      
        <a href="/posts/AIBasis-Neural-Networks/" title="AIBasis_Neural_Networks"
           class="list-group-item list-group-item-action
           ">
          <span class="category-post">AIBasis_Neural_Networks</span>
        </a>
      
    
      
      
        <a href="/posts/Imagenet/" title="ImageNet and ILSVRC"
           class="list-group-item list-group-item-action
           active">
          <span class="category-post">ImageNet and ILSVRC</span>
        </a>
      
    
  </div>

        
      </div>
    </div>
  
</div>


  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ImageNet and ILSVRC</h1>
            
            
              <div class="markdown-body">
                
                <style>
  html, body, .markdown-body {
    font-family: Georgia, sans, serif;
  }
</style>
<h1 id="ImageNet-Classification-and-ILSVRC-Competition"><a href="#ImageNet-Classification-and-ILSVRC-Competition" class="headerlink" title="ImageNet Classification and ILSVRC Competition"></a>ImageNet Classification and ILSVRC Competition</h1><blockquote>
<p>My <strong>final assignment</strong> for <strong>Introduction to artificial intelligence</strong>.</p>
</blockquote>
<h1 id="Tracing-the-Evolution-of-ILSVRC-Winners-and-Their-Impact-on-Image-Classifications"><a href="#Tracing-the-Evolution-of-ILSVRC-Winners-and-Their-Impact-on-Image-Classifications" class="headerlink" title="Tracing the Evolution of ILSVRC Winners and Their Impact on Image Classifications"></a>Tracing the Evolution of ILSVRC Winners and Their Impact on Image Classifications</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>The past decade witnessed the transformation from Fully Connected Neural Network(FCNN) to Convolutional Neural Network(CNN) , which significantly addressed various challenges in the field of image recognition. This review traces how deep learning had passed a decade of breakthrough, introducing the evolution of winners from the <strong>ImageNet Large Scale Visual Recognition Challenge (ILSVRC)</strong>, highlighting key advancements such as AlexNet, GoogLeNet, ResNet and ResNeXt. By analyzing the architectural innovations and methodological breakthroughs of these models such as ReLU, dropout, LRN, Inception, Residual Network and cardinality, the review then provides insights into the trends in neural network research, regarding how they implemented the optimization by adding the depth of the layers without introducing a huge amount of extra parameters and computational complexity. Finally, we discussed the outlook of Deep Neural Networks in the field of image classification, including striving for higher quality datasets, moving from object recognition to human-level understanding and finding alternative models outperforming traditional CNNs.</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>再看卷积神经网络！在笔者大一上学期，曾经写过一篇有关<strong>ImageNet 和 ILSVRC</strong>相关的论文，当时属实是<strong>有一种掌握梯度下降就可以优化一切</strong>的傲气，如今回看这篇文章，颇觉得有许多需要改进的地方。因此，笔者决定<strong>重构</strong>这篇文章，并且从这篇文章出发，力求在数学上、工程上和思想上都对卷积神经网络有更深的理解。</p>
<p>回看当年<strong>炼丹</strong>的日子，或许在历史的长河中，我们总是<strong>能够找到新的灵感</strong>。</p>
<p>本博客的相关代码和文件将会存储在 <a target="_blank" rel="noopener" href="https://github.com/xiyuanyang-code/ImageNet-and-CNN-learning-materials">这个仓库</a> 中。坚持用中文，因为希望<strong>力求获得更加深刻的理解</strong>。</p>
<h2 id="从“卷积”谈起…"><a href="#从“卷积”谈起…" class="headerlink" title="从“卷积”谈起…"></a>从“卷积”谈起…</h2><p>给定两个函数$f(t)$和$g(t)$：</p>
<p>$$(f*g)(t)&#x3D;\int_{-\infty}^{+\infty}f(τ)g(t−\tau)\mathrm{d}τ$$</p>
<p>这个定义非常的抽象，我们不妨举一个<strong>形象化的例子</strong>：</p>
<h3 id="音频处理"><a href="#音频处理" class="headerlink" title="音频处理"></a>音频处理</h3><p>给定一个波形函数$f(t)$代表一段音频，现在，我们希望对这个函数做数学运算，来<strong>模拟回声</strong>的效果。</p>
<blockquote>
<p>这里其实暗含一个<strong>线性系统</strong>（线性时不变系统<strong>LTI</strong>）的假设，具体指的是：</p>
<ul>
<li><strong>线性</strong>：系统的输入和输出可以进行线性叠加。<ul>
<li>在这里，很显然两个波形函数叠加就可以得到新的函数。</li>
</ul>
</li>
<li><strong>时不变性</strong>：系统的输入输出关系不随时间变化。换句话说，如果输入信号的时间发生平移（延迟或提前），那么输出信号也会相应地平移相同的时间量，而不会改变其形状或性质。<ul>
<li>$ y(t)&#x3D;T[x(t)] \text{ then, }T[x(t−t_0)]&#x3D;y(t−t_0)$. 其中$T$代表系统的变化关系，$x(t)$和$y(t)$分别代表系统的输入和输出。</li>
<li>在这里，我们可以通过平移等手段实现这一点。（不深究）</li>
</ul>
</li>
</ul>
</blockquote>
<p>从直觉上，我们知道，如果在时间$t_0$处连续函数$f(t)$的函数值为$s_0 &#x3D; f(t_0)$，那么我们希望某种施加变换得到新函数$F(t)$，满足$F(t_0 + \delta) &#x3D; f(t_0 + \delta) + \epsilon f(t_0) $.</p>
<blockquote>
<p>这个公式直观意思：$t_0 + \delta$处的声音波形函数收到回声的影响（$t &#x3D; t_0$），使其分贝数（函数值）发生了变化。</p>
</blockquote>
<p>如何定量的表示这个函数？我们可以定义<strong>核函数</strong>$g(t)$，定义如下：<br>$$<br>g(t) &#x3D;<br>\begin{cases}<br>1, &amp; t &#x3D; 0 \\<br>\epsilon, &amp; t &#x3D; \delta \\<br>0, &amp; \text{otherwise}<br>\end{cases}<br>$$<br>这样我们就可以写出新的函数$F(t) &#x3D; (f*g)(t)&#x3D;\int_{0}^{t}f(τ)g(t−\tau)\mathrm{d}τ$。</p>
<blockquote>
<p>这个函数可以解释为：加入<strong>回声</strong>考虑之后，在$t$时刻的函数值（声音的分贝）可以解释为<strong>在过去每一个时刻发出声音</strong>的回声的<strong>线性叠加</strong>。因此，在实际我们可以将$g(t)$定义为更加复杂的衰减函数。</p>
</blockquote>
<p>这就是卷积！我们可以推广至更一般的情况，<strong>它的核心思想是通过一个滑动窗口（核函数）对输入数据进行加权求和，从而生成一个新的表示。</strong>例如在之前音频处理的例子中，核函数就是$g$，滑动窗口就是$\int_{0}^{t}$，我们对原始的输入数据$f(t)$进行加权求和，最终得到新的表示。</p>
<h3 id="卷积的可视化"><a href="#卷积的可视化" class="headerlink" title="卷积的可视化"></a>卷积的可视化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-string">Date: 2025-04-14 19:23:55</span><br><span class="hljs-string">LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-string">LastEditTime: 2025-04-14 19:24:01</span><br><span class="hljs-string">FilePath: /CNN-tutorial/src/convolution.py</span><br><span class="hljs-string">Description:</span><br><span class="hljs-string">Do you code and make progress today?</span><br><span class="hljs-string">Copyright (c) 2025 by Xiyuan Yang, All Rights Reserved.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> mlp<br><span class="hljs-keyword">from</span> scipy.integrate <span class="hljs-keyword">import</span> quad<br><br>mlp.use(<span class="hljs-string">&quot;Agg&quot;</span>)<br><br><br><span class="hljs-comment"># Original Function f(t)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">original_signal</span>(<span class="hljs-params">t</span>):<br>    <span class="hljs-keyword">return</span> np.sin(<span class="hljs-number">2</span> * np.pi * t)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">echo_kernel2</span>(<span class="hljs-params">t, alpha</span>):<br>    <span class="hljs-keyword">if</span> t &gt;= <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> np.exp(-alpha * t)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span><br><br><br><span class="hljs-comment"># Normalize the kernel to ensure its integral is 1</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">normalized_echo_kernel</span>(<span class="hljs-params">t, alpha</span>):<br>    <span class="hljs-comment"># Compute the normalization factor (integral of the kernel from 0 to infinity)</span><br>    normalization_factor, _ = quad(<span class="hljs-keyword">lambda</span> tau: echo_kernel2(tau, alpha), <span class="hljs-number">0</span>, np.inf)<br>    <span class="hljs-comment"># Return the normalized kernel value</span><br>    <span class="hljs-keyword">return</span> echo_kernel2(t, alpha) / normalization_factor<br><br><br><span class="hljs-comment"># Convolution with normalized kernel</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">convolution</span>(<span class="hljs-params">f, g, t_values, alpha</span>):<br>    h = []<br>    <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> t_values:<br>        integral, _ = quad(<span class="hljs-keyword">lambda</span> tau: f(tau) * g(t - tau, alpha), <span class="hljs-number">0</span>, t)<br>        h.append(integral)<br>    <span class="hljs-keyword">return</span> np.array(h)<br><br><br><span class="hljs-comment"># Plot figure for two pictures</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plotfig</span>(<span class="hljs-params">t, f, h, alpha</span>):<br>    plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>))<br>    <br>    <span class="hljs-comment"># Original Signal</span><br>    plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>    plt.plot(t, f, label=<span class="hljs-string">&quot;Original Signal&quot;</span>, color=<span class="hljs-string">&quot;blue&quot;</span>)<br>    plt.title(<span class="hljs-string">&quot;Original Signal&quot;</span>)<br>    plt.xlabel(<span class="hljs-string">&quot;Time (s)&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;Amplitude&quot;</span>)<br>    plt.legend()<br>    plt.grid()<br><br>    <span class="hljs-comment"># Signal with Continuous Echo Effect</span><br>    plt.subplot(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>    plt.plot(t, h, label=<span class="hljs-string">&quot;Signal with Continuous Echo&quot;</span>, color=<span class="hljs-string">&quot;red&quot;</span>)<br>    plt.title(<span class="hljs-string">&quot;Signal with Continuous Echo Effect&quot;</span>)<br>    plt.xlabel(<span class="hljs-string">&quot;Time (s)&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;Amplitude&quot;</span>)<br>    plt.legend()<br>    plt.grid()<br>    plt.tight_layout()<br>    plt.savefig(<span class="hljs-string">f&quot;img/Signal_with_Continuous_Effect_alpha=<span class="hljs-subst">&#123;alpha:<span class="hljs-number">.2</span>f&#125;</span>.png&quot;</span>)<br>    plt.close()<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    t = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">500</span>)  <span class="hljs-comment"># Time range from 0 to 5 seconds</span><br>    f = original_signal(t)      <span class="hljs-comment"># Original signal</span><br>    <br>    <span class="hljs-comment"># Test different values of alpha</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-number">0.01</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">0.6</span>, <span class="hljs-number">0.8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1.1</span>, <span class="hljs-number">1.4</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2.5</span>, <span class="hljs-number">5</span>]:<br>        h = convolution(original_signal, normalized_echo_kernel, t, alpha=i)<br>        plotfig(t, f, h, i)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure>

<p>随便选择一个$alpha$值，可以看到带着回声卷积处理之后的函数：</p>
<p><img src="https://s1.imagehub.cc/images/2025/04/15/2c9b576d8bde3d09dbd4c4ee58040077.png" srcset="/img/loading.gif" lazyload alt="卷积示例"></p>
<h2 id="卷积与图像"><a href="#卷积与图像" class="headerlink" title="卷积与图像"></a>卷积与图像</h2><p>我们知道，对于一张jpg图像可以把它转化为一个高维矩阵（每一个元素的值代表对应点的灰度大小）。但是对于<strong>自然世界中有意义的图像</strong>，矩阵在相邻位置的值往往具有<strong>一致性</strong>，比如色块和轮廓等。我们把这一特征抽象为<strong>图像中的关联性</strong>，相邻像素通常具有相似的灰度值或颜色（现实世界中物体表面的连续性和光照的平滑变化）。</p>
<p><img src="https://s1.imagehub.cc/images/2025/04/15/984fb8180a3715627a8214b8bbf62499.png" srcset="/img/loading.gif" lazyload alt="随机矩阵对应的雪花图"></p>
<p>并且，我们很明显知道，<strong>图像像素点之间的关联性</strong>很大程度上会随着距离的增加而衰减，我们可以使用常见的衰减模型来刻画这种衰减的状态：</p>
<p>指数衰减：$y &#x3D; e^{-kx}$ 或者 幂函数衰减：$y &#x3D; \frac{1}{x^k}$</p>
<p>同时，图像还满足多种<strong>不变性</strong>：平移不变性，旋转不变性，视点不变性，大小伸缩不变性…</p>
<p>因此，我们可以联想到，<strong>选择合适的核函数</strong>进行卷积运算是否可以实现图像特征的提取？答案是肯定的，我们不妨来看下面的例子：<strong>边缘检测</strong>。</p>
<h3 id="边缘检测"><a href="#边缘检测" class="headerlink" title="边缘检测"></a>边缘检测</h3><p><img src="https://s1.imagehub.cc/images/2025/04/15/339343f50534cbc97d20c228d803e8fc.png" srcset="/img/loading.gif" lazyload alt="image"></p>
<p>我们继续从<strong>音频识别</strong>的例子出发，卷积的本质就是<strong>加权平均</strong>，同时，图像相邻位置的像素点的值之间具有<strong>关联性</strong>，因此，我们可以使用**$3 \times 3$<strong>的卷积核，作为上文的卷积核函数。（这里是</strong>离散卷积**）</p>
<p>我们知道<strong>边缘</strong>区域代表着<strong>更加显著</strong>的亮度变化，因此，如果我们施加这样的卷积核：</p>
<p>$$\begin{bmatrix}-1 &amp; 0  &amp; 1 \\ -1 &amp; 0  &amp; 1 \\ -1 &amp; 0  &amp; 1 \end{bmatrix}$$</p>
<p><strong>负值区域</strong>（左侧）会对图像的亮度降低贡献较大，而<strong>正值区域</strong>（右侧）则会对亮度增加贡献较大。因此，就可以把对应的梯度特征给卷积出来，同理，我们也可以有对纵向的卷积核。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-string">Date: 2025-04-15 00:28:15</span><br><span class="hljs-string">LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-string">LastEditTime: 2025-04-15 00:29:55</span><br><span class="hljs-string">FilePath: /CNN-tutorial/src/convolution_demo.py</span><br><span class="hljs-string">Description:</span><br><span class="hljs-string">Do you code and make progress today?</span><br><span class="hljs-string">Copyright (c) 2025 by Xiyuan Yang, All Rights Reserved.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><span class="hljs-keyword">import</span> torchvision.transforms <span class="hljs-keyword">as</span> transforms<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> mlp<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>mlp.use(<span class="hljs-string">&quot;Agg&quot;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">apply_convolution</span>(<span class="hljs-params">image_path, kernel, name</span>):<br>    <span class="hljs-comment"># 打开图片并转换为灰度图</span><br>    image = Image.<span class="hljs-built_in">open</span>(image_path).convert(<span class="hljs-string">&quot;L&quot;</span>)<br><br>    <span class="hljs-comment"># 转换为张量</span><br>    transform_to_tensor = transforms.ToTensor()<br>    image_tensor = transform_to_tensor(image).unsqueeze(<span class="hljs-number">0</span>)  <span class="hljs-comment"># 增加批次维度 (1, 1, H, W)</span><br><br>    <span class="hljs-comment"># 卷积操作</span><br>    kernel_tensor = (<br>        torch.tensor(kernel, dtype=torch.float32).unsqueeze(<span class="hljs-number">0</span>).unsqueeze(<span class="hljs-number">0</span>)<br>    )  <span class="hljs-comment"># (1, 1, 3, 3)</span><br>    convolved_image = F.conv2d(image_tensor, kernel_tensor, padding=<span class="hljs-number">1</span>)  <span class="hljs-comment"># 保持尺寸</span><br><br>    <span class="hljs-comment"># 转换回 NumPy 数组以便显示</span><br>    convolved_image_np = convolved_image.squeeze().detach().numpy()<br><br>    <span class="hljs-comment"># 显示原图和卷积后的图像</span><br>    plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>    plt.title(<span class="hljs-string">&quot;Original Image&quot;</span>)<br>    plt.imshow(image, cmap=<span class="hljs-string">&quot;gray&quot;</span>)<br><br>    plt.subplot(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>    plt.title(<span class="hljs-string">&quot;Convolved Image&quot;</span>)<br>    plt.imshow(convolved_image_np, cmap=<span class="hljs-string">&quot;gray&quot;</span>)<br>    plt.savefig(<span class="hljs-string">f&quot;img/Convolved_img <span class="hljs-subst">&#123;name&#125;</span>.png&quot;</span>)<br>    plt.close()<br><br><br><span class="hljs-comment"># 示例调用</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-comment"># 定义 3x3 卷积核（例如边缘检测）</span><br>    kernel_1 = [[-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>], [-<span class="hljs-number">1</span>, <span class="hljs-number">8</span>, -<span class="hljs-number">1</span>], [-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>]]<br>    kernel_2 = [[<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>], [-<span class="hljs-number">1</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>]]<br>    kernel_3 = [[<span class="hljs-number">1</span> / <span class="hljs-number">9</span>, <span class="hljs-number">1</span> / <span class="hljs-number">9</span>, <span class="hljs-number">1</span> / <span class="hljs-number">9</span>], [<span class="hljs-number">1</span> / <span class="hljs-number">9</span>, <span class="hljs-number">1</span> / <span class="hljs-number">9</span>, <span class="hljs-number">1</span> / <span class="hljs-number">9</span>], [<span class="hljs-number">1</span> / <span class="hljs-number">9</span>, <span class="hljs-number">1</span> / <span class="hljs-number">9</span>, <span class="hljs-number">1</span> / <span class="hljs-number">9</span>]]<br>    kernel_4 = [[-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]]<br>    kernel_5 = np.random.randn(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>)<br>    kernel_5 = kernel_5 / kernel_5.<span class="hljs-built_in">sum</span>()<br>    kernel_6 = np.identity(<span class="hljs-number">3</span>) / <span class="hljs-number">3</span><br>    kernel_7 = [[-<span class="hljs-number">2</span>, -<span class="hljs-number">3</span>, -<span class="hljs-number">2</span>], [-<span class="hljs-number">3</span>, <span class="hljs-number">21</span>, -<span class="hljs-number">3</span>], [-<span class="hljs-number">2</span>, -<span class="hljs-number">3</span>, -<span class="hljs-number">2</span>]]<br><br>    <span class="hljs-comment"># 替换为您本地的图片路径</span><br>    image_path = <span class="hljs-string">&quot;img/demo_cat.jpg&quot;</span>  <span class="hljs-comment"># 请确保路径正确</span><br>    apply_convolution(image_path, kernel_1, <span class="hljs-string">&quot;edge_detection&quot;</span>)<br>    apply_convolution(image_path, kernel_2, <span class="hljs-string">&quot;sharpen&quot;</span>)<br>    apply_convolution(image_path, kernel_3, <span class="hljs-string">&quot;normalize&quot;</span>)<br>    apply_convolution(image_path, kernel_4, <span class="hljs-string">&quot;edge_detect2&quot;</span>)<br>    apply_convolution(image_path, kernel_5, <span class="hljs-string">&quot;just for fun&quot;</span>)<br>    apply_convolution(image_path, kernel_6, <span class="hljs-string">&quot;kernel6&quot;</span>)<br>    apply_convolution(image_path, kernel_7, <span class="hljs-string">&quot;kernel_7&quot;</span>)<br><br>    <span class="hljs-comment"># the usage of surbo kernel</span><br>    kernel_surbo_1 = [[-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [-<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>], [-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]]<br>    kernel_surbo_2 = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], [-<span class="hljs-number">1</span>, -<span class="hljs-number">2</span>, -<span class="hljs-number">2</span>]]<br>    apply_convolution(image_path, kernel_surbo_1, <span class="hljs-string">&quot;surbo_1&quot;</span>)<br>    apply_convolution(image_path, kernel_surbo_2, <span class="hljs-string">&quot;surbo_2&quot;</span>)<br></code></pre></td></tr></table></figure>

<h3 id="卷积的数学运算"><a href="#卷积的数学运算" class="headerlink" title="卷积的数学运算"></a>卷积的数学运算</h3><p>在图像卷积中，我们会使用<strong>卷积函数的二维离散形式</strong>：</p>
<p>$$F(x,y) &#x3D; \sum_{u,v} f(x-u,y-v)g(u,v)$$</p>
<p>$$F(x,y) &#x3D; \int f(x-u,y-v)g(u,v) \mathrm{d}u \mathrm{d}v$$</p>
<p>这里$g(u,v)$代表我们之前使用的$3 \times 3$的卷积核。</p>
<p><img src="https://s1.imagehub.cc/images/2025/04/15/852f706ca8313ad8d5d81a1d0ed3c2b0.png" srcset="/img/loading.gif" lazyload alt="图像卷积的数学运算"></p>
<blockquote>
<p>这里就是一个非常经典的<strong>二维图像</strong>的滑动窗口！</p>
</blockquote>
<p>在卷积扫一遍之后，就会得到一张新的图像，这也就是我们上文展示的<strong>图像过卷积</strong>。</p>
<div class="note note-primary">
            <p><strong>Zero Padding</strong>：解决图像过卷积的问题</p><p>对于<strong>边缘</strong>的像素块，为了防止其在卷积之后被剪裁，我们需要<strong>适当扩展图像的size</strong>，例如这样：</p><p><img src="https://s1.imagehub.cc/images/2025/04/15/facae81e4da98908c65b8cb1ee318691.png" srcset="/img/loading.gif" lazyload alt="Zero Padding"></p>
          </div>

<p>在定义好卷积核函数之后（一个<strong>可训练的矩阵</strong>），我们终于可以<strong>移动滑动窗口</strong>了，这一个过程叫<strong>跨步（Stride）</strong>。$stride(i,j)$表示单次操作中横向移动$i$步，纵向移动$j$步。</p>
<p>同时，对于彩色图像，我们需要对RGB三个通道进行<strong>多通道卷积</strong>，不过为了简单起见，我们这里只考虑黑白单通道图像。</p>
<h2 id="卷积神经网络"><a href="#卷积神经网络" class="headerlink" title="卷积神经网络"></a>卷积神经网络</h2><p>终于，我们迎来了今天的主角，<strong>卷积神经网络</strong>！</p>
<h4 id="生物学灵感"><a href="#生物学灵感" class="headerlink" title="生物学灵感"></a>生物学灵感</h4><p><strong>局部感受野</strong>：生物视觉系统中的神经元通常只对视野中的小区域敏感，这被称为局部感受野。CNN 中的卷积层通过卷积操作模拟了这一特性，允许网络在局部区域内提取特征。</p>
<p>因此，我们可以尝试<strong>将卷积结构带入到神经网络中</strong>，因为单纯的全连接网络在小数据量的情况下很容易过拟合，无法<strong>识别图像的真正特征</strong>。</p>
<h4 id="网络结构"><a href="#网络结构" class="headerlink" title="网络结构"></a>网络结构</h4><p>一个标准的卷积神经网络（Convolutional Neural Network, CNN）通常由以下几个模块构成：</p>
<ul>
<li>卷积层（Convolutional Layer） —— 简单细胞</li>
<li>池化层（Pooling Layer）</li>
<li>全连接层（Fully-Connected Layer）—— 复杂细胞</li>
<li>输出层（Output Layer）</li>
</ul>
<p>在接下来的部分，我们将具体介绍每一个网络层的应用。</p>
<h2 id="网络结构详解"><a href="#网络结构详解" class="headerlink" title="网络结构详解"></a>网络结构详解</h2>
                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Artificial-Intelligence/" class="category-chain-item">Artificial Intelligence</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Artificial-Intelligence/" class="print-no-link">#Artificial Intelligence</a>
      
        <a href="/tags/Deep-Learning/" class="print-no-link">#Deep Learning</a>
      
        <a href="/tags/Convolutional-Neural-Networks/" class="print-no-link">#Convolutional Neural Networks</a>
      
        <a href="/tags/AlexNet/" class="print-no-link">#AlexNet</a>
      
        <a href="/tags/Image-Clssification/" class="print-no-link">#Image Clssification</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ImageNet and ILSVRC</div>
      <div>https://xiyuanyang-code.github.io/posts/Imagenet/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Xiyuan Yang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>April 14, 2025</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Updated on</div>
          <div>April 15, 2025</div>
        </div>
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/posts/Modern-C/" title="Modern C++">
                        <span class="hidden-mobile">Modern C++</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"xiyuanyang-code/xiyuanyang-code.github.io","repo-id":"R_kgDONRhvHQ","category":"Announcements","category-id":"DIC_kwDONRhvHc4ClBnp","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top","lang":"zh-CN"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://github.com/xiyuanyang-code" target="_blank" rel="nofollow noopener"><span>YXY</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/Siyan-Li" target="_blank" rel="nofollow noopener"><span>LSY</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
