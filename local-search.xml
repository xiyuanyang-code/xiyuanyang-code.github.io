<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Missing-Semester-Notes</title>
    <link href="/posts/Missing-Semester-Notes/"/>
    <url>/posts/Missing-Semester-Notes/</url>
    
    <content type="html"><![CDATA[<h1 id="Lecture-Notes-Missing-Semester-for-your-CS-education"><a href="#Lecture-Notes-Missing-Semester-for-your-CS-education" class="headerlink" title="Lecture Notes: Missing Semester for your CS education"></a>Lecture Notes: Missing Semester for your CS education</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><img src="https://s1.imagehub.cc/images/2025/02/12/2fba209f139c83bb6212f0f589baac2a.png" alt="missing"></p><p><strong>Welcome to the course: The Missing Semester of Your CS Education!</strong></p><p>When I first learned about this course at the beginning of my freshman year, I had no concept of command lines, development, and other related topics. Additionally, since the course was taught entirely in English, I tried attending a few lectures but eventually gave up, and my absorption rate was also low. During this winter break, after a semester of experience in my freshman year, I installed <strong>the WSL subsystem and mastered the most basic Bash knowledge</strong>. When I revisited this course, I felt a sudden clarity. Now, the command line has become a tool I frequently use, greatly improving my learning and development efficiency. Therefore, I will organize my <strong>Missing Semester notes</strong> in this blog, hoping to inspire and help future learners.</p><p>Before starting the learning exploration, I strongly recommend you to <strong>ensure all these questions and contents below are carefully read</strong>, which will help you gain a better learning experience.</p><h3 id="Where-to-find-the-course"><a href="#Where-to-find-the-course" class="headerlink" title="Where to find the course?"></a>Where to find the course?</h3><p><strong>On YouTube:</strong> <a href="https://www.youtube.com/@MissingSemester">https://www.youtube.com/@MissingSemester</a></p><p>The course also has its own websites for clear lecture notes!</p><ul><li><a href="https://missing.csail.mit.edu/">https://missing.csail.mit.edu/</a></li><li><a href="https://github.com/missing-semester/missing-semester">https://github.com/missing-semester/missing-semester</a></li></ul><p>For domestic users, you can browse <a href="https://www.bilibili.com/">Bilibili</a> for reposting of the original course and Chinese subtitle translation.</p><ul><li><a href="https://www.bilibili.com/video/BV1x7411H7wa/?vd_source=6955add1d28c52cd48096d58e09ce798">Repost on Bilibili</a></li></ul><h3 id="Whatâ€™s-this-course-about"><a href="#Whatâ€™s-this-course-about" class="headerlink" title="Whatâ€™s this course about?"></a>Whatâ€™s this course about?</h3><p>Letâ€™s take a look at how the course instructor evaluates the positioning of this course.</p><blockquote><p><strong>Missing semester Lec1 Beginning- The overall introduction of this course</strong></p><p>This class stems from an observation that Anish, Jose, and I have made while attending various classes at MIT. The observation is that, as computer scientists, we all know that computers are great at performing repetitive tasks and automating things. However, we often fail to realize that there are many tools that can make our own development processes better. We can be much more efficient in how we use our computers because <strong>we can use the computer as a tool for ourselves</strong>, not just for building websites or software. This class is an attempt to address this issue. It is an attempt to show you some of the tools that you can use to great effect in your day-to-day work, in your research, and in your studies. Itâ€™s going to be a class where we want to teach you <strong>both how to make the most of the tools that you already know and, hopefully, introduce you to some tools that you donâ€™t know yet</strong>. We also want to show you how to combine these tools to produce more powerful results than you might think possible with what you know today.</p><p><strong>Chinese Translation</strong>:</p><p>è¿™é—¨è¯¾ç¨‹æºäºAnishã€Joseå’Œæˆ‘åœ¨MITå‚åŠ å„ç§è¯¾ç¨‹æ—¶çš„ä¸€ä¸ªè§‚å¯Ÿã€‚æˆ‘ä»¬å‘ç°ï¼Œä½œä¸ºè®¡ç®—æœºç§‘å­¦å®¶ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“è®¡ç®—æœºéå¸¸æ“…é•¿æ‰§è¡Œé‡å¤æ€§ä»»åŠ¡å’Œè‡ªåŠ¨åŒ–å·¥ä½œã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¸¸å¸¸æ²¡æœ‰æ„è¯†åˆ°ï¼Œæœ‰è®¸å¤šå·¥å…·å¯ä»¥è®©æˆ‘ä»¬çš„å¼€å‘è¿‡ç¨‹å˜å¾—æ›´å¥½ã€‚æˆ‘ä»¬å¯ä»¥æ›´é«˜æ•ˆåœ°ä½¿ç”¨è®¡ç®—æœºï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å°†è®¡ç®—æœºä½œä¸ºæˆ‘ä»¬è‡ªå·±çš„å·¥å…·ï¼Œè€Œä¸ä»…ä»…æ˜¯ç”¨æ¥æ„å»ºç½‘ç«™æˆ–è½¯ä»¶ã€‚è¿™é—¨è¯¾ç¨‹æ—¨åœ¨è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒè¯•å›¾å‘ä½ å±•ç¤ºä¸€äº›å¯ä»¥åœ¨æ—¥å¸¸å·¥ä½œã€ç ”ç©¶å’Œå­¦ä¹ ä¸­é«˜æ•ˆä½¿ç”¨çš„å·¥å…·ã€‚è¿™é—¨è¯¾ç¨‹çš„ç›®æ ‡æ˜¯æ•™ä½ å¦‚ä½•å……åˆ†åˆ©ç”¨ä½ å·²ç»çŸ¥é“çš„å·¥å…·ï¼ŒåŒæ—¶ä¹Ÿå¸Œæœ›å‘ä½ ä»‹ç»ä¸€äº›ä½ ä»¥å‰ä¸çŸ¥é“çš„å·¥å…·ï¼Œå¹¶å±•ç¤ºå¦‚ä½•å°†è¿™äº›å·¥å…·ç»“åˆèµ·æ¥ï¼Œäº§ç”Ÿæ¯”ä½ ä»Šå¤©æ‰€çŸ¥é“çš„æ›´å¼ºå¤§çš„ç»“æœã€‚</p></blockquote><p>So this lecture is for <strong>Tool-using</strong> during your CS education. Several Tools can be seen in the subtitle of each courses.</p><h3 id="Am-I-ready-to-take-the-course"><a href="#Am-I-ready-to-take-the-course" class="headerlink" title="Am I ready to take the course?"></a>Am I ready to take the course?</h3><p><strong>However</strong>, I am unwilling to announce the fact that: This course is not suitable for <strong>Totally-Green-Hand</strong>.ğŸ™‚â€â†•ï¸ğŸ™‚â€â†•ï¸ğŸ™‚â€â†•ï¸ Here are two following reasons I have summarized:</p><ul><li>The course progresses <strong>very quickly</strong>. If you have no prior knowledge of these concepts, thereâ€™s a high chance you wonâ€™t keep up with the pace! Although you can pause while learning on video platforms, <strong>previewing the basic knowledge before taking the course can provide a better learning experience</strong>.</li><li>In learning tools, <strong>practice is a very important component</strong>. This course mainly focuses on lectures and lacks opportunities for hands-on practice.</li></ul><p>Thus, I strongly recommend you to do such things before entering the courses:</p><ul><li><p><strong>Make sure you have installed command-line environment before the course begins!</strong> (Most important)</p><ul><li><strong>MacOS</strong> or <strong>Linux</strong> is preferred.</li><li><strong>WSL</strong> for <strong>Windows</strong></li></ul><blockquote><p><strong>While learning the course content, practice hands-on operations simultaneously!</strong> </p></blockquote><blockquote><p>Still updating~</p></blockquote></li></ul><h2 id="Lec1-2-Shell-Tools-and-Scripting"><a href="#Lec1-2-Shell-Tools-and-Scripting" class="headerlink" title="Lec1-2: Shell Tools and Scripting"></a>Lec1-2: Shell Tools and Scripting</h2><h2 id="Lec3-Vim-editors"><a href="#Lec3-Vim-editors" class="headerlink" title="Lec3: Vim editors"></a>Lec3: Vim editors</h2><h2 id="Lec4-Data-Wrangling"><a href="#Lec4-Data-Wrangling" class="headerlink" title="Lec4: Data Wrangling"></a>Lec4: Data Wrangling</h2><h2 id="Lec5-Command-Line-Environment"><a href="#Lec5-Command-Line-Environment" class="headerlink" title="Lec5: Command Line Environment"></a>Lec5: Command Line Environment</h2><h2 id="Lec6-Git-Version-Control"><a href="#Lec6-Git-Version-Control" class="headerlink" title="Lec6: Git (Version Control)"></a>Lec6: Git (Version Control)</h2><h2 id="Lec7-Debugging-and-Profiling"><a href="#Lec7-Debugging-and-Profiling" class="headerlink" title="Lec7: Debugging and Profiling"></a>Lec7: Debugging and Profiling</h2><h2 id="Lec8-Metaprogramming"><a href="#Lec8-Metaprogramming" class="headerlink" title="Lec8: Metaprogramming"></a>Lec8: Metaprogramming</h2><h2 id="Lec9-Security-and-Cryptography"><a href="#Lec9-Security-and-Cryptography" class="headerlink" title="Lec9: Security and Cryptography"></a>Lec9: Security and Cryptography</h2><h2 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h2><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>Bash</tag>
      
      <tag>Missing Semester</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>My-WorkFlow</title>
    <link href="/posts/My-WorkFlow/"/>
    <url>/posts/My-WorkFlow/</url>
    
    <content type="html"><![CDATA[<p><img src="https://s1.imagehub.cc/images/2025/02/07/329668c81128e08f84c1d1ea140bc31b.jpg" alt="Welcome to Xiyuan Yang&#39;s Blog!"></p><h1 id="My-WorkFlow"><a href="#My-WorkFlow" class="headerlink" title="My WorkFlow"></a>My WorkFlow</h1><p>This Blog is written in English, and then translated into Chinese.</p><h2 id="About-this-Blog"><a href="#About-this-Blog" class="headerlink" title="About this Blog"></a>About this Blog</h2><p>As a student of Computer Science and Artificial Intelligence, <strong>efficiency</strong> is of great importance! In this Blog below, I will recommend several efficient tools I have experienced and used during my exploration. This Blog will be updated permanently, not only for a long-time sharing project, but also for a systematic review of my personal workflow.  </p><p>My working environment:</p><ul><li>Microsoft Windows 11, x64-based PC<ul><li>Intel(R) Core(TM) Ultra 5 125H (14 cores)</li><li>Intel(R) Arc(TM) Graphics</li></ul></li><li>For WSL:<ul><li>WSL2: Ubuntu 22.04.1 LTS,Jammy</li></ul></li></ul><blockquote><p>I plan to buy a <strong>MacBook</strong> when I grow older, but who knows?</p></blockquote><h2 id="Core-Principles"><a href="#Core-Principles" class="headerlink" title="Core Principles"></a>Core Principles</h2><p><strong>How to improve efficiency?</strong> Here are several core principles I have concluded during my learning exploration:</p><ul><li><strong>Improving efficiency is the ultimate goal</strong>.</li><li><strong>Avoid Repetitive Labors</strong>.</li><li><strong>There is no best, only the most suitable</strong>.</li></ul><p>We will dive into these principles deeply later.</p><blockquote><p><strong>However</strong>, itâ€™s worth mentioning the difference between <strong>learning</strong> and <strong>working</strong>. Learning is a process where input and absorption take up the main part, while working is mainly for output and producing fruitful contents.</p><p>For both working and learning, <strong>efficiency</strong> is of great importance, but the core principles may differ from each other based on its different goals and methods. For example, repetitive work may be helpful in learning methods in some circumstances.</p><p>This is another topic! We can discuss it further in the future. We may just <strong>focusing on several core principles above</strong> in todayâ€™s Blog.</p></blockquote><h2 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h2><p><strong>Integrated Development Environment(IDE)</strong> is of great importance for every programmer.</p><h3 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h3><img src="https://media2.dev.to/dynamic/image/width=1000,height=420,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2F0sbafazseadoy4jupixj.png" alt="Vscode" style="zoom: 50%;" /><p><a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p><p>Visual Studio Code (VS Code) is a free, open-source code editor supporting multiple programming languages. It offers powerful features like <strong>IntelliSense, debugging, Git integration, and extensions</strong>. Cross-platform for Windows, macOS, and Linux, it boasts a clean interface and high performance, making it a top choice for developers.</p><h3 id="Cursor"><a href="#Cursor" class="headerlink" title="Cursor"></a>Cursor</h3><p><a href="https://www.cursor.com/">https://www.cursor.com/</a></p><p>Cursor is an AI-powered code editor designed for modern developers. It integrates <strong>AI assistance for code completion, refactoring, and debugging, enhancing productivity.</strong> Built on VS Codeâ€™s foundation, it supports multiple languages and frameworks. Its sleek interface, real-time collaboration, and AI-driven insights make it a cutting-edge tool for efficient coding.</p><blockquote><p>For Learning, I often use Vscode only to practice my programming skills. For work, I will use <strong>Cursor and Vscode</strong> both. AI assistance is of great convenience, but it will interrupt my train of thought while coding.</p></blockquote><h2 id="Command-Line"><a href="#Command-Line" class="headerlink" title="Command Line"></a>Command Line</h2><p><strong>I strongly recommend everyone to use command line skillfully in our daily lives</strong>.</p><h3 id="Windows-Terminal"><a href="#Windows-Terminal" class="headerlink" title="Windows Terminal"></a>Windows Terminal</h3><p>I have build a similar terminal environment based on this <a href="https://xxyqwq.github.io/2024/01/27/build-windows-terminal/">Blog</a>.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://xxyqwq.github.io/2024/01/27/build-windows-terminal/">[1]</span></a></sup></p><p><strong>Tools used</strong>: <strong>oh-my-posh</strong> + <strong>powerlevel10k</strong></p><p>To make <strong>powershell</strong> more likely to <strong>Bash-like language</strong>, I set some alias and customed functions as below, you can modify your config files by using commands below:</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell">code <span class="hljs-variable">$PROFILE</span><br></code></pre></td></tr></table></figure><p>It will open default editor (for me, itâ€™s cursor) and you can modify and custom settings freely!</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># my custom settings for powershell</span><br><span class="hljs-built_in">oh</span><span class="hljs-literal">-my-posh</span> init pwsh <span class="hljs-literal">--config</span> <span class="hljs-string">&quot;C:\Users\29349\powerlevel10k_lean.omp.json&quot;</span> | <span class="hljs-built_in">Invoke-Expression</span><br><span class="hljs-built_in">Import-Module</span> posh<span class="hljs-literal">-git</span><br><span class="hljs-built_in">Import-Module</span> PSReadLine<br><span class="hljs-built_in">Set-PSReadLineOption</span> <span class="hljs-literal">-PredictionSource</span> <span class="hljs-built_in">History</span><br><span class="hljs-built_in">Set-PSReadLineKeyHandler</span> <span class="hljs-literal">-Chord</span> <span class="hljs-string">&quot;Ctrl+RightArrow&quot;</span> <span class="hljs-literal">-Function</span> ForwardWord<br><br><br><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">ls</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">cd</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">pwd</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">rm</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">cp</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">mv</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">cat</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">ps</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">kill</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">clear</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Path</span> Alias:<span class="hljs-built_in">man</span> <span class="hljs-literal">-Force</span><br><br><br><span class="hljs-comment"># è¦†ç›–å†…ç½®åˆ«åï¼ˆå¼ºåˆ¶è¦†ç›–ï¼‰</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">ls</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Get-ChildItem</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">cd</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Set-Location</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">pwd</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Get-Location</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">rm</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Remove-Item</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">cp</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Copy-Item</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">mv</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Move-Item</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">cat</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Get-Content</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">ps</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Get-Process</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">kill</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Stop-Process</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">clear</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Clear-Host</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> <span class="hljs-built_in">man</span> <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Get-Help</span> <span class="hljs-literal">-Force</span><br><span class="hljs-built_in">Set-Alias</span> <span class="hljs-literal">-Name</span> which <span class="hljs-literal">-Value</span> <span class="hljs-built_in">Get-Command</span> <span class="hljs-literal">-Force</span><br><br><span class="hljs-comment"># å®šä¹‰å‡½æ•°ä»£æ›¿åˆ«åï¼ˆç”¨äºéœ€è¦å‚æ•°çš„å‘½ä»¤ï¼‰</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mkdir</span></span> &#123;<br>    <span class="hljs-keyword">param</span>(<br>        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Path</span><br>    )<br>    <span class="hljs-built_in">New-Item</span> <span class="hljs-literal">-ItemType</span> Directory <span class="hljs-literal">-Path</span> <span class="hljs-variable">$Path</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">find</span></span> &#123;<br>    <span class="hljs-keyword">param</span>(<br>        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Path</span><br>    )<br>    <span class="hljs-built_in">Get-ChildItem</span> <span class="hljs-literal">-Recurse</span> <span class="hljs-literal">-Path</span> <span class="hljs-variable">$Path</span><br>&#125;<br><br><span class="hljs-comment"># å®šä¹‰å‡½æ•°ä»¥æ”¯æŒå‚æ•°ä¼ é€’</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ls</span></span> &#123;<br>    <span class="hljs-keyword">param</span>(<br>        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Options</span><br>    )<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$Options</span> <span class="hljs-operator">-eq</span> <span class="hljs-string">&quot;-l&quot;</span>) &#123;<br>        <span class="hljs-built_in">Get-ChildItem</span> | <span class="hljs-built_in">Format-Table</span> <span class="hljs-literal">-AutoSize</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">Get-ChildItem</span><br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grep</span></span> &#123;<br>    <span class="hljs-keyword">param</span>(<br>        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Pattern</span>,<br>        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Path</span><br>    )<br>    <span class="hljs-built_in">Select-String</span> <span class="hljs-literal">-Pattern</span> <span class="hljs-variable">$Pattern</span> <span class="hljs-literal">-Path</span> <span class="hljs-variable">$Path</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">touch</span></span> &#123;<br>    <span class="hljs-keyword">param</span>(<br>        [<span class="hljs-built_in">string</span>]<span class="hljs-variable">$Path</span><br>    )<br>    <span class="hljs-keyword">if</span> (<span class="hljs-operator">-Not</span> (<span class="hljs-built_in">Test-Path</span> <span class="hljs-variable">$Path</span>)) &#123;<br>        <span class="hljs-built_in">New-Item</span> <span class="hljs-literal">-ItemType</span> File <span class="hljs-literal">-Path</span> <span class="hljs-variable">$Path</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        (<span class="hljs-built_in">Get-Item</span> <span class="hljs-variable">$Path</span>).LastWriteTime = <span class="hljs-built_in">Get-Date</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment"># å…¶ä»–å¸¸ç”¨å‡½æ•°</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ll</span></span> &#123;<br>    <span class="hljs-built_in">Get-ChildItem</span> | <span class="hljs-built_in">Format-Table</span> <span class="hljs-literal">-AutoSize</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">la</span></span> &#123;<br>    <span class="hljs-built_in">Get-ChildItem</span> <span class="hljs-literal">-Force</span> | <span class="hljs-built_in">Format-Table</span> <span class="hljs-literal">-AutoSize</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> ..</span> &#123;<br>    <span class="hljs-built_in">Set-Location</span> ..<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> ...</span> &#123;<br>    <span class="hljs-built_in">Set-Location</span> ..\..<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> ~</span> &#123;<br>    <span class="hljs-built_in">Set-Location</span> ~<br>&#125;<br><br><span class="hljs-comment"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reload</span></span> &#123;<br>    . <span class="hljs-variable">$PROFILE</span><br>&#125;<br><br><br></code></pre></td></tr></table></figure><h3 id="Linux-Terminal"><a href="#Linux-Terminal" class="headerlink" title="Linux Terminal"></a>Linux Terminal</h3><p><strong>My version</strong>: <strong>Ubuntu 22.04</strong></p><p>I use <strong>Oh-my-zsh</strong> and <strong>Powerlevel-10k</strong> for my custom settings<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://xxyqwq.github.io/2023/07/31/build-linux-terminal/">[2]</span></a></sup>. The famous course in MIT: <a href="https://missing.csail.mit.edu/">Missing semester of my CS education</a> includes a lecture<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://missing.csail.mit.edu/2020/command-line/">[3]</span></a></sup> teaching you to customize your dotfiles to make your shell more shell more powerful.</p><p><a href="https://ohmyz.sh/">https://ohmyz.sh/</a></p><p><a href="https://github.com/romkatv/powerlevel10k">https://github.com/romkatv/powerlevel10k</a></p><p>You can search github for <strong>dotfiles</strong> where you can peek othersâ€™ custom settings and migrate to your own settings. Itâ€™s also a great way to learn Bash commands and improve proficiency step by step while practicing.</p><blockquote><p>Itâ€™s common for green hands to make mistakes! Donâ€™t be afraid, try to spend more time and conquer it! </p></blockquote><p>My dotfiles for zsh settings are as below.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim ~/.zshrc<br><span class="hljs-comment"># entering vim and make your custom settings</span><br><span class="hljs-built_in">source</span> ~/.zshrc  <span class="hljs-comment">#run the files or you can just reopen the terminal</span><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Files for zshrc</span><br><span class="hljs-comment"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.</span><br><span class="hljs-comment"># Initialization code that may require console input (password prompts, [y/n]</span><br><span class="hljs-comment"># confirmations, etc.) must go above this block; everything else may go below.</span><br><span class="hljs-keyword">if</span> [[ -r <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache&#125;</span>/p10k-instant-prompt-<span class="hljs-variable">$&#123;(%):-%n&#125;</span>.zsh&quot;</span> ]]; <span class="hljs-keyword">then</span><br>  <span class="hljs-built_in">source</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache&#125;</span>/p10k-instant-prompt-<span class="hljs-variable">$&#123;(%):-%n&#125;</span>.zsh&quot;</span><br><span class="hljs-keyword">fi</span><br><br><span class="hljs-comment"># If you come from bash you might have to change your $PATH.</span><br><span class="hljs-comment"># export PATH=$HOME/bin:$HOME/.local/bin:/usr/local/bin:$PATH</span><br><br><span class="hljs-comment"># Path to your oh-my-zsh installation.</span><br><span class="hljs-built_in">export</span> ZSH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.oh-my-zsh&quot;</span><br><br><span class="hljs-comment"># Set name of the theme to load --- if set to &quot;random&quot;, it will</span><br><span class="hljs-comment"># load a random theme each time oh-my-zsh is loaded, in which case,</span><br><span class="hljs-comment"># to know which specific one was loaded, run: echo $RANDOM_THEME</span><br><span class="hljs-comment"># See https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</span><br>ZSH_THEME=<span class="hljs-string">&quot;powerlevel10k/powerlevel10k&quot;</span><br><br><span class="hljs-comment"># Set list of themes to pick from when loading at random</span><br><span class="hljs-comment"># Setting this variable when ZSH_THEME=random will cause zsh to load</span><br><span class="hljs-comment"># a theme from this variable instead of looking in $ZSH/themes/</span><br><span class="hljs-comment"># If set to an empty array, this variable will have no effect.</span><br><span class="hljs-comment"># ZSH_THEME_RANDOM_CANDIDATES=( &quot;robbyrussell&quot; &quot;agnoster&quot; )</span><br><br><span class="hljs-comment"># Uncomment the following line to use case-sensitive completion.</span><br><span class="hljs-comment">#plugins=(zsh-syntax-highlighting)# CASE_SENSITIVE=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line to use hyphen-insensitive completion.</span><br><span class="hljs-comment"># Case-sensitive completion must be off. _ and - will be interchangeable.</span><br><span class="hljs-comment"># HYPHEN_INSENSITIVE=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment one of the following lines to change the auto-update behavior</span><br><span class="hljs-comment"># zstyle &#x27;:omz:update&#x27; mode disabled  # disable automatic updates</span><br><span class="hljs-comment"># zstyle &#x27;:omz:update&#x27; mode auto      # update automatically without asking</span><br><span class="hljs-comment"># zstyle &#x27;:omz:update&#x27; mode reminder  # just remind me to update when it&#x27;s time</span><br><br><span class="hljs-comment"># Uncomment the following line to change how often to auto-update (in days).</span><br><span class="hljs-comment"># zstyle &#x27;:omz:update&#x27; frequency 13</span><br><br><span class="hljs-comment"># Uncomment the following line if pasting URLs and other text is messed up.</span><br><span class="hljs-comment"># DISABLE_MAGIC_FUNCTIONS=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line to disable colors in ls.</span><br><span class="hljs-comment"># DISABLE_LS_COLORS=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line to disable auto-setting terminal title.</span><br><span class="hljs-comment"># DISABLE_AUTO_TITLE=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line to enable command auto-correction.</span><br><span class="hljs-comment"># ENABLE_CORRECTION=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line to display red dots whilst waiting for completion.</span><br><span class="hljs-comment"># You can also set it to another string to have that shown instead of the default red dots.</span><br><span class="hljs-comment"># e.g. COMPLETION_WAITING_DOTS=&quot;%F&#123;yellow&#125;waiting...%f&quot;</span><br><span class="hljs-comment"># Caution: this setting can cause issues with multiline prompts in zsh &lt; 5.7.1 (see #5765)</span><br><span class="hljs-comment"># COMPLETION_WAITING_DOTS=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line if you want to disable marking untracked files</span><br><span class="hljs-comment"># under VCS as dirty. This makes repository status check for large repositories</span><br><span class="hljs-comment"># much, much faster.</span><br><span class="hljs-comment"># DISABLE_UNTRACKED_FILES_DIRTY=&quot;true&quot;</span><br><br><span class="hljs-comment"># Uncomment the following line if you want to change the command execution time</span><br><span class="hljs-comment"># stamp shown in the history command output.</span><br><span class="hljs-comment"># You can set one of the optional three formats:</span><br><span class="hljs-comment"># &quot;mm/dd/yyyy&quot;|&quot;dd.mm.yyyy&quot;|&quot;yyyy-mm-dd&quot;</span><br><span class="hljs-comment"># or set a custom format using the strftime function format specifications,</span><br><span class="hljs-comment"># see &#x27;man strftime&#x27; for details.</span><br><span class="hljs-comment"># HIST_STAMPS=&quot;mm/dd/yyyy&quot;</span><br><br><span class="hljs-comment"># Would you like to use another custom folder than $ZSH/custom?</span><br><span class="hljs-comment"># ZSH_CUSTOM=/path/to/new-custom-folder</span><br><br><span class="hljs-comment"># Which plugins would you like to load?</span><br><span class="hljs-comment"># Standard plugins can be found in $ZSH/plugins/</span><br><span class="hljs-comment"># Custom plugins may be added to $ZSH_CUSTOM/plugins/</span><br><span class="hljs-comment"># Example format: plugins=(rails git textmate ruby lighthouse)</span><br><span class="hljs-comment"># Add wisely, as too many plugins slow down shell startup.</span><br>plugins=(git zsh-syntax-highlighting)<br><br><span class="hljs-built_in">source</span> <span class="hljs-variable">$ZSH</span>/oh-my-zsh.sh<br><br><span class="hljs-comment"># User configuration</span><br><br><span class="hljs-comment"># export MANPATH=&quot;/usr/local/man:$MANPATH&quot;</span><br><br><span class="hljs-comment"># You may need to manually set your language environment</span><br><span class="hljs-comment"># export LANG=en_US.UTF-8</span><br><br><span class="hljs-comment"># Preferred editor for local and remote sessions</span><br><span class="hljs-comment"># if [[ -n $SSH_CONNECTION ]]; then</span><br><span class="hljs-comment">#   export EDITOR=&#x27;vim&#x27;</span><br><span class="hljs-comment"># else</span><br><span class="hljs-comment">#   export EDITOR=&#x27;mvim&#x27;</span><br><span class="hljs-comment"># fi</span><br><br><span class="hljs-comment"># Compilation flags</span><br><span class="hljs-comment"># export ARCHFLAGS=&quot;-arch x86_64&quot;</span><br><br><span class="hljs-comment"># Set personal aliases, overriding those provided by oh-my-zsh libs,</span><br><span class="hljs-comment"># plugins, and themes. Aliases can be placed here, though oh-my-zsh</span><br><span class="hljs-comment"># users are encouraged to define aliases within the ZSH_CUSTOM folder.</span><br><span class="hljs-comment"># For a full list of active aliases, run `alias`.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Example aliases</span><br><span class="hljs-comment"># alias zshconfig=&quot;mate ~/.zshrc&quot;</span><br><span class="hljs-comment"># alias ohmyzsh=&quot;mate ~/.oh-my-zsh&quot;</span><br><span class="hljs-comment"># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;</span><br><span class="hljs-comment"># !! Contents within this block are managed by &#x27;conda init&#x27; !!</span><br>__conda_setup=<span class="hljs-string">&quot;<span class="hljs-subst">$(&#x27;/home/xiyuanyang/anaconda3/bin/conda&#x27; &#x27;shell.bash&#x27; &#x27;hook&#x27; 2&gt; /dev/null)</span>&quot;</span><br><span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">eval</span> <span class="hljs-string">&quot;<span class="hljs-variable">$__conda_setup</span>&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-keyword">if</span> [ -f <span class="hljs-string">&quot;/home/xiyuanyang/anaconda3/etc/profile.d/conda.sh&quot;</span> ]; <span class="hljs-keyword">then</span><br>        . <span class="hljs-string">&quot;/home/xiyuanyang/anaconda3/etc/profile.d/conda.sh&quot;</span><br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;/home/xiyuanyang/anaconda3/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br>    <span class="hljs-keyword">fi</span><br><span class="hljs-keyword">fi</span><br><span class="hljs-built_in">unset</span> __conda_setup<br><span class="hljs-comment"># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;</span><br><br><span class="hljs-comment"># To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.</span><br>[[ ! -f ~/.p10k.zsh ]] || <span class="hljs-built_in">source</span> ~/.p10k.zsh<br><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.cargo/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br><br><span class="hljs-built_in">eval</span> $(thefuck --<span class="hljs-built_in">alias</span>)<br><span class="hljs-comment"># You can use whatever you want as an alias, like for Mondays:</span><br><span class="hljs-built_in">eval</span> $(thefuck --<span class="hljs-built_in">alias</span> FUCK)<br><br><br><br><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.cargo/bin:<span class="hljs-variable">$PATH</span>&quot;</span><br><br><br><span class="hljs-built_in">source</span> ~/.zsh/zsh-autosuggestions/zsh-autosuggestions.zsh<br><br><span class="hljs-comment"># setting for alias here</span><br><span class="hljs-built_in">alias</span> cls=<span class="hljs-string">&#x27;clear&#x27;</span><br><span class="hljs-built_in">alias</span> ll=<span class="hljs-string">&#x27;la -lah&#x27;</span><br><span class="hljs-built_in">alias</span> v=<span class="hljs-string">&#x27;vim&#x27;</span><br><span class="hljs-built_in">alias</span> gc=<span class="hljs-string">&#x27;git commit&#x27;</span><br><span class="hljs-built_in">alias</span> gs=<span class="hljs-string">&#x27;git status&#x27;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">mv</span>=<span class="hljs-string">&#x27;mv -i&#x27;</span><br><span class="hljs-built_in">alias</span> <span class="hljs-built_in">df</span>=<span class="hljs-string">&#x27;df -h&#x27;</span><br><span class="hljs-built_in">alias</span> ..=<span class="hljs-string">&#x27;cd ..&#x27;</span><br><br><br><span class="hljs-comment"># è®¾ç½®é»˜è®¤å­—ç¬¦ä¸²é¢œè‰²ä¸ºæ·¡è“è‰²</span><br>ZSH_HIGHLIGHT_STYLES[default]=<span class="hljs-string">&#x27;fg=#87CEEB&#x27;</span><br><br><span class="hljs-comment"># è®¾ç½®ç®¡é“é¢œè‰²ä¸ºæ·¡ç²‰è‰²</span><br>ZSH_HIGHLIGHT_STYLES[pipe]=<span class="hljs-string">&#x27;fg=#FFB6C1&#x27;</span><br><br><span class="hljs-comment"># è®¾ç½®å‘½ä»¤é¢œè‰²ä¸ºæ·¡ç´«è‰²</span><br>ZSH_HIGHLIGHT_STYLES[<span class="hljs-built_in">command</span>]=<span class="hljs-string">&#x27;fg=#DDA0DD&#x27;</span><br><br><span class="hljs-comment"># è®¾ç½®åˆ«åé¢œè‰²ä¸ºæ·¡æ©™è‰²</span><br>ZSH_HIGHLIGHT_STYLES[<span class="hljs-built_in">alias</span>]=<span class="hljs-string">&#x27;fg=#FFDAB9&#x27;</span><br><br><span class="hljs-comment"># è®¾ç½®è·¯å¾„é¢œè‰²ä¸ºæ·¡é»„è‰²</span><br>ZSH_HIGHLIGHT_STYLES[path]=<span class="hljs-string">&#x27;fg=#FFFACD&#x27;</span><br><br><span class="hljs-comment"># è®¾ç½®é”™è¯¯é¢œè‰²ä¸ºæ·¡çº¢è‰²</span><br>ZSH_HIGHLIGHT_STYLES[error]=<span class="hljs-string">&#x27;fg=#FFCCCB&#x27;</span><br><br><span class="hljs-comment"># è®¾ç½®å†…ç½®å‘½ä»¤é¢œè‰²ä¸ºæ·¡ç´«è‰²</span><br>ZSH_HIGHLIGHT_STYLES[<span class="hljs-built_in">builtin</span>]=<span class="hljs-string">&#x27;fg=#DDA0DD&#x27;</span><br><br></code></pre></td></tr></table></figure><blockquote><p>For usage of Vim, readers can skip to my Blog for basic vim-tutorial.<sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://xiyuanyang-code.github.io/posts/Vim-tutorial/">[4]</span></a></sup></p><p><a href="https://xiyuanyang-code.github.io/posts/Vim-tutorial/">https://xiyuanyang-code.github.io/posts/Vim-tutorial/</a></p></blockquote><h4 id="Several-Packages-in-Ubuntu"><a href="#Several-Packages-in-Ubuntu" class="headerlink" title="Several Packages in Ubuntu"></a>Several Packages in Ubuntu</h4><p>The block below shows all the packages I have installed manually. You can also use the list below to check your installation.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">touch</span> target_filenames.txt<br>apt-mark showmanual &gt; target_filenames.txt<br><span class="hljs-built_in">cat</span> target_filenames.txt <span class="hljs-comment">#all files that have been installed in Ubuntu,including system files.</span><br><span class="hljs-built_in">touch</span> all_packages.txt<br>dpkg --list &gt; all_packages.txt<br><span class="hljs-built_in">cat</span> all_packages.txt<br><span class="hljs-built_in">touch</span> final_answers.txt<br>grep -Ff target_filenames.txt all_packages.txt &gt; final_answers.txt<br><span class="hljs-built_in">cat</span> final_answers.txt<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><code class="hljs bash">| Status=Not/Inst/Conf-files/Unpacked/halF-conf/Half-inst/trig-aWait/Trig-pend<br>ii  alsa-topology-conf            1.2.5.1-2                               all          ALSA topology configuration files<br>ii  alsa-ucm-conf                 1.2.6.3-1ubuntu1.12                     all          ALSA Use Case Manager configuration files<br>ii  base-files                    12ubuntu4.2                             amd64        Debian base system miscellaneous files<br>ii  base-passwd                   3.5.52build1                            amd64        Debian base system master password and group files<br>ii  bash                          5.1-6ubuntu1.1                          amd64        GNU Bourne Again SHell<br>ii  bash-completion               1:2.11-5ubuntu1                         all          programmable completion <span class="hljs-keyword">for</span> the bash shell<br>ii  bc                            1.07.1-3build1                          amd64        GNU bc arbitrary precision calculator language<br>ii  binutils-common:amd64         2.38-4ubuntu2.6                         amd64        Common files <span class="hljs-keyword">for</span> the GNU assembler, linker and binary utilities<br>ii  bsdutils                      1:2.37.2-4ubuntu3.4                     amd64        basic utilities from 4.4BSD-Lite<br>ii  build-essential               12.9ubuntu3                             amd64        Informational list of build-essential packages<br>ii  bzip2                         1.0.8-5build1                           amd64        high-quality block-sorting file compressor - utilities<br>ii  cargo                         1.75.0+dfsg0ubuntu1~bpo0-0ubuntu0.22.04 amd64        Rust package manager<br>ii  cmake                         3.22.1-1ubuntu1.22.04.2                 amd64        cross-platform, open-source make system<br>ii  cmake-data                    3.22.1-1ubuntu1.22.04.2                 all          CMake data files (modules, templates and documentation)<br>ii  command-not-found             22.04.0                                 all          Suggest installation of packages <span class="hljs-keyword">in</span> interactive bash sessions<br>ii  cpio                          2.13+dfsg-7ubuntu0.1                    amd64        GNU cpio -- a program to manage archives of files<br>ii  curl                          7.81.0-1ubuntu1.20                      amd64        <span class="hljs-built_in">command</span> line tool <span class="hljs-keyword">for</span> transferring data with URL syntax<br>ii  dash                          0.5.11+git20210903+057cd650a4ed-3build1 amd64        POSIX-compliant shell<br>ii  debconf                       1.5.79ubuntu1                           all          Debian configuration management system<br>ii  debconf-i18n                  1.5.79ubuntu1                           all          full internationalization support <span class="hljs-keyword">for</span> debconf<br>ii  deborphan                     1.7.35                                  amd64        program that can find unused packages, e.g. libraries<br>ii  diffutils                     1:3.8-0ubuntu2                          amd64        File comparison utilities<br>ii  distro-info-data              0.52ubuntu0.7                           all          information about the distributions<span class="hljs-string">&#x27; releases (data files)</span><br><span class="hljs-string">ii  dosfstools                    4.2-1build3                             amd64        utilities for making and checking MS-DOS FAT filesystems</span><br><span class="hljs-string">ii  e2fsprogs                     1.46.5-2ubuntu1.1                       amd64        ext2/ext3/ext4 file system utilities</span><br><span class="hljs-string">ii  fd-find                       8.3.1-1ubuntu0.1                        amd64        Simple, fast and user-friendly alternative to find</span><br><span class="hljs-string">ii  file                          1:5.41-3ubuntu0.1                       amd64        Recognize the type of data in a file using &quot;magic&quot; numbers</span><br><span class="hljs-string">ii  findutils                     4.8.0-1ubuntu3                          amd64        utilities for finding files--find, xargs</span><br><span class="hljs-string">ii  gdb                           12.1-0ubuntu1~22.04.2                   amd64        GNU Debugger</span><br><span class="hljs-string">ii  git                           1:2.34.1-1ubuntu1.12                    amd64        fast, scalable, distributed revision control system</span><br><span class="hljs-string">ii  git-man                       1:2.34.1-1ubuntu1.12                    all          fast, scalable, distributed revision control system (manual pages)</span><br><span class="hljs-string">ii  gnupg-l10n                    2.2.27-3ubuntu2.1                       all          GNU privacy guard - localization files</span><br><span class="hljs-string">ii  grep                          3.7-1build1                             amd64        GNU grep, egrep and fgrep</span><br><span class="hljs-string">ii  gzip                          1.10-4ubuntu4.1                         amd64        GNU compression utilities</span><br><span class="hljs-string">ii  hostname                      3.23ubuntu2                             amd64        utility to set/show the host name or domain name</span><br><span class="hljs-string">ii  htop                          3.0.5-7build2                           amd64        interactive processes viewer</span><br><span class="hljs-string">ii  init                          1.62                                    amd64        metapackage ensuring an init system is installed</span><br><span class="hljs-string">ii  init-system-helpers           1.62                                    all          helper tools for all init systems</span><br><span class="hljs-string">ii  libalgorithm-diff-perl        1.201-1                                 all          module to find differences between files</span><br><span class="hljs-string">ii  libalgorithm-diff-xs-perl     0.04-6build3                            amd64        module to find differences between files (XS accelerated)</span><br><span class="hljs-string">ii  libasound2-data               1.2.6.1-1ubuntu1                        all          Configuration files and profiles for ALSA drivers</span><br><span class="hljs-string">ii  libatk1.0-data                2.36.0-3build1                          all          Common files for the ATK accessibility toolkit</span><br><span class="hljs-string">ii  libaudit-common               1:3.0.7-1build1                         all          Dynamic library for security auditing - common files</span><br><span class="hljs-string">ii  libavahi-common-data:amd64    0.8-5ubuntu5.2                          amd64        Avahi common data files</span><br><span class="hljs-string">ii  libbz2-1.0:amd64              1.0.8-5build1                           amd64        high-quality block-sorting file compressor library - runtime</span><br><span class="hljs-string">ii  libc-ares2:amd64              1.18.1-1ubuntu0.22.04.3                 amd64        asynchronous name resolver</span><br><span class="hljs-string">ii  libc-bin                      2.35-0ubuntu3.9                         amd64        GNU C Library: Binaries</span><br><span class="hljs-string">ii  libc-dev-bin                  2.35-0ubuntu3.9                         amd64        GNU C Library: Development binaries</span><br><span class="hljs-string">ii  libc-devtools                 2.35-0ubuntu3.9                         amd64        GNU C Library: Development tools</span><br><span class="hljs-string">ii  libc6:amd64                   2.35-0ubuntu3.9                         amd64        GNU C Library: Shared libraries</span><br><span class="hljs-string">ii  libc6-dbg:amd64               2.35-0ubuntu3.9                         amd64        GNU C Library: detached debugging symbols</span><br><span class="hljs-string">ii  libc6-dev:amd64               2.35-0ubuntu3.9                         amd64        GNU C Library: Development Libraries and Header Files</span><br><span class="hljs-string">ii  libc6-i386                    2.35-0ubuntu3.9                         amd64        GNU C Library: 32-bit shared libraries for AMD64</span><br><span class="hljs-string">ii  libcairo-gobject2:amd64       1.16.0-5ubuntu2                         amd64        Cairo 2D vector graphics library (GObject library)</span><br><span class="hljs-string">ii  libcairo2:amd64               1.16.0-5ubuntu2                         amd64        Cairo 2D vector graphics library</span><br><span class="hljs-string">ii  libcanberra0:amd64            0.30-10ubuntu1.22.04.1                  amd64        simple abstract interface for playing event sounds</span><br><span class="hljs-string">ii  libcap-ng0:amd64              0.7.9-2.2build3                         amd64        An alternate POSIX capabilities library</span><br><span class="hljs-string">ii  libcap2:amd64                 1:2.44-1ubuntu0.22.04.1                 amd64        POSIX 1003.1e capabilities (library)</span><br><span class="hljs-string">ii  libcap2-bin                   1:2.44-1ubuntu0.22.04.1                 amd64        POSIX 1003.1e capabilities (utilities)</span><br><span class="hljs-string">ii  libcbor0.8:amd64              0.8.0-2ubuntu1                          amd64        library for parsing and generating CBOR (RFC 7049)</span><br><span class="hljs-string">ii  libcc1-0:amd64                12.3.0-1ubuntu1~22.04                   amd64        GCC cc1 plugin for GDB</span><br><span class="hljs-string">ii  libcolord2:amd64              1.4.6-1                                 amd64        system service to manage device colour profiles -- runtime</span><br><span class="hljs-string">ii  libcom-err2:amd64             1.46.5-2ubuntu1.1                       amd64        common error description library</span><br><span class="hljs-string">ii  libcrypt-dev:amd64            1:4.4.27-1                              amd64        libcrypt development files</span><br><span class="hljs-string">ii  libcrypt1:amd64               1:4.4.27-1                              amd64        libcrypt shared library</span><br><span class="hljs-string">ii  libcryptsetup12:amd64         2:2.4.3-1ubuntu1.1                      amd64        disk encryption support - shared library</span><br><span class="hljs-string">ii  libctf-nobfd0:amd64           2.38-4ubuntu2.6                         amd64        Compact C Type Format library (runtime, no BFD dependency)</span><br><span class="hljs-string">ii  libctf0:amd64                 2.38-4ubuntu2.6                         amd64        Compact C Type Format library (runtime, BFD dependency)</span><br><span class="hljs-string">ii  libcups2:amd64                2.4.1op1-1ubuntu4.11                    amd64        Common UNIX Printing System(tm) - Core library</span><br><span class="hljs-string">ii  libcurl3-gnutls:amd64         7.81.0-1ubuntu1.20                      amd64        easy-to-use client-side URL transfer library (GnuTLS flavour)</span><br><span class="hljs-string">ii  libcurl4:amd64                7.81.0-1ubuntu1.20                      amd64        easy-to-use client-side URL transfer library (OpenSSL flavour)</span><br><span class="hljs-string">ii  libdebconfclient0:amd64       0.261ubuntu1                            amd64        Debian Configuration Management System (C-implementation library)</span><br><span class="hljs-string">ii  libdebuginfod1:amd64          0.186-1build1                           amd64        library to interact with debuginfod (development files)</span><br><span class="hljs-string">ii  libdrm-common                 2.4.110-1ubuntu1                        all          Userspace interface to kernel DRM services -- common files</span><br><span class="hljs-string">ii  libelf1:amd64                 0.186-1build1                           amd64        library to read and write ELF files</span><br><span class="hljs-string">ii  libext2fs2:amd64              1.46.5-2ubuntu1.1                       amd64        ext2/ext3/ext4 file system libraries</span><br><span class="hljs-string">ii  libfile-fcntllock-perl        0.22-3build7                            amd64        Perl module for file locking with fcntl(2)</span><br><span class="hljs-string">ii  libfreetype6:amd64            2.11.1+dfsg-1ubuntu0.2                  amd64        FreeType 2 font engine, shared library files</span><br><span class="hljs-string">ii  libgcc-11-dev:amd64           11.4.0-1ubuntu1~22.04                   amd64        GCC support library (development files)</span><br><span class="hljs-string">ii  libgdbm-compat4:amd64         1.23-1                                  amd64        GNU dbm database routines (legacy support runtime version) </span><br><span class="hljs-string">ii  libgdbm6:amd64                1.23-1                                  amd64        GNU dbm database routines (runtime version) </span><br><span class="hljs-string">ii  libgdk-pixbuf2.0-common       2.42.8+dfsg-1ubuntu0.3                  all          GDK Pixbuf library - data files</span><br><span class="hljs-string">ii  libglib2.0-data               2.72.4-0ubuntu2.4                       all          Common files for GLib library</span><br><span class="hljs-string">ii  libgtk-3-common               3.24.33-1ubuntu2.2                      all          common files for the GTK graphical user interface library</span><br><span class="hljs-string">ii  libldap-common                2.5.16+dfsg-0ubuntu0.22.04.2            all          OpenLDAP common files for libraries</span><br><span class="hljs-string">ii  liblocale-gettext-perl        1.07-4build3                            amd64        module using libc functions for internationalization in Perl</span><br><span class="hljs-string">ii  libmagic-mgc                  1:5.41-3ubuntu0.1                       amd64        File type determination library using &quot;magic&quot; numbers (compiled magic file)</span><br><span class="hljs-string">ii  libmagic1:amd64               1:5.41-3ubuntu0.1                       amd64        Recognize the type of data in a file using &quot;magic&quot; numbers - library</span><br><span class="hljs-string">ii  libnsl-dev:amd64              1.3.0-2build2                           amd64        libnsl development files</span><br><span class="hljs-string">ii  libpcre2-8-0:amd64            10.39-3ubuntu0.1                        amd64        New Perl Compatible Regular Expression Library- 8 bit runtime files</span><br><span class="hljs-string">ii  libpcre3:amd64                2:8.39-13ubuntu0.22.04.1                amd64        Old Perl 5 Compatible Regular Expression Library - runtime files</span><br><span class="hljs-string">ii  libplymouth5:amd64            0.9.5+git20211018-1ubuntu3              amd64        graphical boot animation and logger - shared libraries</span><br><span class="hljs-string">ii  libpython3-dev:amd64          3.10.6-1~22.04.1                        amd64        header files and a static library for Python (default)</span><br><span class="hljs-string">ii  libpython3.10-dev:amd64       3.10.12-1~22.04.8                       amd64        Header files and a static library for Python (v3.10)</span><br><span class="hljs-string">ii  librsvg2-2:amd64              2.52.5+dfsg-3ubuntu0.2                  amd64        SAX-based renderer library for SVG files (runtime)</span><br><span class="hljs-string">ii  librsvg2-common:amd64         2.52.5+dfsg-3ubuntu0.2                  amd64        SAX-based renderer library for SVG files (extra runtime)</span><br><span class="hljs-string">ii  librtmp1:amd64                2.4+20151223.gitfa8646d.1-2build4       amd64        toolkit for RTMP streams (shared library)</span><br><span class="hljs-string">ii  libsemanage-common            3.3-1build2                             all          Common files for SELinux policy management libraries</span><br><span class="hljs-string">ii  libsource-highlight-common    3.1.9-4.1build2                         all          architecture-independent files for source highlighting library</span><br><span class="hljs-string">ii  libstd-rust-dev:amd64         1.75.0+dfsg0ubuntu1~bpo0-0ubuntu0.22.04 amd64        Rust standard libraries - development files</span><br><span class="hljs-string">ii  libstdc++-11-dev:amd64        11.4.0-1ubuntu1~22.04                   amd64        GNU Standard C++ Library v3 (development files)</span><br><span class="hljs-string">ii  libtcl8.6:amd64               8.6.12+dfsg-1build1                     amd64        Tcl (the Tool Command Language) v8.6 - run-time library files</span><br><span class="hljs-string">ii  libthai-data                  0.1.29-1build1                          all          Data files for Thai language support library</span><br><span class="hljs-string">ii  libtirpc-common               1.3.2-2ubuntu0.1                        all          transport-independent RPC library - common files</span><br><span class="hljs-string">ii  libtirpc-dev:amd64            1.3.2-2ubuntu0.1                        amd64        transport-independent RPC library - development files</span><br><span class="hljs-string">ii  libvorbisfile3:amd64          1.3.7-1build2                           amd64        high-level API for Vorbis General Audio Compression Codec</span><br><span class="hljs-string">ii  libwebp7:amd64                1.2.2-2ubuntu0.22.04.2                  amd64        Lossy compression of digital photographic images</span><br><span class="hljs-string">ii  libxkbcommon0:amd64           1.4.0-1                                 amd64        library interface to the XKB compiler - shared library</span><br><span class="hljs-string">ii  linux-libc-dev:amd64          5.15.0-131.141                          amd64        Linux Kernel Headers for development</span><br><span class="hljs-string">ii  login                         1:4.8.1-2ubuntu2.2                      amd64        system login tools</span><br><span class="hljs-string">ii  logsave                       1.46.5-2ubuntu1.1                       amd64        save the output of a command in a log file</span><br><span class="hljs-string">ii  lsb-base                      11.1.0ubuntu4                           all          Linux Standard Base init script functionality</span><br><span class="hljs-string">ii  lshw                          02.19.git.2021.06.19.996aaad9c7-2build1 amd64        information about hardware configuration</span><br><span class="hljs-string">ii  lsof                          4.93.2+dfsg-1.1build2                   amd64        utility to list open files</span><br><span class="hljs-string">ii  make                          4.3-4.1build1                           amd64        utility for directing compilation</span><br><span class="hljs-string">ii  media-types                   7.0.0                                   all          List of standard media types and their usual file extension</span><br><span class="hljs-string">ii  motd-news-config              12ubuntu4.2                             all          Configuration for motd-news shipped in base-files</span><br><span class="hljs-string">ii  mount                         2.37.2-4ubuntu3.4                       amd64        tools for mounting and manipulating filesystems</span><br><span class="hljs-string">ii  ncurses-base                  6.3-2ubuntu0.1                          all          basic terminal type definitions</span><br><span class="hljs-string">ii  ncurses-bin                   6.3-2ubuntu0.1                          amd64        terminal-related programs and man pages</span><br><span class="hljs-string">ii  ncurses-term                  6.3-2ubuntu0.1                          all          additional terminal type definitions</span><br><span class="hljs-string">ii  net-tools                     1.60+git20181103.0eebece-1ubuntu5       amd64        NET-3 networking toolkit</span><br><span class="hljs-string">ii  nodejs                        12.22.9~dfsg-1ubuntu3.6                 amd64        evented I/O for V8 javascript - runtime executable</span><br><span class="hljs-string">ii  nodejs-doc                    12.22.9~dfsg-1ubuntu3.6                 all          API documentation for Node.js, the javascript platform</span><br><span class="hljs-string">ii  openssh-server                1:8.9p1-3ubuntu0.10                     amd64        secure shell (SSH) server, for secure access from remote machines</span><br><span class="hljs-string">ii  pastebinit                    1.5.1-1ubuntu1                          all          command-line pastebin client</span><br><span class="hljs-string">ii  patch                         2.7.6-7build2                           amd64        Apply a diff file to an original</span><br><span class="hljs-string">ii  plymouth                      0.9.5+git20211018-1ubuntu3              amd64        boot animation, logger and I/O multiplexer</span><br><span class="hljs-string">ii  plymouth-theme-ubuntu-text    0.9.5+git20211018-1ubuntu3              amd64        boot animation, logger and I/O multiplexer - ubuntu text theme</span><br><span class="hljs-string">ii  procps                        2:3.3.17-6ubuntu2.1                     amd64        /proc file system utilities</span><br><span class="hljs-string">ii  psmisc                        23.4-2build3                            amd64        utilities that use the proc file system</span><br><span class="hljs-string">ii  python3-dev                   3.10.6-1~22.04.1                        amd64        header files and a static library for Python (default)</span><br><span class="hljs-string">ii  python3-gdbm:amd64            3.10.8-1~22.04                          amd64        GNU dbm database support for Python 3.x</span><br><span class="hljs-string">ii  python3-pip                   22.0.2+dfsg-1ubuntu0.5                  all          Python package installer</span><br><span class="hljs-string">ii  python3-setuptools            59.6.0-1.2ubuntu0.22.04.2               all          Python3 Distutils Enhancements</span><br><span class="hljs-string">ii  python3-wadllib               1.3.6-1                                 all          Python 3 library for navigating WADL files</span><br><span class="hljs-string">ii  python3-zipp                  1.0.0-3ubuntu0.1                        all          pathlib-compatible Zipfile object wrapper - Python 3.x</span><br><span class="hljs-string">ii  python3.10-dev                3.10.12-1~22.04.8                       amd64        Header files and a static library for Python (v3.10)</span><br><span class="hljs-string">ii  rake                          13.0.6-2                                all          ruby make-like utility</span><br><span class="hljs-string">ii  readline-common               8.1.2-1                                 all          GNU readline and history libraries, common files</span><br><span class="hljs-string">ii  ripgrep                       13.0.0-2ubuntu0.1                       amd64        Recursively searches directories for a regex pattern</span><br><span class="hljs-string">ii  rpcsvc-proto                  1.4.2-0ubuntu6                          amd64        RPC protocol compiler and definitions</span><br><span class="hljs-string">ii  rsync                         3.2.7-0ubuntu0.22.04.4                  amd64        fast, versatile, remote (and local) file-copying tool</span><br><span class="hljs-string">ii  shellcheck                    0.8.0-2                                 amd64        lint tool for shell scripts</span><br><span class="hljs-string">ii  squashfs-tools                1:4.5-3build1                           amd64        Tool to create and append to squashfs filesystems</span><br><span class="hljs-string">ii  sysvinit-utils                3.01-1ubuntu1                           amd64        System-V-like utilities</span><br><span class="hljs-string">ii  thefuck                       3.29-0.3                                all          spelling corrector of console commands</span><br><span class="hljs-string">ii  tmux                          3.2a-4ubuntu0.2                         amd64        terminal multiplexer</span><br><span class="hljs-string">ii  tree                          2.0.2-1                                 amd64        displays an indented directory tree, in color</span><br><span class="hljs-string">ii  ubuntu-minimal                1.481                                   amd64        Minimal core of Ubuntu</span><br><span class="hljs-string">ii  ubuntu-standard               1.481                                   amd64        The Ubuntu standard system</span><br><span class="hljs-string">ii  ubuntu-wsl                    1.481                                   amd64        Ubuntu on Windows tools - Windows Subsystem for Linux integration</span><br><span class="hljs-string">ii  ucf                           3.0043                                  all          Update Configuration File(s): preserve user changes to config files</span><br><span class="hljs-string">ii  unzip                         6.0-26ubuntu3.2                         amd64        De-archiver for .zip files</span><br><span class="hljs-string">ii  valgrind                      1:3.18.1-1ubuntu2                       amd64        instrumentation framework for building dynamic analysis tools</span><br><span class="hljs-string">ii  vim-common                    2:8.2.3995-1ubuntu2.23                  all          Vi IMproved - Common files</span><br><span class="hljs-string">ii  vim-gtk                       2:8.2.3995-1ubuntu2.23                  all          Vi IMproved - enhanced vi editor (dummy package)</span><br><span class="hljs-string">ii  vim-gtk3                      2:8.2.3995-1ubuntu2.23                  amd64        Vi IMproved - enhanced vi editor - with GTK3 GUI</span><br><span class="hljs-string">ii  vim-gui-common                2:8.2.3995-1ubuntu2.23                  all          Vi IMproved - Common GUI files</span><br><span class="hljs-string">ii  vim-runtime                   2:8.2.3995-1ubuntu2.23                  all          Vi IMproved - Runtime files</span><br><span class="hljs-string">ii  wget                          1.21.2-2ubuntu1.1                       amd64        retrieves files from the web</span><br><span class="hljs-string">ii  xxd                           2:8.2.3995-1ubuntu2.23                  amd64        tool to make (or reverse) a hex dump</span><br><span class="hljs-string">ii  zip                           3.0-12build2                            amd64        Archiver for .zip files</span><br><span class="hljs-string">ii  zsh                           5.8.1-1                                 amd64        shell with lots of features</span><br><span class="hljs-string">ii  zsh-common                    5.8.1-1                                 all          architecture independent files for Zsh</span><br><span class="hljs-string"></span><br></code></pre></td></tr></table></figure><h4 id="Other-powerful-open-source-software"><a href="#Other-powerful-open-source-software" class="headerlink" title="Other powerful open-source software"></a>Other powerful open-source software</h4><p>Github is a nice place to attain poweful and open-source developer tools! I will recommend two tools that I have used frequently.</p><h5 id="thefuck"><a href="#thefuck" class="headerlink" title="thefuck"></a>thefuck</h5><p>Thefuck<sup id="fnref:6" class="footnote-ref"><a href="#fn:6" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/nvbn/thefuck">[6]</span></a></sup> is a powerful tool that can automatically correct your command-line mistakes. Everytime you type something wrong (like <code>sudo apt insyall update</code>), using the <code>fuck</code> command will help you find your bug instead of typing it or modifying it in a time-consuming process. You can set some interesting alias such as <code>FuckingNvidia</code> to make the command more powerful! (Just a joke.) </p><p>Sometimes thefuck is a bit too slowâ€¦ I will use <code>zsh-syntax-highlighting</code> instead to alert me to command input errors. My customed settings for zsh-syntax-highlighting have been written into my <code>~/.zshrc</code> dotfiles. You can skip to the <a href="#Linux-Terminal">previous part</a>.</p><h5 id="Yazi"><a href="#Yazi" class="headerlink" title="Yazi"></a>Yazi</h5><p>Yazi<sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote"><span class="hint--top hint--rounded" aria-label="https://github.com/sxyazi/yazi">[5]</span></a></sup> (means â€œduckâ€) is a terminal file manager written in Rust, based on non-blocking async I&#x2F;O. It aims to provide an efficient, user-friendly, and customizable file management experience.</p><p>Itâ€™s quite useful for its vim-liked operations. I often use it to browse and search my files quickly and navigate through multiple files.</p><p>You can go through their websites to obtain a deeper insight!</p><p><a href="https://github.com/sxyazi/yazi">https://github.com/sxyazi/yazi</a> </p><h2 id="Information-Collection"><a href="#Information-Collection" class="headerlink" title="Information Collection"></a>Information Collection</h2><h2 id="Office-Software"><a href="#Office-Software" class="headerlink" title="Office Software"></a>Office Software</h2><h3 id="Markdown-files"><a href="#Markdown-files" class="headerlink" title="Markdown files"></a>Markdown files</h3><p>For me, <strong>markdown</strong> is really an efficient tool! Not only for its convenience compared with <strong>Microsoft Word or WPS</strong>, but also for its simple but powerful syntax. Markdown has unparalleled advantages over other formats in note-taking, text generation, and more.</p><p>For Chinese users, you can select this website as your Markdown tutorial: <a href="https://markdown.com.cn/">https://markdown.com.cn/</a> . <a href="https://commonmark.org/">CommonMark</a> is also a great website for teaching markdown syntax.</p><p>In the text below, I will recommend <strong>4</strong> different tools to write markdown. These tools are applicable in different scenarios. </p><h4 id="Typora-Most-Recommended"><a href="#Typora-Most-Recommended" class="headerlink" title="Typora (Most Recommended)"></a>Typora (Most Recommended)</h4><h4 id="MarkText-Free-and-open-source"><a href="#MarkText-Free-and-open-source" class="headerlink" title="MarkText (Free and open-source)"></a>MarkText (Free and open-source)</h4><h4 id="SiYuan-Note-For-Note-Management"><a href="#SiYuan-Note-For-Note-Management" class="headerlink" title="SiYuan Note (For Note Management)"></a>SiYuan Note (For Note Management)</h4><h4 id="Vscode-For-Coding-and-Manuals"><a href="#Vscode-For-Coding-and-Manuals" class="headerlink" title="Vscode (For Coding and Manuals)"></a>Vscode (For Coding and Manuals)</h4><h3 id="PDF-viewers"><a href="#PDF-viewers" class="headerlink" title="PDF viewers"></a>PDF viewers</h3><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://xxyqwq.github.io/2024/01/27/build-windows-terminal/">https://xxyqwq.github.io/2024/01/27/build-windows-terminal/</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://xxyqwq.github.io/2023/07/31/build-linux-terminal/">https://xxyqwq.github.io/2023/07/31/build-linux-terminal/</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://missing.csail.mit.edu/2020/command-line/">https://missing.csail.mit.edu/2020/command-line/</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://xiyuanyang-code.github.io/posts/Vim-tutorial/">https://xiyuanyang-code.github.io/posts/Vim-tutorial/</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><a href="https://github.com/sxyazi/yazi">https://github.com/sxyazi/yazi</a><a href="#fnref:5" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:6" class="footnote-text"><span><a href="https://github.com/nvbn/thefuck">https://github.com/nvbn/thefuck</a><a href="#fnref:6" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:7" class="footnote-text"><span><a href="https://commonmark.org/">https://commonmark.org/</a><a href="#fnref:7" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:8" class="footnote-text"><span><a href="https://typora.io/">https://typora.io/</a><a href="#fnref:8" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    
    <tags>
      
      <tag>Announcement</tag>
      
      <tag>Updating</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>My-Posts</title>
    <link href="/posts/My-Posts/"/>
    <url>/posts/My-Posts/</url>
    
    <content type="html"><![CDATA[<p><img src="https://s1.imagehub.cc/images/2025/02/07/329668c81128e08f84c1d1ea140bc31b.jpg" alt="Welcome to Xiyuan Yang&#39;s Blog!"></p><p>This article systematically summarizes the previously published articles by categorizing them into topics.</p><p>This passage will be updated permanently, adding new posts every two weeks.</p><div class="note note-primary">            <p><strong>Last Update Time: 2025&#x2F;02&#x2F;07</strong></p>          </div><h1 id="About-the-author"><a href="#About-the-author" class="headerlink" title="About the author"></a>About the author</h1><p><a href="https://xiyuanyang-code.github.io/about/">About - Xiyuan Yangâ€™s Blog</a> You can Jump to this link for more information.</p><h1 id="All-posts"><a href="#All-posts" class="headerlink" title="All posts!"></a>All posts!</h1><p>The posts can be divided into several <a href="https://xiyuanyang-code.github.io/categories/">categories</a> below:</p><ul><li><p>Code Basis: <strong>Basic Syntax of several programming language</strong></p><ul><li>Category Link: <a href="https://xiyuanyang-code.github.io/categories/Code/">Categories - Code - Xiyuan Yangâ€™s Blog</a></li></ul></li><li><p>Algorithms: <strong>Advanced Learning of Algorithms and Data Structures</strong></p><ul><li>Category Link: <a href="https://xiyuanyang-code.github.io/categories/Algorithm/">Categories - Algorithm - Xiyuan Yangâ€™s Blog</a></li></ul></li><li><p>Efficient Tools: <strong>Tool usage for Computer Science and AI</strong></p><ul><li>Category Link: <a href="https://xiyuanyang-code.github.io/categories/Efficient-Tools/">Categories - Efficient Tools - Xiyuan Yangâ€™s Blog</a></li></ul></li><li><p>Project: <strong>Demonstration and Introduction of My Github Project</strong></p><ul><li>Category Link: <a href="https://xiyuanyang-code.github.io/categories/Project/">Categories - Project - Xiyuan Yangâ€™s Blog</a></li></ul></li><li><p>Artificial Intelligence: <strong>Research Paper Reading</strong></p><ul><li>Category Link: <a href="https://xiyuanyang-code.github.io/categories/Artificial-Intelligence/">Categories - Artificial Intelligence - Xiyuan Yangâ€™s Blog</a></li></ul></li></ul><br><p>Moreover, all posts ca be divided into three categories based on the <strong>completion progress</strong>.</p><ul><li><p><strong>Finished</strong>ğŸ˜ƒ: Posts that have been finished writing and will not be modified in a short term unless some mistakes are caught.</p></li><li><p><strong>Updating</strong>ğŸ«¡: Mostly blogs with announcements, which will be updated in real time.</p></li><li><p><strong>Not yet Finished</strong>ğŸ¤¡: Posts that have not yet been finished.</p></li></ul><h2 id="Total-demonstration"><a href="#Total-demonstration" class="headerlink" title="Total demonstration"></a>Total demonstration</h2><blockquote><p>Based on alphabetical order.</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs bash">Above-All.md<br>AI-indepth-reading-AlexNet.md<br>Algorithm-Introduction.md<br>C-plus-plus-Primer-Plus-tutorial.md<br>Class-Inheritance.md<br>CMake-tutorial-episode2.md<br>CMake-tutorial1.md<br>Code-Reuse-in-OOP.md<br>Data-Structure-Tutorial.md<br>DataStructure-LinearList.md<br>DataStructure-Queue.md<br>DataStructure-Stack.md<br>DataStructure-String.md<br>DataStructure-Tree-Binary-Tree.md<br>DataStructure-Tree.md<br>Dynamic-Memory-and-Classes.md<br>Exception-Handling-in-C-plus-plus.md<br>hello-world.md<br>Input-and-Output-in-C-plus-plus.md<br>Introduction-to-OOP.md<br>Jotting-References-and-Encapsulation-in-OOP.md<br>LaTeX-tutorial.md<br>Leetcode-Mistake-collection-1-10.md<br>Leetcode-Mistake-collection-11-20.md<br>Leetcode-Mistake-collection-21-30.md<br>Leetcode-Mistake-collection-31-40.md<br>Leetcode-Mistake-collection.md<br>Life-musings.md<br>Linked-List-Implementation-Based-on-Structs.md<br>Linux-Bash-Introduction.md<br>My-Posts.md<br>MYGITHUB-Lightweight-speech-recognition-conversion-model.md<br>Pointers-Arrays-and-Functions.md<br>Python-advanced-File-Management.md<br>Python-cheatsheet.md<br>Python-tutorial.md<br>Python-Update-Learning.md<br>Regular-Expression.md<br>Tools-Tutorial.md<br>Vim-tutorial.md<br></code></pre></td></tr></table></figure><h2 id="Code-Basis"><a href="#Code-Basis" class="headerlink" title="Code Basis"></a>Code Basis</h2><h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><h2 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h2><h2 id="Efficient-Tools"><a href="#Efficient-Tools" class="headerlink" title="Efficient Tools"></a>Efficient Tools</h2><h2 id="Artificial-Intelligence"><a href="#Artificial-Intelligence" class="headerlink" title="Artificial Intelligence"></a>Artificial Intelligence</h2>]]></content>
    
    
    
    <tags>
      
      <tag>Announcement</tag>
      
      <tag>Updating</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataStructure-Tree-Binary-Tree</title>
    <link href="/posts/DataStructure-Tree-Binary-Tree/"/>
    <url>/posts/DataStructure-Tree-Binary-Tree/</url>
    
    <content type="html"><![CDATA[<h1 id="Data-Structure-Binary-Tree"><a href="#Data-Structure-Binary-Tree" class="headerlink" title="Data Structure: Binary Tree"></a>Data Structure: Binary Tree</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>æ ‘çš„å®šä¹‰æœ‰ä¸¤ç§å½¢å¼ï¼š<strong>é€’å½’å½¢å¼</strong> å’Œ <strong>å»¶ä¼¸å½¢å¼</strong>ã€‚åŒç†ï¼Œæˆ‘ä»¬å¯¹<strong>äºŒå‰æ ‘</strong>ä¹Ÿå¯ä»¥æœ‰ä¸¤ç§å®šä¹‰çš„è§£é‡Šï¼š</p><ul><li><p><strong>å»¶ä¼¸å½¢å¼</strong>ï¼šæ¯ä¸€ä¸ªèŠ‚ç‚¹è‡³å¤šå»¶ä¼¸å‡ºä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚ï¼ˆå¯ä»¥æ— èŠ‚ç‚¹ï¼Œä¸€ä¸ªèŠ‚ç‚¹æˆ–è€…ä¸¤ä¸ªèŠ‚ç‚¹ï¼‰</p></li><li><p><strong>é€’å½’å½¢å¼</strong>ï¼šæˆ–è€…ä¸ºç©ºï¼Œæˆ–è€…ç”±<strong>ä¸€ä¸ªæ ¹èŠ‚ç‚¹å’Œä¸¤é¢—äº’ä¸ç›¸äº¤çš„å­æ ‘æ„æˆ</strong>ï¼Œè€Œå·¦å³å­æ ‘éƒ½æ˜¯<strong>äºŒå‰æ ‘</strong>ã€‚</p></li></ul><blockquote><p>å¯ä»¥æŠŠâ€œäºŒå‰æ ‘ä¸ºç©ºâ€ç†è§£ä¸ºé€’å½’è°ƒç”¨ä¸­çš„å‡½æ•°ç»ˆæ­¢æ¡ä»¶ã€‚</p></blockquote><p>æ ¹æ®ä¸Šé¢çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å½’çº³äºŒå‰æ ‘çš„<strong>äº”ç§åŸºæœ¬å½¢æ€</strong>ï¼š</p><table><thead><tr><th>ç©ºäºŒå‰æ ‘</th><th>åªæœ‰æ ¹çš„äºŒå‰æ ‘</th><th>åªæœ‰éç©ºå·¦å­æ ‘</th><th>åªæœ‰éç©ºå³å­æ ‘</th><th>å·¦å³å­æ ‘å‡éç©º</th></tr></thead></table><p><img src="https://s1.imagehub.cc/images/2025/02/07/b3ab2a0443e525aee7eb1fbdca255773.png" alt="five categories"></p><div class="note note-warning">            <p><strong>æ³¨æ„ï¼</strong> äºŒå‰æ ‘æ˜¯<strong>æœ‰åºæ ‘</strong>ï¼Œå…¶å·¦å³å­æ ‘å­˜åœ¨å·®å¼‚ï¼Œå¿…é¡»ä¸¥æ ¼åŒºåˆ†ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œä¸‹é¢çš„ä¸¤æ£µæ ‘ä¸å¯ä»¥çœ‹åšæ˜¯åŒä¸€é¢—äºŒå‰æ ‘ï¼</p>          </div><pre><code class="mermaid" >graph TDA[node] --> B[value_1]A --> C[value_2]D[node] --> E[value_2]D --> F[value_1]</code></pre><p>äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œä½†åœ¨äºŒå‰æ ‘å†…éƒ¨ï¼Œåˆæœ‰å¾ˆå¤š<strong>ç‰¹æ®Šçš„äºŒå‰æ ‘</strong>ï¼š</p><table><thead><tr><th>åè¯</th><th>æè¿°</th></tr></thead><tbody><tr><td><strong>æ»¡äºŒå‰æ ‘</strong></td><td>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ 0 æˆ– 2 ä¸ªå­èŠ‚ç‚¹ï¼Œä¸”<strong>æ‰€æœ‰å¶èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚</strong>ã€‚</td></tr><tr><td><strong>å®Œå…¨äºŒå‰æ ‘</strong></td><td>é™¤æœ€åä¸€å±‚å¤–ï¼Œå…¶ä»–å±‚éƒ½æ˜¯æ»¡çš„ï¼Œä¸”æœ€åä¸€å±‚çš„èŠ‚ç‚¹å°½é‡<strong>é å·¦æ’åˆ—</strong>ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ»¡äºŒå‰æ ‘ä¸€å®šæ˜¯å®Œå…¨äºŒå‰æ ‘ï¼ŒæŠŠå®Œå…¨äºŒå‰æ ‘çš„å¶èŠ‚ç‚¹å…¨éƒ¨è¡¥é½å°±å¯ä»¥å˜æˆæ»¡äºŒå‰æ ‘ã€‚</td></tr><tr><td><strong>å¹³è¡¡äºŒå‰æ ‘</strong></td><td>ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡ 1ï¼Œå¸¸è§å®ç°å¦‚ AVL æ ‘ã€çº¢é»‘æ ‘ã€‚</td></tr><tr><td><strong>äºŒå‰æœç´¢æ ‘ (BST)</strong></td><td>å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹çš„å€¼å¤§äºæ ¹èŠ‚ç‚¹ï¼Œä¸”å·¦å³å­æ ‘ä¹Ÿåˆ†åˆ«æ˜¯äºŒå‰æœç´¢æ ‘ã€‚</td></tr><tr><td><strong>AVL æ ‘</strong></td><td>ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œé€šè¿‡æ—‹è½¬æ“ä½œä¿æŒå¹³è¡¡ï¼Œç¡®ä¿å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡ 1ã€‚</td></tr><tr><td><strong>çº¢é»‘æ ‘</strong></td><td>ä¸€ç§è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œé€šè¿‡é¢œè‰²æ ‡è®°å’Œæ—‹è½¬æ“ä½œä¿æŒå¹³è¡¡ï¼Œç¡®ä¿æœ€é•¿è·¯å¾„ä¸è¶…è¿‡æœ€çŸ­è·¯å¾„çš„ä¸¤å€ã€‚</td></tr><tr><td><strong>çº¿ç´¢äºŒå‰æ ‘</strong></td><td>é€šè¿‡åˆ©ç”¨ç©ºæŒ‡é’ˆæŒ‡å‘èŠ‚ç‚¹çš„å‰é©±æˆ–åç»§ï¼Œä¼˜åŒ–éå†æ•ˆç‡ã€‚</td></tr><tr><td><strong>å † (Heap)</strong></td><td>ä¸€ç§å®Œå…¨äºŒå‰æ ‘ï¼Œåˆ†ä¸ºæœ€å¤§å †ï¼ˆçˆ¶èŠ‚ç‚¹å€¼å¤§äºå­èŠ‚ç‚¹ï¼‰å’Œæœ€å°å †ï¼ˆçˆ¶èŠ‚ç‚¹å€¼å°äºå­èŠ‚ç‚¹ï¼‰ã€‚</td></tr><tr><td><strong>B æ ‘</strong></td><td>ä¸€ç§å¤šè·¯å¹³è¡¡æœç´¢æ ‘ï¼Œå¸¸ç”¨äºæ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿï¼ŒèŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹ã€‚</td></tr><tr><td><strong>B+ æ ‘</strong></td><td>B æ ‘çš„å˜ç§ï¼Œæ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å¶èŠ‚ç‚¹ï¼Œå†…éƒ¨èŠ‚ç‚¹ä»…å­˜å‚¨ç´¢å¼•ï¼Œé€‚åˆèŒƒå›´æŸ¥è¯¢ã€‚</td></tr><tr><td><strong>å“ˆå¤«æ›¼æ ‘</strong></td><td>ä¸€ç§å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„äºŒå‰æ ‘ï¼Œç”¨äºæ•°æ®å‹ç¼©ï¼ˆå¦‚å“ˆå¤«æ›¼ç¼–ç ï¼‰ã€‚</td></tr><tr><td><strong>äºŒå‰å­—å…¸æ ‘ (Trie)</strong></td><td>ä¸€ç§å¤šå‰æ ‘ï¼Œç”¨äºé«˜æ•ˆå­˜å‚¨å’Œæ£€ç´¢å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ã€‚</td></tr></tbody></table><h2 id="Mathematical-Properties"><a href="#Mathematical-Properties" class="headerlink" title="Mathematical Properties"></a>Mathematical Properties</h2><p><img src="https://s1.imagehub.cc/images/2025/02/07/69c05a5935d390a5750f7806da87c2d6.png" alt="BinaryTree HandNotes"></p><h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>æ ¹æ®ä¸Šä¸€ç¯‡åšå®¢çš„å†…å®¹ï¼Œå¯¹äºä¸€èˆ¬çš„æ ‘ç»“æ„å¯ä»¥æœ‰å¦‚ä¸‹çš„æ“ä½œï¼š</p><ul><li><p><code>create()</code> : create a new tree.</p></li><li><p><code>clear()</code> : clear all nodes in a tree.</p></li><li><p><code>isEmpty()</code> : judge whether a tree is clean.</p></li><li><p><code>root()</code> : find the value of the root node.</p></li><li><p><code>parent(x)</code> : find the parent value of node <code>x</code>.</p></li><li><p><code>child(x, i)</code> : find the <code>i</code>th child value of node <code>x</code>.</p></li><li><p><code>remove(x, i)</code> : remove the <code>i</code>th child subtree of node <code>x</code>.</p></li><li><p><code>travese()</code> : traverse all the nodes in the tree.</p></li></ul><p>åœ¨äºŒå‰æ ‘ä¸­ï¼Œ<strong>æ ‘çš„è¿ç®—å¯ä»¥è¢«è¿›ä¸€æ­¥çš„ç»†åˆ†</strong>ï¼š</p><ul><li><p><strong>æ‰¾å­©å­èŠ‚ç‚¹</strong>å¯ä»¥è¢«ç»†åˆ†ä¸º<strong>æ‰¾å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹</strong>ã€‚</p></li><li><p><strong>åˆ é™¤å­æ ‘</strong>å¯ä»¥è¢«ç»†åˆ†ä¸º<strong>åˆ é™¤å·¦å­æ ‘å’Œåˆ é™¤å³å­æ ‘</strong>ã€‚</p></li><li><p><strong>äºŒå‰æ ‘çš„éå†</strong>å¯ä»¥è¢«ç»†åˆ†ä¸º<strong>å‰åºéå†ï¼Œä¸­åºéå†ï¼Œååºéå†å’Œå±‚æ¬¡éå†</strong>ã€‚</p></li></ul><h3 id="Traversal-for-Binary-Tree"><a href="#Traversal-for-Binary-Tree" class="headerlink" title="Traversal for Binary Tree"></a>Traversal for Binary Tree</h3><p>ä¸‹é¢é‡ç‚¹è§£é‡Šä¸€ä¸‹ç¬¬ä¸‰ç‚¹ï¼Œå¯¹äºå¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š</p><blockquote><p>ç”±äºmermaidæµç¨‹å›¾çš„åŸå› ï¼Œnullè¡¨ç¤ºç©ºï¼Œæ²¡æœ‰èŠ‚ç‚¹ï¼ˆè¿™æ ·åšæ˜¯ä¸ºäº†åŒºåˆ†å·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ï¼‰ã€‚</p></blockquote><pre><code class="mermaid" >graph TD    1((1)) --> 2((2))    1 --> 3((3))    2 --> 4((4))    2 --> 5((5))    3 --> 6((6))    3 --> 7((7))    4 --> 8((8))    4 --> 9((9))    5 --> 10((10))    5 --> 11((11))    6 --> 12((12))    6 --> 13((13))    7 --> 14((14))    7 --> 15((15))    8 --> 16((16))    9 --> 17((17))    10 --> 18((18))    11 --> 19((19))    12 --> 20((20))Â Â Â Â 8 --> 21((null))Â Â Â Â 9 --> 22((null))Â Â Â Â 10 --> 23((null))Â Â Â Â 11 --> 24((null))Â Â Â Â 12 --> 25((null))</code></pre><p>åœ¨æ ‡å¥½å·ä¹‹åï¼ˆè§ä¸Šæ–‡çš„æ‰‹å†™ç¬”è®°æ€§è´¨5ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³ï¼‰ï¼Œ<strong>äºŒå‰æ ‘çš„éå†</strong>å°±æ˜¯ä»1~néå†ä¸€éï¼Œä¸è¿‡ç”±äº<strong>èŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»æ˜¯å±‚æ¬¡å…³ç³»æ¯”è¾ƒå¤æ‚</strong>ï¼Œå› æ­¤å¯ä»¥æœ‰å¾ˆå¤šç§ä¸åŒçš„éå†æ–¹å¼ã€‚</p><h4 id="Level-Order-Traversal-BFS"><a href="#Level-Order-Traversal-BFS" class="headerlink" title="Level-Order Traversal (BFS)"></a>Level-Order Traversal (BFS)</h4><p>ä¸€ç§æœ€æ˜¾è€Œæ˜“è§çš„<strong>éå†æ–¹æ³•</strong>å°±æ˜¯æ ¹æ®åºå·çš„æ’åˆ—<strong>å‡åº</strong>éå†ï¼Œå…·ä½“åˆ°æ ‘è€Œè¨€ï¼Œå¯ä»¥åšå¦‚ä¸‹å®šä¹‰ï¼š</p><p><strong>åœ¨è®¿é—®å®Œ<code>k</code>å±‚çš„æ‰€æœ‰èŠ‚ç‚¹åï¼Œå†æŒ‰ç…§ä»å·¦åˆ°å³çš„æ¬¡åºè®¿é—®<code>k + 1</code>å±‚çš„èŠ‚ç‚¹</strong>ã€‚æˆ‘ä»¬æŠŠè¿™ç§éå†çš„æ–¹å¼å«åš<strong>å±‚æ¬¡éå†</strong>ã€‚</p><blockquote><p>Level order traversal follows breadth-first search to visit&#x2F;modify every node of the tree. As BFS suggests, the breadth of the tree <strong>takes priority first</strong> and then <strong>moves to depth</strong>. In simple words, we will visit <strong>all the nodes present at the same level</strong> one-by-one <strong>from left to right</strong>, and then it <strong>moves to the next level</strong> to visit all the nodes of that level.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="[4 Types of Tree Traversal Algorithms | Built In](https://builtin.com/software-engineering-perspectives/tree-traversal#:~:text=The%20types%20of%20tree%20traversal,traversal%20and%20level%20order%20traversal.)">[1]</span></a></sup></p><p><strong>å±‚æ¬¡éå†</strong>æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§<strong>å¹¿åº¦ä¼˜å…ˆç®—æ³•</strong>ï¼Œä½•ä¸ºå¹¿åº¦ï¼Ÿå°±æ˜¯ç›¸åŒå±‚æ•°ä¸‹çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¦éå†åˆ°ï¼Œæ‰ä¼šç»§ç»­æ¢ç´¢æ›´æ·±çš„å±‚æ•°ã€‚</p></blockquote><p>å› æ­¤ï¼Œå¯¹äºä¸Šè¿°çš„äºŒå‰æ ‘ï¼Œéå†çš„é¡ºåºå°±æ˜¯ä»1åˆ°20ï¼Œå‡åºéå†ã€‚</p><h4 id="Traversal-Order-for-DFS"><a href="#Traversal-Order-for-DFS" class="headerlink" title="Traversal Order for DFS"></a>Traversal Order for DFS</h4><p>ä¸Šé¢çš„éå†æ–¹æ³•å¾ˆç›´è§‚ï¼Œä½†æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼š<strong>æ ‘ç»“æ„çš„æ ¸å¿ƒæ˜¯å±‚æ¬¡å…³ç³»ï¼Œæˆ–è€…è¯´æ˜¯çˆ¶å­å…³ç³»</strong>ï¼Œä½†æ˜¯å±‚æ¬¡ä¾¿åˆ©ç›¸é‚»ä¸¤ä¸ªèŠ‚ç‚¹çš„å…³ç³»æ˜¯<strong>åŒçº§åˆ«çš„é‚»å±…å…³ç³»</strong>ï¼Œä¾‹å¦‚10-&gt;11ï¼Œä¸¤ä¸ªèŠ‚ç‚¹å…³ç³»å¹¶ä¸å¯†åˆ‡ã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬éœ€è¦ä»æ ‘çš„é€’å½’å®šä¹‰å‡ºå‘ï¼Œæ¢ç´¢æ–°çš„éå†æ–¹å¼</strong>ã€‚</p><p>æ–°çš„éå†æ–¹å¼è¦æ±‚éå†ç›¸é‚»çš„ä¸¤ä¸ªèŠ‚ç‚¹åº”å­˜åœ¨çˆ¶å­å…³ç³»ï¼ˆå¯¹äºå¤§éƒ¨åˆ†è€Œè¨€ï¼‰ï¼Œå› æ­¤ï¼Œ<strong>æˆ‘ä»¬éœ€è¦ä½¿ç”¨é€’å½’çš„æ–¹å¼</strong>ï¼Œå› ä¸ºæ ‘çš„çˆ¶å­å…³ç³»çš„ç”Ÿæˆå°±æ˜¯ä¾é çš„é€’å½’å®šä¹‰ã€‚è¿™ä¸ç»å…¸çš„æœç´¢ç®—æ³•ï¼š<strong>æ·±åº¦ä¼˜å…ˆæœç´¢</strong>ï¼ˆDFSï¼‰ä¸è°‹è€Œåˆã€‚</p><p>å…·ä½“çš„é€’å½’æ–¹å¼å¦‚ä½•å®ç°ï¼Ÿä»¿ç…§æ ‘çš„é€’å½’å®šä¹‰ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸€ä¸ª<strong>é€’å½’å•å…ƒ</strong>æ— éæ˜¯è¦éå†å®Œæˆè¿™ä¸‰ä¸ªä¸œè¥¿ï¼š<strong>å·¦å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘</strong>ã€‚è¿™ä¸‰è€…ä¹‹é—´çš„éå†å¹¶æ²¡æœ‰å…·ä½“çš„å…ˆåé¡ºåºè¦æ±‚ï¼ˆå½“ç„¶æˆ‘ä»¬é»˜è®¤å·¦å­æ ‘å…ˆäºå³å­æ ‘è¢«éå†ï¼‰ã€‚å› æ­¤ï¼ŒDFSç±»çš„äºŒå‰æ ‘éå†è¿˜å¯ä»¥è¢«ç»†åˆ†ä¸ºå¦‚ä¸‹ä¸‰ç§éå†æ–¹å¼ï¼š</p><ul><li><p><strong>Preorder Traversal</strong> : <code>root -&gt; left sub_tree -&gt; right sub_tree</code></p></li><li><p><strong>Inorder Traversal</strong> : <code>left sub_tree -&gt; root -&gt; right sub_tree</code></p></li><li><p><strong>Postorder Traversal</strong> : <code>left sub_tree -&gt; right sub_tree -&gt; root</code></p></li></ul><blockquote><p>åˆ†ç±»çš„å…³é”®å°±æ˜¯åœ¨äº<strong>æ ¹èŠ‚ç‚¹</strong>åœ¨ä½•æ—¶è¢«éå†ã€‚</p></blockquote><h5 id="Preorder-Traversal"><a href="#Preorder-Traversal" class="headerlink" title="Preorder Traversal"></a>Preorder Traversal</h5><p>æˆ‘ä»¬é¦–å…ˆä»¿ç…§æ ‘çš„å®šä¹‰ï¼Œå¼•å‡º<strong>å‰åºéå†ï¼Œæˆ–è€…å«å…ˆæ ¹éå†</strong>ï¼ˆPreorder Traversalï¼‰çš„å®šä¹‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Pseudocode for Preorder Traversal</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>    <span class="hljs-comment">//End for recursion: The sub_tree remaining is empty</span><br>    no operations here<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    traverse the root node<br>    <span class="hljs-built_in">Preorder_traverse</span>(left_subtree)<br>    <span class="hljs-built_in">Preorder_traverse</span>(right_subtree)<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæ¯ä¸€æ£µæ ‘ï¼Œæ‹†åˆ†æˆ<strong>å‰åºéå†å·¦å­æ ‘â€”â€”è®¿é—®æ ¹èŠ‚ç‚¹â€”â€”å‰åºéå†å³å­æ ‘</strong>çš„é¡ºåºï¼Œç›´åˆ°è¾¾åˆ°é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼š<strong>æ ‘ä¸ºç©º</strong>ã€‚</p><p>è¿™é‡Œçš„åº•å±‚åŸç†å…¶å®å°±æ˜¯äºŒå‰æ ‘çš„é€’å½’å®šä¹‰ï¼š</p><blockquote><p>äºŒå‰æ ‘é€’å½’çš„å®šä¹‰æ–¹å¼ï¼š<strong>ä¸€ä¸ªæ ‘æˆ–è€…ä¸ºç©ºï¼Œæˆ–è€…ç”±ä¸€ä¸ªæ ¹èŠ‚ç‚¹åŠä¸¤é¢—äº’ä¸ç›¸äº¤çš„å­æ ‘æ„æˆã€‚è€Œå­æ ‘ä¹Ÿæ˜¯äºŒå‰æ ‘</strong>ã€‚</p></blockquote><p>å¯¹äºä¸Šé¢çš„æ ‘ï¼Œå…ˆæ ¹éå†çš„é¡ºåºæ˜¯ï¼š1,2,4,8,16,9,17,5,10,18,11,19,3,6,12,20,13,7,14,15.</p><blockquote><p><strong>The essence of Inorder Traversal</strong> is <strong>DFS</strong> !</p><p>The atomic operations in a recursive function are the same as inorder traversal but in a different order. Here, we visit the current node first and then go to the left subtree. After covering every node of the left subtree, we will move toward the right subtree and visit in a similar fashion.</p></blockquote><h5 id="Inorder-Traversal"><a href="#Inorder-Traversal" class="headerlink" title="Inorder Traversal"></a>Inorder Traversal</h5><p>ä¸­åºéå†ï¼ˆä¸­æ ¹éå†ï¼‰ï¼š<strong>æ ¹èŠ‚ç‚¹å¤¹åœ¨å·¦å³å­æ ‘ä¹‹é—´è¢«éå†</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Pseudocode for Inorder Traversal</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>    <span class="hljs-comment">//End for recursion: The sub_tree remaining is empty</span><br>    no operations here<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-built_in">Inorder_traverse</span>(left_subtree)<br>    traverse the root node<br>    <span class="hljs-built_in">Inorder_traverse</span>(right_subtree)<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œè¿™æ˜¯ä¸€ç§<strong>æœ€å¸¸è§çš„DFSæœç´¢æ¨¡å‹</strong>ï¼Œä¸¥æ ¼æŒ‰ç…§ä»å·¦è‡³å³çš„é¡ºåºè¿›è¡Œã€‚</p></blockquote><p>å¯¹äºä¸Šé¢çš„æ ‘ï¼Œéå†é¡ºåºä¸ºï¼š16,8,4,17,9,2,18,10,5,19,11,1,20,12,6,13,3,14,7,15.</p><h5 id="Postorder-Traversal"><a href="#Postorder-Traversal" class="headerlink" title="Postorder Traversal"></a>Postorder Traversal</h5><p>ååºéå†ï¼ˆåæ ¹éå†ï¼‰ï¼š<strong>æ ¹èŠ‚ç‚¹åœ¨æœ€åéå†</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Pseudocode for Postorder Traversal</span><br><span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>    <span class="hljs-comment">//End for recursion: The sub_tree remaining is empty</span><br>    no operations here<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-built_in">Postorder_traverse</span>(left_subtree)<br>    <span class="hljs-built_in">Postorder_traverse</span>(right_subtree)<br>Â Â Â Â traverse the root node<br>&#125;<br></code></pre></td></tr></table></figure><p>éå†é¡ºåºï¼š16,8,17,9,4,18,10,19,11,5,2,20,12,13,6,14,15,7,3,1</p><h5 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h5><pre><code class="mermaid" >graph TD 1((1)) --> 2((2)) 1 --> 3((3)) 2 --> 4((4)) 2 --> 5((5)) 3 --> 6((6)) 3 --> 7((7)) 4 --> 8((8)) 4 --> 9((9)) 5 --> 10((10)) 5 --> 11((11)) 6 --> 12((12)) 6 --> 13((13)) 7 --> 14((14)) 7 --> 15((15)) 8 --> 16((16)) 9 --> 17((17)) 10 --> 18((18)) 11 --> 19((19)) 12 --> 20((20))Â Â Â Â 8 --> 21((null))Â Â Â Â 9 --> 22((null))Â Â Â Â 10 --> 23((null))Â Â Â Â 11 --> 24((null))Â Â Â Â 12 --> 25((null))</code></pre><p>å±‚æ¬¡éå†ï¼šå‡åºéå†</p><p>å…ˆæ ¹éå†ï¼š1,2,4,8,16,9,17,5,10,18,11,19,3,6,12,20,13,7,14,15.</p><p>ä¸­æ ¹éå†ï¼š16,8,4,17,9,2,18,10,5,19,11,1,20,12,6,13,3,14,7,15.</p><p>åè·Ÿéå†ï¼š16,8,17,9,4,18,10,19,11,5,2,20,12,13,6,14,15,7,3,1</p><div class="note note-info">            <p><strong>ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å°é—®é¢˜ï¼šåœ¨å·²çŸ¥è¿™ä¸‰ç§éå†é¡ºåºçš„å“ªå‡ ç§çš„æƒ…å†µä¸‹</strong>ï¼Œå¯ä»¥å”¯ä¸€ç¡®å®šä¸€é¢—äºŒå‰æ ‘ï¼Ÿ</p><blockquote><p>åœ¨è¿™é‡Œä¸è€ƒè™‘å±‚æ¬¡éå†ï¼Œå› ä¸ºå±‚æ¬¡éå†æ— æ³•æç¤ºæˆ‘ä»¬å±‚æ•°çš„ä¿¡æ¯ã€‚</p></blockquote><p>å…ˆç»™å‡ºç»“è®ºï¼š</p><table><thead><tr><th>å·²çŸ¥ä¿¡æ¯</th><th>ç»“æœ</th></tr></thead><tbody><tr><td><strong>å·²çŸ¥å‰åºå’Œä¸­åºçš„éå†é¡ºåº</strong></td><td>âœ…</td></tr><tr><td><strong>å·²çŸ¥ååºå’Œä¸­åºçš„éå†é¡ºåº</strong></td><td>âœ…</td></tr><tr><td><strong>å·²çŸ¥å‰åºå’Œååºçš„éå†é¡ºåº</strong></td><td>âŒ</td></tr></tbody></table><p>å…·ä½“çš„è§£é‡Šæ¯”è¾ƒéš¾è®²æ¸…æ¥šï¼šå…³é”®å°±åœ¨äº<strong>ç¡®å®šæ ¹èŠ‚ç‚¹â€”â€”å·¦å­æ ‘â€”â€”å³å­æ ‘ä¸‰è€…ä¹‹é—´çš„å…³ç³»</strong>ï¼Œå½¢è±¡çš„æ¥è¯´ï¼Œç°åœ¨æ¯ä¸ªèŠ‚ç‚¹éƒ½åƒä¸€é¢—ç å­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®<strong>å·²çŸ¥éå†é¡ºåºæŠŠä»–ä»¬å½’çº³æˆä¸‰å †ï¼šå·¦å­æ ‘ï¼Œæ ¹èŠ‚ç‚¹å’Œå³å­æ ‘</strong>ã€‚</p><p>å†å¯¹å·¦å­æ ‘å’Œå³å­æ ‘åšç›¸åŒçš„é€’å½’æ“ä½œï¼Œæœ€åå¯ä»¥ç”»å‡ºæ ‘å½¢ç»“æ„ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆæœ€åä¸€ç§ä¸å¯ä»¥å‘¢ï¼Ÿ<strong>å› ä¸ºäºŒå‰æ ‘ä¸¥æ ¼åŒºåˆ†å·¦å³å­æ ‘</strong>ï¼Œä½†æ˜¯å‰åºå’Œååºéå†å·¦å³å­æ ‘çš„æŒ¨ç€çš„ï¼Œä¼šå‡ºç°æ— æ³•åŒºåˆ†çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼šå‰åºABï¼ŒååºBAï¼ŒAä¸ºæ ¹èŠ‚ç‚¹ï¼Œä½†æ— æ³•ç¡®å®šBä¸ºå·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ã€‚</p>          </div><h3 id="Abstract-Class"><a href="#Abstract-Class" class="headerlink" title="Abstract Class"></a>Abstract Class</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief Abstract class for Binary Tree</span><br><span class="hljs-comment"> * </span><br><span class="hljs-comment"> * @tparam T </span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BinaryTree</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">create</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">root</span><span class="hljs-params">(T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">parent</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">lchild</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">rchild</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">delLeft</span> <span class="hljs-params">(T current_node)</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">delRight</span> <span class="hljs-params">(T current_node)</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">PreOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">InOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">PostOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">LevelOrder</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="Linked-Implementation"><a href="#Linked-Implementation" class="headerlink" title="Linked Implementation"></a>Linked Implementation</h3><p><strong>äºŒå‰æ ‘</strong>ä¸€èˆ¬é‡‡ç”¨é“¾æ¥æ–¹å¼è¿›è¡Œå­˜å‚¨ï¼Œå› ä¸ºé¡ºåºå­˜å‚¨å¿…é¡»ä¸ºå¯èƒ½å­˜åœ¨æ’å…¥ç‚¹ä½çš„ä½ç½®è…¾å‡ºç©ºé—´ï¼Œ<strong>æˆ–è€…è¯´éœ€è¦å…ˆæ„å»ºä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘</strong>ï¼Œå†å¼•å…¥è™šèŠ‚ç‚¹ã€‚ä½†æ˜¯è¿™æ ·çš„å­˜å‚¨éšç€å±‚æ•°çš„ä¸Šå‡ä¼šå¸¦æ¥<strong>å‡ ä½•çº§æ•°çš„ç©ºé—´æµªè´¹</strong>ï¼Œå› æ­¤ï¼Œç»å¤§éƒ¨åˆ†äºŒå‰æ ‘é‡‡ç”¨é“¾æ¥å®ç°ã€‚</p><p>é“¾è¡¨çš„æ ¸å¿ƒåœ¨äº<strong>é¢å¤–å­˜å‚¨æŒ‡é’ˆä¿¡æ¯æ¥å®ç°éå†ï¼ˆè·³è½¬åˆ°å…¶ä»–èŠ‚ç‚¹ï¼‰</strong>ã€‚å…·ä½“æ¥è¯´æœ‰å¦‚ä¸‹å½¢å¼ï¼š</p><table><thead><tr><th>æ™®é€šé“¾è¡¨</th><th>äºŒå‰æ ‘é“¾è¡¨</th></tr></thead><tbody><tr><td>å•å‘é“¾è¡¨ï¼šå•å‘éå†ï¼Œåªéœ€è¦å‚¨å­˜ä¸€ä¸ªæŒ‡é’ˆçš„å€¼ã€‚</td><td><strong>äºŒå‰é“¾è¡¨</strong>ï¼šåªå‚¨å­˜ä¸¤ä¸ªå­©å­çš„åœ°å€</td></tr><tr><td>åŒå‘é“¾è¡¨ï¼šå¯ä»¥åŒå‘éå†ï¼Œéœ€è¦å‚¨å­˜å‰ç»§èŠ‚ç‚¹å’Œåç»§ç»“ç‚¹çš„å€¼ã€‚</td><td><strong>ä¸‰å‰é“¾è¡¨</strong>ï¼šè¿˜è¦å‚¨å­˜çˆ¶äº²èŠ‚ç‚¹çš„åœ°å€</td></tr><tr><td>å¾ªç¯é“¾è¡¨ï¼šä»é“¾å°¾å›åˆ°é“¾å¤´ï¼ˆæ­¤å¤„ä¸è®¨è®ºï¼‰</td><td></td></tr></tbody></table><p><img src="https://s1.imagehub.cc/images/2025/02/08/b9f88b36919b4c1bee78fbd32d7b6b4f.png" alt="Ternary Linked List"><br><img src="https://s1.imagehub.cc/images/2025/02/08/e36026a7fe5b69d36cfeb2652e711d86.png" alt="Binary Linked List"></p><p>æˆ‘ä»¬æŠŠ<strong>äºŒå‰é“¾è¡¨</strong>æˆä¸º<strong>æ ‡å‡†å­˜å‚¨ç»“æ„</strong>ï¼ŒæŠŠ<strong>ä¸‰å‰é“¾è¡¨</strong>ç§°ä¸º<strong>å¹¿ä¹‰æ ‡å‡†å­˜å‚¨ç»“æ„</strong>ã€‚</p><table><thead><tr><th>äºŒå‰é“¾è¡¨</th><th><code>left</code></th><th><code>data</code></th><th><code>right</code></th><th></th></tr></thead><tbody><tr><td><strong>ä¸‰å‰é“¾è¡¨</strong></td><td><strong><code>data</code></strong></td><td><strong><code>left</code></strong></td><td><strong><code>paret</code></strong></td><td><strong><code>right</code></strong></td></tr></tbody></table><p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬åœ¨ä¸‹æ–‡åªå®ç°<strong>äºŒå‰æ ‘çš„äºŒå‰é“¾è¡¨ç±»</strong>ã€‚</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://builtin.com/software-engineering-perspectives/tree-traversal#:~:text=The%20types%20of%20tree%20traversal,traversal%20and%20level%20order%20traversal.">4 Types of Tree Traversal Algorithms | Built In</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
      <tag>Tree</tag>
      
      <tag>Binary Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataStructure-Tree</title>
    <link href="/posts/DataStructure-Tree/"/>
    <url>/posts/DataStructure-Tree/</url>
    
    <content type="html"><![CDATA[<h1 id="Data-Structure-Tree"><a href="#Data-Structure-Tree" class="headerlink" title="Data Structure: Tree"></a>Data Structure: Tree</h1><p>The title image is from here.<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="[Invert a Binary Tree](https://medium.com/@theodoreyoong/coding-short-inverting-a-binary-tree-in-python-f178e50e4dac)">[2]</span></a></sup></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This article introduces the fundamental knowledge about tree data structures, including the key concept of hierarchy in trees, the strict standard definition of trees, and the declaration of abstract base classes. Additionally, the article discusses the role of trees and provides basic knowledge about binary trees.</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨ä¸Šä¸€ç« çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬èšç„¦äº<strong>çº¿æ€§æ•°æ®ç»“æ„â€”â€”çº¿æ€§è¡¨</strong>ï¼Œå…¶æœ¬è´¨ç‰¹å¾å’Œå®šä¹‰æ˜¯ï¼š<strong>æ•°æ®å…ƒç´ ä¹‹é—´æŒ‰ç…§çº¿æ€§å…³ç³»è¿›è¡Œæ’åˆ—</strong>ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¯¹çº¿æ€§è¡¨åšäº†ä¸€äº›çº¦æŸï¼Œè¡ç”Ÿå‡ºæ›´åŠ å…·ä½“çš„æ•°æ®ç»“æ„ï¼š</p><ul><li><p>ä»å†…å­˜ç®¡ç†çš„è§†è§’è¿›è¡Œçº¦æŸ</p><ul><li><p><strong>é“¾æ¥å®ç°</strong></p></li><li><p><strong>é¡ºåºå®ç°</strong></p></li></ul></li><li><p>ä»å…ƒç´ çš„è¿›å‡ºæ¬¡åºçš„è§†è§’è¿›è¡Œçº¦æŸ</p><ul><li><p>æ ˆï¼ˆLIFOï¼‰</p></li><li><p>é˜Ÿåˆ—ï¼ˆFIFOï¼‰</p></li><li><p>åŒç«¯é˜Ÿåˆ—</p></li></ul></li><li><p>å¯¹æ•°æ®å…ƒç´ çš„ç±»å‹è¿›è¡Œçº¦æŸ</p><ul><li>å­—ç¬¦ä¸²</li></ul></li></ul><p>æˆ‘ä»¬æ˜¯æ—¶å€™å¼€å¯ä¸€æ®µæ–°çš„æ—…ç¨‹äº†ï¼Œçº¿æ€§è¡¨çš„å¨åŠ›å›ºç„¶å¼ºå¤§ï¼Œä½†æ˜¯è®°ä½ï¼Œ<strong>æ•°æ®ç»“æ„çš„æœ¬è´¨æ˜¯æŠ½è±¡çš„å»ºæ¨¡è¿‡ç¨‹</strong>ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™ç®€å•çš„çº¿æ€§ç»“æ„å¹¶ä¸èƒ½æ¨¡æ‹Ÿè¿™ä¸ªå¤æ‚çš„ä¸–ç•Œã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘çš„æ–‡ä»¶å¤¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs bash">.<br>â”œâ”€â”€ 1.md<br>â”œâ”€â”€ 1.txt<br>â”œâ”€â”€ 3.md<br>â”œâ”€â”€ 4.md<br>â”œâ”€â”€ 5.md<br>â”œâ”€â”€ README.md<br>â”œâ”€â”€ bar<br>â”œâ”€â”€ example.sh<br>â”œâ”€â”€ foo<br>â”œâ”€â”€ project42<br>â”œâ”€â”€ scripts.py<br>â”œâ”€â”€ <span class="hljs-built_in">test</span><br>â”‚Â Â  â”œâ”€â”€ a.py<br>â”‚Â Â  â”œâ”€â”€ b.py<br>â”‚Â Â  â”œâ”€â”€ c.py<br>â”‚Â Â  â”œâ”€â”€ d.py<br>â”‚Â Â  â”œâ”€â”€ e.py<br>â”‚Â Â  â”œâ”€â”€ f.py<br>â”‚Â Â  â”œâ”€â”€ folder1<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder2<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder3<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder4<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder5<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder6<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder7<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder8<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ folder9<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ README.md<br>â”‚Â Â  â”œâ”€â”€ g.py<br>â”‚Â Â  â”œâ”€â”€ h.py<br>â”‚Â Â  â”œâ”€â”€ helloa.txt<br>â”‚Â Â  â”œâ”€â”€ hellob.txt<br>â”‚Â Â  â”œâ”€â”€ helloc.txt<br>â”‚Â Â  â”œâ”€â”€ hellod.txt<br>â”‚Â Â  â”œâ”€â”€ helloe.txt<br>â”‚Â Â  â”œâ”€â”€ i.py<br>â”‚Â Â  â””â”€â”€ j.py<br>â”œâ”€â”€ thefilefolder<br>â”‚Â Â  â”œâ”€â”€ 1.md<br>â”‚Â Â  â”œâ”€â”€ 1.py<br>â”‚Â Â  â”œâ”€â”€ 2.md<br>â”‚Â Â  â”œâ”€â”€ 2.py<br>â”‚Â Â  â”œâ”€â”€ 3.md<br>â”‚Â Â  â”œâ”€â”€ 3.py<br>â”‚Â Â  â”œâ”€â”€ 4.md<br>â”‚Â Â  â””â”€â”€ 5.md<br>â””â”€â”€ vimtest.txt<br><br>14 directories, 41 files<br></code></pre></td></tr></table></figure><p>åŒç†ï¼Œå¯¹äºè®¸å¤š<strong>å…·æœ‰ç­‰çº§åˆ’åˆ†æˆ–è€…ç»“æ„å±‚æ¬¡</strong>çš„æ•°æ®ç»“æ„ï¼Œçº¿æ€§è¡¨ä¼¼ä¹æ˜¾çš„æœ‰ç‚¹æ— èƒ½ä¸ºåŠ›ã€‚å› æ­¤æˆ‘ä»¬å¼•å…¥ä¸€ç§å…¨æ–°çš„æ•°æ®ç»“æ„ï¼š<strong>æ ‘</strong>ï¼Œæ¥åˆ»ç”»è¿™æ ·ä¸€ç§æŠ½è±¡å…³ç³»ã€‚</p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><blockquote><p>ä¸ºäº†æ–¹ä¾¿å±•ç¤ºï¼Œåšå®¢ä¸­çš„æ‰€æœ‰æ ‘çŠ¶ç»“æ„å…¨éƒ¨ä½¿ç”¨<strong>Mermaid</strong>æµç¨‹å›¾çš„å½¢å¼ã€‚</p></blockquote><p>æˆ‘ä»¬é¦–å…ˆå±•ç¤ºä¸€ä¸ªç®€å•çš„æ ‘å½¢ç»“æ„ï¼š</p><pre><code class="mermaid" >graph TDA[Me] --> B[Son_1]A --> C[Son_2]A --> D[Son_3]B --> E[Grandson1_1]B --> F[Grandson1_2]C --> H[Grandson2_1]C --> I[Grandson2_2]D --> K[Grandson3_1]D --> L[Grandson3_2]</code></pre><p>æ ¹æ®è¿™ä¸ªå¯è§†åŒ–çš„æ ‘ï¼Œæˆ‘ä»¬ä¸€å¥ä¸€å¥ç»™å‡ºæ ‘çš„<strong>æ ‡å‡†å®šä¹‰</strong>ï¼š</p><ul><li><p><strong>æ ‘</strong>æ˜¯è‹¥å¹²ä¸ªèŠ‚ç‚¹çš„æœ‰é™é›†åˆã€‚</p><ul><li><p>è¿™å¥è¯é˜æ˜äº†æ ‘çš„<strong>åŸºæœ¬å…ƒç´ </strong>æ˜¯èŠ‚ç‚¹ã€‚</p></li><li><p>è¿™æ˜¯å¦ä¹Ÿåœ¨æš—ç¤ºæˆ‘ä»¬<strong>å¯¹äºæ ‘çš„å®ç°ï¼šé“¾æ¥è²Œä¼¼ä¼˜äºé¡ºåºï¼Ÿ</strong>ï¼ˆåé¢å†è®¨è®ºï¼‰</p></li></ul></li><li><p>å®ƒå¯ä»¥æ˜¯ç©ºé›†ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥ä¸‹çš„ç»“æ„ï¼š</p><ul><li><p>å­˜åœ¨<strong>æ ¹èŠ‚ç‚¹</strong></p></li><li><p>å…¶ä»–çš„èŠ‚ç‚¹å¯åˆ†å‰²ä¸ºæœ‰é™ä¸ªäº’ä¸ç›¸äº¤çš„é›†åˆï¼Œè¿™äº›é›†åˆæœ¬èº«ä¹Ÿæ˜¯ä¸€æ£µæ ‘ã€‚</p></li></ul></li></ul><p>ç¬¬äºŒå¥è¯ååˆ†çš„é‡è¦ï¼Œå› ä¸ºå®ƒæœ¬è´¨å°±æ˜¯<strong>æ ‘åç»­é€’å½’æ“ä½œçš„åº•å±‚åŸç†</strong>ï¼Œæˆ–è€…è¯´<strong>æ ‘çš„é€’å½’å®šä¹‰</strong>ã€‚</p><p>è¿™å¥è¯æœ‰ä»¥ä¸‹å‡ ç§ç†è§£æ–¹å¼ï¼š</p><ul><li><p><strong>ä¸€æ£µæ ‘å¯ä»¥æ ¹æ®æ ¹èŠ‚ç‚¹ä¸æ–­çš„åšåˆ†å‰²ï¼Œç›´åˆ°å˜æˆç©ºé›†</strong>ã€‚ï¼ˆåˆ†å‰²çš„è§†è§’ï¼‰</p></li><li><p><strong>ä¸€æ£µæ ‘æ ¹æ®å±‚çº§çš„ä¸åŒå¯ä»¥ä¸æ–­çš„å‘ä¸‹å»¶ä¼¸ç›´åˆ°åº•éƒ¨</strong>ã€‚ï¼ˆå»¶ä¼¸çš„è§†è§’ï¼‰</p></li></ul><h3 id="Fundamental-terminology"><a href="#Fundamental-terminology" class="headerlink" title="Fundamental terminology"></a>Fundamental terminology</h3><table><thead><tr><th>æœ¯è¯­</th><th>æè¿°</th></tr></thead><tbody><tr><td>èŠ‚ç‚¹ (Node)</td><td>æ ‘ä¸­çš„åŸºæœ¬å…ƒç´ ï¼ŒåŒ…å«æ•°æ®å’ŒæŒ‡å‘å…¶ä»–èŠ‚ç‚¹çš„é“¾æ¥ã€‚</td></tr><tr><td>æ ¹èŠ‚ç‚¹ (Root)</td><td>æ ‘çš„é¡¶å±‚èŠ‚ç‚¹ï¼Œ<strong>æ²¡æœ‰çˆ¶èŠ‚ç‚¹</strong>ã€‚<strong>æ ¹èŠ‚ç‚¹å”¯ä¸€ï¼</strong></td></tr><tr><td>çˆ¶èŠ‚ç‚¹ (Parent)</td><td>ä¸€ä¸ªèŠ‚ç‚¹çš„ç›´æ¥ä¸Šçº§èŠ‚ç‚¹ã€‚</td></tr><tr><td>å­èŠ‚ç‚¹ (Child)</td><td>ä¸€ä¸ªèŠ‚ç‚¹çš„ç›´æ¥ä¸‹çº§èŠ‚ç‚¹ã€‚</td></tr><tr><td>å¶å­èŠ‚ç‚¹ (Leaf)</td><td>æ²¡æœ‰å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ï¼Œä¹Ÿç§°ä¸ºç»ˆç«¯èŠ‚ç‚¹ã€‚</td></tr><tr><td>å†…éƒ¨èŠ‚ç‚¹ (Internal)</td><td>è‡³å°‘æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹çš„éæ ¹èŠ‚ç‚¹ã€‚</td></tr><tr><td>å…„å¼ŸèŠ‚ç‚¹ (Sibling)</td><td>å…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ã€‚</td></tr><tr><td>ç¥–å…ˆèŠ‚ç‚¹ (Ancestor)</td><td>ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</td></tr><tr><td>åä»£èŠ‚ç‚¹ (Descendant)</td><td>ä»è¯¥èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ã€‚</td></tr><tr><td>å­æ ‘ (Subtree)</td><td>æ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹åŠå…¶æ‰€æœ‰åä»£èŠ‚ç‚¹æ„æˆçš„æ ‘ã€‚</td></tr><tr><td>æ·±åº¦ (Depth)</td><td>ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„é•¿åº¦ã€‚</td></tr><tr><td>é«˜åº¦ (Height)</td><td>ä»è¯¥èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„é•¿åº¦ã€‚æ ‘çš„é«˜åº¦æ˜¯æ ¹èŠ‚ç‚¹çš„é«˜åº¦ã€‚</td></tr><tr><td>å±‚æ¬¡ (Level)</td><td>æ ¹èŠ‚ç‚¹ä¸ºç¬¬1å±‚ï¼Œå…¶å­èŠ‚ç‚¹ä¸ºç¬¬2å±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</td></tr><tr><td>åº¦ (Degree)</td><td>èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡ã€‚æ ‘çš„åº¦æ˜¯æ ‘ä¸­èŠ‚ç‚¹çš„æœ€å¤§åº¦æ•°ã€‚</td></tr><tr><td>è·¯å¾„ (Path)</td><td>ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„èŠ‚ç‚¹åºåˆ—ã€‚</td></tr><tr><td>æ£®æ— (Forest)</td><td>ç”±è‹¥å¹²æ£µäº’ä¸ç›¸äº¤çš„æ ‘ç»„æˆçš„é›†åˆã€‚</td></tr><tr><td>äºŒå‰æ ‘ (Binary Tree)</td><td>æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‘ã€‚</td></tr><tr><td>æ»¡äºŒå‰æ ‘ (Full Binary Tree)</td><td>æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰0ä¸ªæˆ–2ä¸ªå­èŠ‚ç‚¹çš„äºŒå‰æ ‘ã€‚</td></tr><tr><td>å®Œå…¨äºŒå‰æ ‘ (Complete Binary Tree)</td><td>é™¤äº†æœ€åä¸€å±‚ï¼Œå…¶ä»–å±‚éƒ½æ˜¯æ»¡çš„ï¼Œä¸”æœ€åä¸€å±‚èŠ‚ç‚¹å°½é‡é å·¦çš„äºŒå‰æ ‘ã€‚</td></tr><tr><td>å¹³è¡¡äºŒå‰æ ‘ (Balanced Binary Tree)</td><td>å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1çš„äºŒå‰æ ‘ã€‚</td></tr><tr><td>äºŒå‰æœç´¢æ ‘ (Binary Search Tree)</td><td>å·¦å­æ ‘èŠ‚ç‚¹å€¼å°äºæ ¹èŠ‚ç‚¹ï¼Œå³å­æ ‘èŠ‚ç‚¹å€¼å¤§äºæ ¹èŠ‚ç‚¹çš„äºŒå‰æ ‘ã€‚</td></tr><tr><td>å‰åºéå† (Preorder Traversal)</td><td>å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åå·¦å­æ ‘ï¼Œæœ€åå³å­æ ‘ã€‚</td></tr><tr><td>ä¸­åºéå† (Inorder Traversal)</td><td>å…ˆè®¿é—®å·¦å­æ ‘ï¼Œç„¶åæ ¹èŠ‚ç‚¹ï¼Œæœ€åå³å­æ ‘ã€‚</td></tr><tr><td>ååºéå† (Postorder Traversal)</td><td>å…ˆè®¿é—®å·¦å­æ ‘ï¼Œç„¶åå³å­æ ‘ï¼Œæœ€åæ ¹èŠ‚ç‚¹ã€‚</td></tr><tr><td>å±‚åºéå† (Level Order Traversal)</td><td>æŒ‰å±‚æ¬¡ä»ä¸Šåˆ°ä¸‹ã€ä»å·¦åˆ°å³è®¿é—®èŠ‚ç‚¹ã€‚</td></tr></tbody></table><h3 id="Fundamental-Computations"><a href="#Fundamental-Computations" class="headerlink" title="Fundamental Computations"></a>Fundamental Computations</h3><p><strong>æ ‘çš„åŸºæœ¬é€»è¾‘å…³ç³»æ˜¯çˆ¶å­å…³ç³»ï¼Œæˆ–è€…è¯´ç­‰çº§å…³ç³»</strong>ã€‚ä»¥ä¸‹æ˜¯æ ‘çš„å¸¸è§è¿ç®—ï¼š</p><ul><li><p><code>create()</code> : create a new tree.</p></li><li><p><code>clear()</code> : clear all nodes in a tree.</p></li><li><p><code>isEmpty()</code> : judge whether a tree is clean.</p></li><li><p><code>root()</code> : find the value of the root node. </p></li><li><p><code>parent(x)</code> : find the parent value of node <code>x</code>.</p></li><li><p><code>child(x, i)</code> : find the <code>i</code>th child value of node <code>x</code>.</p></li><li><p><code>remove(x, i)</code> : remove the <code>i</code>th child subtree of node <code>x</code>.</p></li><li><p><code>travese()</code> : traverse all the nodes in the tree.</p></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Abstract class </span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tree</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">create</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">root</span><span class="hljs-params">(T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">parent</span><span class="hljs-params">(T current_node, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">child</span><span class="hljs-params">(T current_node, <span class="hljs-type">int</span> tree_index, T invalid_flag)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">remove</span> <span class="hljs-params">(T current_node, <span class="hljs-type">int</span> tree_index)</span> </span>= <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">traverse</span> <span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br><br>&#125;;<br></code></pre></td></tr></table></figure><p>æ³¨æ„çš„æ˜¯ï¼Œå‡½æ•°å£°æ˜ä¸­çš„<code>invalid_flag</code>æ˜¯é’ˆå¯¹æ‰¾ä¸åˆ°æ ¹èŠ‚ç‚¹ï¼Œæ‰¾ä¸åˆ°çˆ¶èŠ‚ç‚¹æˆ–è€…æ‰¾ä¸åˆ°å­èŠ‚ç‚¹è€Œè®¾è®¡çš„ã€‚</p><h2 id="Whatâ€™s-Nextï¼Ÿ"><a href="#Whatâ€™s-Nextï¼Ÿ" class="headerlink" title="Whatâ€™s Nextï¼Ÿ"></a>Whatâ€™s Nextï¼Ÿ</h2><p>æˆ‘ä»¬æ¥æƒ³æƒ³å…·ä½“å¦‚ä½•å®ç°æ ‘å½¢ç»“æ„ï¼Œè²Œä¼¼æœ‰ä¸€ç‚¹å¤æ‚ï¼Œå› ä¸ºæ ‘çš„ç»“æ„æœ¬èº«æ¯”è¾ƒå¤æ‚ï¼Œæ›´ä¸ç”¨æ<strong>æ’å…¥ã€åˆ é™¤ã€ç¿»è½¬èŠ‚ç‚¹è¿™ç±»æ›´åŠ å¤æ‚çš„æ“ä½œäº†</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä»æœ€ç®€å•çš„æƒ…å½¢å‡ºå‘ï¼šå³<strong>ä¸€ä¸ªèŠ‚ç‚¹è‡³å¤šå»¶ä¼¸å‡ºä¸¤ä¸ªå­èŠ‚ç‚¹</strong>ã€‚</p><p>æˆ‘ä»¬æŠŠè¿™ç§æ ‘å®šä¹‰ä¸º<strong>äºŒå‰æ ‘</strong>ï¼Œå¦ä¸€ç§é€’å½’çš„å®šä¹‰æ–¹å¼ï¼š<strong>ä¸€ä¸ªæ ‘æˆ–è€…ä¸ºç©ºï¼Œæˆ–è€…ç”±ä¸€ä¸ªæ ¹èŠ‚ç‚¹åŠä¸¤é¢—äº’ä¸ç›¸äº¤çš„å­æ ‘æ„æˆã€‚è€Œå­æ ‘ä¹Ÿæ˜¯äºŒå‰æ ‘ã€‚</strong></p><p>ä¾‹å¦‚ä¸Šé¢çš„æ ‘å¾ˆæ˜æ˜¾ä¸æ˜¯ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå› ä¸ºMeæœ‰ä¸‰ä¸ªå„¿å­ã€‚å¦‚æœè€ä¸‰ä¸å­˜åœ¨ï¼Œé‚£å°±æ˜¯ä¸€é¢—æ¯”è¾ƒå®Œç¾çš„äºŒå‰æ ‘ï¼ˆæ»¡äºŒå‰æ ‘ï¼‰ï¼š</p><pre><code class="mermaid" >graph TDA[Me] --> B[Son_1]A --> C[Son_2]B --> E[Grandson1_1]B --> F[Grandson1_2]C --> H[Grandson2_1]C --> I[Grandson2_2]</code></pre><p>å…³äºäºŒå‰æ ‘æˆ‘ä»¬ä¼šåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è¯¦ç»†è®¨è®ºã€‚</p><h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h2><p>è¿™ç¯‡æ–‡ç« <sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="[Applications of tree data structure - GeeksforGeeks](https://www.geeksforgeeks.org/applications-of-tree-data-structure/)">[1]</span></a></sup>è¯¦ç»†çš„ä»‹ç»äº†æ ‘å½¢ç»“æ„çš„ç›¸å…³åº”ç”¨ï¼Œæ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼š</p><p>æ ‘çš„ä¸»è¦ç”¨é€”å’Œåº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p><ol><li><strong>å­˜å‚¨å±‚æ¬¡åŒ–æ•°æ®</strong>ï¼šå¦‚æ–‡ä»¶ç³»ç»Ÿã€DOMæ¨¡å‹ã€DNSç³»ç»Ÿç­‰ï¼Œè¿™äº›æ•°æ®å¤©ç„¶å…·æœ‰å±‚æ¬¡ç»“æ„ã€‚</li><li><strong>é«˜æ•ˆçš„æœç´¢</strong>ï¼šäºŒå‰æœç´¢æ ‘ç­‰æ ‘ç»“æ„å¯ä»¥åœ¨å¯¹æ•°æ—¶é—´å†…å®Œæˆæœç´¢ï¼Œæ¯”çº¿æ€§æ•°æ®ç»“æ„æ›´é«˜æ•ˆã€‚</li><li><strong>æ’åº</strong>ï¼šè‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘ç­‰å¯ä»¥åœ¨æ’å…¥æ•°æ®æ—¶è‡ªåŠ¨æ’åºï¼Œæ–¹ä¾¿æŸ¥æ‰¾æœ€å°ã€æœ€å¤§å€¼ç­‰ã€‚</li><li><strong>åŠ¨æ€æ•°æ®ç®¡ç†</strong>ï¼šæ ‘ç»“æ„å¯ä»¥åŠ¨æ€å¢é•¿å’Œæ”¶ç¼©ï¼Œé€‚åˆæ•°æ®é¢‘ç¹å˜åŒ–çš„åœºæ™¯ï¼Œå¦‚å®æ—¶ç³»ç»Ÿã€‚</li><li><strong>é«˜æ•ˆçš„æ’å…¥å’Œåˆ é™¤</strong>ï¼šæ ‘ç»“æ„æä¾›äº†é«˜æ•ˆçš„æ’å…¥å’Œåˆ é™¤ç®—æ³•ï¼Œé€‚åˆéœ€è¦é¢‘ç¹å¢åˆ æ•°æ®çš„åº”ç”¨ã€‚</li><li><strong>æ˜“äºå®ç°</strong>ï¼šç›¸æ¯”å›¾ç­‰å¤æ‚æ•°æ®ç»“æ„ï¼Œæ ‘ç»“æ„ç›¸å¯¹å®¹æ˜“å®ç°ï¼Œå¹¿æ³›åº”ç”¨äºç¼–ç¨‹é¡¹ç›®ä¸­ã€‚</li></ol><p>å…¶ä»–åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p><ul><li><strong>å­˜å‚¨å±‚æ¬¡åŒ–æ•°æ®</strong>ï¼šå¦‚æ–‡ä»¶å¤¹ç»“æ„ã€ç»„ç»‡æ¶æ„ã€XML&#x2F;HTMLæ•°æ®ç­‰ã€‚</li><li><strong>äºŒå‰æœç´¢æ ‘</strong>ï¼šç”¨äºå¿«é€Ÿæœç´¢ã€æ’å…¥ã€åˆ é™¤æ’åºæ•°æ®ã€‚</li><li><strong>å †</strong>ï¼šç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚</li><li><strong>Bæ ‘å’ŒB+æ ‘</strong>ï¼šç”¨äºæ•°æ®åº“ç´¢å¼•ã€‚</li><li><strong>è¯­æ³•æ ‘</strong>ï¼šç”¨äºç¼–è¯‘å™¨è®¾è®¡ä¸­çš„ä»£ç æ‰«æã€è§£æå’Œè¡¨è¾¾å¼æ±‚å€¼ã€‚</li><li><strong>K-Dæ ‘</strong>ï¼šç”¨äºç»„ç»‡Kç»´ç©ºé—´ä¸­çš„ç‚¹ã€‚</li><li><strong>Trieæ ‘</strong>ï¼šç”¨äºå®ç°å­—å…¸çš„å‰ç¼€æŸ¥æ‰¾ã€‚</li><li><strong>åç¼€æ ‘</strong>ï¼šç”¨äºå¿«é€Ÿæ¨¡å¼æœç´¢ã€‚</li><li><strong>ç”Ÿæˆæ ‘å’Œæœ€çŸ­è·¯å¾„æ ‘</strong>ï¼šç”¨äºè®¡ç®—æœºç½‘ç»œä¸­çš„è·¯ç”±å™¨å’Œç½‘æ¡¥ã€‚</li><li><strong>å†³ç­–æ ‘</strong>ï¼šç”¨äºäººå·¥æ™ºèƒ½ä¸­çš„å†³ç­–ç®—æ³•ã€‚</li><li><strong>ç»„ç»‡ç»“æ„å›¾</strong>ï¼šç”¨äºå¤§å‹ç»„ç»‡çš„å±‚çº§ç»“æ„ã€‚</li><li><strong>XMLè§£æå™¨</strong>ï¼šç”¨äºè§£æXMLæ–‡æ¡£ã€‚</li><li><strong>æœºå™¨å­¦ä¹ ç®—æ³•</strong>ï¼šå¦‚å†³ç­–æ ‘ç®—æ³•ã€‚</li><li><strong>æ•°æ®åº“ç´¢å¼•</strong>ï¼šç”¨äºé«˜æ•ˆçš„æ•°æ®æ£€ç´¢ã€‚</li><li><strong>DNSæœåŠ¡å™¨</strong>ï¼šç”¨äºåŸŸåè§£æã€‚</li><li><strong>è®¡ç®—æœºå›¾å½¢å­¦</strong>ï¼šç”¨äºå›¾åƒåˆæˆå’Œè§†è§‰æ•ˆæœã€‚</li><li><strong>è¡¨è¾¾å¼æ±‚å€¼</strong>ï¼šç”¨äºè®¡ç®—ç®—æœ¯è¡¨è¾¾å¼ã€‚</li><li><strong>æ¸¸æˆç®—æ³•</strong>ï¼šå¦‚è±¡æ£‹æ¸¸æˆä¸­çš„é˜²å®ˆèµ°æ³•å­˜å‚¨ã€‚</li><li><strong>Javaè™šæ‹Ÿæœº</strong>ï¼šç”¨äºç®¡ç†å’Œç»„ç»‡æ•°æ®ã€‚</li></ul><p><strong>Tree is so important!</strong></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.geeksforgeeks.org/applications-of-tree-data-structure/">Applications of tree data structure - GeeksforGeeks</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://medium.com/@theodoreyoong/coding-short-inverting-a-binary-tree-in-python-f178e50e4dac">Invert a Binary Tree</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
      <tag>Tree</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Regular-Expression</title>
    <link href="/posts/Regular-Expression/"/>
    <url>/posts/Regular-Expression/</url>
    
    <content type="html"><![CDATA[<h1 id="Regular-Expression-EN"><a href="#Regular-Expression-EN" class="headerlink" title="Regular Expression (EN)"></a>Regular Expression (EN)</h1><blockquote><p>The Blog is written in English, than Google translate into Chinese.</p></blockquote><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>What is Regular Expression? Lets have a look at Wikipediaâ€™s definition:</p><blockquote><p>A <strong>regular expression</strong> (shortened as <strong><code>regex</code></strong> or <strong><code>regexp</code></strong>), sometimes referred to as <strong>rational expression</strong>, is a sequence of <a href="https://en.wikipedia.org/wiki/Character_(computing)">characters</a> that specifies a <a href="https://en.wikipedia.org/wiki/Pattern_matching">match pattern</a> in <a href="https://en.wikipedia.org/wiki/String_(computer_science)">text</a>. Usually such patterns are used by <a href="https://en.wikipedia.org/wiki/String-searching_algorithm">string-searching algorithms</a> for â€œfindâ€ or â€œfind and replaceâ€ operations on <a href="https://en.wikipedia.org/wiki/String_(computer_science)">strings</a>, or for <a href="https://en.wikipedia.org/wiki/Data_validation">input validation</a>. Regular expression techniques are developed in <a href="https://en.wikipedia.org/wiki/Theoretical_computer_science">theoretical computer science</a> and <a href="https://en.wikipedia.org/wiki/Formal_language">formal language</a> theory.</p></blockquote><p>From the text above, we can conclude that:</p><ul><li>Regex is a <strong>sequence of characters</strong>, or we can say <strong>Regex is a special kind of string</strong>.</li><li>Regex is powerful in <strong>String searching algorithms</strong>.</li></ul><p>To explain this more clearly, letâ€™s assume we have the following C++ program.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;random&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">SearchString</span><span class="hljs-params">(std::string text, std::string target)</span></span>&#123;<br>    <span class="hljs-comment">//There are some powerful algorithms here</span><br><br>    <span class="hljs-comment">//We just create a random number!</span><br>    std::random_device rd;  <br>    <span class="hljs-function">std::mt19937 <span class="hljs-title">gen</span><span class="hljs-params">(rd())</span></span>; <br>    std::uniform_int_distribution&lt;&gt; <span class="hljs-built_in">dis</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>); <br><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">dis</span>(gen);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    std::string text;<br>    std::string target;<br>    std::cout &lt;&lt; (<span class="hljs-built_in">SearchString</span>(text, target) ? <span class="hljs-string">&quot;Matched&quot;</span> : <span class="hljs-string">&quot;Mismatched&quot;</span>) &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Assuming that we have a powerful algorithm (like <strong>KMP</strong> algorithm) that could judge whether there exists a target string in the whole text, which is shown in the <code>SearchSting</code> function. For example, <code>text</code> is <code>I love SJTU</code> while <code>target</code> is <code>SJTU</code>, then the program will output â€œMatchedâ€!</p><p>But we want to make the function more powerful, like: I want to search whether there is a sentence that has the structure of <code>I love ...</code>, where <code>...</code> means any word consisting of four uppercase English letters. Or we can say we expect the consequences as below:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">target: I love `XXXX`(4 uppercase English Letters)<br>text1: I love SJTU                                    `Matched!`<br>text2: I love FUDAN                                    `Matched!(The funtion reads FUDA)`<br>text3: I love CUDA                                    `Matched`<br>text4: I love CuDA                                    `Mismatched`<br>text5: I love C0DA                                    `Mismatched`<br></code></pre></td></tr></table></figure><p>We definitely can implement the function by adding some code into <code>SearchString</code>, but it compromises universality. Over time, the algorithm has turned into a pile of if-else statements, resembling a mountain of messy code. In a word, the algorithm seems weak when facing <strong>more lenient string matching problems with more detailed requirements</strong>.</p><p>This problem does exist in the real world! For example, if you want to search all the files with suffix <code>.md</code>, how would you implement this using the command line?</p><h3 id="Regex-counts"><a href="#Regex-counts" class="headerlink" title="Regex counts!"></a>Regex counts!</h3><p>This is where the power of <strong>Regex</strong> shines. Regex offers advanced pattern matching capabilities, supporting complex patterns, quantifiers, character classes, and groups, which simple string matching lacks, enabling more flexible and powerful text search and manipulation. Moreover, regex plays as a powerful tool in programming language like <strong>Python</strong> and <strong>Javascripts</strong>. All the demos in the text will use <strong>Python</strong> as the demonstrating language.</p><p>For the questions above, we can use <strong>Regex</strong> to search files with certain suffixes using only one command line!</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find . -<span class="hljs-built_in">type</span> f -regex <span class="hljs-string">&#x27;.*\.md$&#x27;</span><br></code></pre></td></tr></table></figure><p><img src="https://ooo.0x0.ooo/2025/02/01/OGtRCq.png" alt="Search Files with certain suffixes"></p><p>In todayâ€™s Blog, we will master the basic usage of <strong>Regex</strong> and implement some simple applications using Regex.</p><h2 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h2><h3 id="Learning-maps"><a href="#Learning-maps" class="headerlink" title="Learning maps"></a>Learning maps</h3><p>After knowing what Regex is and what it can do, next question we need to clarify is <strong>What Regex truly is</strong>.</p><ul><li>The fundamental principle: <strong>Regex is used for string matching problems.</strong></li><li>To say more specifically, for <strong>more complex</strong> string matching problems.</li></ul><p>What is <strong>complex</strong>? Assume that there is a picky person asking you to find all the strings with some peculiar and bizarre rules. Itâ€™s easy for you to understand the rules while hard for computers to do so. Therefore we can say: <strong>Regex is a series of laws to make computers understand â€œpeculiar and bizarre rulesâ€ of complex string matching problems.</strong></p><blockquote><p>Like the question above, â€œfind all file names with certain suffix â€˜.mdâ€™â€ is a certain kind of <strong>peculiar and bizarre rules</strong>.</p></blockquote><p>There are countless peculiar and bizarre rules for string matching, and people intelligently <strong>categorized them into several major groups</strong>, which form the basic syntax of regex.</p><table><thead><tr><th>Syntax</th><th>Explanations</th></tr></thead><tbody><tr><td><strong>Special Position Matching</strong></td><td>âœ…Characters that match the <strong>start</strong> and <strong>end</strong> of a string or a word.<br>âœ…<strong>Zero-Width Assertion</strong>: match customized certain positions.</td></tr><tr><td><strong>Special Character Matching</strong></td><td>âœ…Numbers, words, null characters.<br><strong>âœ…Escape characters for Metacharacter</strong>.<br>âœ…Wildcard</td></tr><tr><td><strong>Character Classes</strong></td><td>âœ…Match <strong>one character</strong> from a <strong>set of possible characters</strong>.</td></tr><tr><td><strong>Repetition</strong> and <strong>Capturing</strong></td><td>âœ…Quantifiers<br>âœ…Grouping<br>âœ…Capturing</td></tr></tbody></table><p>The table above is the learning map of <strong>Regex</strong>. The above matching rules are already sufficient for 90% of the cases.</p><h3 id="Special-Character-Matching"><a href="#Special-Character-Matching" class="headerlink" title="Special Character Matching"></a>Special Character Matching</h3><h4 id="Metacharacters"><a href="#Metacharacters" class="headerlink" title="Metacharacters"></a>Metacharacters</h4><p>The table below shows several most frequently used metacharacters in Regex:</p><p>Hereâ€™s a concise table of the most commonly used <strong>metacharacters</strong> in regular expressions (Regex):</p><table><thead><tr><th>Metacharacter</th><th>Description</th></tr></thead><tbody><tr><td><code>.</code></td><td>Matches any single character (except newline).</td></tr><tr><td><code>^</code></td><td>Matches the start of a string.</td></tr><tr><td><code>$</code></td><td>Matches the end of a string.</td></tr><tr><td><code>*</code></td><td>Matches 0 or more repetitions of the preceding element.</td></tr><tr><td><code>+</code></td><td>Matches 1 or more repetitions of the preceding element.</td></tr><tr><td><code>?</code></td><td>Matches 0 or 1 repetition of the preceding element (makes it optional).</td></tr><tr><td><code>\</code></td><td>Escapes a metacharacter (e.g., <code>\.</code> matches a literal dot).</td></tr><tr><td><code>[]</code></td><td>Matches any single character within the brackets (e.g., <code>[abc]</code>).</td></tr><tr><td><code>[^]</code></td><td>Matches any single character <strong>not</strong> within the brackets (e.g., <code>[^abc]</code>).</td></tr><tr><td><code>()</code></td><td>Groups patterns and captures the matched text.</td></tr><tr><td>&#96;</td><td>&#96;</td></tr><tr><td><code>&#123;&#125;</code></td><td>Specifies exact repetition (e.g., <code>a&#123;2,4&#125;</code> matches 2 to 4 <code>a</code>â€˜s).</td></tr><tr><td><code>\d</code></td><td>Matches any digit (equivalent to <code>[0-9]</code>).</td></tr><tr><td><code>\w</code></td><td>Matches any word character (letters, digits, underscore).</td></tr><tr><td><code>\s</code></td><td>Matches any whitespace character (space, tab, newline).</td></tr><tr><td><code>\b</code></td><td>Matches a word boundary.</td></tr><tr><td><code>\B</code></td><td>Matches a non-word boundary.</td></tr></tbody></table><h3 id="Special-Position-Matching"><a href="#Special-Position-Matching" class="headerlink" title="Special Position Matching"></a>Special Position Matching</h3><h3 id="Character-Classes"><a href="#Character-Classes" class="headerlink" title="Character Classes"></a>Character Classes</h3><h3 id="Repetition-and-Capturing"><a href="#Repetition-and-Capturing" class="headerlink" title="Repetition and Capturing"></a>Repetition and Capturing</h3><h2 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h2><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://regexr.com/">Regexr</a> : <strong>a powerful website for practicing Regex</strong>. </p>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>string</tag>
      
      <tag>regular expression</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataStructure-String</title>
    <link href="/posts/DataStructure-String/"/>
    <url>/posts/DataStructure-String/</url>
    
    <content type="html"><![CDATA[<h1 id="Data-Structure-String"><a href="#Data-Structure-String" class="headerlink" title="Data Structure: String"></a>Data Structure: String</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This article reconstructs the underlying code of the <strong>string</strong> class from the perspective of data structures, including <strong>array-based sequential implementation</strong> and <strong>block list-based linked implementation</strong>. It also provides the usage of related functions in the string library. Subsequently, the article explains the classic string matching algorithm: the <strong>KMP</strong> algorithm and its applications, and finally introduces the concept of regular expressions.</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>å­—ç¬¦ä¸²åœ¨ç¼–ç¨‹é—®é¢˜ä¸­å¾ˆå¸¸è§ï¼Œåœ¨åˆå­¦C++æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå­—ç¬¦ä¸²çœ‹æˆ<strong>charç±»å‹çš„æ•°ç»„</strong>ï¼ˆCé£æ ¼çš„å­—ç¬¦ä¸²ï¼‰ï¼ŒåŒæ—¶C++å¼•å…¥äº†æ–°çš„å­—ç¬¦ä¸²ç±»å‹ï¼š<strong>string</strong>ã€‚<code>string</code>ç±»ç›¸æ¯”äºä¼ ç»Ÿçš„<code>char*</code>æœ‰ç€å¾ˆå¤šä¼˜åŠ¿ï¼š</p><ul><li><p>æ ¹æ®<code>size</code>åŠ¨æ€åˆ†é…å†…å­˜</p></li><li><p>ä¸åŒæ‰‹åŠ¨å›æ”¶å †ä¸Šçš„å†…å­˜</p></li><li><p>æ”¯æŒè®¸å¤šå­—ç¬¦ä¸²æ“ä½œ</p></li></ul><p>åœ¨ç¬”è€…çš„<a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">è¿™ç¯‡åšå®¢</a>ä¸­ï¼Œä¸ºäº†è¯¦ç»†è§£é‡ŠOOPä¸­åŠ¨æ€å†…å­˜åˆ†é…çš„ä½¿ç”¨ï¼Œä»ä¸€ä¸ª<code>stringbad</code>ç±»å‡ºå‘ä¸æ–­ä¿®æ”¹æœ€ç»ˆå½¢æˆäº†ä¸€ä¸ªè¿˜ç®—å¥å…¨çš„<code>string</code>ç±»ã€‚æœ¬ç« ä½œä¸º<strong>çº¿æ€§æ•°æ®ç»“æ„</strong>çš„å°¾å£°ï¼Œæˆ‘ä»¬ä»<strong>æ•°æ®ç»“æ„</strong>çš„è§†è§’ä»åº•å±‚é‡æ–°å®¡è§†<code>string</code>ç±»å¹¶é‡å†™è½®å­ã€‚</p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>æ˜¾è€Œæ˜“è§åœ°ï¼Œ<code>string</code>ç±»æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œæ˜¯<strong>çº¿æ€§è¡¨çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ</strong>ï¼š</p><ul><li><p>çº¿æ€§è¡¨çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯<strong>ASCIIå­—ç¬¦</strong>ã€‚</p></li><li><p>çº¿æ€§è¡¨æœ‰å€¼ç­‰ç°å®æ„ä¹‰ï¼šä¾‹å¦‚â€IloveSJTUâ€æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªçº¿æ€§è¡¨ï¼Œä¹Ÿå¯ä»¥è¯´<strong>ç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦åºåˆ—æ˜¯å­—ç¬¦ä¸²çš„å€¼</strong>ã€‚</p></li></ul><blockquote><p>ç¬¬äºŒç‚¹æœ‰ç‚¹é’»ç‰›è§’å°–ï¼Œè¯»è€…åªéœ€äº†è§£ï¼š<strong>å­—ç¬¦ä¸²æ˜¯å…·æœ‰ç‰¹æ®Šçš„ç°å®æ„ä¹‰çš„</strong>ï¼Œå› æ­¤å¯ä»¥å®ç°å¾ˆå¤šæ–°çš„æ“ä½œï¼ˆä¾‹å¦‚è¿ç®—ç¬¦é‡è½½ç­‰ç­‰ï¼‰ï¼Œè€Œè¿™äº›æ“ä½œå¯¹äºä¸€èˆ¬æŠ½è±¡çš„çº¿æ€§è¡¨è€Œè¨€å¾ˆå¤šæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p></blockquote><h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>æ¥ä¸‹æ¥ç¬”è€…ç»™å‡ºçº¿æ€§è¡¨çš„å¸¸ç”¨æ“ä½œï¼š</p><ul><li><p>æ±‚å­—ç¬¦ä¸ªæ•° <code>length()</code></p></li><li><p>è¾“å‡ºå‡½æ•° <code>disp()</code></p></li><li><p><strong>ç»å…¸å¢åˆ æŸ¥æ”¹å››ä»¶å¥—</strong></p><ul><li><p>æ’å…¥å‡½æ•° <code>insert(s1, start, s2)</code> ï¼Œåœ¨startå¤„å°†s2æ’å…¥è¿›s1ä¸­</p></li><li><p>åˆ é™¤å­ä¸² <code>remove(s, start, len)</code></p></li><li><p>æŸ¥æ‰¾å­ä¸²ï¼ˆ<strong>è¿™ä¸ªé—®é¢˜å¾ˆç»å…¸ï¼Œæˆ‘ä»¬ä¼šåœ¨KMPç®—æ³•ä¸­å®ç°</strong>ï¼‰</p></li><li><p>ä¿®æ”¹ï¼š<strong>åœ¨è¿™é‡Œæˆ‘ä»¬å®ç°å­—ç¬¦ä¸²çš„èµ‹å€¼å‡½æ•°</strong> <code>copy(s1, s2)</code></p></li></ul></li><li><p>å–å­ä¸² <code>substr(s, start, len)</code></p></li><li><p>å­—ç¬¦ä¸²è¿æ¥ <code>cat(s1, s2)</code></p></li><li><p>æ¯”è¾ƒå‡½æ•°</p><ul><li><code>equal(s1, s2)</code>ï¼Œ<code>greater(s1, s2)</code>ï¼Œ<code>greaterEqual(s1, s2)</code>ï¼Œ<code>less(s1, s2)</code>ï¼Œ<code>lessEqual(s1, s2)</code></li></ul></li></ul><h3 id="Sequential-Implementation"><a href="#Sequential-Implementation" class="headerlink" title="Sequential Implementation"></a>Sequential Implementation</h3><p>ä¸‹é¢æˆ‘ä»¬æ¥æ„æ€ç±»çš„å£°æ˜ï¼š</p><p>æ•°æ®æˆå‘˜ï¼šä¸€ä¸ªcharç±»å‹çš„æŒ‡é’ˆï¼ˆé¡ºåºå­˜å‚¨å­—ç¬¦ï¼‰ï¼Œä¸€ä¸ªintå€¼å‚¨å­˜å­—ç¬¦çš„å¤§å°ã€‚</p><blockquote><p>ä¹Ÿå¯ä»¥å°†intå€¼æ”¹å†™æˆä¸€ä¸ª<strong>è¿”å›intå€¼çš„å‡½æ•°</strong>ï¼Œä½†æ˜¯è¿™æ ·åšæ¯ä¸€æ¬¡æ±‚lengthéƒ½éœ€è¦éå†å­—ç¬¦ä¸²æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œè¿™é‡Œé‡‡ç”¨ä»¥ç©ºé—´æ¢æ—¶é—´çš„åšæ³•ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*</span><br><span class="hljs-comment">This is the implementation of hand-made string</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span> <span class="hljs-comment">//just for the min function</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><br><br><span class="hljs-comment">//Sequential implementation of string</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">seqString</span>&#123;<br>    <span class="hljs-keyword">friend</span> seqString <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2); <br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;=(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;=(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2);<br>    <span class="hljs-keyword">friend</span> std::istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(std::istream&amp; is,  seqString&amp; s);<br>    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="hljs-type">const</span> seqString&amp; s);<br><br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-type">char</span> *data;<br>        <span class="hljs-type">int</span> len = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">seqString</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s=<span class="hljs-string">&quot;&quot;</span>);     <br>        <span class="hljs-built_in">seqString</span>(<span class="hljs-type">const</span> seqString&amp; other);   <br>        ~<span class="hljs-built_in">seqString</span>();<br>        seqString&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> seqString&amp; other);<br>        seqString&amp; <span class="hljs-keyword">operator</span>+=(<span class="hljs-type">const</span> seqString&amp; other);<br>        seqString&amp; <span class="hljs-keyword">operator</span>-=(<span class="hljs-type">const</span> seqString&amp; other);<br>        <span class="hljs-type">char</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index) <span class="hljs-type">const</span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">const</span> seqString&amp; other, <span class="hljs-type">int</span> insertsize = <span class="hljs-number">-1</span>)</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> deletelength, <span class="hljs-type">int</span> start =<span class="hljs-number">-1</span>)</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function">seqString <span class="hljs-title">substr</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> leng)</span> <span class="hljs-type">const</span></span>;<br>&#125;;<br><br><span class="hljs-comment">//Defintion of Sequenial String</span><br><br><span class="hljs-comment">//default constructer</span><br>seqString::<span class="hljs-built_in">seqString</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>*s)&#123;<br>    <span class="hljs-comment">//first get the value of length;</span><br>    <span class="hljs-keyword">while</span>(s[len] != <span class="hljs-string">&#x27;\0&#x27;</span>)&#123;<br>        len++;<br>    &#125;<br>    data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len<span class="hljs-number">+1</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; s[i] != <span class="hljs-string">&#x27;\0&#x27;</span>; i++)&#123;<br>        data[i] = s[i];<br>    &#125;<br>    data[len] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>&#125;<br><br><span class="hljs-comment">//copy constructor</span><br>seqString::<span class="hljs-built_in">seqString</span>(<span class="hljs-type">const</span> seqString&amp; other)&#123;<br>    len = other.len;<br>    data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len<span class="hljs-number">+1</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= len; i++)&#123;<br>        data[i] = other.data[i];<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//destructor</span><br>seqString::~<span class="hljs-built_in">seqString</span>()&#123;<br>    <span class="hljs-keyword">delete</span>[] data;<br>&#125;<br><br><span class="hljs-comment">//overload of assignment operator</span><br>seqString&amp; seqString::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> seqString&amp; other)&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;other) <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    <span class="hljs-keyword">delete</span>[] data;<br>    len = other.len;<br>    data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len<span class="hljs-number">+1</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= len; i++)&#123;<br>        data[i] = other.data[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br><span class="hljs-comment">//overload of &quot;+=&quot; operator</span><br>seqString&amp; seqString::<span class="hljs-keyword">operator</span>+=(<span class="hljs-type">const</span> seqString&amp; other)&#123;<br>    <span class="hljs-keyword">this</span> -&gt; <span class="hljs-built_in">insert</span>(len, other);<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br><span class="hljs-comment">//overload of &quot;-=&quot; operator</span><br>seqString&amp; seqString::<span class="hljs-keyword">operator</span>-=(<span class="hljs-type">const</span> seqString&amp; other)&#123;<br>    seqString tmp = <span class="hljs-built_in">substr</span>(len - other.<span class="hljs-built_in">length</span>(), other.<span class="hljs-built_in">length</span>());<br>    <span class="hljs-keyword">if</span> (tmp == other)&#123;<br>        <span class="hljs-keyword">this</span> -&gt; <span class="hljs-built_in">remove</span>(len - other.<span class="hljs-built_in">length</span>(), other.<span class="hljs-built_in">length</span>());<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Unmatched string&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//overload of index operator</span><br><span class="hljs-type">char</span> seqString::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index) <span class="hljs-type">const</span>&#123;<br>    <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span> || index &gt;= len)&#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Invalid index!&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> data[index];<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//insert a string in the certain position</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">seqString::insert</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">const</span> seqString&amp; other, <span class="hljs-type">int</span> insertsize)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(insertsize == <span class="hljs-number">-1</span>)&#123;<br>        <span class="hljs-comment">//This means insert the whole size of other</span><br>        insertsize = other.<span class="hljs-built_in">length</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>( insertsize &lt; <span class="hljs-number">0</span> || insertsize &gt; other.<span class="hljs-built_in">length</span>())&#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Invalid insert size!&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( start &lt; <span class="hljs-number">0</span> || start &gt; len)&#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Invalid starting position!&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-type">char</span> *tmp = data;<br>        len += insertsize;<br>        data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len<span class="hljs-number">+1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; start; i++)&#123;<br>            data[i] = tmp[i];<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i&lt; insertsize; i++)&#123;<br>            data[start + i] = other.data[i];<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = start; tmp[i] !=<span class="hljs-string">&#x27;\0&#x27;</span>; i++)&#123;<br>            data[i + insertsize] = tmp[i];<br>        &#125;<br>        data[len] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>        <span class="hljs-keyword">delete</span>[] tmp;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//remove a substring from a certain position</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">seqString::remove</span><span class="hljs-params">(<span class="hljs-type">int</span> deletelength,<span class="hljs-type">int</span> start )</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(start == <span class="hljs-number">-1</span>)&#123;<br>        <span class="hljs-comment">//then delete the last leng characters from the back</span><br>        start = len - deletelength;<br>        <span class="hljs-comment">//len represents the length of the whole string;</span><br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(start &lt; <span class="hljs-number">0</span> || start &gt;= len)&#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Invalid starting position!&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(start + deletelength &gt;= len)&#123;<br>        <span class="hljs-comment">//delete all the characters after the start index</span><br>        data [start] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>        len = start;<br>        <span class="hljs-type">char</span> * tmp = data;<br>        <span class="hljs-comment">//recycle the memory</span><br>        data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len<span class="hljs-number">+1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i&lt;= len; i++)&#123;<br>            data[i] = tmp[i];<br>        &#125;<br>        <span class="hljs-keyword">delete</span>[] tmp;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        len -= deletelength;<br>        <span class="hljs-type">char</span> *tmp = data;<br>        data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len<span class="hljs-number">+1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; start; i++)&#123;<br>            data[i] = tmp[i];<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = start + deletelength; tmp[i] != <span class="hljs-string">&#x27;\0&#x27;</span>; i++)&#123;<br>            data[i - deletelength] = tmp[i];<br>        &#125;<br>        data[len] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>        <span class="hljs-keyword">delete</span>[] tmp;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//get the length of the string</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">seqString::length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>&#123;<br>    <span class="hljs-keyword">return</span> len;<br>&#125;<br><br><span class="hljs-comment">//judge whether the string is empty</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">seqString::isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>&#123;<br>    <span class="hljs-keyword">return</span> len == <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//get a substring from a certain position and a certain length</span><br><span class="hljs-function">seqString <span class="hljs-title">seqString::substr</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> sublength)</span> <span class="hljs-type">const</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(start &lt; <span class="hljs-number">0</span> || start &gt;= len)&#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Invalid starting position!&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">if</span>(sublength + start &gt;= len)&#123;<br>            sublength = len - start;<br>        &#125;<br><br>        seqString tmp; <span class="hljs-comment">//the target substring</span><br>        tmp.len = sublength;<br>        <span class="hljs-keyword">delete</span> tmp.data;<br>        tmp.data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[tmp.len + <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; sublength; i++)&#123;<br>            tmp.data[i] = data[start + i];<br>        &#125;<br>        tmp.data[tmp.len] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>        <span class="hljs-keyword">return</span> tmp;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//overload of plus operation</span><br>seqString <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    seqString tmp;<br>    tmp.len = s<span class="hljs-number">1.l</span>en + s<span class="hljs-number">2.l</span>en;<br>    <span class="hljs-keyword">delete</span>[] tmp.data;<br>    tmp.data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[tmp.len + <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s<span class="hljs-number">1.l</span>en; i++)&#123;<br>        tmp.data[i] = s<span class="hljs-number">1.</span>data[i];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s<span class="hljs-number">2.l</span>en; i++)&#123;<br>        tmp.data[i + s<span class="hljs-number">1.l</span>en] = s<span class="hljs-number">2.</span>data[i];<br>    &#125;<br>    tmp.data[tmp.len] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>    <span class="hljs-keyword">return</span> tmp;<br>&#125;<br><br><span class="hljs-comment">//several judgements</span><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    <span class="hljs-keyword">if</span>(s<span class="hljs-number">1.l</span>en != s<span class="hljs-number">2.l</span>en) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; <span class="hljs-built_in">i</span>&lt; s<span class="hljs-number">1.l</span>en; i++)&#123;<br>        <span class="hljs-keyword">if</span>(s<span class="hljs-number">1.</span>data[i] != s<span class="hljs-number">2.</span>data[i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    <span class="hljs-keyword">return</span> !(s1==s2);<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    <span class="hljs-type">int</span> minlength = std::<span class="hljs-built_in">min</span>(s<span class="hljs-number">1.l</span>en, s<span class="hljs-number">2.l</span>en);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; minlength; i++)&#123;<br>        <span class="hljs-keyword">if</span>(s1[i] != s2[i]) <span class="hljs-keyword">return</span> s1[i] &gt; s2[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> s<span class="hljs-number">1.l</span>en &gt; s<span class="hljs-number">2.l</span>en;<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;=(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    <span class="hljs-keyword">return</span> s1 &gt; s2 || s1 == s2;<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    <span class="hljs-keyword">return</span> !(s1 &gt;= s2);<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;=(<span class="hljs-type">const</span> seqString&amp; s1, <span class="hljs-type">const</span> seqString&amp; s2)&#123;<br>    <span class="hljs-keyword">return</span> s1 &lt; s2 || s1 ==s2;<br>&#125;<br><br><span class="hljs-comment">//the overload function of &lt;&lt; and &gt;&gt; operator</span><br>std::istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(std::istream&amp; is, seqString&amp; s) &#123;<br>    <span class="hljs-type">const</span> <span class="hljs-type">int</span> bufferSize = <span class="hljs-number">1024</span>;<br>    <span class="hljs-type">char</span> buffer[bufferSize];<br>    is &gt;&gt; buffer;<br><br>    <span class="hljs-type">int</span> inputLen = std::<span class="hljs-built_in">strlen</span>(buffer);<br><br>    <span class="hljs-keyword">if</span> (s.data) &#123;<br>        <span class="hljs-keyword">delete</span>[] s.data;<br>    &#125;<br><br>    s.data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[inputLen + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(s.data, buffer);<br>    s.len = inputLen;<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><br>std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="hljs-type">const</span> seqString&amp; s)&#123;<br>    os &lt;&lt; s.data;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><br><span class="hljs-comment">//main function is used for debugging only</span><br><span class="hljs-comment">// Main function for debugging</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">seqString <span class="hljs-title">s1</span><span class="hljs-params">(<span class="hljs-string">&quot;Hello&quot;</span>)</span></span>;<br>    <span class="hljs-function">seqString <span class="hljs-title">s2</span><span class="hljs-params">(<span class="hljs-string">&quot;World&quot;</span>)</span></span>;<br><br>    <span class="hljs-comment">// Test operator+</span><br>    seqString s3 = s1 + s2;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 + s2: &quot;</span> &lt;&lt; s3 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test operator+=</span><br>    s1 += s2;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 += s2: &quot;</span> &lt;&lt; s1 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test operator-</span><br>    s1 -= s2;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 -= s2: &quot;</span> &lt;&lt; s1 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test operator[]</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1[1]: &quot;</span> &lt;&lt; s1[<span class="hljs-number">1</span>] &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test insert</span><br>    s<span class="hljs-number">1.</span><span class="hljs-built_in">insert</span>(<span class="hljs-number">1</span>, s2);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 after insert: &quot;</span> &lt;&lt; s1 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test remove</span><br>    s<span class="hljs-number">1.</span><span class="hljs-built_in">remove</span>(<span class="hljs-number">5</span>, <span class="hljs-number">1</span>);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 after remove: &quot;</span> &lt;&lt; s1 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test substr</span><br>    seqString s4 = s<span class="hljs-number">1.</span><span class="hljs-built_in">substr</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1.substr(1, 3): &quot;</span> &lt;&lt; s4 &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// Test comparison operators</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 == s2: &quot;</span> &lt;&lt; (s1 == s2) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 != s2: &quot;</span> &lt;&lt; (s1 != s2) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 &gt; s2: &quot;</span> &lt;&lt; (s1 &gt; s2) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;s1 &lt; s2: &quot;</span> &lt;&lt; (s1 &lt; s2) &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Linked-Implementation"><a href="#Linked-Implementation" class="headerlink" title="Linked Implementation"></a>Linked Implementation</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿›è¡Œå­—ç¬¦ä¸²çš„é“¾æ¥å®ç°ã€‚æœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨å•å‘é“¾è¡¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼ˆå›¾é€‰è‡ªHello ç®—æ³•ï¼‰</p><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list.assets/linkedlist_definition.png" alt="Linked List"></p><p>ä½†æ˜¯ï¼Œè¿™ç§æ–¹æ³• <strong>å¯¹ç©ºé—´çš„åˆ©ç”¨ç‡å¤ªä½</strong>ï¼Œä¸€ä¸ªcharå­—ç¬¦æ˜¯1å­—èŠ‚ï¼Œè€Œå­˜å‚¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡ <strong>éœ€è¦8å­—èŠ‚ï¼ˆå¯¹äº64ä½ç³»ç»Ÿè€Œè¨€ï¼‰</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>å—çŠ¶é“¾è¡¨</strong> æ¥æé«˜é“¾è¡¨çš„ç©ºé—´åˆ©ç”¨ç‡ã€‚</p><p><img src="https://oi-wiki.org/ds/images/kuaizhuanglianbiao.png" alt="linked list from OI wiki"></p><p>å¯ä»¥æŠŠå—çŠ¶é“¾è¡¨å½“åš <strong>é“¾è¡¨å’Œè¿ç»­æ•°ç»„</strong> çš„ä¸€ç§tradeoffï¼Œé“¾è¡¨æœ‰åˆ©äºä½¿ç”¨åˆ†è£‚çš„ç¦»æ•£å†…å­˜ï¼Œè€Œæ•°ç»„å¼¥è¡¥äº†é“¾è¡¨éå†å¤æ‚åº¦é«˜å’Œç©ºé—´åˆ©ç”¨ç‡ä½ç­‰é—®é¢˜ï¼</p><p>ä¸è¿‡å—çŠ¶é“¾è¡¨æœ‰ä¸ªæ¯”è¾ƒå¤æ‚çš„é—®é¢˜ï¼š<strong>å…ƒç´ çš„æ’å…¥å’Œåˆ é™¤</strong>ä¾æ—§ä¼šå¸¦æ¥è¾ƒå¤§çš„æ—¶é—´å¤æ‚åº¦ã€‚å¦‚æœæ¯ä¸€ä¸ªå­æ•°ç»„éƒ½å æ»¡çš„è¯ï¼Œé‚£æ’å…¥å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¼šæ˜¯O(n)çº§åˆ«çš„ï¼Œå› æ­¤ï¼Œ<strong>ç©ºé—´æ¢æ—¶é—´</strong>åœ¨æ­¤å¤„ä»ç„¶å¿…è¦ï¼Œ<strong>æˆ‘ä»¬éœ€è¦å†æ¯ä¸ªå­æ•°ç»„ä¸­ç©ºä½™ä¸€éƒ¨åˆ†ç©ºé—´æ–¹ä¾¿åç»­çš„æ’å…¥åˆ é™¤æ“ä½œã€‚</strong>åŒæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä½¿ç”¨ <strong>åˆ†è£‚èŠ‚ç‚¹</strong> æˆ–è€… <strong>åˆå¹¶èŠ‚ç‚¹</strong> çš„æ–¹æ³•ï¼Œè®©æ¯ä¸€ä¸ªæ•°ç»„ä¸­çš„ç©ºé—´åˆ©ç”¨ç‡ä¿æŒç¨³å®šã€‚</p><p>ä¾‹å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š</p><p><img src="https://ooo.0x0.ooo/2025/02/04/OGHQYx.png" alt="Block List"></p><p>å¦‚æœè¯¥é“¾è¡¨éœ€è¦å®Œæˆå¦‚ä¸‹æ“ä½œï¼š<strong>åœ¨Fåé¢æ’å…¥å­—ç¬¦ä¸²UVXYZ</strong>ï¼Œé‚£å¯ä»¥ç»†åˆ†ä¸ºè¿™å‡ æ­¥ï¼š</p><ul><li>åˆ†è£‚ç»“ç‚¹ï¼Œè®© EF å’Œ G åˆ†ç¦»ã€‚</li><li>å°† <strong>UVXYZ</strong> æ‰“åŒ…æˆä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™é‡Œå› ä¸ºè¶…å‡ºé™åˆ¶ï¼Œå› æ­¤æ‰“åŒ…æˆäº†ä¸¤ä¸ªèŠ‚ç‚¹ã€‚</li><li>å°†æ‰“åŒ…å¥½çš„èŠ‚ç‚¹ï¼ˆæˆ–è€…å¯ä»¥è¢«ç§°ä¸ºä¸€ä¸ª<strong>å­ä¸²</strong>ï¼‰ æ’å…¥åˆ°å¯¹åº”çš„ä½ç½®ã€‚</li><li><strong>å½’å¹¶</strong>åˆ©ç”¨ç‡æ¯”è¾ƒä½çš„èŠ‚ç‚¹ã€‚</li></ul><p><img src="https://ooo.0x0.ooo/2025/02/04/OGH0qj.png" alt="Node splitting and merging"></p><p>æœ‰äº†è¿™äº›å‡†å¤‡çŸ¥è¯†ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºå­—ç¬¦ä¸²é“¾æ¥å®ç°çš„å£°æ˜ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">linkString</span>&#123;<br>    <span class="hljs-keyword">friend</span> linkString <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2); <br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;=(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;=(<span class="hljs-type">const</span> linkString&amp; s1, <span class="hljs-type">const</span> linkString&amp; s2);<br>    <span class="hljs-keyword">friend</span> std::istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(std::istream&amp; is,  linkString&amp; s);<br>    <span class="hljs-keyword">friend</span> std::ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="hljs-type">const</span> linkString&amp; s);<br><br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span><br>    &#123;<br>        <span class="hljs-type">int</span> size;    <span class="hljs-comment">//valuable numbers of chars in a block node</span><br>        <span class="hljs-type">char</span> *data;<br>        node *next;<br><br>        <span class="hljs-comment">//constructor</span><br>        <span class="hljs-built_in">node</span>(<span class="hljs-type">int</span> maxsize_ = <span class="hljs-number">1</span>, node *n_ = <span class="hljs-literal">nullptr</span>)&#123;<br>            data = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [maxsize_];<br>            size = <span class="hljs-number">0</span>;<br>            next = n_;<br>        &#125;<br>    &#125;;<br><br>    <span class="hljs-keyword">private</span>:<br>        node *head; <span class="hljs-comment">//head pointer</span><br>        <span class="hljs-type">int</span> length;  <span class="hljs-comment">//length of the string</span><br>        <span class="hljs-type">int</span> nodesize; <span class="hljs-comment">//capacity for every block node</span><br><br>        <span class="hljs-comment">//several private function tools</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">//release all the memories</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">findPos</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span>&amp; pos, node *&amp;p)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// find the position of the certain node</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">split</span><span class="hljs-params">(node *p, <span class="hljs-type">int</span> pos)</span></span>;  <span class="hljs-comment">//split nodes</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(node *p)</span></span>;  <span class="hljs-comment">//merge nodes</span><br><br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">linkString</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s = <span class="hljs-string">&quot;&quot;</span>);          <span class="hljs-comment">// Constructor with default parameter</span><br>        <span class="hljs-built_in">linkString</span>(<span class="hljs-type">const</span> linkString&amp; other);     <span class="hljs-comment">// Copy constructor</span><br>        ~<span class="hljs-built_in">linkString</span>();                           <span class="hljs-comment">// Destructor</span><br>        linkString&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> linkString&amp; other);  <span class="hljs-comment">// Assignment operator overload</span><br>        linkString&amp; <span class="hljs-keyword">operator</span>+=(<span class="hljs-type">const</span> linkString&amp; other); <span class="hljs-comment">// Compound assignment operator overload (concatenation)</span><br>        linkString&amp; <span class="hljs-keyword">operator</span>-=(<span class="hljs-type">const</span> linkString&amp; other); <span class="hljs-comment">// Compound assignment operator overload (removal)</span><br>        <span class="hljs-type">char</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index) <span class="hljs-type">const</span>;                <span class="hljs-comment">// Subscript operator overload</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">const</span> linkString&amp; other, <span class="hljs-type">int</span> insertsize = <span class="hljs-number">-1</span>)</span></span>; <span class="hljs-comment">// Insert operation</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> deletelength, <span class="hljs-type">int</span> start = <span class="hljs-number">-1</span>)</span></span>;   <span class="hljs-comment">// Remove operation</span><br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;                              <span class="hljs-comment">// Get the length of the string</span><br>        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;                            <span class="hljs-comment">// Check if the string is empty</span><br>        <span class="hljs-function">linkString <span class="hljs-title">substr</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> leng)</span> <span class="hljs-type">const</span></span>;    <span class="hljs-comment">// Get a substring</span><br>&#125;;<br></code></pre></td></tr></table></figure><ul><li>ç ”ç©¶è¡¨æ˜ï¼Œ<strong>å—çŠ¶é“¾è¡¨çš„èŠ‚ç‚¹å®¹é‡å’ŒèŠ‚ç‚¹ä¸ªæ•°ç›¸åŒçš„æ—¶å€™</strong>ï¼Œç®—æ³•æ•ˆç‡æœ€é«˜ã€‚<ul><li>å› æ­¤ï¼ŒèŠ‚ç‚¹å®¹é‡ä¸€ä¸ªè®¾ç½®ä¸ºï¼š<code>sqrt(length)</code> ,æ¥å°½å¯èƒ½æé«˜ç®—æ³•çš„æ•ˆç‡ã€‚</li></ul></li></ul><div class="note note-primary">            <p><strong>é™„ä¸Šæ•°å­¦æ¨å¯¼</strong>ï¼š</p><ul><li>å—çŠ¶é“¾è¡¨çš„æŸ¥æ‰¾æ“ä½œéœ€è¦éå†å—ï¼ˆé“¾è¡¨éƒ¨åˆ†ï¼‰å’Œåœ¨å—å†…æŸ¥æ‰¾ï¼ˆæ•°ç»„éƒ¨åˆ†ï¼‰ã€‚</li><li>å¦‚æœèŠ‚ç‚¹å®¹é‡è¿‡å¤§ï¼Œå—å†…æŸ¥æ‰¾çš„æ—¶é—´ä¼šå¢åŠ ï¼ˆå› ä¸ºæ•°ç»„éƒ¨åˆ†å˜é•¿ï¼‰ã€‚</li><li>å¦‚æœèŠ‚ç‚¹å®¹é‡è¿‡å°ï¼Œå—çš„æ•°é‡ä¼šå¢åŠ ï¼Œå¯¼è‡´é“¾è¡¨éƒ¨åˆ†å˜é•¿ï¼Œéå†å—çš„ä»£ä»·å¢åŠ ã€‚</li><li>å½“èŠ‚ç‚¹å®¹é‡å’ŒèŠ‚ç‚¹ä¸ªæ•°ç›¸åŒæ—¶ï¼ŒæŸ¥æ‰¾å’Œä¿®æ”¹çš„ä»£ä»·è¾¾åˆ°å¹³è¡¡ï¼Œæ•´ä½“æ•ˆç‡æœ€é«˜ã€‚</li></ul><p>å‡è®¾å—çŠ¶é“¾è¡¨æœ‰ ( n ) ä¸ªå…ƒç´ ï¼Œå—çš„å¤§å°ä¸º ( B )ï¼Œå—çš„æ•°é‡ä¸º ( M )ï¼Œåˆ™ <code>n = BM</code>ã€‚</p><p> æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º <code>O(M + B)</code>ï¼ˆè€ƒè™‘æœ€åçš„æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚</p><p>åšä¸€ç‚¹å°å°çš„æ•°å­¦å˜å½¢ï¼š<code>O(M+B)</code> &#x3D; <code>O(n/B +B)</code>ï¼Œ æ˜¯ä¸€ä¸ªå¯¹å‹¾å‡½æ•°ï¼å› æ­¤åœ¨<code>sqrt(n)</code> çš„æ—¶å€™å–åˆ°æœ€å°å€¼ã€‚</p>          </div><p>æ¥ä¸‹æ¥å°±æ˜¯å‡½æ•°çš„å…·ä½“å®ç°äº†ï¼Œæ‰€æœ‰çš„æºä»£ç éƒ½æ¥è‡ªäº <strong>ã€Šæ•°æ®ç»“æ„ï¼šæ€æƒ³ä¸å®ç°ã€‹</strong> ï¼Œç»å†äº†å°å°çš„æ”¹åŠ¨ã€‚ä»¥ä¸‹é™„ä¸Šæºä»£ç ï¼š</p><p>æˆ‘çš„Github ç›¸å…³ä»£ç çš„ä»“åº“ï¼š<a href="https://github.com/xiyuanyang-code/Data_structure">GitHub - xiyuanyang-code&#x2F;Data_structure</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// definition</span><br><br><span class="hljs-comment">// default constructor</span><br>linkString::<span class="hljs-built_in">linkString</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s)<br>&#123;<br>    <span class="hljs-comment">// calculate the length of the string, you can just use strlen!</span><br>    length = std::<span class="hljs-built_in">strlen</span>(s);<br>    nodesize = (length == <span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(std::<span class="hljs-built_in">sqrt</span>(length));<br>    node *p;<br>    p = head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">while</span> (*s != <span class="hljs-string">&#x27;\0&#x27;</span>)<br>    &#123;<br>        p = p-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(nodesize);<br>        <span class="hljs-keyword">for</span> (; (p-&gt;size &lt; nodesize) &amp;&amp; *s != <span class="hljs-string">&#x27;\0&#x27;</span>; ++s, ++p-&gt;size)<br>        &#123;<br>            p-&gt;data[p-&gt;size] = *s;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// copy constructor</span><br>linkString::<span class="hljs-built_in">linkString</span>(<span class="hljs-type">const</span> linkString &amp;other)<br>&#123;<br>    node *p, *otherp = other.head-&gt;next;<br><br>    <span class="hljs-comment">// copy the new linkstring</span><br>    p = head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(<span class="hljs-number">1</span>);<br>    length = other.length;<br>    nodesize = other.nodesize;<br>    <span class="hljs-keyword">while</span> (otherp != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        p = p-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(nodesize);<br>        <span class="hljs-keyword">for</span> (; (p-&gt;size) &lt; (otherp-&gt;size); ++(p-&gt;size))<br>        &#123;<br>            <span class="hljs-comment">// if p-&gt;size == other-&gt;size ,then all the valuable data has been copied successfully.</span><br>            p-&gt;data[p-&gt;size] = otherp-&gt;data[p-&gt;size];<br>        &#125;<br>        otherp = otherp-&gt;next; <span class="hljs-comment">// traverse the other link string</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief clear all the memory of the linked list (private func)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    node *p = head-&gt;next, *nextp;<br>    <span class="hljs-comment">// nextp store next pointer temporarily</span><br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        nextp = p-&gt;next;<br>        <span class="hljs-keyword">delete</span> p;<br>        p = nextp;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief destructor</span><br><span class="hljs-comment"> */</span><br>linkString::~<span class="hljs-built_in">linkString</span>()<br>&#123;<br>    <span class="hljs-built_in">clear</span>();<br>    <span class="hljs-keyword">delete</span> head;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief get the length of the string (public func)</span><br><span class="hljs-comment"> * @return the length of string</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">linkString::getlength</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> length;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief judge whether the string is empty</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">linkString::isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> length == <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief overload of assignment operator</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param other the rvalue (const reference) of the assignment operator</span><br><span class="hljs-comment"> * @return the reference of the assigned lvalue</span><br><span class="hljs-comment"> */</span><br>linkString &amp;linkString::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> linkString &amp;other)<br>&#123;<br>    <span class="hljs-keyword">if</span> (&amp;other == <span class="hljs-keyword">this</span>)<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br><br>    <span class="hljs-comment">// Clear the current list</span><br>    <span class="hljs-built_in">clear</span>();<br><br>    <span class="hljs-comment">// Copy the length and nodesize</span><br>    length = other.length;<br>    nodesize = other.nodesize;<br><br>    <span class="hljs-comment">// Copy the nodes</span><br>    node *p = head;<br>    node *otherp = other.head-&gt;next;<br><br>    <span class="hljs-keyword">while</span> (otherp != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        p-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(nodesize);<br>        p = p-&gt;next;<br><br>        <span class="hljs-comment">// Copy the data</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; otherp-&gt;size; ++i)<br>        &#123;<br>            p-&gt;data[i] = otherp-&gt;data[i];<br>        &#125;<br>        p-&gt;size = otherp-&gt;size;<br><br>        <span class="hljs-comment">// Move to the next node in the other list</span><br>        otherp = otherp-&gt;next;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief find the starting position of a given position</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param start the given position (or index)</span><br><span class="hljs-comment"> * @param pos find the position in the node (reference)</span><br><span class="hljs-comment"> * @param p find the node where the start lies in</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::findPos</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> &amp;pos, node *&amp;p)</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;  <span class="hljs-comment">// define a counter</span><br>    p = head-&gt;next; <span class="hljs-comment">// the first node(pointer)</span><br><br>    <span class="hljs-keyword">while</span> (count &lt; start)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (count + p-&gt;size &lt; start)<br>        &#123;<br>            <span class="hljs-comment">// the start isn&#x27;t in this node!</span><br>            count += p-&gt;size;<br>            p = p-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">// the start is in this node!</span><br>            pos = start - count;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief get a substring</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param start the start position</span><br><span class="hljs-comment"> * @param sublength the length of the substring</span><br><span class="hljs-comment"> * @throws std::out_of_range If pos is out of range.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function">linkString <span class="hljs-title">linkString::substr</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">int</span> sublength)</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    linkString tmp; <span class="hljs-comment">// storing result</span><br>    <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> pos = <span class="hljs-number">0</span>;<br>    node *p, *tp = tmp.head;<br><br>    <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span> || start &gt;= length)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Invalid starting position!&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-comment">// if the length left is smaller than the given sublength:</span><br>        <span class="hljs-keyword">if</span> (start + sublength &gt;= length)<br>        &#123;<br>            sublength = length - start;<br>        &#125;<br><br>        tmp.length = sublength;<br>        tmp.nodesize = (sublength == <span class="hljs-number">0</span>) ? <span class="hljs-number">1</span> : <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(std::<span class="hljs-built_in">sqrt</span>(sublength));<br><br>        <span class="hljs-comment">// use the findPos function to find p and pos</span><br>        <span class="hljs-built_in">findPos</span>(start, pos, p);<br><br>        <span class="hljs-comment">// after getting the starting position, we can copy the substring!</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> index = <span class="hljs-number">0</span>; index &lt; tmp.length;)<br>        &#123;<br>            <span class="hljs-comment">/*</span><br><span class="hljs-comment">             * two for-loop layers, index represents the substring index</span><br><span class="hljs-comment">             * inner loop is used to copy every block, while the outer loop is used to update the block.</span><br><span class="hljs-comment">             */</span><br>            tp = tp-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(tmp.nodesize);<br>            <span class="hljs-keyword">while</span> (tp-&gt;size &lt;= tmp.nodesize &amp;&amp; index &lt; tmp.length)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (pos == p-&gt;size)<br>                &#123;<br>                    <span class="hljs-comment">/*</span><br><span class="hljs-comment">                     * the traverse has ended in the block.</span><br><span class="hljs-comment">                     * p needs to be updated to the next block.</span><br><span class="hljs-comment">                     */</span><br>                    p = p-&gt;next;<br>                    pos = <span class="hljs-number">0</span>;<br>                &#125;<br>                tp-&gt;data[tp-&gt;size] = p-&gt;data[pos];<br><br>                <span class="hljs-comment">// value update</span><br>                pos++;<br>                index++;<br>                tp-&gt;size++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> tmp;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief Split operations for a block (one to two) (private func).</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param p The node to be split.</span><br><span class="hljs-comment"> * @param pos The specific index where the split happens (the pos position is moved to the second node).</span><br><span class="hljs-comment"> * @throws std::out_of_range If pos is out of range.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::split</span><span class="hljs-params">(node *p, <span class="hljs-type">int</span> pos)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// Check if p is nullptr</span><br>    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">&quot;The node to be split is null.&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// Check if pos is within the valid range</span><br>    <span class="hljs-keyword">if</span> (pos &lt; <span class="hljs-number">0</span> || pos &gt; p-&gt;size)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;The split position is out of range.&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// Create a new node and insert it after p</span><br>    node *nextp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(nodesize, p-&gt;next);<br>    p-&gt;next = nextp;<br><br>    <span class="hljs-comment">// Move data from p to nextp</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = pos; i &lt; p-&gt;size; i++)<br>    &#123;<br>        nextp-&gt;data[i - pos] = p-&gt;data[i];<br>    &#125;<br><br>    <span class="hljs-comment">// Update sizes of both nodes</span><br>    nextp-&gt;size = p-&gt;size - pos; <span class="hljs-comment">// Size of the new node</span><br>    p-&gt;size = pos;               <span class="hljs-comment">// Size of the original node after split</span><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief merge two nodes into one</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param p one of the nodes that need to be merged</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::merge</span><span class="hljs-params">(node *p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">nullptr</span> || p-&gt;next == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span>;<br>    node *nextp = p-&gt;next;<br>    <span class="hljs-keyword">if</span> (p-&gt;size + nextp-&gt;size &lt;= nodesize)<br>    &#123;<br>        <span class="hljs-comment">// merge available</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> pos = <span class="hljs-number">0</span>; pos &lt; nextp-&gt;size; ++pos, ++p-&gt;size)<br>        &#123;<br>            p-&gt;data[p-&gt;size] = nextp-&gt;data[pos];<br>        &#125;<br>        p-&gt;next = nextp-&gt;next;<br>        <span class="hljs-keyword">delete</span> nextp;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief insert a string into linked string, using the findPos, split and merge functions</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param start the starting position (using findPos)</span><br><span class="hljs-comment"> * @param other the string that needs to be inserted</span><br><span class="hljs-comment"> * @param insertsize the length of the string needs to be inserted, default value for all string</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::insert</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">const</span> linkString &amp;other, <span class="hljs-type">int</span> insertsize)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (insertsize == <span class="hljs-number">-1</span>)<br>    &#123;<br>        insertsize = other.length;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span> || start &gt; length)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;The insert position is out of range&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (insertsize &lt; <span class="hljs-number">0</span> || insertsize &gt; other.length)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Invalid insertsize&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * pos and p is calculated by func findPos, representing the insert position</span><br><span class="hljs-comment">     * nextp is right after p, which is used for the split func</span><br><span class="hljs-comment">     * after the insert, the merge function will be used</span><br><span class="hljs-comment">     */</span><br>    node *p, *nextp, *tmp;<br>    <span class="hljs-type">int</span> pos = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">findPos</span>(start, pos, p);<br>    <span class="hljs-built_in">split</span>(p, pos);<br><br>    nextp = p-&gt;next; <span class="hljs-comment">// nextp is used for stroage in case the link string is broken</span><br>    linkString tobeinserted = other.<span class="hljs-built_in">substr</span>(<span class="hljs-number">0</span>, insertsize);<br>    tmp = tobeinserted.head-&gt;next;<br>    <span class="hljs-keyword">while</span> (tmp != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-comment">// operate for every node</span><br>        <span class="hljs-keyword">for</span> (pos = <span class="hljs-number">0</span>; pos &lt; tmp-&gt;size; ++pos)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (p-&gt;size == nodesize)<br>            &#123;<br>                <span class="hljs-comment">// need for expansion</span><br>                p = p-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">node</span>(nodesize);<br>            &#125;<br>            p-&gt;data[p-&gt;size] = tmp-&gt;data[pos];<br>            ++p-&gt;size;<br>        &#125;<br>        tmp = tmp-&gt;next;<br>    &#125;<br><br>    length += insertsize;<br>    p-&gt;next = nextp;<br>    <span class="hljs-built_in">merge</span>(p); <span class="hljs-comment">// see whether the merge is available</span><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief Remove the specific part of a linked string</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param deletelength the length to be deleted</span><br><span class="hljs-comment"> * @param start the starting position that needs tobe removed (the start itself is included), default for remove from the back</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::remove</span><span class="hljs-params">(<span class="hljs-type">int</span> deletelength, <span class="hljs-type">int</span> start)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (start == <span class="hljs-number">-1</span>)<br>    &#123;<br>        start = length - deletelength;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (start &lt; <span class="hljs-number">0</span> || start &gt;= length)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Invalid starting position!&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// find the position to be removed</span><br>    node *startp; <span class="hljs-comment">// represent the starting position to be deleted</span><br>    <span class="hljs-type">int</span> pos = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">findPos</span>(start, pos, startp);<br><br>    <span class="hljs-built_in">split</span>(startp, pos); <span class="hljs-comment">// split the node</span><br><br>    <span class="hljs-keyword">if</span> (start + deletelength &gt;= length)<br>    &#123;<br>        deletelength = length - start;<br>        length = start;<br>        <span class="hljs-comment">// if the deletelength goes over the edge</span><br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        length -= deletelength;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<br>    &#123;<br>        node *nextp = startp-&gt;next;<br>        <span class="hljs-keyword">if</span> (deletelength &gt; nextp-&gt;size)<br>        &#123;<br>            <span class="hljs-comment">// the end node is not here! Then delete this node!</span><br>            deletelength -= nextp-&gt;size;<br>            startp-&gt;next = nextp-&gt;next;<br>            <span class="hljs-keyword">delete</span> nextp;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">// the end node is here!</span><br>            <span class="hljs-built_in">split</span>(nextp, deletelength);<br>            startp-&gt;next = nextp-&gt;next;<br>            <span class="hljs-comment">// now the nextp is all the data needs tobe deleted, while nextp-&gt;next stores the data remaining</span><br>            <span class="hljs-keyword">delete</span> nextp;<br>            <span class="hljs-keyword">break</span>; <span class="hljs-comment">// jump out of the loop after the remove operation is done!</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">merge</span>(startp); <span class="hljs-comment">// merge all the startp;</span><br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief Overloads the [] operator to access a character at a specific index in the linkString.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param index The position of the character to access (0-based index).</span><br><span class="hljs-comment"> * @return The character at the specified index.</span><br><span class="hljs-comment"> * @throws std::out_of_range If the index is invalid (less than 0 or greater than or equal to the string length).</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">char</span> linkString::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index) <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= length)<br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Index &quot;</span> + std::<span class="hljs-built_in">to_string</span>(index) + <span class="hljs-string">&quot; is out of range. Valid range is [0, &quot;</span> + std::<span class="hljs-built_in">to_string</span>(length - <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;].&quot;</span>);<br>    &#125;<br><br>    node *current_node;    <span class="hljs-comment">// Pointer to the node containing the target character</span><br>    <span class="hljs-type">int</span> node_position = <span class="hljs-number">0</span>; <span class="hljs-comment">// Position within the node</span><br>    <span class="hljs-built_in">findPos</span>(index, node_position, current_node);<br><br>    <span class="hljs-keyword">return</span> current_node-&gt;data[node_position];<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the overload function of += operator</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param other the linkString needs to be appended</span><br><span class="hljs-comment"> * @return the reference of the appended string</span><br><span class="hljs-comment"> */</span><br>linkString &amp;linkString::<span class="hljs-keyword">operator</span>+=(<span class="hljs-type">const</span> linkString &amp;other)<br>&#123;<br>    <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">insert</span>(length, other);<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the overload function of -= operator</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param other the linkString needs to be poped (removed)</span><br><span class="hljs-comment"> * @return the reference of the string</span><br><span class="hljs-comment"> */</span><br>linkString &amp;linkString::<span class="hljs-keyword">operator</span>-=(<span class="hljs-type">const</span> linkString &amp;other)<br>&#123;<br>    linkString tmp = <span class="hljs-built_in">substr</span>(length - other.length, other.length);<br>    <span class="hljs-keyword">if</span> (tmp == other)<br>    &#123;<br>        <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">remove</span>(length - other.length, other.length);<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">&quot;The string cannot be removed!&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the overload function of + operator</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param s1 the left plus string</span><br><span class="hljs-comment"> * @param s2 the right plus string</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return a tmp value of the added string</span><br><span class="hljs-comment"> */</span><br>linkString <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    linkString ans = s1;<br>    ans += s2;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">move</span>(ans);<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief judge whether the two strings is equal</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param s1 the left string needs to be judged</span><br><span class="hljs-comment"> * @param s2 the right string needs to be judged</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return a bool value</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    <span class="hljs-keyword">if</span> (s<span class="hljs-number">1.l</span>ength != s<span class="hljs-number">2.l</span>ength)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-comment">// uses two pointers to traverse the linkString</span><br><br>    linkString::node *p1 = s<span class="hljs-number">1.</span>head-&gt;next;<br>    linkString::node *p2 = s<span class="hljs-number">2.</span>head-&gt;next;<br>    <span class="hljs-type">int</span> current_pos_for_s1 = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> current_pos_for_s2 = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">while</span> (p1 &amp;&amp; p2)<br>    &#123;<br>        <span class="hljs-comment">// the end statement:one of the node* reacheds to the end</span><br>        <span class="hljs-keyword">if</span> (p1-&gt;data[current_pos_for_s1] != p2-&gt;data[current_pos_for_s2])<br>        &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// update the index</span><br>        current_pos_for_s1++;<br>        current_pos_for_s2++;<br><br>        <span class="hljs-comment">// update the node</span><br>        <span class="hljs-keyword">if</span> (current_pos_for_s1 == p1-&gt;size)<br>        &#123;<br>            p1 = p1-&gt;next;<br>            current_pos_for_s1 = <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (current_pos_for_s2 == p2-&gt;size)<br>        &#123;<br>            p2 = p2-&gt;next;<br>            current_pos_for_s2 = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief judge whether the two strings are not equal</span><br><span class="hljs-comment"> * * All the parameters are equal to the == function</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    <span class="hljs-keyword">return</span> !(s1 == s2);<br>&#125;<br><br><span class="hljs-comment">// several functions for string comparison</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the sorted function for string comparison, if s1 &gt; s2, then the func returns true.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    <span class="hljs-comment">// pointers for traverse</span><br>    linkString::node *p1 = s<span class="hljs-number">1.</span>head-&gt;next;<br>    linkString::node *p2 = s<span class="hljs-number">2.</span>head-&gt;next;<br>    <span class="hljs-type">int</span> current_pos_for_s1 = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> current_pos_for_s2 = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">while</span> (p1 != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (p1-&gt;data[current_pos_for_s1] &lt; p2-&gt;data[current_pos_for_s2])<br>        &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (p1-&gt;data[current_pos_for_s1] &gt; p2-&gt;data[current_pos_for_s2])<br>        &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// update the index</span><br>        current_pos_for_s1++;<br>        current_pos_for_s2++;<br><br>        <span class="hljs-comment">// update the node</span><br>        <span class="hljs-keyword">if</span> (current_pos_for_s1 == p1-&gt;size)<br>        &#123;<br>            p1 = p1-&gt;next;<br>            current_pos_for_s1 = <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (current_pos_for_s2 == p2-&gt;size)<br>        &#123;<br>            p2 = p2-&gt;next;<br>            current_pos_for_s2 = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// whatever p2 is (nullptr or not), there is no possilbility s1&gt;s2!</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;=(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    <span class="hljs-keyword">return</span> s1 &gt; s2 || s1 == s2;<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    <span class="hljs-keyword">return</span> !(s1 &gt;= s2);<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;=(<span class="hljs-type">const</span> linkString &amp;s1, <span class="hljs-type">const</span> linkString &amp;s2)<br>&#123;<br>    <span class="hljs-keyword">return</span> !(s1 &gt; s2);<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the overload function of &lt;&lt; operator(for output)</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param os reference to the istream classes</span><br><span class="hljs-comment"> * @param s the string that needs to be printed.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return the l-value for os</span><br><span class="hljs-comment"> */</span><br>std::ostream &amp;<span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp;os, <span class="hljs-type">const</span> linkString &amp;s)<br>&#123;<br>    <span class="hljs-comment">// for traverse</span><br>    linkString::node *p = s.head-&gt;next;<br><br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> index = <span class="hljs-number">0</span>; index &lt; p-&gt;size; index++)<br>        &#123;<br>            os &lt;&lt; p-&gt;data[index];<br>            <span class="hljs-comment">// because the string doesnot have &#x27;\0&#x27;, we cannot &lt;&lt; it at a time.</span><br>        &#125;<br>        p = p-&gt;next;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the overload function of &gt;&gt; operator(for input)</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param is reference to the istream classes</span><br><span class="hljs-comment"> * @param s the string that needs to be printed.</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return the l-value for is</span><br><span class="hljs-comment"> */</span><br>std::istream &amp;<span class="hljs-keyword">operator</span>&gt;&gt;(std::istream &amp;is, linkString &amp;s)<br>&#123;<br>    <span class="hljs-type">const</span> <span class="hljs-type">int</span> maxinputsize = <span class="hljs-number">1024</span>;<br>    <span class="hljs-type">char</span> *newstring = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[maxinputsize];<br>    <span class="hljs-type">int</span> currrentlength = <span class="hljs-number">0</span>;<br>    newstring[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br><br>    <span class="hljs-type">char</span> current_ch;<br>    <span class="hljs-keyword">while</span> (is.<span class="hljs-built_in">get</span>(current_ch) &amp;&amp; current_ch != <span class="hljs-string">&#x27;\n&#x27;</span>)<br>    &#123;<br>        newstring[currrentlength] = current_ch;<br>        currrentlength++;<br>    &#125;<br>    newstring[currrentlength] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br><br>    <span class="hljs-function">linkString <span class="hljs-title">tmp</span><span class="hljs-params">(newstring)</span></span>;<br>    s = tmp;<br><br>    <span class="hljs-keyword">delete</span>[] newstring;<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief the visualization of linked string</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">linkString::visualPrint</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// for traverse</span><br>    node *current_node = head-&gt;next;<br>    <span class="hljs-type">int</span> current_node_count = <span class="hljs-number">0</span>;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;The visualization for the linkString:&quot;</span> &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;The string has &quot;</span> &lt;&lt; length &lt;&lt; <span class="hljs-string">&quot;characters&quot;</span> &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">while</span> (current_node != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Node &quot;</span> &lt;&lt; current_node_count + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;  Address: &quot;</span> &lt;&lt; current_node &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;  Size: &quot;</span> &lt;&lt; current_node-&gt;size &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;  Data: &quot;</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; current_node-&gt;size; ++i)<br>        &#123;<br>            std::cout &lt;&lt; current_node-&gt;data[i];<br>        &#125;<br>        std::cout &lt;&lt; std::endl;<br><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;----------------------------------------------------------------------&quot;</span> &lt;&lt; std::endl;<br><br>        current_node = current_node-&gt;next;<br>        ++current_node_count;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="String-in-string"><a href="#String-in-string" class="headerlink" title="String in string"></a>String in <code>string</code></h3><p>è‡ªæ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº† <strong>å­—ç¬¦ä¸²stringç±»çš„å‡ ä¹æ‰€æœ‰å¸¸è§æ“ä½œ</strong>ï¼ˆå½“ç„¶è¿™é‡ŒSTLçš„å®ç°è¿˜å¾ˆé¥è¿œï¼‰ï¼Œåœ¨C++æ ‡å‡†ä¸­ï¼Œstringç±»çš„ç›¸å…³å·¥å…·å‡½æ•°è¢«é›†æˆåˆ°äº†<string>åº“é‡Œï¼Œä¸‹æ–‡ç»™å‡ºä¸€äº›å¸¸è§çš„stringç±»çš„å‡½æ•°å£°æ˜å’Œä½¿ç”¨æ–¹æ³•ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// æ„é€ å‡½æ•°</span><br><span class="hljs-built_in">string</span>(); <span class="hljs-comment">// é»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²</span><br><span class="hljs-built_in">string</span>(<span class="hljs-type">const</span> string&amp; str); <span class="hljs-comment">// æ‹·è´æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªä¸strç›¸åŒçš„å­—ç¬¦ä¸²</span><br><span class="hljs-built_in">string</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s); <span class="hljs-comment">// ä½¿ç”¨Cé£æ ¼å­—ç¬¦ä¸²åˆå§‹åŒ–</span><br><span class="hljs-built_in">string</span>(<span class="hljs-type">size_t</span> n, <span class="hljs-type">char</span> c); <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåŒ…å«nä¸ªå­—ç¬¦cçš„å­—ç¬¦ä¸²</span><br><br><span class="hljs-comment">// èµ‹å€¼æ“ä½œ</span><br>string&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> string&amp; str); <span class="hljs-comment">// å°†strèµ‹å€¼ç»™å½“å‰å­—ç¬¦ä¸²</span><br>string&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s); <span class="hljs-comment">// å°†Cé£æ ¼å­—ç¬¦ä¸²sèµ‹å€¼ç»™å½“å‰å­—ç¬¦ä¸²</span><br>string&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">char</span> c); <span class="hljs-comment">// å°†å­—ç¬¦cèµ‹å€¼ç»™å½“å‰å­—ç¬¦ä¸²</span><br><br><span class="hljs-comment">// è®¿é—®å…ƒç´ </span><br><span class="hljs-type">char</span>&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">size_t</span> pos); <span class="hljs-comment">// è¿”å›posä½ç½®çš„å­—ç¬¦å¼•ç”¨</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span>&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">size_t</span> pos) <span class="hljs-type">const</span>; <span class="hljs-comment">// è¿”å›posä½ç½®çš„å­—ç¬¦å¸¸é‡å¼•ç”¨</span><br><span class="hljs-function"><span class="hljs-type">char</span>&amp; <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos)</span></span>; <span class="hljs-comment">// è¿”å›posä½ç½®çš„å­—ç¬¦å¼•ç”¨ï¼Œå¹¶è¿›è¡Œè¾¹ç•Œæ£€æŸ¥</span><br><span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>&amp; <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// è¿”å›posä½ç½®çš„å­—ç¬¦å¸¸é‡å¼•ç”¨ï¼Œå¹¶è¿›è¡Œè¾¹ç•Œæ£€æŸ¥</span><br><br><span class="hljs-comment">// å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</span><br><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸size()åŠŸèƒ½ç›¸åŒ</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</span><br><br><span class="hljs-comment">// å­—ç¬¦ä¸²æ“ä½œ</span><br><span class="hljs-function">string&amp; <span class="hljs-title">append</span><span class="hljs-params">(<span class="hljs-type">const</span> string&amp; str)</span></span>; <span class="hljs-comment">// å°†strè¿½åŠ åˆ°å½“å‰å­—ç¬¦ä¸²æœ«å°¾</span><br><span class="hljs-function">string&amp; <span class="hljs-title">append</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s)</span></span>; <span class="hljs-comment">// å°†Cé£æ ¼å­—ç¬¦ä¸²sè¿½åŠ åˆ°å½“å‰å­—ç¬¦ä¸²æœ«å°¾</span><br><span class="hljs-function">string&amp; <span class="hljs-title">append</span><span class="hljs-params">(<span class="hljs-type">size_t</span> n, <span class="hljs-type">char</span> c)</span></span>; <span class="hljs-comment">// å°†nä¸ªå­—ç¬¦cè¿½åŠ åˆ°å½“å‰å­—ç¬¦ä¸²æœ«å°¾</span><br><br><span class="hljs-function">string&amp; <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos, <span class="hljs-type">const</span> string&amp; str)</span></span>; <span class="hljs-comment">// åœ¨posä½ç½®æ’å…¥str</span><br><span class="hljs-function">string&amp; <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* s)</span></span>; <span class="hljs-comment">// åœ¨posä½ç½®æ’å…¥Cé£æ ¼å­—ç¬¦ä¸²s</span><br><span class="hljs-function">string&amp; <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos, <span class="hljs-type">size_t</span> n, <span class="hljs-type">char</span> c)</span></span>; <span class="hljs-comment">// åœ¨posä½ç½®æ’å…¥nä¸ªå­—ç¬¦c</span><br><br><span class="hljs-function">string&amp; <span class="hljs-title">erase</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos = <span class="hljs-number">0</span>, <span class="hljs-type">size_t</span> len = npos)</span></span>; <span class="hljs-comment">// ä»posä½ç½®å¼€å§‹åˆ é™¤lenä¸ªå­—ç¬¦</span><br><br><span class="hljs-function">string&amp; <span class="hljs-title">replace</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos, <span class="hljs-type">size_t</span> len, <span class="hljs-type">const</span> string&amp; str)</span></span>; <span class="hljs-comment">// ä»posä½ç½®å¼€å§‹æ›¿æ¢lenä¸ªå­—ç¬¦ä¸ºstr</span><br><span class="hljs-function">string&amp; <span class="hljs-title">replace</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos, <span class="hljs-type">size_t</span> len, <span class="hljs-type">const</span> <span class="hljs-type">char</span>* s)</span></span>; <span class="hljs-comment">// ä»posä½ç½®å¼€å§‹æ›¿æ¢lenä¸ªå­—ç¬¦ä¸ºCé£æ ¼å­—ç¬¦ä¸²s</span><br><br><span class="hljs-comment">// å­å­—ç¬¦ä¸²</span><br><span class="hljs-function">string <span class="hljs-title">substr</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos = <span class="hljs-number">0</span>, <span class="hljs-type">size_t</span> len = npos)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// è¿”å›ä»posä½ç½®å¼€å§‹é•¿åº¦ä¸ºlençš„å­å­—ç¬¦ä¸²</span><br><br><span class="hljs-comment">// æŸ¥æ‰¾</span><br><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">const</span> string&amp; str, <span class="hljs-type">size_t</span> pos = <span class="hljs-number">0</span>)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// ä»posä½ç½®å¼€å§‹æŸ¥æ‰¾strï¼Œè¿”å›é¦–æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s, <span class="hljs-type">size_t</span> pos = <span class="hljs-number">0</span>)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// ä»posä½ç½®å¼€å§‹æŸ¥æ‰¾Cé£æ ¼å­—ç¬¦ä¸²sï¼Œè¿”å›é¦–æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">char</span> c, <span class="hljs-type">size_t</span> pos = <span class="hljs-number">0</span>)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// ä»posä½ç½®å¼€å§‹æŸ¥æ‰¾å­—ç¬¦cï¼Œè¿”å›é¦–æ¬¡å‡ºç°çš„ä½ç½®</span><br><br><span class="hljs-comment">// æ¯”è¾ƒ</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-type">const</span> string&amp; str)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// æ¯”è¾ƒå½“å‰å­—ç¬¦ä¸²ä¸strï¼Œè¿”å›0è¡¨ç¤ºç›¸ç­‰ï¼Œè´Ÿæ•°è¡¨ç¤ºå°äºï¼Œæ­£æ•°è¡¨ç¤ºå¤§äº</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* s)</span> <span class="hljs-type">const</span></span>; <span class="hljs-comment">// æ¯”è¾ƒå½“å‰å­—ç¬¦ä¸²ä¸Cé£æ ¼å­—ç¬¦ä¸²s</span><br></code></pre></td></tr></table></figure><h2 id="String-Pattern-Algorithms-KMP"><a href="#String-Pattern-Algorithms-KMP" class="headerlink" title="String Pattern Algorithms: KMP"></a>String Pattern Algorithms: KMP</h2><h3 id="YOLO-You-only-look-once"><a href="#YOLO-You-only-look-once" class="headerlink" title="YOLO: You only look once!"></a>YOLO: You only look once!</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»‹ç»åœ¨å­—ç¬¦ä¸²ä¸­éå¸¸ç»å…¸çš„ç®—æ³•ä¹‹ä¸€ï¼š<strong>KMPå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</strong>ã€‚</p><p>InÂ <a href="https://en.wikipedia.org/wiki/Computer_science" title="Computer science">computer science</a>, theÂ <strong>Knuthâ€“Morrisâ€“Pratt algorithm</strong>Â (orÂ <strong>KMP algorithm</strong>) is aÂ <a href="https://en.wikipedia.org/wiki/String-searching_algorithm" title="String-searching algorithm">string-searching algorithm</a>Â that searches for occurrences of a â€œwordâ€Â <code>W</code>Â within a main â€œtext stringâ€Â <code>S</code>Â by employing the observation that when a mismatch occurs, the word itself embodies sufficient information to determine where the next match could begin, thus bypassing re-examination of previously matched characters. <sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="[Knuthâ€“Morrisâ€“Pratt algorithm - Wikipedia](https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm)">[1]</span></a></sup><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="[Papers of KMP algorithm - www.cs.jhu.edu](https://www.cs.jhu.edu/~misha/ReadingSeminar/Papers/Knuth77.pdf)">[2]</span></a></sup></p><blockquote><p>KMPç®—æ³•ä¸­çš„Kæ˜¯Knuthè€çˆ·å­ï¼ä¹Ÿå°±æ˜¯å›¾çµå¥–å¾—ä¸»ï¼Œã€ŠThe Art of Computer Programmingã€‹å·¨è‘—çš„ä½œè€…ï¼</p></blockquote><p><strong>KMPç®—æ³•è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯å­—ç¬¦ä¸²çš„å­ä¸²åŒ¹é…é—®é¢˜</strong>ï¼šç»™å®šå­—ç¬¦ä¸²<code>total_string</code> å’Œ <code>target_string</code>ï¼Œæ˜¯å¦å­˜åœ¨<code>total_string</code> çš„ä¸€ä¸ª<code>substr</code>è®°ä¸º<code>sub_tested</code>ï¼Œä½¿<code>sub_tested</code> &#x3D;&#x3D; <code>target_string</code>ï¼Ÿå¦‚æœæœ‰ï¼Œè¿”å›æœ€å°çš„å­ä¸²é¦–å­—ç¬¦çš„ç´¢å¼•å€¼ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å›-1ã€‚</p><p>è¿™ä¸ªé—®é¢˜æœ€æš´åŠ›çš„è§£å†³æ–¹å¼æ˜¯<strong>æšä¸¾</strong>ï¼Œå³æšä¸¾é<code>total_string</code>ä¸­æ¯ä¸€ç§ä¸<code>target_string</code>ç­‰é•¿çš„å­ä¸²ï¼Œå¹¶å¯¹æ¯ä¸€ç§æƒ…å†µä½œæ¯”è¾ƒã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">outermatch</span><span class="hljs-params">(seqString target, seqString totalString, <span class="hljs-type">int</span> (*string_match_algorithm[])(seqString, seqString), <span class="hljs-type">int</span> func_choice)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> index = string_match_algorithm[func_choice](target, totalString);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Using &quot;</span> &lt;&lt; func_choice &lt;&lt; <span class="hljs-string">&quot;th algorithm&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-keyword">if</span> (index == <span class="hljs-number">-1</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Unfortunately, the match fails.&quot;</span> &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;The string &quot;</span> &lt;&lt; totalString &lt;&lt; <span class="hljs-string">&quot; does not have a substring &quot;</span> &lt;&lt; target &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Got it!&quot;</span> &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;There exits a target string with the index of &quot;</span> &lt;&lt; index &lt;&lt; <span class="hljs-string">&quot; and with the length of &quot;</span> &lt;&lt; target.<span class="hljs-built_in">length</span>() &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Which means there exists a substr: &quot;</span> &lt;&lt; totalString.<span class="hljs-built_in">substr</span>(index, target.<span class="hljs-built_in">length</span>()) &lt;&lt; <span class="hljs-string">&quot; ,which matches with target: &quot;</span> &lt;&lt; target &lt;&lt; std::endl;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief The most complex implementation of string-matching, using enumeration</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param target The target string needs to be matched</span><br><span class="hljs-comment"> * @param total_string The whole string that needs to be detected</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @return the index for the first match. return -1 if no match occurs.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">complexStringMatch</span><span class="hljs-params">(seqString target, seqString totalString)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> target_length = target.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-type">int</span> total_length = totalString.<span class="hljs-built_in">length</span>();<br><br>    <span class="hljs-keyword">if</span> (total_length &lt; target_length)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i + target_length &lt;= total_length; ++i)<br>    &#123;<br>        seqString tmp = totalString.<span class="hljs-built_in">substr</span>(i, target_length);<br><br>        <span class="hljs-keyword">if</span> (tmp == target)<br>        &#123;<br>            <span class="hljs-comment">// match successfully</span><br>            <span class="hljs-keyword">return</span> i;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·çš„ç®—æ³•ä¼šå¸¦æ¥<code>O(mn)</code>çš„æ—¶é—´å¤æ‚åº¦ï¼Œmæ˜¯æ€»ä¸²çš„é•¿åº¦ï¼Œnæ˜¯å­ä¸²çš„é•¿åº¦ï¼Œåœ¨å­—ç¬¦ä¸²é•¿åº¦å¾ˆå¤§æ—¶æ•ˆç‡å¾ˆä½ã€‚<strong>è€ŒKMPç®—æ³•é‡‡ç”¨äº†æ—¶é—´æ¢ç©ºé—´çš„å·§å¦™ä¹‹ä¸¾</strong>ï¼Œå°†æœ€åæ—¶é—´å¤æ‚åº¦å‹ç¼©åˆ°äº†<strong>çº¿æ€§çº§åˆ«</strong>ã€‚</p><blockquote><p>ä¸‹é¢æŠŠ<code>total_string</code>ç§°ä¸ºä¸»ä¸²ï¼Œ<code>target_string</code>ç§°ä¸ºå­ä¸²</p></blockquote><p>å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="[KMPç®—æ³•å¯è§†åŒ– å¥‡ä¹ç¼–ç¨‹å­¦é™¢](https://www.bilibili.com/video/BV1AY4y157yL/)">[3]</span></a></sup> ç±»ä¼¼ä¸<strong>ç§»åŠ¨æŒ‡é’ˆ</strong>çš„ç»å…¸ç®—æ³•ï¼ŒKMPç®—æ³•é¦–å…ˆåœ¨ä¸»ä¸²ä¸­å­˜åœ¨ä¸€ä¸ª<strong>æ°¸è¿œä¸å›å¤´çš„æŒ‡é’ˆ</strong>ï¼Œæ¥æ£€æµ‹æ‰€æŒ‡å‘çš„å­—ç¬¦æ˜¯å¦å’Œå­ä¸²ä¸­çš„å­—ç¬¦ç›¸å¯¹åº”ã€‚å¾ˆæ˜¾ç„¶ï¼Œä¸Šæ–‡çš„æš´åŠ›æšä¸¾ç®—æ³•å¤šåšäº†å¾ˆå¤šçš„é‡å¤è®¡ç®—ï¼Œ<strong>ä¸ºäº†å‡å°‘è¿™äº›é‡å¤çš„åŒ¹é…è®¡ç®—</strong>ï¼ŒKMPåˆç»´æŠ¤äº†ä¸€ä¸ª<code>next</code> æ•°ç»„ï¼ˆæˆ–è€…å«<code>lps</code>æ•°ç»„ï¼‰ï¼Œç”¨æ¥å­˜å‚¨ä¿¡æ¯ï¼Œè¿™æ ·ä¿è¯äº†<strong>æŒ‡é’ˆå¯ä»¥æ°¸ä¸å›å¤´ï¼Œä½¿ç”¨ä»¥å‰å­˜å‚¨çš„ä¿¡æ¯</strong>ã€‚</p><blockquote><p>é‚£<code>lps</code>æ•°ç»„å‚¨å­˜äº†ä»€ä¹ˆä¿¡æ¯ï¼Ÿ<strong>LPS æœ€é•¿å…¬å…±å‰åç¼€</strong>æ•°ç»„çš„ä½œç”¨æ˜¯ï¼š<strong>å½“åŒ¹é…å¤±è´¥æ—¶ï¼Œå‘Šè¯‰å­ä¸²åº”è¯¥å›é€€åˆ°å“ªä¸ªä½ç½®</strong>ã€‚ä¸»ä¸²æŒ‡é’ˆæ°¸ä¸å›é€€ï¼Œå­ä¸²æŒ‡é’ˆæ ¹æ® LPS å€¼è·³è·ƒã€‚</p></blockquote><p>ç†è§£èµ·æ¥è‚¯å®šæœ‰å›°éš¾ï¼Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œä¾‹å¦‚ä¸»ä¸²ABABABABCï¼Œå­ä¸²ABABCï¼š</p><table><thead><tr><th>ä¸»ä¸²</th><th>AğŸ˜ˆ</th><th>B</th><th>A</th><th>B</th><th>A</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>AğŸ˜</td><td>B</td><td>A</td><td>B</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>forward</strong></td></tr></tbody></table><p>æˆ‘ä»¬å‡è®¾lpsæ•°ç»„å·²ç»ç”Ÿæˆå¥½äº†ï¼Œç°åœ¨æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼ˆéƒ½ä½äºåˆå§‹ä½ç½®èµ·ç‚¹ï¼šğŸ˜ˆğŸ˜ï¼‰</p><blockquote><ul><li><p>ğŸ˜ˆï¼š<strong>ä½äºä¸»ä¸²çš„æ°¸ä¸åé€€çš„æŒ‡é’ˆ</strong>ï¼Œä»£è¡¨åœ¨ä¸»ä¸²ä¸­æ‰«æåˆ°çš„ä½ç½®ã€‚</p></li><li><p>ğŸ˜ï¼š<strong>ä½äºå­ä¸²çš„æŒ‡é’ˆ</strong>ï¼Œä¸è¿‡ä»–å¯èƒ½ä¼šåé€€</p></li></ul><p>ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ä¼šè¿›è¡ŒåŒ¹é…æ“ä½œï¼Œåˆ¤æ–­æ˜¯å¦å¯¹åº”ã€‚</p></blockquote><p>æ¥ä¸‹æ¥å­—ç¬¦è¿›è¡Œ<strong>ç¬¬ä¸€æ¬¡åŒ¹é…</strong>ï¼šA &#x3D;&#x3D; Aï¼ŒåŒ¹é…æˆåŠŸï¼Œ<strong>ä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶å‘å‰ç§»åŠ¨ä¸€æ­¥è¿›è¡Œåç»­åŒ¹é…</strong>ã€‚</p><p>æ¥ç€å°±æ˜¯ç¬¬äºŒæ­¥ï¼Œç¬¬ä¸‰æ­¥ï¼Œç¬¬å››æ­¥ï¼ŒåŒ¹é…éƒ½æˆåŠŸã€‚</p><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>BğŸ˜ˆ</th><th>A</th><th>B</th><th>A</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>A</td><td>BğŸ˜</td><td>A</td><td>B</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>forward</strong></td></tr></tbody></table><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>AğŸ˜ˆ</th><th>B</th><th>A</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>A</td><td>B</td><td>AğŸ˜</td><td>B</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>forward</strong></td></tr></tbody></table><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>A</th><th>BğŸ˜ˆ</th><th>A</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>A</td><td>B</td><td>A</td><td>BğŸ˜</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>forward</strong></td></tr></tbody></table><p>ç¬¬äº”æ­¥å¼€å§‹äº†ï¼Œå‡ºç°äº†å¼‚å¸¸æƒ…å†µï¼å­—ç¬¦ä¸²åŒ¹é…å¤±è´¥ã€‚</p><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>A</th><th>B</th><th>AğŸ˜ˆ</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>A</td><td>B</td><td>A</td><td>B</td><td>CğŸ˜‡</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>failure</strong></td></tr></tbody></table><p>åˆ«æ…Œï¼<strong>è™½ç„¶åŒ¹é…å¤±è´¥äº†ï¼Œä½†æˆ‘ä»¬å¹¶ä¸æ˜¯ä¸€æ— æ‰€è·</strong>ã€‚æˆ‘ä»¬è‡³å°‘å‘ç°å‰å››ä½çš„åŒ¹é…æ˜¯æœ‰æ•ˆçš„ï¼Œæˆ‘ä»¬å¦‚ä½•åˆ©ç”¨è¿™ä¸ªæœ‰æ•ˆä¿¡æ¯ï¼Ÿ</p><p>æ³¨æ„åŠ›æƒŠäººçš„KMPä¸‰äººå‘ç°ï¼Œæˆ‘ä»¬å¯ä»¥è®©å­ä¸²çš„ğŸ˜‡æŒ‡é’ˆ<strong>é€‚å½“çš„å›é€€å‡ æ­¥</strong>ã€‚æ³¨æ„æ˜¯<strong>é€‚å½“</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰å¿…è¦å›é€€åˆ°ç¬¬ä¸€ä½é‡æ–°å¼€å§‹ã€‚é‚£å›é€€åˆ°å“ªä¸€æ­¥å‘¢ï¼Ÿåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥<strong>å°†ğŸ˜‡æŒ‡é’ˆå›é€€ä¸¤æ­¥ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ</strong>ï¼š</p><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th><span style="color:red;">A</span></th><th><span style="color:red;">B</span></th><th><span style="color:red;">A</span>ğŸ˜ˆ</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td><span style="color:red;">A</span></td><td><span style="color:red;">B</span></td><td><span style="color:red;">AğŸ˜</span></td><td>B</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>&lt;- 2steps</strong></td></tr></tbody></table><p>ç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿäº†ï¼æˆ‘ä»¬å‘ç°è²Œä¼¼å­ä¸²çš„å‰ä¸‰ä½æ˜¯å¯¹åº”ä¸Šçš„ï¼Œè²Œä¼¼è¿˜æœ‰å¸Œæœ›ï¼æ­¤æ—¶ğŸ˜ˆğŸ˜å·²ç»é”™å¼€äº†ä½ç½®ï¼Œä½†ä¾æ—§å¯ä»¥åŒæ—¶å‘åç§»åŠ¨ï¼Œè¿›è¡Œæ¯”è¾ƒã€‚<strong>æ¢å¥è¯è¯´ï¼Œä¸»ä¸²çš„æŒ‡é’ˆæ— éœ€å‘åç§»åŠ¨ï¼Œåªéœ€å­ä¸²çš„ğŸ˜‡å‘åç§»åŠ¨é€‚å½“çš„ä½ç½®ï¼Œä¾¿å¯é‡æ–°â€œé”™ä½â€å¯¹æ¥ä¸Šï¼Œè¿›è¡Œåç»­çš„ç§»åŠ¨æ“ä½œã€‚</strong></p><p>æœ‰äº†è¿™ä¸ªåŸºæœ¬æ€è·¯ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥èµ°å®Œå‰©ä¸‹çš„æ‰«æè¿‡ç¨‹ï¼š</p><blockquote><p>ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨ğŸ˜€æ ‡æ³¨ä¸»ä¸²å’Œå­ä¸²ä¸­æ­£åœ¨åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ä½ç½®ï¼Œè¿™ä¸ªæœ¬èº«æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œåªæ˜¯ä¸ºäº†æ›´åŠ çš„ç›´è§‚ã€‚</p></blockquote><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>AğŸ˜€</th><th>B</th><th>A</th><th>BğŸ˜ˆ</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>AğŸ˜€</td><td>B</td><td>A</td><td>BğŸ˜</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>success</strong></td></tr></tbody></table><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>AğŸ˜€</th><th>B</th><th>A</th><th>B</th><th>AğŸ˜ˆ</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>AğŸ˜€</td><td>B</td><td>A</td><td>B</td><td>CğŸ˜‡</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td>fuckï¼</td></tr></tbody></table><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>A</th><th>B</th><th>AğŸ˜€</th><th>B</th><th>AğŸ˜ˆ</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>AğŸ˜€</td><td>B</td><td>AğŸ˜</td><td>B</td><td>C</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>&lt;- 2steps</strong></td></tr></tbody></table><table><thead><tr><th>ä¸»ä¸²</th><th>A</th><th>B</th><th>A</th><th>B</th><th>AğŸ˜€</th><th>B</th><th>A</th><th>B</th><th>CğŸ˜ˆ</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td>AğŸ˜€</td><td>B</td><td>A</td><td>B</td><td>CğŸ˜</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td>yeahï¼</td></tr></tbody></table><p>æˆ‘ä»¬æœ€ç»ˆæ‰¾åˆ°äº†åŒ¹é…çš„å­—ç¬¦ä¸²ï¼</p><p>ä¸è¿‡æœ‰ä¸¤ä¸ªé—®é¢˜è¿˜æœªè§£å†³ï¼š</p><p><strong>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæˆ‘å¦‚ä½•çŸ¥é“åœ¨åŒ¹é…å¤±è´¥çš„æ—¶å€™åº”è¯¥å›é€€åˆ°å“ªä¸ªä½ç½®ï¼Ÿ</strong></p><p>æˆ‘ä»¬å†æ¥ä»”ç»†çœ‹çœ‹å›é€€çš„æ—¶å€™åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œä»¥ç¬¬ä¸€æ¬¡å›é€€çš„æƒ…å†µä¸ºä¾‹ï¼š</p><table><thead><tr><th>ä¸»ä¸²</th><th><span style="color:blue;">A</span></th><th><span style="color:blue;">B</span></th><th><span style="color:red;">A</span></th><th><span style="color:red;">B</span></th><th><span style="color:black;">A</span>ğŸ˜ˆ</th><th>B</th><th>A</th><th>B</th><th>C</th></tr></thead><tbody><tr><td><strong>å­ä¸²</strong></td><td><span style="color:red;">A</span></td><td><span style="color:red;">B</span></td><td><span style="color:black;">AğŸ˜</span></td><td>B&lt;-</td><td>C&lt;-</td><td></td><td></td><td></td><td></td></tr><tr><td><strong>lpsæ•°ç»„</strong></td><td>0</td><td>0</td><td>1</td><td>2</td><td>0</td><td></td><td></td><td></td><td><strong>&lt;- 2steps</strong></td></tr></tbody></table><p>åœ¨ä¸»ä¸²ä¸­ï¼Œæœ¬åº”è¯¥æ˜¯è“è‰²çš„ABå’Œå­ä¸²ä¸­çº¢è‰²çš„ABè¿›è¡ŒåŒ¹é…ï¼ˆå®é™…ä¸Šä¹Ÿç¡®å®å¦‚æ­¤ï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬å·§å¦™çš„å‘ç°<strong>ä¸»ä¸²å°¾éƒ¨ä¹Ÿæœ‰ç›¸åŒçš„ABåºåˆ—</strong>ï¼Œè¿™å°±ç»™æˆ‘ä»¬ä¸€ç§<strong>é”™ä½</strong>çš„æœºä¼šï¼Œå³<strong>ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çº¢è‰²å’Œçº¢è‰²</strong>ç›¸åŒ¹é…çš„æœºä¼šã€‚</p><p>æ¢å¥è¯è¯´ï¼Œ<strong>æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„</strong>ï¼Œæ˜¯ä¹‹å‰å·²ç»åŒ¹é…å¥½çš„å­ä¸²ä¸­<strong>æœ€é•¿çš„ç›¸åŒå‰åç¼€</strong>ï¼ˆåœ¨ä¸Šæ–‡çš„æƒ…å†µä¸­æ˜¯ABï¼‰ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§çš„é”™ä½é•¿åº¦å¯èƒ½æ€§ã€‚</p><p><strong>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ï¼šç”µè„‘å¦‚ä½•çŸ¥é“åŒ¹é…å¤±è´¥çš„æ—¶å€™åº”è¯¥å›é€€åˆ°å“ªä¸ªä½ç½®ï¼Ÿ</strong></p><p>ç­”æ¡ˆï¼š<strong>æŸ¥è¡¨</strong>ï¼Œç¬¬ä¸‰è¡Œçš„lpsæ•°ç»„å°±æ˜¯ç­”æ¡ˆã€‚å½“ğŸ˜‡ä½äºå­ä¸²ç¬¬äº”ä¸ªä½ç½®çš„Cå¤„æ—¶ï¼Œä¼špeekä¸€ä¸‹ç¬¬å››ä¸ªä½ç½®ï¼ˆæœ€åä¸€ä¸ªåŒ¹é…æˆåŠŸçš„ä½ç½®ï¼‰çš„lpsæ•°ç»„å€¼ï¼Œå‘ç°æ˜¯2ï¼Œå› æ­¤å­ä¸²çš„æŒ‡é’ˆå›é€€2æ ¼ã€‚</p><p>åœ¨<strong>å‡è®¾lpsæ•°ç»„å·²ç»ç»™å‡ºçš„æ¡ä»¶ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å®ŒæˆKMPç®—æ³•çš„å¤§éƒ¨åˆ†å†…å®¹äº†ï¼</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// KMP algorithm implementation</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">KMP</span><span class="hljs-params">(seqString pattern, seqString text)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (pattern.<span class="hljs-built_in">isEmpty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">// Empty pattern matches at the start</span><br><br>    <span class="hljs-type">int</span> textLen = text.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-type">int</span> patLen = pattern.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">lps</span><span class="hljs-params">(patLen, <span class="hljs-number">0</span>)</span></span>;<br>    <span class="hljs-built_in">computeLPS</span>(pattern, lps);<br><br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Index for text</span><br>    <span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Index for pattern</span><br><br>    <span class="hljs-keyword">while</span> (i &lt; textLen) &#123;<br>        <span class="hljs-keyword">if</span> (pattern[j] == text[i]) &#123;<br>            i++;<br>            j++;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (j == patLen) &#123;<br>            <span class="hljs-keyword">return</span> i - j;  <span class="hljs-comment">// Match found, return the starting index</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; textLen &amp;&amp; pattern[j] != text[i]) &#123;<br>            <span class="hljs-keyword">if</span> (j != <span class="hljs-number">0</span>) &#123;<br>                j = lps[j - <span class="hljs-number">1</span>];  <span class="hljs-comment">// Fallback using the LPS array</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                i++;  <span class="hljs-comment">// No fallback possible, move to the next character in text</span><br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;  <span class="hljs-comment">// No match found</span><br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä»£ç ä¸­çš„<code>computeLPS()</code>å‡½æ•°å®Œæˆäº†lpsæ•°ç»„çš„è®¡ç®—å·¥ä½œï¼Œç¨åå®Œæˆã€‚</p><h3 id="How-to-compute-LPS"><a href="#How-to-compute-LPS" class="headerlink" title="How to compute LPS"></a>How to compute <code>LPS</code></h3><p>æœ€åä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•è®¡ç®—LPSæ•°ç»„ï¼Ÿæˆ‘ä»¬çŸ¥é“LPSæ•°ç»„çš„æœ¬è´¨å°±æ˜¯<strong>è®¡ç®—å­ä¸²ä¸­æœ€é•¿çš„ç›¸åŒå‰åç¼€é•¿åº¦</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´LPSçš„è®¡ç®—å’Œä¸»ä¸²æ— å…³ï¼Œè€Œæˆ‘ä»¬åœ¨æ‰«æçš„è¿‡ç¨‹ä¸­è‚¯å®šä¼šå®Œæ•´çš„éå†ä¸€éå­ä¸²ï¼Œå› æ­¤å¯ä»¥åœ¨æ‰«æçš„è¿‡ç¨‹ä¸­åŒæ­¥æ›´æ–°LPSæ•°ç»„ï¼Œä¸è¿‡åœ¨è¿™é‡Œä¸ºäº†æ–¹ä¾¿å†™å°è£…ï¼Œæˆ‘ä»¬åœ¨å¼€å§‹ä¹‹å‰æå‰è®¡ç®—å¥½LPSæ•°ç»„ã€‚</p><p><code>computeLPS()</code>å¦‚ä½•ä¹Ÿå®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Ÿ<strong>åŠ¨æ€è§„åˆ’</strong>ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥è§„èŒƒçš„å®šä¹‰LPSæ•°ç»„çš„æ±‚è§£é—®é¢˜ï¼š</p><p>ç»™å®šä¸€ä¸ªvector<int> æ•°ç»„lpsï¼Œè®¡ç®—<code>lps[i]</code>ï¼Œéœ€è¦è€ƒè™‘å­ä¸²çš„<code>substr(0, i-1)</code>ï¼Œåˆ¤æ–­å…¶æœ€å¤§çš„å…¬å…±å‰åç¼€é•¿åº¦ï¼Œå³ä¸º<code>lps[i]</code>çš„å€¼ã€‚</p><p>è¿™å¯ä»¥ä½¿ç”¨<strong>åŠ¨æ€è§„åˆ’</strong>çš„æ–¹æ³•è§£å†³ï¼Œé«˜æ•ˆåœ°åˆ©ç”¨ä¹‹å‰å¾—åˆ°çš„çŸ¥è¯†ã€‚</p><table><thead><tr><th>å­ä¸²</th><th>A</th><th>B</th><th>A</th><th>C</th><th>A</th><th>BğŸ˜</th><th>B</th><th>C</th></tr></thead></table><ul><li><p>å¯¹åº” index &#x3D;&#x3D; 0ï¼Œæ— æ³•å›é€€ï¼Œä¸º0ã€‚</p></li><li><p>å¯¹äº index &#x3D;&#x3D; 1ï¼Œè€ƒè™‘å­—ç¬¦ä¸²Aï¼Œä¸º1ã€‚</p></li><li><p>index &#x3D;&#x3D; 2ï¼Œæˆ‘ä»¬å‘ç°æ–°åŠ å…¥çš„Bå’ŒAå¹¶ä¸ç›¸åŒï¼Œä¸º0</p></li><li><p>index &#x3D;&#x3D; 3ï¼Œä¸º3</p></li><li><p>index &#x3D;&#x3D; 4ï¼Œä¸º0</p></li><li><p>index &#x3D;&#x3D; 6ï¼ŒğŸ˜ï¼Œå¢åŠ ä¸€ä¸ªå­—ç¬¦lpsçš„å€¼è‡³å¤šå¢åŠ 1ï¼Œè¿™<strong>å–å†³äºæ–°åŠ å…¥çš„å­—ç¬¦å’ŒåŸæ¥æœ€é•¿å‰ç¼€çš„ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯å¦åŒ¹é…</strong>ï¼Œå¦‚æœåŒ¹é…ï¼Œlpsæ•°ç»„åŠ 1.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">if</span>(newaddedchar == target_string[lps[index - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>)&#123;<br>    lps[index] = lps[index - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p>å¯¹äºæ— æ³•åŒ¹é…çš„æƒ…å†µï¼Œä¾‹å¦‚index &#x3D;&#x3D; 7ï¼Œæƒ…å†µè²Œä¼¼æœ‰ç‚¹é­ï¼Œå› ä¸ºæ–°åŠ å…¥çš„Bä¸ä»…æ²¡å¯¹ä¸Šï¼Œè¿˜æ‰“ç ´äº†ABACABåŸæœ‰çš„ç»“æ„ï¼Œå˜æˆäº†<strong>AB</strong>AC<strong>AB</strong>Bï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ›´çŸ­çš„å‰åç¼€ï¼Œæˆ‘ä»¬æ¢ä¸€ä¸ªä¾‹å­ï¼š</p><p><strong>ABDA</strong>AC<strong>ABDA</strong>+Bã€‚æˆ‘ä»¬å¯»æ‰¾æ›´çŸ­çš„å…¬å…±å‰åç¼€ï¼Œå¯ä»¥æš´åŠ›æœç´¢ï¼Œä½†ä¹Ÿå¯ä»¥å·§å¦™çš„å‰ªæï¼š<strong>æœ¬è´¨ä¸Šå°±æ˜¯å¯»æ‰¾ABDAä¸­æœ€é•¿çš„å…¬å…±å‰åç¼€</strong>ï¼Œå†é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œè€Œè¿™ä¸€æ­¥å¯ä»¥é€šè¿‡æŸ¥è¡¨å¾—åˆ°ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡º<code>computeLPS()</code>çš„å®Œæ•´ä»£ç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">computeLPS</span><span class="hljs-params">(<span class="hljs-type">const</span> seqString&amp; pattern, std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; lps)</span> </span>&#123;<br>    <span class="hljs-type">int</span> len = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Length of the previous longest prefix suffix</span><br>    lps[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// lps[0] is always 0</span><br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">while</span> (i &lt; pattern.<span class="hljs-built_in">length</span>()) &#123;<br>        <span class="hljs-keyword">if</span> (pattern[i] == pattern[len]) &#123;<br>            len++;<br>            lps[i] = len;<br>            i++;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">if</span> (len != <span class="hljs-number">0</span>) &#123;<br>                len = lps[len - <span class="hljs-number">1</span>];  <span class="hljs-comment">// Fallback to the previous longest prefix suffix</span><br>                <span class="hljs-comment">//ç‰¹åˆ«æ³¨æ„ï¼šæ­¤å¤„å¹¶æœªæ‰§è¡Œi++ï¼Œå› ä¸ºè¿™ä¸ªä½ç½®çš„å€¼è¿˜æ²¡æœ‰ç¡®å®šï¼Œéœ€è¦å†æ›´æ–°</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                lps[i] = <span class="hljs-number">0</span>;  <span class="hljs-comment">// No matching prefix suffix</span><br>                i++;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬ç»™å‡ºä¸€ä¸ªä½¿ç”¨KMPç®—æ³•çš„å®ä¾‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> *The following code is for string-match problems</span><br><span class="hljs-comment"> *We use our handmade string for sequence implementation</span><br><span class="hljs-comment"> */</span><br><span class="hljs-comment">// declaration</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">outermatch</span><span class="hljs-params">(seqString target, seqString totalString, <span class="hljs-type">int</span> (*string_match_algorithm[])(seqString, seqString), <span class="hljs-type">int</span> func_choice)</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">complexStringMatch</span><span class="hljs-params">(seqString target, seqString totalString)</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">KMP</span><span class="hljs-params">(seqString target, seqString totalString)</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">computeLPS</span><span class="hljs-params">(<span class="hljs-type">const</span> seqString &amp;pattern, std::vector&lt;<span class="hljs-type">int</span>&gt; &amp;next)</span></span>;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * @brief The outer message output of string-matching problems</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param target The target string needs to be matched</span><br><span class="hljs-comment"> * @param total_string The whole string that needs to be detected</span><br><span class="hljs-comment"> * @param string_match_algorithm The specific string-match problems</span><br><span class="hljs-comment"> * @param func_choice Choose one algorithm</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">outermatch</span><span class="hljs-params">(seqString target, seqString totalString, <span class="hljs-type">int</span> (*string_match_algorithm[])(seqString, seqString), <span class="hljs-type">int</span> func_choice)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> index = string_match_algorithm[func_choice](target, totalString);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Using &quot;</span> &lt;&lt; func_choice &lt;&lt; <span class="hljs-string">&quot;th algorithm&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-keyword">if</span> (index == <span class="hljs-number">-1</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Unfortunately, the match fails.&quot;</span> &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;The string &quot;</span> &lt;&lt; totalString &lt;&lt; <span class="hljs-string">&quot; does not have a substring &quot;</span> &lt;&lt; target &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Got it!&quot;</span> &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;There exits a target string with the index of &quot;</span> &lt;&lt; index &lt;&lt; <span class="hljs-string">&quot; and with the length of &quot;</span> &lt;&lt; target.<span class="hljs-built_in">length</span>() &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Which means there exists a substr: &quot;</span> &lt;&lt; totalString.<span class="hljs-built_in">substr</span>(index, target.<span class="hljs-built_in">length</span>()) &lt;&lt; <span class="hljs-string">&quot; ,which matches with target: &quot;</span> &lt;&lt; target &lt;&lt; std::endl;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * !KMP algorithm</span><br><span class="hljs-comment"> * @brief  the Knuth-Morris-Pratt (KMP) algorithm</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * @param text The main text string to search within</span><br><span class="hljs-comment"> * @param pattern The pattern string to search for</span><br><span class="hljs-comment"> * @return The first occurrence index of the pattern in the text, or -1 if not found</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">computeLPS</span><span class="hljs-params">(<span class="hljs-type">const</span> seqString&amp; pattern, std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; lps)</span> </span>&#123;<br>    <span class="hljs-type">int</span> len = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Length of the previous longest prefix suffix</span><br>    lps[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;   <span class="hljs-comment">// lps[0] is always 0</span><br>    <span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">while</span> (i &lt; pattern.<span class="hljs-built_in">length</span>()) &#123;<br>        <span class="hljs-keyword">if</span> (pattern[i] == pattern[len]) &#123;<br>            len++;<br>            lps[i] = len;<br>            i++;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">if</span> (len != <span class="hljs-number">0</span>) &#123;<br>                len = lps[len - <span class="hljs-number">1</span>];  <span class="hljs-comment">// Fallback to the previous longest prefix suffix</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                lps[i] = <span class="hljs-number">0</span>;  <span class="hljs-comment">// No matching prefix suffix</span><br>                i++;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// KMP algorithm implementation</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">KMP</span><span class="hljs-params">(seqString pattern, seqString text)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (pattern.<span class="hljs-built_in">isEmpty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">// Empty pattern matches at the start</span><br><br>    <span class="hljs-type">int</span> textLen = text.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-type">int</span> patLen = pattern.<span class="hljs-built_in">length</span>();<br>    <span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">lps</span><span class="hljs-params">(patLen, <span class="hljs-number">0</span>)</span></span>;<br>    <span class="hljs-built_in">computeLPS</span>(pattern, lps);<br><br>    <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Index for text</span><br>    <span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Index for pattern</span><br><br>    <span class="hljs-keyword">while</span> (i &lt; textLen) &#123;<br>        <span class="hljs-keyword">if</span> (pattern[j] == text[i]) &#123;<br>            i++;<br>            j++;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (j == patLen) &#123;<br>            <span class="hljs-keyword">return</span> i - j;  <span class="hljs-comment">// Match found, return the starting index</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; textLen &amp;&amp; pattern[j] != text[i]) &#123;<br>            <span class="hljs-keyword">if</span> (j != <span class="hljs-number">0</span>) &#123;<br>                j -= lps[j - <span class="hljs-number">1</span>];  <span class="hljs-comment">// Fallback using the LPS array</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                i++;  <span class="hljs-comment">// No fallback possible, move to the next character in text</span><br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;  <span class="hljs-comment">// No match found</span><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">testPackageForKMP</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">seqString <span class="hljs-title">s1</span><span class="hljs-params">(<span class="hljs-string">&quot;Hello my name is YXY and I love learning DS&quot;</span>)</span></span>;<br>    seqString targets[] = &#123;<span class="hljs-string">&quot;Hello&quot;</span>, <span class="hljs-string">&quot;my&quot;</span>, <span class="hljs-string">&quot;MM&quot;</span>&#125;;<br>    <span class="hljs-built_in">int</span> (*string_match_algorithm[])(seqString, seqString) = &#123;complexStringMatch, KMP&#125;;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> target : targets)<br>        &#123;<br>            <span class="hljs-built_in">outermatch</span>(target, s1, string_match_algorithm, i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><div class="note note-primary">            <p><strong>KMP</strong>ç®—æ³•çš„æœ¬è´¨ä¹Ÿå¯ä»¥çœ‹åš<strong>å¯¹æš´åŠ›æšä¸¾çš„å‰ªææ“ä½œ</strong>ï¼Œå› ä¸ºå¦‚æœä¸æ»¡è¶³ç›¸åŒå‰åç¼€çš„æ¡ä»¶çš„è¯ï¼Œæ‰€é€‰æ‹©çš„å­ä¸²ä¸€å®šæ˜¯åŒ¹é…ä¸ä¸Šçš„ã€‚LPSæ•°ç»„è®°å½•äº†å­ä¸²çš„â€œè‡ªç›¸ä¼¼æ€§â€ï¼ˆå³å‰ç¼€å’Œåç¼€çš„é‡å éƒ¨åˆ†ï¼‰ï¼Œè€ŒKMPç®—æ³•é€šè¿‡LPSæ•°ç»„ï¼Œç›´æ¥è·³è¿‡é‚£äº›ä¸å¯èƒ½åŒ¹é…çš„ä½ç½®ï¼Œåªæ£€æŸ¥å¯èƒ½åŒ¹é…çš„éƒ¨åˆ†ã€‚</p>          </div><h3 id="Regex"><a href="#Regex" class="headerlink" title="Regex"></a>Regex</h3><p>KMPç®—æ³•æå¤§ç¨‹åº¦çš„å‹ç¼©äº†å­—ç¬¦ä¸²åŒ¹é…çš„æ—¶é—´ï¼Œä½†<strong>åœ¨å®é™…ç”Ÿæ´»ä¸­æˆ‘ä»¬å¾€å¾€éœ€è¦æ›´åŠ generalçš„å­—ç¬¦ä¸²åŒ¹é…</strong>æ¥é¢å¯¹æ›´åŠ åˆéš¾çš„éœ€æ±‚ï¼Œä¾‹å¦‚æˆ‘éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå­ä¸²ï¼Œè¦æ±‚è¿™ä¸ªå­ä¸²çš„æ ¼å¼ä¸º<code>ILOVEXXX</code>ï¼Œåä¸‰ä½å¯ä»¥æ˜¯ä»»ä½•çš„å¤§å†™å­—æ¯ï¼Œé‚£è¿™æ—¶æˆ‘ä»¬åº”è¯¥å¦‚ä½•è¡¨è¾¾è¿™ä¸ªå­—ç¬¦ä¸²ï¼Ÿå¦‚ä½•è®¾è®¡åŠŸèƒ½æ›´åŠ å¼ºå¤§çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Ÿæˆ–è®¸<strong>æ­£åˆ™è¡¨è¾¾å¼Regex</strong>å¯ä»¥æˆä¸ºè§£å†³é—®é¢˜çš„æ³•å®ã€‚</p><p>ç¬”è€…ä¸“é—¨æ›´æ–°äº†ä¸€ç‰‡åšå®¢è®²è§£Regexçš„è¯­æ³•ï¼š<a href="https://xiyuanyang-code.github.io/posts/Regular-Expression/">Xiyuan Yangâ€™s Blog - Regex</a></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm">Knuthâ€“Morrisâ€“Pratt algorithm - Wikipedia</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.cs.jhu.edu/~misha/ReadingSeminar/Papers/Knuth77.pdf">Papers of KMP algorithm - www.cs.jhu.edu</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://www.bilibili.com/video/BV1AY4y157yL/">KMPç®—æ³•å¯è§†åŒ– å¥‡ä¹ç¼–ç¨‹å­¦é™¢</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
      <tag>string</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MYGITHUB-Lightweight-Speech-Recognition-Conversion-Model</title>
    <link href="/posts/MYGITHUB-Lightweight-speech-recognition-conversion-model/"/>
    <url>/posts/MYGITHUB-Lightweight-speech-recognition-conversion-model/</url>
    
    <content type="html"><![CDATA[<div class="note note-info">            <p>This is <strong>My Github Project</strong>:  <a href="https://github.com/xiyuanyang-code/Vosk-based-bilingual-speech-recognition-application">Vosk-based-bilingual-speech-recognition-application</a></p><p>The text below is <code>README.md</code> file.</p>          </div><h1 id="A-Vosk-based-Chinese-English-bilingual-speech-recognition-Python-Application"><a href="#A-Vosk-based-Chinese-English-bilingual-speech-recognition-Python-Application" class="headerlink" title="A Vosk-based Chinese-English bilingual speech recognition Python Application"></a>A Vosk-based Chinese-English bilingual speech recognition Python Application</h1><h2 id="ğŸ˜ŠIntroduction"><a href="#ğŸ˜ŠIntroduction" class="headerlink" title="ğŸ˜ŠIntroduction"></a>ğŸ˜ŠIntroduction</h2><p><strong><a href="https://alphacephei.com/vosk/index">Vosk</a></strong> is an open source <strong>speech recognition</strong> toolk. It focused on providing efficient and accurate speech-to-text functionality. It is based on Kaldi (another famous speech recognition toolkit), but compared to Kaldi, Vosk is more <strong>lightweight</strong> and easy to use, and is suitable for embedding into various applications.</p><p>This application is developed on the basis of vosk, implementing <strong>real-time bilingual speech-to-text function</strong>.</p><blockquote><p>All the installation and usage are demonstrated under <strong>Win 11 Systems</strong>.</p></blockquote><h2 id="ğŸš€Installation"><a href="#ğŸš€Installation" class="headerlink" title="ğŸš€Installation"></a>ğŸš€Installation</h2><h3 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h3><p>You need to prepare these stuffs in advance:</p><ul><li>ğŸAvailable Python Environments (<strong>Python &gt;&#x3D; 3.6</strong>)<ul><li><strong>WE RECOMMEND Python 3.9</strong> !</li></ul></li><li>ğŸªŸWindows Operating Systems<ul><li><strong>Maybe in MacOS works.</strong> (I donâ€™t have a Macbook. ğŸ¤‘)</li></ul></li><li>ğŸ™ï¸Available Micro devices.</li></ul><p>We strongly recommend you to install <strong><a href="https://docs.anaconda.com/getting-started/">Anaconda</a> or <a href="https://docs.anaconda.com/miniconda/">Miniconda</a></strong> to create a virtual environment to run the python code.</p><h3 id="Clone-the-project"><a href="#Clone-the-project" class="headerlink" title="Clone the project"></a>Clone the project</h3><p>Clone the remote repository from Git to obtain the Python source code.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/xiyuanyang-code/voice_translation.git<br></code></pre></td></tr></table></figure><p>Open the folder as the current directory.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> voice_translation<br></code></pre></td></tr></table></figure><h3 id="Create-Python-environments"><a href="#Create-Python-environments" class="headerlink" title="Create Python environments"></a>Create Python environments</h3><h4 id="ğŸ¥³If-you-have-installed-Anacondaâ€¦"><a href="#ğŸ¥³If-you-have-installed-Anacondaâ€¦" class="headerlink" title="ğŸ¥³If you have installed Anacondaâ€¦"></a>ğŸ¥³If you have installed Anacondaâ€¦</h4><p>Great! Now run the following commands in the command line:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda create -n translate python=3.9<br></code></pre></td></tr></table></figure><p>This would create a new <strong>Conda</strong> environment named <strong>â€œtranslateâ€</strong>. You can also customize your own environment name!</p><p>After that, switch to activate the new environment to install the required packages.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda activate translate<br><span class="hljs-comment"># or change to your own virtual environment name!</span><br></code></pre></td></tr></table></figure><p>Then install the required packages.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install -r requirements.txt<br></code></pre></td></tr></table></figure><p>You can also <strong>install packages manually</strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install sounddevice numpy vosk<br></code></pre></td></tr></table></figure><h4 id="ğŸ™‚â€â†•ï¸If-not"><a href="#ğŸ™‚â€â†•ï¸If-not" class="headerlink" title="ğŸ™‚â€â†•ï¸If not?"></a>ğŸ™‚â€â†•ï¸If not?</h4><p>Then go to install <a href="https://docs.anaconda.com/getting-started/">Anaconda</a> first!ğŸ˜‹</p><p>Just a joke. Anaconda is too huge for its size. You can still install these packages using:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install sounddevice numpy vosk<br></code></pre></td></tr></table></figure><h4 id="Required-packages"><a href="#Required-packages" class="headerlink" title="Required packages"></a>Required packages</h4><p>Required packages are as follows:</p><ol><li><p><strong>tkinter</strong>: This is the standard GUI toolkit for Python, allowing developers to create graphical user interfaces easily. (Standard Library)</p></li><li><p><strong>threading</strong>: A standard library module that provides a way to create and manage threads, enabling concurrent execution of code. (Standard Library)</p></li><li><p><strong>queue</strong>: This standard library module provides a thread-safe FIFO implementation, useful for managing tasks between threads. (Standard Library)</p></li><li><p><strong>time</strong>: A standard library module that provides various time-related functions, including time manipulation and formatting. (Standard Library)</p></li><li><p><strong>json</strong>: This standard library module is used for parsing JSON data and converting Python objects to JSON format. (Standard Library)</p></li><li><p><strong>sounddevice</strong>: A third-party library that allows for audio input and output using NumPy arrays, facilitating sound processing tasks. <strong>(Requires manual installation)</strong></p></li><li><p><strong>numpy</strong>: A widely-used third-party library for numerical computations in Python, providing support for large, multi-dimensional arrays and matrices. <strong>(Requires manual installation)</strong></p></li><li><p><strong>vosk</strong>: A third-party library for speech recognition that provides models for various languages using Kaldiâ€™s speech recognition capabilities. <strong>(Requires manual installation)</strong></p></li><li><p><strong>os</strong>: A standard library module that provides a way to interact with the operating system, including file and directory management functions. (Standard Library)</p></li><li><p><strong>platform</strong>: This standard library module allows access to underlying platformâ€™s identifying data, such as OS type and version. (Standard Library)</p></li></ol><h2 id="ğŸ’“Usage"><a href="#ğŸ’“Usage" class="headerlink" title="ğŸ’“Usage"></a>ğŸ’“Usage</h2><p><strong>Make sure you have passed through the <code>installation</code> section successfully.</strong> </p><h3 id="Create-a-folder-to-store-results"><a href="#Create-a-folder-to-store-results" class="headerlink" title="Create a folder to store results"></a>Create a folder to store results</h3><p>Firstly, create a folder named <strong>â€œresultsâ€</strong> in the current directory.</p><ul><li>For <strong>Bash</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> results<br></code></pre></td></tr></table></figure><ul><li>For <strong>Powershell</strong></li></ul><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-built_in">New-Item</span> <span class="hljs-literal">-Path</span> . <span class="hljs-literal">-Name</span> <span class="hljs-string">&quot;results&quot;</span> <span class="hljs-literal">-ItemType</span> Directory<br></code></pre></td></tr></table></figure><h3 id="Download-and-Unzip-the-vosk-model"><a href="#Download-and-Unzip-the-vosk-model" class="headerlink" title="Download and Unzip the vosk-model"></a>Download and Unzip the vosk-model</h3><p>For the core part of the translation model, we use <strong>Vosk-model</strong>, which is both lightweight and powerful.</p><p>For <strong>Bash</strong> and <strong>Powershell</strong> both:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Install the Chinese packages</span><br>wget https://alphacephei.com/vosk/models/vosk-model-cn-0.22.zip<br><br><span class="hljs-comment"># Install the English packages</span><br>wget https://alphacephei.com/vosk/models/vosk-model-en-us-0.22.zip<br></code></pre></td></tr></table></figure><blockquote><p>Or you can just download the zip file online and drag the zip-file into the current folder.</p></blockquote><p>Then extract the downloaded ZIP file:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">unzip vosk-model-cn-0.22.zip<br><br>unzip vosk-model-en-us-0.22.zip<br></code></pre></td></tr></table></figure><p>(Optional) After the unzip process, you can delete the <code>zip</code> file, itâ€™s too huge!</p><p>After all these requirements, your current directory should be like this:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs bash">.<br>â”œâ”€â”€ LICENSE<br>â”œâ”€â”€ README.md<br>â”œâ”€â”€ main<br>â”‚Â Â  â””â”€â”€ main.py<br>â”œâ”€â”€ requirements.txt<br>â”œâ”€â”€ results<br>â”œâ”€â”€ vosk-model-cn-0.22<br>â”‚Â Â  â”œâ”€â”€ README<br>â”‚Â Â  â”œâ”€â”€ am<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ final.mdl<br>â”‚Â Â  â”œâ”€â”€ conf<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ mfcc.conf<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ model.conf<br>â”‚Â Â  â”œâ”€â”€ graph<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ HCLG.fst<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ phones<br>â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ word_boundary.int<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ words.txt<br>â”‚Â Â  â”œâ”€â”€ ivector<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ final.dubm<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ final.ie<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ final.mat<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ global_cmvn.stats<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ online_cmvn.conf<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ splice.conf<br>â”‚Â Â  â”œâ”€â”€ rescore<br>â”‚Â Â  â”‚Â Â  â”œâ”€â”€ G.carpa<br>â”‚Â Â  â”‚Â Â  â””â”€â”€ G.fst<br>â”‚Â Â  â””â”€â”€ rnnlm<br>â”‚Â Â      â”œâ”€â”€ feat_embedding.final.mat<br>â”‚Â Â      â”œâ”€â”€ features.txt<br>â”‚Â Â      â”œâ”€â”€ final.raw<br>â”‚Â Â      â”œâ”€â”€ oov.txt<br>â”‚Â Â      â”œâ”€â”€ special_symbol_opts.conf<br>â”‚Â Â      â”œâ”€â”€ special_symbol_opts.txt<br>â”‚Â Â      â””â”€â”€ word_feats.txt<br>â””â”€â”€ vosk-model-en-us-0.22<br>    â”œâ”€â”€ README<br>    â”œâ”€â”€ am<br>    â”‚Â Â  â”œâ”€â”€ final.mdl<br>    â”‚Â Â  â””â”€â”€ tree<br>    â”œâ”€â”€ conf<br>    â”‚Â Â  â”œâ”€â”€ ivector.conf<br>    â”‚Â Â  â”œâ”€â”€ mfcc.conf<br>    â”‚Â Â  â””â”€â”€ model.conf<br>    â”œâ”€â”€ graph<br>    â”‚Â Â  â”œâ”€â”€ HCLG.fst<br>    â”‚Â Â  â”œâ”€â”€ disambig_tid.int<br>    â”‚Â Â  â”œâ”€â”€ num_pdfs<br>    â”‚Â Â  â”œâ”€â”€ phones<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ align_lexicon.int<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ align_lexicon.txt<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ disambig.int<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ disambig.txt<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ optional_silence.csl<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ optional_silence.int<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ optional_silence.txt<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ silence.csl<br>    â”‚Â Â  â”‚Â Â  â”œâ”€â”€ word_boundary.int<br>    â”‚Â Â  â”‚Â Â  â””â”€â”€ word_boundary.txt<br>    â”‚Â Â  â”œâ”€â”€ phones.txt<br>    â”‚Â Â  â””â”€â”€ words.txt<br>    â”œâ”€â”€ ivector<br>    â”‚Â Â  â”œâ”€â”€ final.dubm<br>    â”‚Â Â  â”œâ”€â”€ final.ie<br>    â”‚Â Â  â”œâ”€â”€ final.mat<br>    â”‚Â Â  â”œâ”€â”€ global_cmvn.stats<br>    â”‚Â Â  â”œâ”€â”€ online_cmvn.conf<br>    â”‚Â Â  â””â”€â”€ splice.conf<br>    â”œâ”€â”€ rescore<br>    â”‚Â Â  â”œâ”€â”€ G.carpa<br>    â”‚Â Â  â””â”€â”€ G.fst<br>    â””â”€â”€ rnnlm<br>        â”œâ”€â”€ feat_embedding.final.mat<br>        â”œâ”€â”€ final.raw<br>        â”œâ”€â”€ special_symbol_opts.conf<br>        â”œâ”€â”€ special_symbol_opts.txt<br>        â””â”€â”€ word_feats.txt<br></code></pre></td></tr></table></figure><p>Check your current directory or simply using <strong>tree</strong> command for WSL.</p><h3 id="Run-Python-code"><a href="#Run-Python-code" class="headerlink" title="Run Python code"></a>Run Python code</h3><p>You should run the python code using the conda environment you have created <strong>accordingly</strong>!</p><p>Switch to the <code>main</code> folder and run <code>main.py</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> main<br>python main.py<br></code></pre></td></tr></table></figure><p>You will probably see the following pop-up window as follows.</p><p><img src="https://ooo.0x0.ooo/2025/01/29/OGRa7L.png" alt="Demo 1"></p><p>We have three modes to choose from, including â€œChinese Modeâ€, â€œEnglish Modeâ€ and â€œBilingual Modeâ€.</p><p>Choose the mode you like and then the translation will begin!</p><blockquote><p><strong>Warning:</strong> It may take approximately 10~20 seconds for the code to load the <strong>Vosk-model</strong>, for the Bilingual one, it may even take longer.ğŸ˜­Sorry about that.</p></blockquote><p>After the long wait, you will see a green-colored information said â€œModel loaded successfully!â€ That means you can begin your words now!</p><ul><li>The results of the conversion will be displayed in real-time in the terminal.</li><li>To end the conversion process, you can <strong>right-click your mouse</strong>, which will terminate the program.</li><li>For the bilingual model, you can click on <code>Select Language</code> in the middle to switch languages.<br><img src="https://ooo.0x0.ooo/2025/01/29/OGRqXX.png" alt="demo 2"></li></ul><h3 id="Obtain-transcriptions"><a href="#Obtain-transcriptions" class="headerlink" title="Obtain transcriptions"></a>Obtain transcriptions</h3><p>You can get the transcriptions in the <code>results</code> folder, including the <code>.txt</code> file and <code>.md</code> file.</p><h2 id="ğŸ¤–Discussion"><a href="#ğŸ¤–Discussion" class="headerlink" title="ğŸ¤–Discussion"></a>ğŸ¤–Discussion</h2><h3 id="Advantages"><a href="#Advantages" class="headerlink" title="Advantages"></a>Advantages</h3><ul><li>If you want to get the voice transcriptions for free instead of paying for professional apps. This one is suitable for you!</li><li>You can modify the source code to customize your own GUI interface or implement some advanced functions on your own!<ul><li>I think itâ€™s a great chance to learn Python, isnâ€™t it?</li></ul></li></ul><h3 id="Disadvantages-FUTURE-OUTLOOK"><a href="#Disadvantages-FUTURE-OUTLOOK" class="headerlink" title="Disadvantages FUTURE OUTLOOK"></a><del>Disadvantages</del> FUTURE OUTLOOK</h3><ul><li>WE WILL create a more lightweight version.</li><li>WE WILL implement the speech-to-text conversion for mixed input of Chinese and English.</li><li>WE WILL build a more aesthetically pleasing GUI.</li><li>WE WILL optimize the transcriptions, including automatically add punctuation, segment text, and organize it into a coherent article.</li></ul><h2 id="ğŸ‘Advertisement"><a href="#ğŸ‘Advertisement" class="headerlink" title="ğŸ‘Advertisement"></a>ğŸ‘Advertisement</h2><p>My personal Blog: <a href="https://xiyuanyang-code.github.io/">Xiyuan Yangâ€™s Blog</a></p>]]></content>
    
    
    <categories>
      
      <category>Project</category>
      
    </categories>
    
    
    <tags>
      
      <tag>speech recognition</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Vim-Tutorial</title>
    <link href="/posts/Vim-tutorial/"/>
    <url>/posts/Vim-tutorial/</url>
    
    <content type="html"><![CDATA[<h1 id="Vim-Basic-Learning-Notes"><a href="#Vim-Basic-Learning-Notes" class="headerlink" title="Vim Basic Learning Notes"></a>Vim Basic Learning Notes</h1><p>The Learning curve for vim is too damn steep! I have tried several times trying to get used to using vim. :cry:</p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This document provides a comprehensive guide to the <strong>basic functionalities of Vim</strong>, a powerful text editor. It covers essential commands and modes, including Command Line, Normal Mode, Visual Mode, and Insert Mode. The guide also includes common shortcuts and tips for efficient text editing, such as moving within documents, searching, copying, cutting, and pasting text.</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="What-is-Vim"><a href="#What-is-Vim" class="headerlink" title="What is Vim"></a>What is Vim</h3><p><strong>Vim</strong> is a <a href="https://en.wikipedia.org/wiki/Free_and_open-source">free and open-source</a>, <a href="https://en.wikipedia.org/wiki/Screen-based_text_editor">screen-based text editor</a> program.</p><p>Just like the powerful <code>Vscode</code>, which is the most popular code editor used in <strong>GUI</strong>, <strong>vim</strong> is the most powerful text editor used in <strong>Command Line</strong>.</p><p>We will not discuss how powerful Vim is in the text, because <strong>Vim is a text editor</strong>. You can also implement the same tasks without using vim, with the expense of sacrificing a huge amount of time.</p><p>Before diving deeply into Vimâ€™s world, we need to ensure the <strong>core principle of Vim</strong>: <strong>make all the operations executed in the keyboard, not with the mouse.</strong></p><p><strong>Vimâ€™s interface is a programming language</strong>!</p><blockquote><p>So youâ€™ve better not type too slowly in English. You need to ensure typing letters is more efficient for you than moving mouse to everywhere!</p></blockquote><h2 id="Modes-in-Vim"><a href="#Modes-in-Vim" class="headerlink" title="Modes in Vim"></a>Modes in Vim</h2><ul><li>normal mode</li><li>insert mode (<code>i</code>)</li><li>replace mode (<code>R</code>)</li><li>visual mode (<code>v</code>)<ul><li>visual line (<code>S-V</code>)</li><li>visual block (<code>C-V</code>)</li></ul></li><li>command line mode (<code>:</code>)</li></ul><h3 id="Command-Line-Mode"><a href="#Command-Line-Mode" class="headerlink" title="Command Line Mode"></a>Command Line Mode</h3><p>Command mode can be entered by typing <code>:</code> in Normal mode. Your cursor will jump to the command line at the bottom of the screen upon pressing <code>:</code>. This mode has many functionalities, including opening, saving, and closing files, and <a href="https://twitter.com/iamdevloper/status/435555976687923200">quitting Vim</a>.</p><ul><li><code>:q</code> quit (close window)</li><li><code>:w</code> save (â€œwriteâ€)</li><li><code>:wq</code>  save and quit</li><li><code>:e &#123;name of file&#125;</code> open file for editing</li><li><code>:ls</code> show open buffers</li><li><code>:help &#123;topic&#125;</code> open help<ul><li><code>:help :w</code> opens help for the <code>:w</code> command</li><li><code>:help w</code> opens help for the <code>w</code> movement</li></ul></li></ul><h3 id="Normal-Mode"><a href="#Normal-Mode" class="headerlink" title="Normal Mode"></a>Normal Mode</h3><h4 id="Movement"><a href="#Movement" class="headerlink" title="Movement"></a>Movement</h4><p>In vim, you cannot simply click the mouse to certain positions to change where the cursor is. <strong>In normal mode</strong>, you can implement this using several keys to efficiently move your cursor to everywhere you want!</p><p>Based on <strong>precision</strong>, Vimâ€™s movement keys can be divided into different categories.</p><ul><li><p><strong>Movement in characters</strong></p><ul><li><code>hjkl</code> (left, down, up, right)</li></ul></li><li><p><strong>Movement in words</strong></p><ul><li><code>w</code> : to the next word</li><li><code>b</code> : <strong>Beginning of the word</strong></li><li><code>e</code> : <strong>End of the word</strong></li></ul></li><li><p><strong>Movement in lines</strong></p><ul><li><p><code>0</code> : (beginning of line) </p><ul><li>The combination <code>j+0</code> : move to the beginning of next line.</li><li>The combination <code>k+0</code> : move to the beginning of last line.</li></ul></li><li><p><code>Enter</code> : <strong>The beginning of next line</strong></p></li><li><p><code>^</code> : (first non-blank character)</p></li><li><p><code>$</code> : (end of line)</p></li><li><p><code>+</code> : The first non-blank character of next line</p></li><li><p><code>&#123;</code> and <code>&#125;</code> : move to the next empty line</p></li><li><p>Line numbers: <code>:&#123;number&#125;&lt;CR&gt;</code> or <code>&#123;number&#125;G</code> (line {number})</p><blockquote><p><code>&lt;CR&gt;</code> means press the <code>Enter</code> key.</p></blockquote><ul><li><strong><code>:&#123;number&#125;&lt;CR&gt;</code></strong>: Enter command mode, type the line number, and press <code>Enter</code> to jump to that line.</li><li><strong><code>&#123;number&#125;G</code></strong>: Directly jump to the specified line number (e.g., <code>10G</code> goes to line 10).</li></ul></li></ul></li><li><p><strong>Movement in screens</strong></p><ul><li><code>H</code> : (top of screen)</li><li><code>M</code> : (middle of screen)</li><li><code>L</code> : (bottom of screen)</li><li><strong>scrolling</strong><ul><li>(I often use my touchpad)</li><li><code>Ctrl-u</code> : scrolls the screen <strong>up by half a page</strong> while keeping the cursor in place.</li><li><code>Ctrl-d</code> : scrolls the screen <strong>down by half a page</strong> while keeping the cursor in place.</li></ul></li></ul></li><li><p><strong>Movement in files</strong></p><ul><li><code>gg</code> (beginning of file), <code>G</code> (end of file)</li><li>You can also use <code>]]</code> (top) and <code>[[</code> (end) commands.</li><li><strong><code>%</code></strong>: Jump to the corresponding matching item (e.g., between <code>()</code>, <code>&#123;&#125;</code>, <code>[]</code>, etc.)<ul><li><strong>This is quite useful while coding in Vim!</strong></li></ul></li></ul></li></ul><h4 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h4><p>In Vim, the <code>f</code>, <code>t</code>, <code>F</code>, and <code>T</code> commands are used for <strong>character-based navigation within the current line</strong>. </p><ul><li><p><strong><code>f</code></strong>: Move to the next character.</p></li><li><p><strong><code>t</code></strong>: Move just before the next character.</p></li><li><p><strong><code>F</code></strong>: Move to the previous character.</p></li><li><p><strong><code>T</code></strong>: Move just after the previous character.</p></li><li><p><strong><code>,</code></strong>: Repeat the last find command in reverse.</p></li><li><p><strong><code>;</code></strong>: Repeat the last find command forward.</p></li></ul><ol><li><p><strong>Find Character on the Current Line</strong></p><ul><li><p><strong><code>f&#123;character&#125;</code></strong>:  </p><ul><li>Moves the cursor <strong>to</strong> the next occurrence of <code>&#123;character&#125;</code> <strong>on the current line</strong>.  </li><li>Example: <code>fa</code> moves the cursor to the next <code>a</code> on the line.</li></ul></li><li><p><strong><code>t&#123;character&#125;</code></strong>:  </p><ul><li>Moves the cursor <strong>just before</strong> (up to) the next occurrence of <code>&#123;character&#125;</code> on the current line.  </li><li>Example: <code>ta</code> moves the cursor to the character right before the next <code>a</code>.</li></ul></li></ul></li><li><p><strong>Find Character Backward on the Current Line</strong></p><ul><li><p><strong><code>F&#123;character&#125;</code></strong>:  </p><ul><li>Moves the cursor <strong>to</strong> the previous occurrence of <code>&#123;character&#125;</code> on the current line (backward search).  </li><li>Example: <code>Fa</code> moves the cursor to the previous <code>a</code> on the line.</li></ul></li><li><p><strong><code>T&#123;character&#125;</code></strong>:  </p><ul><li>Moves the cursor <strong>just after</strong> (up to) the previous occurrence of <code>&#123;character&#125;</code> on the current line (backward search).  </li><li>Example: <code>Ta</code> moves the cursor to the character right after the previous <code>a</code>.</li></ul></li></ul></li><li><p><strong>Navigating Between Matches</strong></p><ul><li><p><strong><code>,</code> (comma)</strong>:  </p><ul><li>Repeats the last <code>f</code>, <code>t</code>, <code>F</code>, or <code>T</code> command in the <strong>reverse direction</strong>.  </li><li>Example: If you used <code>fa</code> to move to the next <code>a</code>, pressing <code>,</code> will move to the previous <code>a</code>.</li></ul></li><li><p><strong><code>;</code> (semicolon)</strong>:  </p><ul><li>Repeats the last <code>f</code>, <code>t</code>, <code>F</code>, or <code>T</code> command in the <strong>same direction</strong>.  </li><li>Example: If you used <code>fa</code> to move to the next <code>a</code>, pressing <code>;</code> will move to the next <code>a</code> after that.</li></ul></li></ul></li></ol><h4 id="Searching"><a href="#Searching" class="headerlink" title="Searching"></a>Searching</h4><ol><li><p><strong>Search Forward</strong></p><ul><li><strong><code>/&#123;regex&#125;&lt;CR&gt;</code></strong>:  <ul><li>Searches forward in the file for the specified regular expression (<code>&#123;regex&#125;</code>).  </li><li>Example: <code>/hello&lt;CR&gt;</code> searches for the next occurrence of the word <code>hello</code>.  </li><li>After pressing <code>Enter</code>, the cursor jumps to the first match.</li></ul></li></ul></li><li><p><strong>Navigate Matches</strong></p><ul><li><p><strong><code>n</code></strong>:  </p><ul><li>Moves the cursor to the <strong>next match</strong> of the search pattern.  </li><li>Example: After searching for <code>/hello</code>, pressing <code>n</code> jumps to the next occurrence of <code>hello</code>.</li></ul></li><li><p><strong><code>N</code></strong>:  </p><ul><li>Moves the cursor to the <strong>previous match</strong> of the search pattern.  </li><li>Example: After searching for <code>/hello</code>, pressing <code>N</code> jumps to the previous occurrence of <code>hello</code>.</li></ul></li></ul></li><li><p><strong>Search Backward</strong></p><ul><li><strong><code>?&#123;regex&#125;&lt;CR&gt;</code></strong>:  <ul><li>Searches backward in the file for the specified regular expression (<code>&#123;regex&#125;</code>).  </li><li>Example: <code>?hello&lt;CR&gt;</code> searches for the previous occurrence of the word <code>hello</code>.  </li><li>After pressing <code>Enter</code>, the cursor jumps to the first match.</li></ul></li></ul></li><li><p><strong>Additional Tips</strong></p><ul><li><strong>Highlight Matches</strong>:  <ul><li>Use <code>:set hlsearch</code> to highlight all matches of the search pattern.  <ul><li>This can be written into <code>~/.vimrc</code> file to become global settings.</li></ul></li><li>Use <code>:nohlsearch</code> (or <code>:noh</code>) to temporarily disable highlighting.</li></ul></li><li><strong>Case Sensitivity</strong>:  <ul><li>Use <code>:set ignorecase</code> (<code>:set ic</code>) to make searches case-insensitive.  </li><li>Use <code>:set smartcase</code> to make searches case-insensitive unless the search pattern contains uppercase letters.</li></ul></li></ul></li></ol><h4 id="Editing"><a href="#Editing" class="headerlink" title="Editing"></a>Editing</h4><ul><li><p><code>d&#123;motion&#125;</code> : <strong>DELETE</strong></p><ul><li><code>dw</code> is delete <strong>word</strong></li><li><code>d$</code> is delete to <strong>end of line</strong></li><li><code>d0</code> is delete to <strong>beginning of line</strong>.</li><li><code>de</code> is delete to <strong>end of word</strong></li><li><code>db</code> is delete to <strong>beginning of word</strong></li><li><code>x</code> delete character (equal to <code>dl</code>)</li><li><code>dd</code> delete the whole line.</li></ul></li><li><p><code>r&#123;motion&#125;</code> : <strong>REPLACE</strong></p><ul><li>replace the letter with the given letter where the cursor lies.</li><li>e.g. <code>rf</code> will replace the character to f where the cursor lies.</li></ul></li><li><p><code>u</code> : <strong>UNDO</strong></p><ul><li><p><code>u</code> to undo, <code>&lt;C-r&gt;</code> to redo</p><blockquote><p><code>&lt;C-r&gt;</code> means press <code>Ctrl+r</code> and it will redo the operations.</p></blockquote></li></ul></li><li><p><code>~</code> flips the case of a character.</p></li></ul><h3 id="Insert-Mode"><a href="#Insert-Mode" class="headerlink" title="Insert Mode"></a>Insert Mode</h3><p>Here you are free to text in and modify the contents.</p><ul><li><code>i</code> Enter Insert Mode<ul><li><code>a</code> is also useful for entering Inert Mode after the cursor. (For position)</li></ul></li><li><code>o</code> &#x2F; <code>O</code> insert line below &#x2F; above (in Normal mode)<ul><li>This command will <strong>first insert a new line and then change the mode from normal mode to insert mode.</strong></li></ul></li><li><code>c&#123;motion&#125;</code> : <strong>CHANGE</strong><ul><li><code>cw</code> : equals to <code>dw</code> and then enter into <strong>Insert Mode</strong>.</li><li><strong>Others are the same!</strong> <ul><li><code>cw</code>, <code>c$</code>, <code>c0</code>, <code>ce</code>, <code>cb</code>, <code>cl</code></li></ul></li><li><code>s</code> substitute character (equal to <code>cl</code>)</li><li><code>cc</code> delete the whole line and then enter into insert mode.</li></ul></li></ul><h3 id="Visual-Mode"><a href="#Visual-Mode" class="headerlink" title="Visual Mode"></a>Visual Mode</h3><p><strong>Visual mode</strong> is used to select text, which are often combined with several text-editing command.</p><ul><li><p>Visual: <code>v</code></p><ul><li>Selects text at the character level.</li></ul></li><li><p>Visual Line: <code>V</code></p><ul><li>Selects entire lines of text.</li></ul></li><li><p>Visual Block: <code>Ctrl-v</code></p><ul><li>Selects a rectangular block of text, useful for editing tables or performing the same operation on multiple lines.</li></ul></li></ul><p><strong>Shrink Selection</strong>: Press <code>o</code> to switch the cursor to the other end of the selection, then move the cursor to shrink the selection.</p><h4 id="Copy-and-Paste"><a href="#Copy-and-Paste" class="headerlink" title="Copy and Paste"></a>Copy and Paste</h4><ul><li><code>y</code> for copy<ul><li><code>yy</code> for copying for the whole line.</li><li><code>yw</code> for copying the current word.</li><li><code>y$</code> and <code>y0</code> is for the same syntax.</li></ul></li><li><code>p</code> for paste<ul><li><code>p</code> : paste after the cursor.</li><li><code>P</code> : paste before the cursor.</li></ul></li></ul><div class="note note-primary">            <p>In Vim, the <code>y</code> command copies the selected content into Vimâ€™s <strong>registers</strong>, not the system clipboard. The <code>p</code> command pastes the content from Vimâ€™s registers at the cursor position.</p><p><strong>How to Achieve Compatibility Between Vim and the System Clipboard</strong></p><ol><li><p><strong>Use the <code>+</code> or <code>*</code> Registers</strong>:</p><ul><li>Vim provides the <code>+</code> (system clipboard) and <code>*</code> (primary selection buffer) registers for interacting with the system clipboard.</li><li>When copying, use <code>&quot;+y</code> or <code>&quot;*y</code> to copy content to the system clipboard.<ul><li>Example: <code>&quot;+yy</code> copies the current line to the system clipboard.</li></ul></li><li>When pasting, use <code>&quot;+p</code> or <code>&quot;*p</code> to paste content from the system clipboard.<ul><li>Example: <code>&quot;+p</code> pastes content from the system clipboard.</li></ul></li></ul></li><li><p><strong>Check if Vim Supports the System Clipboard</strong>:</p><ul><li><p>Run the following command to check if Vim supports the system clipboard:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim --version | grep clipboard<br></code></pre></td></tr></table></figure></li><li><p>If the output includes <code>+clipboard</code>, Vim supports the system clipboard.</p></li><li><p>If not, you can install a version of Vim that supports the clipboard (e.g., <code>vim-gtk</code> or <code>vim-gnome</code>).</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install vim-gtk<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>Configure Vim to Use the System Clipboard by Default</strong>:</p><ul><li><p>Add the following line to your Vim configuration file (<code>~/.vimrc</code> or <code>~/.config/nvim/init.vim</code>):</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">set</span> clipboard=unnamedplus<br></code></pre></td></tr></table></figure><p>This makes <code>y</code> and <code>p</code> use the system clipboard (<code>+</code> register) by default.</p></li></ul></li></ol>          </div><h2 id="Advanced-Usage"><a href="#Advanced-Usage" class="headerlink" title="Advanced Usage"></a>Advanced Usage</h2><h3 id="Counts"><a href="#Counts" class="headerlink" title="Counts"></a>Counts</h3><p>You can combine nouns and verbs with a count, which will perform a given action a number of times.</p><ul><li><code>3w</code> move 3 words forward</li><li><code>5j</code> move 5 lines down</li><li><code>7dw</code> delete 7 words</li></ul><h3 id="Modifiers"><a href="#Modifiers" class="headerlink" title="Modifiers"></a>Modifiers</h3><p>You can use modifiers to change the meaning of a noun. Some modifiers are <code>i</code>, which means â€œinnerâ€ or â€œinsideâ€, and <code>a</code>, which means â€œaroundâ€.</p><ul><li><strong><code>i</code></strong> - â€œinnerâ€ or â€œinsideâ€, acts on the inside of brackets, quotes, etc.<ul><li><code>ci(</code> change inside parentheses.</li><li><code>ci[</code> change inside square brackets.</li><li><code>ci&quot;</code> change inside double quotes.</li><li><code>ci&#39;</code> change inside single quotes.</li></ul></li><li><strong><code>a</code></strong> - â€œaroundâ€, includes the brackets, quotes, etc.<ul><li><code>ca(</code> change around parentheses.</li><li><code>ca[</code> change around square brackets.</li><li><code>ca&quot;</code> change around double quotes.</li><li><code>ca&#39;</code> change around single quotes.</li></ul></li></ul><h3 id="Repeat"><a href="#Repeat" class="headerlink" title="Repeat"></a>Repeat</h3><p>In Vim, the <code>.</code> command repeats the last change made, such as insertions, deletions, or replacements, making it a powerful tool for efficient editing. Additionally, <code>n .</code> repeats the last change <code>n</code> times, while <code>@:</code> repeats the last Ex command (e.g., <code>:s/foo/bar/g</code>), further enhancing productivity.</p><h2 id="Common-Shortcuts"><a href="#Common-Shortcuts" class="headerlink" title="Common Shortcuts"></a>Common Shortcuts</h2><p>Itâ€™s common for green hands to feelHereâ€™s the table you requested, comparing common text editing shortcuts, their functions, and their corresponding Vim operations:</p><table><thead><tr><th><strong>Shortcut</strong></th><th><strong>Function</strong></th><th><strong>Vim Equivalent</strong></th></tr></thead><tbody><tr><td><code>Ctrl + C</code></td><td>Copy selected text</td><td><code>y</code> (yank, copy)</td></tr><tr><td><code>Ctrl + V</code></td><td>Paste text from clipboard</td><td><code>p</code> (paste)</td></tr><tr><td><code>Ctrl + A</code></td><td>Select all text</td><td><code>ggVG</code> (select entire file)</td></tr><tr><td><code>Ctrl + X</code></td><td>Cut selected text</td><td><code>d</code> (delete, cut)</td></tr><tr><td><code>Ctrl + S</code></td><td>Save the current file</td><td><code>:w</code> (write, save file)</td></tr></tbody></table><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://missing.csail.mit.edu/2020/editors/">Missing Semester</a> : Itâ€™s enough for learning vim for the first time!</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><strong>Vim is used for programming, yet Vim itself is a programming language!</strong> As a developer, time is the most valuable stuff, just learn it and confront it!</p><blockquote><p>The text below is the Chinese translation.</p></blockquote><h1 id="Vim-åŸºç¡€å­¦ä¹ ç¬”è®°"><a href="#Vim-åŸºç¡€å­¦ä¹ ç¬”è®°" class="headerlink" title="Vim åŸºç¡€å­¦ä¹ ç¬”è®°"></a>Vim åŸºç¡€å­¦ä¹ ç¬”è®°</h1><p>Vim çš„å­¦ä¹ æ›²çº¿å®åœ¨æ˜¯å¤ªé™¡å³­äº†ï¼æˆ‘å·²ç»å°è¯•äº†å¥½å‡ æ¬¡ï¼Œè¯•å›¾ä¹ æƒ¯ä½¿ç”¨ Vimã€‚:cry:</p><h2 id="æ‘˜è¦"><a href="#æ‘˜è¦" class="headerlink" title="æ‘˜è¦"></a>æ‘˜è¦</h2><p>æœ¬æ–‡æ¡£æä¾›äº† <strong>Vim åŸºæœ¬åŠŸèƒ½</strong> çš„å…¨é¢æŒ‡å—ï¼ŒVim æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å®ƒæ¶µç›–äº†åŸºæœ¬å‘½ä»¤å’Œæ¨¡å¼ï¼ŒåŒ…æ‹¬å‘½ä»¤è¡Œæ¨¡å¼ã€æ™®é€šæ¨¡å¼ã€å¯è§†æ¨¡å¼å’Œæ’å…¥æ¨¡å¼ã€‚æœ¬æŒ‡å—è¿˜åŒ…æ‹¬å¸¸è§å¿«æ·é”®å’Œé«˜æ•ˆæ–‡æœ¬ç¼–è¾‘çš„æŠ€å·§ï¼Œä¾‹å¦‚åœ¨æ–‡æ¡£ä¸­ç§»åŠ¨ã€æœç´¢ã€å¤åˆ¶ã€å‰ªåˆ‡å’Œç²˜è´´æ–‡æœ¬ã€‚</p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><h3 id="ä»€ä¹ˆæ˜¯-Vim"><a href="#ä»€ä¹ˆæ˜¯-Vim" class="headerlink" title="ä»€ä¹ˆæ˜¯ Vim"></a>ä»€ä¹ˆæ˜¯ Vim</h3><p><strong>Vim</strong> æ˜¯ä¸€ä¸ª <a href="https://en.wikipedia.org/wiki/Free_and_open-source">å…è´¹ä¸”å¼€æºçš„</a> <a href="https://en.wikipedia.org/wiki/Screen-based_text_editor">åŸºäºå±å¹•çš„æ–‡æœ¬ç¼–è¾‘å™¨</a> ç¨‹åºã€‚</p><p>å°±åƒå¼ºå¤§çš„ <code>Vscode</code> æ˜¯ <strong>GUI</strong> ä¸­æœ€æµè¡Œçš„ä»£ç ç¼–è¾‘å™¨ä¸€æ ·ï¼Œ<strong>Vim</strong> æ˜¯ <strong>å‘½ä»¤è¡Œ</strong> ä¸­æœ€å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚</p><p>æˆ‘ä»¬ä¸ä¼šåœ¨æœ¬æ–‡ä¸­è®¨è®º Vim æœ‰å¤šå¼ºå¤§ï¼Œå› ä¸º <strong>Vim æ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨</strong>ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä¸ä½¿ç”¨ Vim çš„æƒ…å†µä¸‹å®Œæˆç›¸åŒçš„ä»»åŠ¡ï¼Œä½†ä¼šç‰ºç‰²å¤§é‡çš„æ—¶é—´ã€‚</p><p>åœ¨æ·±å…¥ Vim çš„ä¸–ç•Œä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿ <strong>Vim çš„æ ¸å¿ƒåŸåˆ™</strong>ï¼š<strong>æ‰€æœ‰æ“ä½œéƒ½é€šè¿‡é”®ç›˜æ‰§è¡Œï¼Œè€Œä¸æ˜¯é¼ æ ‡</strong>ã€‚</p><p><strong>Vim çš„ç•Œé¢æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€</strong>ï¼</p><blockquote><p>æ‰€ä»¥ä½ æœ€å¥½åœ¨è‹±æ–‡æ‰“å­—æ—¶ä¸è¦å¤ªæ…¢ã€‚ä½ éœ€è¦ç¡®ä¿æ‰“å­—æ¯”ç”¨é¼ æ ‡åˆ°å¤„ç‚¹å‡»æ›´é«˜æ•ˆï¼</p></blockquote><h2 id="Vim-ä¸­çš„æ¨¡å¼"><a href="#Vim-ä¸­çš„æ¨¡å¼" class="headerlink" title="Vim ä¸­çš„æ¨¡å¼"></a>Vim ä¸­çš„æ¨¡å¼</h2><ul><li>æ™®é€šæ¨¡å¼</li><li>æ’å…¥æ¨¡å¼ (<code>i</code>)</li><li>æ›¿æ¢æ¨¡å¼ (<code>R</code>)</li><li>å¯è§†æ¨¡å¼ (<code>v</code>)<ul><li>è¡Œå¯è§†æ¨¡å¼ (<code>Shift + V</code>)</li><li>å—å¯è§†æ¨¡å¼ (<code>Ctrl + V</code>)</li></ul></li><li>å‘½ä»¤è¡Œæ¨¡å¼ (<code>:</code>)</li></ul><h3 id="å‘½ä»¤è¡Œæ¨¡å¼"><a href="#å‘½ä»¤è¡Œæ¨¡å¼" class="headerlink" title="å‘½ä»¤è¡Œæ¨¡å¼"></a>å‘½ä»¤è¡Œæ¨¡å¼</h3><p>åœ¨æ™®é€šæ¨¡å¼ä¸‹æŒ‰ <code>:</code> å¯ä»¥è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ã€‚æŒ‰ä¸‹ <code>:</code> åï¼Œå…‰æ ‡ä¼šè·³è½¬åˆ°å±å¹•åº•éƒ¨çš„å‘½ä»¤è¡Œã€‚æ­¤æ¨¡å¼å…·æœ‰è®¸å¤šåŠŸèƒ½ï¼ŒåŒ…æ‹¬æ‰“å¼€ã€ä¿å­˜å’Œå…³é—­æ–‡ä»¶ï¼Œä»¥åŠ <a href="https://twitter.com/iamdevloper/status/435555976687923200">é€€å‡º Vim</a>ã€‚</p><ul><li><code>:q</code> é€€å‡ºï¼ˆå…³é—­çª—å£ï¼‰</li><li><code>:w</code> ä¿å­˜ï¼ˆâ€œå†™å…¥â€ï¼‰</li><li><code>:wq</code> ä¿å­˜å¹¶é€€å‡º</li><li><code>:e &#123;æ–‡ä»¶å&#125;</code> æ‰“å¼€æ–‡ä»¶è¿›è¡Œç¼–è¾‘</li><li><code>:ls</code> æ˜¾ç¤ºæ‰“å¼€çš„ç¼“å†²åŒº</li><li><code>:help &#123;ä¸»é¢˜&#125;</code> æ‰“å¼€å¸®åŠ©<ul><li><code>:help :w</code> æ‰“å¼€ <code>:w</code> å‘½ä»¤çš„å¸®åŠ©</li><li><code>:help w</code> æ‰“å¼€ <code>w</code> ç§»åŠ¨å‘½ä»¤çš„å¸®åŠ©</li></ul></li></ul><h3 id="æ™®é€šæ¨¡å¼"><a href="#æ™®é€šæ¨¡å¼" class="headerlink" title="æ™®é€šæ¨¡å¼"></a>æ™®é€šæ¨¡å¼</h3><h4 id="ç§»åŠ¨"><a href="#ç§»åŠ¨" class="headerlink" title="ç§»åŠ¨"></a>ç§»åŠ¨</h4><p>åœ¨ Vim ä¸­ï¼Œä½ ä¸èƒ½ç®€å•åœ°ç”¨é¼ æ ‡ç‚¹å‡»æŸä¸ªä½ç½®æ¥ç§»åŠ¨å…‰æ ‡ã€‚<strong>åœ¨æ™®é€šæ¨¡å¼ä¸‹</strong>ï¼Œä½ å¯ä»¥ä½¿ç”¨å‡ ä¸ªé”®æ¥é«˜æ•ˆåœ°å°†å…‰æ ‡ç§»åŠ¨åˆ°ä»»ä½•ä½ æƒ³è¦çš„ä½ç½®ï¼</p><p>æ ¹æ® <strong>ç²¾ç¡®åº¦</strong>ï¼ŒVim çš„ç§»åŠ¨é”®å¯ä»¥åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ã€‚</p><ul><li><p><strong>å­—ç¬¦çº§ç§»åŠ¨</strong></p><ul><li><code>hjkl</code>ï¼ˆå·¦ã€ä¸‹ã€ä¸Šã€å³ï¼‰</li></ul></li><li><p><strong>å•è¯çº§ç§»åŠ¨</strong></p><ul><li><code>w</code>ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯</li><li><code>b</code>ï¼šç§»åŠ¨åˆ°å•è¯çš„å¼€å¤´</li><li><code>e</code>ï¼šç§»åŠ¨åˆ°å•è¯çš„æœ«å°¾</li></ul></li><li><p><strong>è¡Œçº§ç§»åŠ¨</strong></p><ul><li><p><code>0</code>ï¼šç§»åŠ¨åˆ°è¡Œé¦–</p><ul><li>ç»„åˆé”® <code>j+0</code>ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œçš„è¡Œé¦–ã€‚</li><li>ç»„åˆé”® <code>k+0</code>ï¼šç§»åŠ¨åˆ°ä¸Šä¸€è¡Œçš„è¡Œé¦–ã€‚</li></ul></li><li><p><code>Enter</code>ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œçš„è¡Œé¦–</p></li><li><p><code>^</code>ï¼šç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦</p></li><li><p><code>$</code>ï¼šç§»åŠ¨åˆ°è¡Œå°¾</p></li><li><p><code>+</code>ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦</p></li><li><p><code>&#123;</code> å’Œ <code>&#125;</code>ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç©ºè¡Œ</p></li><li><p>è¡Œå·ï¼š<code>:&#123;number&#125;&lt;CR&gt;</code> æˆ– <code>&#123;number&#125;G</code>ï¼ˆè·³è½¬åˆ°ç¬¬ {number} è¡Œï¼‰</p><blockquote><p><code>&lt;CR&gt;</code> è¡¨ç¤ºæŒ‰ä¸‹ <code>Enter</code> é”®ã€‚</p></blockquote><ul><li>**<code>:&#123;number&#125;&lt;CR&gt;</code>**ï¼šè¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œè¾“å…¥è¡Œå·ï¼Œç„¶åæŒ‰ <code>Enter</code> è·³è½¬åˆ°è¯¥è¡Œã€‚</li><li>**<code>&#123;number&#125;G</code>**ï¼šç›´æ¥è·³è½¬åˆ°æŒ‡å®šè¡Œå·ï¼ˆä¾‹å¦‚ï¼Œ<code>10G</code> è·³è½¬åˆ°ç¬¬ 10 è¡Œï¼‰ã€‚</li></ul></li></ul></li><li><p><strong>å±å¹•çº§ç§»åŠ¨</strong></p><ul><li><code>H</code>ï¼šç§»åŠ¨åˆ°å±å¹•é¡¶éƒ¨</li><li><code>M</code>ï¼šç§»åŠ¨åˆ°å±å¹•ä¸­é—´</li><li><code>L</code>ï¼šç§»åŠ¨åˆ°å±å¹•åº•éƒ¨</li><li><strong>æ»šåŠ¨</strong><ul><li>ï¼ˆæˆ‘é€šå¸¸ä½¿ç”¨è§¦æ‘¸æ¿ï¼‰</li><li><code>Ctrl-u</code>ï¼šå‘ä¸Šæ»šåŠ¨åŠé¡µï¼ŒåŒæ—¶ä¿æŒå…‰æ ‡ä½ç½®ä¸å˜ã€‚</li><li><code>Ctrl-d</code>ï¼šå‘ä¸‹æ»šåŠ¨åŠé¡µï¼ŒåŒæ—¶ä¿æŒå…‰æ ‡ä½ç½®ä¸å˜ã€‚</li></ul></li></ul></li><li><p><strong>æ–‡ä»¶çº§ç§»åŠ¨</strong></p><ul><li><code>gg</code>ï¼ˆæ–‡ä»¶å¼€å¤´ï¼‰ï¼Œ<code>G</code>ï¼ˆæ–‡ä»¶æœ«å°¾ï¼‰</li><li>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>]]</code>ï¼ˆé¡¶éƒ¨ï¼‰å’Œ <code>[[</code>ï¼ˆæœ«å°¾ï¼‰å‘½ä»¤ã€‚</li><li>**<code>%</code>**ï¼šè·³è½¬åˆ°åŒ¹é…çš„ç¬¦å·ï¼ˆä¾‹å¦‚ <code>()</code>ã€<code>&#123;&#125;</code>ã€<code>[]</code> ç­‰ï¼‰<ul><li><strong>è¿™åœ¨ Vim ä¸­ç¼–ç¨‹æ—¶éå¸¸æœ‰ç”¨ï¼</strong></li></ul></li></ul></li></ul><h4 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h4><p>åœ¨ Vim ä¸­ï¼Œ<code>f</code>ã€<code>t</code>ã€<code>F</code> å’Œ <code>T</code> å‘½ä»¤ç”¨äº <strong>åœ¨å½“å‰è¡Œå†…è¿›è¡ŒåŸºäºå­—ç¬¦çš„å¯¼èˆª</strong>ã€‚</p><ul><li><p>**<code>f</code>**ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ã€‚</p></li><li><p>**<code>t</code>**ï¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦çš„å‰ä¸€ä¸ªä½ç½®ã€‚</p></li><li><p>**<code>F</code>**ï¼šç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå­—ç¬¦ã€‚</p></li><li><p>**<code>T</code>**ï¼šç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå­—ç¬¦çš„åä¸€ä¸ªä½ç½®ã€‚</p></li><li><p>**<code>,</code>**ï¼šåå‘é‡å¤ä¸Šä¸€æ¬¡æŸ¥æ‰¾å‘½ä»¤ã€‚</p></li><li><p>**<code>;</code>**ï¼šæ­£å‘é‡å¤ä¸Šä¸€æ¬¡æŸ¥æ‰¾å‘½ä»¤ã€‚</p></li></ul><ol><li><p><strong>åœ¨å½“å‰è¡ŒæŸ¥æ‰¾å­—ç¬¦</strong></p><ul><li>**<code>f&#123;å­—ç¬¦&#125;</code>**ï¼š<ul><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œä¸­ä¸‹ä¸€ä¸ª <code>&#123;å­—ç¬¦&#125;</code> çš„ä½ç½®ã€‚</li><li>ç¤ºä¾‹ï¼š<code>fa</code> å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª <code>a</code>ã€‚</li></ul></li><li>**<code>t&#123;å­—ç¬¦&#125;</code>**ï¼š<ul><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œä¸­ä¸‹ä¸€ä¸ª <code>&#123;å­—ç¬¦&#125;</code> çš„å‰ä¸€ä¸ªä½ç½®ã€‚</li><li>ç¤ºä¾‹ï¼š<code>ta</code> å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª <code>a</code> çš„å‰ä¸€ä¸ªä½ç½®ã€‚</li></ul></li></ul></li><li><p><strong>åœ¨å½“å‰è¡Œåå‘æŸ¥æ‰¾å­—ç¬¦</strong></p><ul><li>**<code>F&#123;å­—ç¬¦&#125;</code>**ï¼š<ul><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œä¸­ä¸Šä¸€ä¸ª <code>&#123;å­—ç¬¦&#125;</code> çš„ä½ç½®ï¼ˆåå‘æœç´¢ï¼‰ã€‚</li><li>ç¤ºä¾‹ï¼š<code>Fa</code> å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ª <code>a</code>ã€‚</li></ul></li><li>**<code>T&#123;å­—ç¬¦&#125;</code>**ï¼š<ul><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°å½“å‰è¡Œä¸­ä¸Šä¸€ä¸ª <code>&#123;å­—ç¬¦&#125;</code> çš„åä¸€ä¸ªä½ç½®ï¼ˆåå‘æœç´¢ï¼‰ã€‚</li><li>ç¤ºä¾‹ï¼š<code>Ta</code> å°†å…‰æ ‡ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ª <code>a</code> çš„åä¸€ä¸ªä½ç½®ã€‚</li></ul></li></ul></li><li><p><strong>åœ¨åŒ¹é…é¡¹ä¹‹é—´å¯¼èˆª</strong></p><ul><li><strong><code>,</code>ï¼ˆé€—å·ï¼‰</strong>ï¼š<ul><li>åå‘é‡å¤ä¸Šä¸€æ¬¡ <code>f</code>ã€<code>t</code>ã€<code>F</code> æˆ– <code>T</code> å‘½ä»¤ã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœä½ ä½¿ç”¨ <code>fa</code> ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª <code>a</code>ï¼ŒæŒ‰ <code>,</code> å°†ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ª <code>a</code>ã€‚</li></ul></li><li><strong><code>;</code>ï¼ˆåˆ†å·ï¼‰</strong>ï¼š<ul><li>æ­£å‘é‡å¤ä¸Šä¸€æ¬¡ <code>f</code>ã€<code>t</code>ã€<code>F</code> æˆ– <code>T</code> å‘½ä»¤ã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœä½ ä½¿ç”¨ <code>fa</code> ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª <code>a</code>ï¼ŒæŒ‰ <code>;</code> å°†ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª <code>a</code>ã€‚</li></ul></li></ul></li></ol><h4 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h4><ol><li><p><strong>å‘å‰æœç´¢</strong></p><ul><li>**<code>/&#123;æ­£åˆ™è¡¨è¾¾å¼&#125;&lt;CR&gt;</code>**ï¼š<ul><li>åœ¨æ–‡ä»¶ä¸­å‘å‰æœç´¢æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ<code>&#123;æ­£åˆ™è¡¨è¾¾å¼&#125;</code>ï¼‰ã€‚</li><li>ç¤ºä¾‹ï¼š<code>/hello&lt;CR&gt;</code> æœç´¢ä¸‹ä¸€ä¸ª <code>hello</code>ã€‚</li><li>æŒ‰ä¸‹ <code>Enter</code> åï¼Œå…‰æ ‡è·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</li></ul></li></ul></li><li><p><strong>å¯¼èˆªåŒ¹é…é¡¹</strong></p><ul><li>**<code>n</code>**ï¼š<ul><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°æœç´¢æ¨¡å¼çš„ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</li><li>ç¤ºä¾‹ï¼šæœç´¢ <code>/hello</code> åï¼ŒæŒ‰ <code>n</code> è·³è½¬åˆ°ä¸‹ä¸€ä¸ª <code>hello</code>ã€‚</li></ul></li><li>**<code>N</code>**ï¼š<ul><li>å°†å…‰æ ‡ç§»åŠ¨åˆ°æœç´¢æ¨¡å¼çš„ä¸Šä¸€ä¸ªåŒ¹é…é¡¹ã€‚</li><li>ç¤ºä¾‹ï¼šæœç´¢ <code>/hello</code> åï¼ŒæŒ‰ <code>N</code> è·³è½¬åˆ°ä¸Šä¸€ä¸ª <code>hello</code>ã€‚</li></ul></li></ul></li><li><p><strong>å‘åæœç´¢</strong></p><ul><li>**<code>?&#123;æ­£åˆ™è¡¨è¾¾å¼&#125;&lt;CR&gt;</code>**ï¼š<ul><li>åœ¨æ–‡ä»¶ä¸­å‘åæœç´¢æŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ<code>&#123;æ­£åˆ™è¡¨è¾¾å¼&#125;</code>ï¼‰ã€‚</li><li>ç¤ºä¾‹ï¼š<code>?hello&lt;CR&gt;</code> æœç´¢ä¸Šä¸€ä¸ª <code>hello</code>ã€‚</li><li>æŒ‰ä¸‹ <code>Enter</code> åï¼Œå…‰æ ‡è·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ã€‚</li></ul></li></ul></li><li><p><strong>é¢å¤–æç¤º</strong></p><ul><li><strong>é«˜äº®åŒ¹é…é¡¹</strong>ï¼š<ul><li>ä½¿ç”¨ <code>:set hlsearch</code> é«˜äº®æ‰€æœ‰åŒ¹é…é¡¹ã€‚<ul><li>å¯ä»¥å°†å…¶å†™å…¥ <code>~/.vimrc</code> æ–‡ä»¶ä»¥æˆä¸ºå…¨å±€è®¾ç½®ã€‚</li></ul></li><li>ä½¿ç”¨ <code>:nohlsearch</code>ï¼ˆæˆ– <code>:noh</code>ï¼‰æš‚æ—¶ç¦ç”¨é«˜äº®ã€‚</li></ul></li><li><strong>å¤§å°å†™æ•æ„Ÿ</strong>ï¼š<ul><li>ä½¿ç”¨ <code>:set ignorecase</code>ï¼ˆ<code>:set ic</code>ï¼‰ä½¿æœç´¢ä¸åŒºåˆ†å¤§å°å†™ã€‚</li><li>ä½¿ç”¨ <code>:set smartcase</code> ä½¿æœç´¢ä¸åŒºåˆ†å¤§å°å†™ï¼Œé™¤éæœç´¢æ¨¡å¼åŒ…å«å¤§å†™å­—æ¯ã€‚</li></ul></li></ul></li></ol><h4 id="ç¼–è¾‘"><a href="#ç¼–è¾‘" class="headerlink" title="ç¼–è¾‘"></a>ç¼–è¾‘</h4><ul><li><p><code>d&#123;ç§»åŠ¨å‘½ä»¤&#125;</code>ï¼š<strong>åˆ é™¤</strong></p><ul><li><code>dw</code> åˆ é™¤ä¸€ä¸ªå•è¯</li><li><code>d$</code> åˆ é™¤åˆ°è¡Œå°¾</li><li><code>d0</code> åˆ é™¤åˆ°è¡Œé¦–</li><li><code>de</code> åˆ é™¤åˆ°å•è¯æœ«å°¾</li><li><code>db</code> åˆ é™¤åˆ°å•è¯å¼€å¤´</li><li><code>x</code> åˆ é™¤å­—ç¬¦ï¼ˆç­‰åŒäº <code>dl</code>ï¼‰</li><li><code>dd</code> åˆ é™¤æ•´è¡Œ</li></ul></li><li><p><code>r&#123;ç§»åŠ¨å‘½ä»¤&#125;</code>ï¼š<strong>æ›¿æ¢</strong></p><ul><li>å°†å…‰æ ‡å¤„çš„å­—ç¬¦æ›¿æ¢ä¸ºæŒ‡å®šå­—ç¬¦ã€‚</li><li>ä¾‹å¦‚ï¼š<code>rf</code> å°†å…‰æ ‡å¤„çš„å­—ç¬¦æ›¿æ¢ä¸º <code>f</code>ã€‚</li></ul></li><li><p><code>u</code>ï¼š<strong>æ’¤é”€</strong></p><ul><li><p><code>u</code> æ’¤é”€ï¼Œ<code>Ctrl + r</code> é‡åš</p><blockquote><p><code>Ctrl + r</code> è¡¨ç¤ºæŒ‰ä¸‹ <code>Ctrl + r</code>ï¼Œå®ƒå°†é‡åšæ“ä½œã€‚</p></blockquote></li></ul></li><li><p><code>~</code> åˆ‡æ¢å­—ç¬¦çš„å¤§å°å†™</p></li></ul><h3 id="æ’å…¥æ¨¡å¼"><a href="#æ’å…¥æ¨¡å¼" class="headerlink" title="æ’å…¥æ¨¡å¼"></a>æ’å…¥æ¨¡å¼</h3><p>åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥è‡ªç”±è¾“å…¥å’Œä¿®æ”¹å†…å®¹ã€‚</p><ul><li><code>i</code> è¿›å…¥æ’å…¥æ¨¡å¼<ul><li><code>a</code> ä¹Ÿå¯ä»¥ç”¨äºåœ¨å…‰æ ‡åè¿›å…¥æ’å…¥æ¨¡å¼ï¼ˆç”¨äºå®šä½ï¼‰</li></ul></li><li><code>o</code> &#x2F; <code>O</code> åœ¨ä¸‹æ–¹ &#x2F; ä¸Šæ–¹æ’å…¥æ–°è¡Œï¼ˆåœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼‰<ul><li>æ­¤å‘½ä»¤ä¼š <strong>å…ˆæ’å…¥æ–°è¡Œï¼Œç„¶åå°†æ¨¡å¼ä»æ™®é€šæ¨¡å¼åˆ‡æ¢åˆ°æ’å…¥æ¨¡å¼</strong>ã€‚</li></ul></li><li><code>c&#123;ç§»åŠ¨å‘½ä»¤&#125;</code>ï¼š<strong>æ›´æ”¹</strong><ul><li><code>cw</code>ï¼šç­‰åŒäº <code>dw</code>ï¼Œç„¶åè¿›å…¥ <strong>æ’å…¥æ¨¡å¼</strong>ã€‚</li><li><strong>å…¶ä»–å‘½ä»¤ç±»ä¼¼ï¼</strong><ul><li><code>cw</code>ã€<code>c$</code>ã€<code>c0</code>ã€<code>ce</code>ã€<code>cb</code>ã€<code>cl</code></li></ul></li><li><code>s</code> æ›¿æ¢å­—ç¬¦ï¼ˆç­‰åŒäº <code>cl</code>ï¼‰</li><li><code>cc</code> åˆ é™¤æ•´è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</li></ul></li></ul><h3 id="å¯è§†æ¨¡å¼"><a href="#å¯è§†æ¨¡å¼" class="headerlink" title="å¯è§†æ¨¡å¼"></a>å¯è§†æ¨¡å¼</h3><p><strong>å¯è§†æ¨¡å¼</strong> ç”¨äºé€‰æ‹©æ–‡æœ¬ï¼Œé€šå¸¸ä¸å¤šä¸ªæ–‡æœ¬ç¼–è¾‘å‘½ä»¤ç»“åˆä½¿ç”¨ã€‚</p><ul><li><p>å¯è§†æ¨¡å¼ï¼š<code>v</code></p><ul><li>ä»¥å­—ç¬¦çº§åˆ«é€‰æ‹©æ–‡æœ¬ã€‚</li></ul></li><li><p>è¡Œå¯è§†æ¨¡å¼ï¼š<code>V</code></p><ul><li>é€‰æ‹©æ•´è¡Œæ–‡æœ¬ã€‚</li></ul></li><li><p>å—å¯è§†æ¨¡å¼ï¼š<code>Ctrl + v</code></p><ul><li>é€‰æ‹©ä¸€ä¸ªçŸ©å½¢æ–‡æœ¬å—ï¼Œé€‚ç”¨äºç¼–è¾‘è¡¨æ ¼æˆ–åœ¨å¤šè¡Œä¸Šæ‰§è¡Œç›¸åŒæ“ä½œã€‚</li></ul></li></ul><p><strong>ç¼©å°é€‰æ‹©èŒƒå›´</strong>ï¼šæŒ‰ <code>o</code> å°†å…‰æ ‡åˆ‡æ¢åˆ°é€‰æ‹©çš„å¦ä¸€ç«¯ï¼Œç„¶åç§»åŠ¨å…‰æ ‡ä»¥ç¼©å°é€‰æ‹©èŒƒå›´ã€‚</p><h4 id="å¤åˆ¶å’Œç²˜è´´"><a href="#å¤åˆ¶å’Œç²˜è´´" class="headerlink" title="å¤åˆ¶å’Œç²˜è´´"></a>å¤åˆ¶å’Œç²˜è´´</h4><ul><li><code>y</code> å¤åˆ¶<ul><li><code>yy</code> å¤åˆ¶æ•´è¡Œ</li><li><code>yw</code> å¤åˆ¶å½“å‰å•è¯</li><li><code>y$</code> å’Œ <code>y0</code> è¯­æ³•ç›¸åŒ</li></ul></li><li><code>p</code> ç²˜è´´<ul><li><code>p</code>ï¼šç²˜è´´åˆ°å…‰æ ‡å</li><li><code>P</code>ï¼šç²˜è´´åˆ°å…‰æ ‡å‰</li></ul></li></ul><div class="note note-primary">            <p>åœ¨ Vim ä¸­ï¼Œ<code>y</code> å‘½ä»¤å°†é€‰ä¸­çš„å†…å®¹å¤åˆ¶åˆ° Vim çš„ <strong>å¯„å­˜å™¨</strong> ä¸­ï¼Œè€Œä¸æ˜¯ç³»ç»Ÿå‰ªè´´æ¿ã€‚<code>p</code> å‘½ä»¤å°†å†…å®¹ä» Vim çš„å¯„å­˜å™¨ç²˜è´´åˆ°å…‰æ ‡ä½ç½®ã€‚</p><p><strong>å¦‚ä½•å®ç° Vim ä¸ç³»ç»Ÿå‰ªè´´æ¿çš„å…¼å®¹æ€§</strong></p><ol><li><p><strong>ä½¿ç”¨ <code>+</code> æˆ– <code>*</code> å¯„å­˜å™¨</strong>ï¼š</p><ul><li>Vim æä¾›äº† <code>+</code>ï¼ˆç³»ç»Ÿå‰ªè´´æ¿ï¼‰å’Œ <code>*</code>ï¼ˆä¸»é€‰æ‹©ç¼“å†²åŒºï¼‰å¯„å­˜å™¨ï¼Œç”¨äºä¸ç³»ç»Ÿå‰ªè´´æ¿äº¤äº’ã€‚</li><li>å¤åˆ¶æ—¶ï¼Œä½¿ç”¨ <code>&quot;+y</code> æˆ– <code>&quot;*y</code> å°†å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ã€‚<ul><li>ç¤ºä¾‹ï¼š<code>&quot;+yy</code> å°†å½“å‰è¡Œå¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿ã€‚</li></ul></li><li>ç²˜è´´æ—¶ï¼Œä½¿ç”¨ <code>&quot;+p</code> æˆ– <code>&quot;*p</code> ä»ç³»ç»Ÿå‰ªè´´æ¿ç²˜è´´å†…å®¹ã€‚<ul><li>ç¤ºä¾‹ï¼š<code>&quot;+p</code> ä»ç³»ç»Ÿå‰ªè´´æ¿ç²˜è´´å†…å®¹ã€‚</li></ul></li></ul></li><li><p><strong>æ£€æŸ¥ Vim æ˜¯å¦æ”¯æŒç³»ç»Ÿå‰ªè´´æ¿</strong>ï¼š</p><ul><li><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ Vim æ˜¯å¦æ”¯æŒç³»ç»Ÿå‰ªè´´æ¿ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim --version | grep clipboard<br></code></pre></td></tr></table></figure></li><li><p>å¦‚æœè¾“å‡ºåŒ…å« <code>+clipboard</code>ï¼Œåˆ™ Vim æ”¯æŒç³»ç»Ÿå‰ªè´´æ¿ã€‚</p></li><li><p>å¦‚æœä¸æ”¯æŒï¼Œå¯ä»¥å®‰è£…æ”¯æŒå‰ªè´´æ¿çš„ Vim ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ <code>vim-gtk</code> æˆ– <code>vim-gnome</code>ï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt install vim-gtk<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>é…ç½® Vim é»˜è®¤ä½¿ç”¨ç³»ç»Ÿå‰ªè´´æ¿</strong>ï¼š</p><ul><li><p>åœ¨ Vim é…ç½®æ–‡ä»¶ï¼ˆ<code>~/.vimrc</code> æˆ– <code>~/.config/nvim/init.vim</code>ï¼‰ä¸­æ·»åŠ ä»¥ä¸‹è¡Œï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">set</span> clipboard=unnamedplus<br></code></pre></td></tr></table></figure><p>è¿™å°†ä½¿ <code>y</code> å’Œ <code>p</code> é»˜è®¤ä½¿ç”¨ç³»ç»Ÿå‰ªè´´æ¿ï¼ˆ<code>+</code> å¯„å­˜å™¨ï¼‰ã€‚</p></li></ul></li></ol>          </div><h2 id="é«˜çº§ç”¨æ³•"><a href="#é«˜çº§ç”¨æ³•" class="headerlink" title="é«˜çº§ç”¨æ³•"></a>é«˜çº§ç”¨æ³•</h2><h3 id="è®¡æ•°"><a href="#è®¡æ•°" class="headerlink" title="è®¡æ•°"></a>è®¡æ•°</h3><p>ä½ å¯ä»¥å°†åè¯å’ŒåŠ¨è¯ä¸è®¡æ•°ç»“åˆä½¿ç”¨ï¼Œä»¥æ‰§è¡Œç»™å®šæ¬¡æ•°çš„æ“ä½œã€‚</p><ul><li><code>3w</code> å‘å‰ç§»åŠ¨ 3 ä¸ªå•è¯</li><li><code>5j</code> å‘ä¸‹ç§»åŠ¨ 5 è¡Œ</li><li><code>7dw</code> åˆ é™¤ 7 ä¸ªå•è¯</li></ul><h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><p>ä½ å¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦æ¥æ”¹å˜åè¯çš„å«ä¹‰ã€‚ä¸€äº›ä¿®é¥°ç¬¦åŒ…æ‹¬ <code>i</code>ï¼Œè¡¨ç¤ºâ€œå†…éƒ¨â€æˆ–â€œé‡Œé¢â€ï¼Œä»¥åŠ <code>a</code>ï¼Œè¡¨ç¤ºâ€œå‘¨å›´â€ã€‚</p><ul><li><strong><code>i</code></strong> - â€œå†…éƒ¨â€ æˆ– â€œé‡Œé¢â€ï¼Œä½œç”¨äºæ‹¬å·ã€å¼•å·ç­‰çš„å†…éƒ¨ã€‚<ul><li><code>ci(</code> æ›´æ”¹æ‹¬å·å†…çš„å†…å®¹ã€‚</li><li><code>ci[</code> æ›´æ”¹æ–¹æ‹¬å·å†…çš„å†…å®¹ã€‚</li><li><code>ci&quot;</code> æ›´æ”¹åŒå¼•å·å†…çš„å†…å®¹ã€‚</li><li><code>ci&#39;</code> æ›´æ”¹å•å¼•å·å†…çš„å†…å®¹ã€‚</li></ul></li><li><strong><code>a</code></strong> - â€œå‘¨å›´â€ï¼ŒåŒ…æ‹¬æ‹¬å·ã€å¼•å·ç­‰ã€‚<ul><li><code>ca(</code> æ›´æ”¹æ‹¬å·åŠå…¶å†…å®¹ã€‚</li><li><code>ca[</code> æ›´æ”¹æ–¹æ‹¬å·åŠå…¶å†…å®¹ã€‚</li><li><code>ca&quot;</code> æ›´æ”¹åŒå¼•å·åŠå…¶å†…å®¹ã€‚</li><li><code>ca&#39;</code> æ›´æ”¹å•å¼•å·åŠå…¶å†…å®¹ã€‚</li></ul></li></ul><h3 id="é‡å¤"><a href="#é‡å¤" class="headerlink" title="é‡å¤"></a>é‡å¤</h3><p>åœ¨ Vim ä¸­ï¼Œ<code>.</code> å‘½ä»¤é‡å¤ä¸Šä¸€æ¬¡çš„æ›´æ”¹æ“ä½œï¼Œä¾‹å¦‚æ’å…¥ã€åˆ é™¤æˆ–æ›¿æ¢ï¼Œä½¿å…¶æˆä¸ºé«˜æ•ˆç¼–è¾‘çš„å¼ºå¤§å·¥å…·ã€‚æ­¤å¤–ï¼Œ<code>n .</code> é‡å¤ä¸Šä¸€æ¬¡æ›´æ”¹ <code>n</code> æ¬¡ï¼Œè€Œ <code>@:</code> é‡å¤ä¸Šä¸€æ¬¡ Ex å‘½ä»¤ï¼ˆä¾‹å¦‚ <code>:s/foo/bar/g</code>ï¼‰ï¼Œè¿›ä¸€æ­¥æé«˜ç”Ÿäº§åŠ›ã€‚</p><h2 id="å¸¸è§å¿«æ·é”®"><a href="#å¸¸è§å¿«æ·é”®" class="headerlink" title="å¸¸è§å¿«æ·é”®"></a>å¸¸è§å¿«æ·é”®</h2><p>æ–°æ‰‹å¸¸å¸¸æ„Ÿåˆ°å›°æƒ‘ï¼Œä»¥ä¸‹è¡¨æ ¼æ¯”è¾ƒäº†å¸¸è§çš„æ–‡æœ¬ç¼–è¾‘å¿«æ·é”®ã€å®ƒä»¬çš„åŠŸèƒ½ä»¥åŠå¯¹åº”çš„ Vim æ“ä½œï¼š</p><table><thead><tr><th><strong>å¿«æ·é”®</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>Vim ç­‰æ•ˆæ“ä½œ</strong></th></tr></thead><tbody><tr><td><code>Ctrl + C</code></td><td>å¤åˆ¶é€‰ä¸­çš„æ–‡æœ¬</td><td><code>y</code>ï¼ˆå¤åˆ¶ï¼‰</td></tr><tr><td><code>Ctrl + V</code></td><td>ç²˜è´´å‰ªè´´æ¿ä¸­çš„æ–‡æœ¬</td><td><code>p</code>ï¼ˆç²˜è´´ï¼‰</td></tr><tr><td><code>Ctrl + A</code></td><td>å…¨é€‰æ–‡æœ¬</td><td><code>ggVG</code>ï¼ˆé€‰æ‹©æ•´ä¸ªæ–‡ä»¶ï¼‰</td></tr><tr><td><code>Ctrl + X</code></td><td>å‰ªåˆ‡é€‰ä¸­çš„æ–‡æœ¬</td><td><code>d</code>ï¼ˆåˆ é™¤ï¼Œå‰ªåˆ‡ï¼‰</td></tr><tr><td><code>Ctrl + S</code></td><td>ä¿å­˜å½“å‰æ–‡ä»¶</td><td><code>:w</code>ï¼ˆå†™å…¥ï¼Œä¿å­˜æ–‡ä»¶ï¼‰</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>Vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataStructure-Queue</title>
    <link href="/posts/DataStructure-Queue/"/>
    <url>/posts/DataStructure-Queue/</url>
    
    <content type="html"><![CDATA[<h1 id="Data-Structure-Queue"><a href="#Data-Structure-Queue" class="headerlink" title="Data_Structure Queue"></a>Data_Structure Queue</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨ä¹‹å‰çš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ä»‹ç»äº†<strong>çº¿æ€§æ•°æ®ç»“æ„</strong>â€”â€”çº¿æ€§è¡¨ï¼ŒåŒæ—¶ä»‹ç»äº†ä¸€ç§éå¸¸ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼š<strong>æ ˆ</strong>ã€‚æ ˆçš„å…³é”®åœ¨äº<strong>çº¦æŸäº†æ•°æ®ç»“æ„è¾“å…¥æ•°æ®å’Œè¾“å‡ºæ•°æ®çš„é¡ºåº</strong>ï¼šå³<strong>LIFO</strong>çš„é¡ºåºã€‚ï¼ˆä¸è¿‡æœ‰ä¸ªå‰æï¼Œæ ˆæ˜¯çº¿æ€§çš„æ•°æ®ç»“æ„ï¼Œå› æ­¤æ•°æ®ç»“æ„çš„æ’åˆ—ä¸€å®šæ˜¯çº¿æ€§çš„ï¼‰</p><p><strong>LIFO</strong>çš„é¡ºåºå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆå¾ˆå¤šäº‹ï¼Œä¾‹å¦‚åœ¨ä¸Šä¸€è®²çš„æœ«å°¾ï¼š<strong>æ‹¬å·åŒ¹é…å™¨å’Œç®€å•çš„è®¡ç®—å™¨ï¼ˆä¸­ç¼€è½¬åç¼€ï¼‰</strong>ï¼Œå°¤å…¶åœ¨<strong>è¾“å…¥å’Œè¾“å‡ºé¡ºåºä¸ä¸€è‡´çš„æƒ…å†µä¸‹</strong>ï¼Œæ ˆå¯ä»¥å‘æŒ¥å¾ˆå¤§çš„ä½œç”¨ã€‚</p><blockquote><p>è¿™å†æ¬¡å°è¯äº†é‚£å¥è¯ï¼šæ•°æ®ç»“æ„çš„æœ¬è´¨æ˜¯å¯¹å®é™…æƒ…å½¢çš„æŠ½è±¡æ•°æ®å»ºæ¨¡ã€‚</p></blockquote><p>æˆ‘ä»¬å¯ä»¥æ²¿ç€è¿™æ¡çº¿ç»§ç»­æ€è€ƒï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥äººä¸ºæ›´æ”¹<strong>è¾“å…¥æ•°æ®é¡ºåºå’Œè¾“å‡ºæ•°æ®é¡ºåºçš„çº¦æŸ</strong>ï¼Œè€Œåˆ›å»ºæ–°çš„æ•°æ®ç±»å‹ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯è‚¯å®šçš„ï¼Œä»Šå¤©ï¼Œæˆ‘ä»¬æ¥ä»‹ç»ä¸€ç§æ–°çš„æ•°æ®ç»“æ„â€”â€”é˜Ÿåˆ—ï¼ˆQueueï¼‰</p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p><strong>æ ˆ</strong>ï¼šå…ƒç´ çš„æ’å…¥å’Œåˆ é™¤æ“ä½œåªèƒ½åœ¨<strong>æ ˆçš„ä¸€ç«¯</strong>è¿›è¡Œï¼Œè¿™ä¸€ç«¯ç§°ä¸º <strong>æ ˆé¡¶ï¼ˆTopï¼‰</strong>ï¼Œå¦ä¸€ç«¯ç§°ä¸º <strong>æ ˆåº•ï¼ˆBottomï¼‰</strong>ã€‚</p><p><strong>é˜Ÿåˆ—</strong>ï¼šå…ƒç´ çš„æ’å…¥æ“ä½œåœ¨é˜Ÿåˆ—çš„ä¸€ç«¯è¿›è¡Œï¼Œç§°ä¸º <strong>é˜Ÿå°¾ï¼ˆRearï¼‰</strong>ï¼Œåˆ é™¤æ“ä½œåœ¨å¦ä¸€ç«¯è¿›è¡Œï¼Œç§°ä¸º <strong>é˜Ÿå¤´ï¼ˆFrontï¼‰</strong>ã€‚</p><blockquote><p>åŒå‘é˜Ÿåˆ—æ˜¯ä¸€ç§å…è®¸åœ¨ <strong>ä¸¤ç«¯</strong> è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§æ•°æ®ç»“æ„ã€‚å®ƒç»“åˆäº†æ ˆå’Œé˜Ÿåˆ—çš„ç‰¹æ€§ï¼Œæ—¢å¯ä»¥ä»é˜Ÿå¤´æ“ä½œï¼Œä¹Ÿå¯ä»¥ä»é˜Ÿå°¾æ“ä½œã€‚</p><p>åŒå‘é˜Ÿåˆ—å³æœ‰æ ˆçš„æ€§è´¨ï¼Œä¹Ÿæœ‰é˜Ÿåˆ—çš„æ€§è´¨ï¼Œåç»­ä¼šä¸“é—¨èŠ±ä¸€è®²çš„æ—¶é—´è¾¨æè¿™ä¸‰è€…ä½¿ç”¨ä¸Šçš„åŒºåˆ«ã€‚</p></blockquote><p><img src="https://www.hello-algo.com/chapter_stack_and_queue/queue.assets/queue_operations.png" alt="é˜Ÿåˆ—çš„å…ˆå…¥å…ˆå‡ºè§„åˆ™ Helloç®—æ³•"></p><p>å½¢è±¡åŒ–ç†è§£éå¸¸çš„å®¹æ˜“ï¼Œå°±åƒå…ƒç´ åœ¨<strong>æ’é˜Ÿä¸€æ ·</strong>ï¼Œæ»¡è¶³å…ˆæ¥ååˆ°çš„é¡ºåºï¼Œè¿™ä¹Ÿæ˜¯é˜Ÿåˆ—åŒºåˆ«äºæ ˆçš„æœ€æ˜¾è‘—çš„å·®åˆ«ï¼Œä¹Ÿæ˜¯é˜Ÿåˆ—æœ€æ ¸å¿ƒçš„æ€§è´¨ï¼š<strong>FIFO (First in First out)<strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ</strong>é˜Ÿåˆ—ä¸ä¼šå¯¼è‡´è¾“å…¥é¡ºåºå’Œè¾“å‡ºé¡ºåºçš„å·®å¼‚</strong>ã€‚</p><h2 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h2><p>å’Œæ ˆç±»ä¼¼ï¼Œé˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œå¦‚ä¸‹ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—<code>create()</code></li><li>å…¥é˜Ÿ<code>push(const T&amp; value)</code>ï¼šå°†<code>value</code>æ’å…¥æˆä¸º<strong>é˜Ÿå°¾å…ƒç´ </strong></li><li>å‡ºé˜Ÿ<code>pop()</code>ï¼šä½¿é˜Ÿå¤´å…ƒç´ å‡ºé˜Ÿå¹¶ä¸”è¿”å›è¿™ä¸ªå…ƒç´ çš„å€¼ã€‚</li><li>è¯»é˜Ÿå¤´å…ƒç´ <code>getHead()</code></li><li>åˆ¤æ–­é˜Ÿç©º<code>isEmpty()</code></li></ul><p>ä¸‹æ–‡ä»£ç æ˜¯å®ç°è¯¥å®šä¹‰çš„æŠ½è±¡åŸºç±»ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//Abstract class</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">queue</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">queue</span>()&#123;&#125;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>=<span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">getHead</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>=<span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><span class="hljs-comment">//æŠ½è±¡åŸºç±»ä»…ä»…å®šä¹‰æ¥å£ï¼Œæ²¡æœ‰å…·ä½“çš„æ•°æ®æˆå‘˜</span><br></code></pre></td></tr></table></figure><h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><h3 id="Sequential-Implementation"><a href="#Sequential-Implementation" class="headerlink" title="Sequential Implementation"></a>Sequential Implementation</h3><blockquote><p>ä¸‹é¢çš„æ€è€ƒå’Œä¼˜åŒ–è¿‡ç¨‹éå¸¸çš„ç²¾å½©ï¼Œè¯·åå¤å›å‘³ã€‚</p></blockquote><p>ä¸‹æ–‡å®ç°é˜Ÿåˆ—çš„é¡ºåºå®ç°ï¼Œå³ä½¿ç”¨<strong>ä¸€å—åŠ¨æ€å†…å­˜æ¥å­˜å‚¨çº¿æ€§çš„æ‰€æœ‰æ•°æ®</strong>ã€‚åœ¨æ ˆä¸­ï¼Œç”±äºæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨æ ˆé¡¶å®Œæˆçš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>å¯¹æ ˆé¡¶å…ƒç´ è¿›è¡Œæ“ä½œ</strong>ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚ä½†æ˜¯ï¼Œåœ¨é˜Ÿåˆ—ä¸­<strong>æ¶‰åŠåŒç«¯æ“ä½œï¼šå³è¾“å…¥ç«¯å’Œè¾“å‡ºç«¯ä¸åœ¨ä¸€èµ·</strong>ã€‚è¿™å°±ä¼šå¸¦æ¥æ—¶é—´å¤æ‚åº¦ä¸Šçš„æå‡ï¼šä¾‹å¦‚å›ºå®šé˜Ÿé¦–å…ƒç´ ï¼Œå¹¶ä¸”å°†æ­¤ä½œä¸º<strong>å‡ºé˜Ÿå£</strong>ï¼Œï¼ˆå°±åƒè¶…å¸‚ç»“è´¦äººä»¬åœ¨æ”¶é“¶å°å¤„æ’é˜Ÿä¸€æ ·ï¼‰ï¼Œå…¥é˜Ÿçš„æ“ä½œå¤æ‚åº¦ä¸ºO(1)ï¼Œä½†æ˜¯å‡ºé˜Ÿçš„æ—¶å€™æ‰€æœ‰å…ƒç´ éƒ½è¦å‰ç§»ä¸€æ ¼ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚</p><p>è¿™å¹¶ä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸâ€”â€”<strong>æˆ‘ä»¬å¸Œæœ›å‡ºé˜Ÿå’Œå…¥é˜Ÿéƒ½è¾¾åˆ°æœ€ç®€å•çš„Oï¼ˆ1ï¼‰æ—¶é—´å¤æ‚åº¦</strong>ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ</p><p>è¿™å°±æ˜¯ç¬¬ä¸€ä¸ªä¼˜åŒ–ç­–ç•¥ï¼š<strong>ç»´æŠ¤ä¸€ä¸ªç±»ä¼¼äºå¤´æŒ‡é’ˆçš„ä¸œè¥¿</strong>ï¼Œåœ¨é¡ºåºå®ç°ä¸­ï¼Œå°±æ˜¯ä¸€ä¸ª<code>int</code>å€¼<code>front</code>æ¥<strong>ç»´æŠ¤é˜Ÿå¤´å…ƒç´ çš„ç´¢å¼•</strong>ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¼šç»´æŠ¤ä¸€ä¸ª<code>int</code>å€¼<code>rear</code>æ¥é”šå®šé˜Ÿå°¾å…ƒç´ ã€‚åœ¨é˜Ÿåˆ—ä¸ºç©ºçš„æ—¶å€™ï¼Œè®¾ç½®<code>front</code>å’Œ<code>rear</code>å‡ä¸º-1ã€‚</p><p><img src="https://www.hello-algo.com/chapter_stack_and_queue/queue.assets/array_queue_step1.png" alt="åŸºäºæ•°ç»„å®ç°é˜Ÿåˆ—çš„å…¥é˜Ÿå‡ºé˜Ÿæ“ä½œ"></p><p>è¿™æ ·å¾ˆå¥½çš„è§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜ï¼Œå®ç°äº†å…¥é˜Ÿå’Œå‡ºé˜Ÿçš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºå¸¸æ•°æ—¶é—´å¤æ‚åº¦ã€‚ä½†æ˜¯è¿™æœ‰ä¸€ä¸ªå¾ˆéšè”½çš„é—®é¢˜ï¼šç©ºé—´åˆ©ç”¨ç‡é—®é¢˜ã€‚<strong>å‡ºé˜Ÿæ˜¯æ•°ç»„å…ƒç´ æ²¡æœ‰ç§»åŠ¨è€Œæ˜¯ç´¢å¼•<code>front</code>å‘åç§»åŠ¨</strong>ï¼Œè¿™æ ·ä¼šé€ æˆç©ºé—´ä¸Šçš„æµªè´¹ï¼Œ<code>front</code>ç´¢å¼•ä¹‹å‰çš„éƒ¨åˆ†æ— æ³•å†å­˜å‚¨æ–°çš„æ•°æ®å…ƒç´ ï¼Œè¿™æ ·çš„æƒ…å†µä¼šéšç€å‡ºé˜Ÿå…ƒç´ çš„ä¸æ–­å¢å¤šè€Œæ›´åŠ å‡¸æ˜¾å‡ºæ¥ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ç¬¬äºŒä¸ªä¼˜åŒ–ç­–ç•¥ï¼š<strong>å¾ªç¯é˜Ÿåˆ—</strong>ã€‚é‚£è¿™æ ·ä¸¤ä¸ªç´¢å¼•åœ¨åˆ†é…çš„å†…å­˜ä¸Šæ— è®ºæ€ä¹ˆç§»åŠ¨éƒ½ä¸ä¼šé€ æˆç©ºé—´ä½¿ç”¨ä¸Šçš„æµªè´¹äº†ï¼Œå…·ä½“å®ç°ä¹Ÿå¾ˆç®€å•ï¼š<strong>ä½¿ç”¨å–ä½™æ“ä½œ</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//éå¾ªç¯é˜Ÿåˆ—çš„å…¥é˜Ÿæ“ä½œï¼š</span><br>rear++;<br><span class="hljs-comment">//å¾ªç¯é˜Ÿåˆ—çš„å…¥é˜Ÿæ“ä½œï¼š</span><br>rear=(rear<span class="hljs-number">+1</span>)%Maxsize;<br><br><span class="hljs-comment">//éå¾ªç¯é˜Ÿåˆ—çš„å‡ºé˜Ÿæ“ä½œ:</span><br>front++;<br><span class="hljs-comment">//å¾ªç¯é˜Ÿåˆ—çš„å‡ºé˜Ÿæ“ä½œï¼š</span><br>front=(front<span class="hljs-number">+1</span>)%MAxsize;<br></code></pre></td></tr></table></figure><p><strong>ä½¿ç”¨å–ä½™æ“ä½œå¯ä»¥ä¿è¯<code>rear</code>å’Œ<code>front</code>è¿™ä¸¤ä¸ªç´¢å¼•å€¼å§‹ç»ˆéƒ½åœ¨<code>[0,Maxsize-1]</code>è¿™ä¸ªåŒºé—´èŒƒå›´å†…</strong>ã€‚</p><p>è¿™æ ·çœ‹ä¼¼å°±æ²¡æœ‰é—®é¢˜äº†ï¼çœŸçš„å¦‚æ­¤å—ï¼Ÿ</p><p>æˆ‘ä»¬é‡æ–°å›çœ‹<code>rear</code>å’Œ<code>front</code>è¿™ä¸¤ä¸ªç´¢å¼•å€¼ï¼Œè¿™ä¸¤ä¸ªç´¢å¼•å€¼è¡¨ç¤ºçš„æ˜¯ä»€ä¹ˆï¼Ÿ<code>front</code>æŒ‡å‘çš„æ˜¯é¦–å…ƒç´ ï¼Œè€Œ<code>rear</code>æŒ‡å‘çš„æ˜¯å°¾å…ƒç´ +1ã€‚å½“åˆå§‹å»ºé˜Ÿæ—¶ï¼Œè¿™ä¸¤ä¸ªå€¼éƒ½è®¾ç½®ä¸º0ï¼Œå¦‚æœä¸æ–­å…¥é˜Ÿï¼Œrearä¸æ–­é€’å¢ç›´åˆ°èµ°å®Œäº†ä¸€ä¸ªå‘¨æœŸï¼Œå–ä½™å<strong>å’Œfronté‡åˆ</strong>ï¼Œæ­¤æ—¶é˜Ÿåˆ—çš„å…ƒç´ è¾¾åˆ°äº†<strong>100%<strong>çš„ç©ºé—´åˆ©ç”¨ç‡ï¼Œä½†æ˜¯æ— æ³•åˆ¤æ–­</strong>é˜Ÿæ»¡è¿˜æ˜¯é˜Ÿç©º</strong>ã€‚</p><p>å› æ­¤ï¼Œä¸€å®šçš„ç‰ºç‰²è‚¯å®šæ˜¯å¿…è¦çš„ï¼Œå°±åƒé“¾è¡¨ä¸­çš„å¤´ç»“ç‚¹ä¸å‚¨å­˜å€¼ä¸€æ ·ï¼Œ<strong>å¾ªç¯é˜Ÿåˆ—éœ€è¦ä¿è¯rearç´¢å¼•æ‰€åœ¨çš„åœ°æ–¹ä¸å­˜å‚¨å€¼</strong>ï¼Œå³ç†è®ºä¸Šé˜Ÿåˆ—çš„æœ€å¤§å­˜å‚¨å€¼çš„ä¸ªæ•°æ˜¯<code>Maxsize-1</code>ä¸ªã€‚</p><p><img src="https://docs.oldtimes.me/c.biancheng.net/cpp/uploads/allimg/140713/1-140G32234251B.jpg" alt="å¾ªç¯é˜Ÿåˆ—"></p><blockquote><p>æ•™æä¸Šè®¾ç½®çš„æ˜¯<strong>front</strong>ä¸å­˜å‚¨å€¼ï¼Œæ²¡æœ‰å¤ªå¤§çš„å½±å“ã€‚</p></blockquote><p>åšäº†è¿™æ ·çš„è§„å®šä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½ç¡®å®šé˜Ÿæ»¡å’Œé˜Ÿç©ºäº†ã€‚</p><blockquote><p>å®é™…ä¸Šè¿˜æœ‰ä¸€ç§æ“ä½œï¼Œç»´æŠ¤ä¸€ä¸ªintå€¼è¡¨ç¤ºé˜Ÿåˆ—çš„é•¿åº¦ï¼Œæ­¤æ—¶å°±å¯ä»¥è¾¾åˆ°100%çš„ç©ºé—´åˆ©ç”¨ç‡</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//é˜Ÿæ»¡çš„åˆ¤å®šæ¡ä»¶ï¼š</span><br>(rear<span class="hljs-number">+1</span>) % Maxsize == front;<br>    <span class="hljs-comment">//æ³¨æ„è¿™é‡Œæ˜¯å¯¹rearåšæ“ä½œè€Œä¸æ˜¯frontï¼Œå› ä¸ºå¯¹rearåšæ“ä½œä»£è¡¨ç€å…¥é˜Ÿæ“ä½œã€‚</span><br><span class="hljs-comment">//é˜Ÿç©ºçš„åˆ¤å®šæ¡ä»¶ï¼š</span><br>front == rear;<br></code></pre></td></tr></table></figure><p>ç†è§£äº†ä¸Šé¢ç²¾å½©çš„æ¼”ç»æ¨ç†è¿‡ç¨‹ï¼Œæˆ‘ä»¬è½»è€Œæ˜“ä¸¾çš„å¯ä»¥å®ç°é˜Ÿåˆ—çš„é¡ºåºå®ç°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @Date: 2025-01-22 15:06:31</span><br><span class="hljs-comment"> * @LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @LastEditTime: 2025-01-22 17:23:51</span><br><span class="hljs-comment"> * @FilePath: \CODE_for_Vscode\Data_structure\Class_implementation\Stack.cpp</span><br><span class="hljs-comment"> * @Description: </span><br><span class="hljs-comment"> * Do you code and make progress today?</span><br><span class="hljs-comment"> * Copyright (c) 2025 by Xiyuan Yang, All Rights Reserved. </span><br><span class="hljs-comment"> */</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">This is the implementation of the stack</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br><span class="hljs-comment">//Abstract class</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">queue</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">queue</span>()&#123;&#125;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>=<span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">getHead</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>=<span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> T <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>=<span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span></span>=<span class="hljs-number">0</span>;<br>&#125;;<br><span class="hljs-comment">//æŠ½è±¡åŸºç±»ä»…ä»…å®šä¹‰æ¥å£ï¼Œæ²¡æœ‰å…·ä½“çš„æ•°æ®æˆå‘˜</span><br><br><span class="hljs-comment">//Sequential Implementation of stack</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">seqQueue</span>:<span class="hljs-keyword">public</span> queue&lt;T&gt;&#123;<br>    <span class="hljs-keyword">private</span>:<br>        T* elem;<span class="hljs-comment">//the elements</span><br>        <span class="hljs-type">int</span> maxsize;<br>        <span class="hljs-type">int</span> front,rear;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">DoubleSpace</span><span class="hljs-params">()</span></span>;<span class="hljs-comment">//Tool functions for space extensions</span><br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">seqQueue</span>(<span class="hljs-type">int</span> size=<span class="hljs-number">10</span>);<br>        ~<span class="hljs-built_in">seqQueue</span>();<br>        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span></span>;<br>        <span class="hljs-function">T <span class="hljs-title">getHead</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function">T <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>;<br><br>        <span class="hljs-comment">//Only for debugging</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>seqQueue&lt;T&gt;::<span class="hljs-built_in">seqQueue</span>(<span class="hljs-type">int</span> size):<span class="hljs-built_in">maxsize</span>(size)&#123;<br>    elem = <span class="hljs-keyword">new</span> T[maxsize];<br>    <span class="hljs-comment">//but the maximum capacity is maxsize-1</span><br>    front = rear =<span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>seqQueue&lt;T&gt;::~<span class="hljs-built_in">seqQueue</span>()&#123;<br>    <span class="hljs-keyword">delete</span>[] elem;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>T seqQueue&lt;T&gt;::<span class="hljs-built_in">getHead</span>() <span class="hljs-type">const</span>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isEmpty</span>()) &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Queue is empty&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> elem[front];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">bool</span> seqQueue&lt;T&gt;::<span class="hljs-built_in">isEmpty</span>() <span class="hljs-type">const</span>&#123;<br>    <span class="hljs-keyword">return</span> front==rear;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">void</span> seqQueue&lt;T&gt;::<span class="hljs-built_in">push</span>(<span class="hljs-type">const</span> T&amp; value)&#123;<br>    <span class="hljs-comment">//å…¥é˜Ÿæ“ä½œï¼Œéœ€è¦å¯¹rearæ“ä½œ</span><br>    <span class="hljs-keyword">if</span>((rear<span class="hljs-number">+1</span>) % maxsize == front)&#123;<br>        <span class="hljs-comment">//judge if the queue is full</span><br>        <span class="hljs-built_in">DoubleSpace</span>();<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        elem[rear]=value;<br>        rear=(rear<span class="hljs-number">+1</span>)%maxsize;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>T seqQueue&lt;T&gt;::<span class="hljs-built_in">pop</span>()&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isEmpty</span>()) &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Queue is empty&quot;</span>);<br>    &#125;<br>    <span class="hljs-comment">//å‡ºé˜Ÿæ“ä½œï¼Œå¯¹frontæ“ä½œ</span><br>    T temp = elem[front];<span class="hljs-comment">//the top element of the queue</span><br>    front = (front<span class="hljs-number">+1</span>)%maxsize;<br>    <span class="hljs-keyword">return</span> temp;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">void</span> seqQueue&lt;T&gt;::<span class="hljs-built_in">DoubleSpace</span>()&#123;<br>    <span class="hljs-comment">//double the space of the queue</span><br>    T* tmp=elem;<br>    elem = <span class="hljs-keyword">new</span> T[<span class="hljs-number">2</span>*maxsize];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;maxsize<span class="hljs-number">-1</span>;i++)&#123;<br>        elem[i] = tmp[(front+i)%maxsize];<br>        <span class="hljs-comment">//you only need to copy maxsize-1 elements!</span><br>    &#125;<br>    front = <span class="hljs-number">0</span>;<br>    rear = maxsize<span class="hljs-number">-1</span>;<br>    maxsize*=<span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">delete</span>[] tmp;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">void</span> seqQueue&lt;T&gt;::<span class="hljs-built_in">print</span>()<span class="hljs-type">const</span> &#123;<br>    <span class="hljs-comment">//print the whole queue</span><br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;The queue is empty!&quot;</span>&lt;&lt;endl;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;The queue has &quot;</span>&lt;&lt;<span class="hljs-built_in">length</span>()&lt;&lt;<span class="hljs-string">&quot; members.&quot;</span>&lt;&lt;endl;<br>        <span class="hljs-type">int</span> index = front;<br>        <span class="hljs-keyword">while</span>(index != rear)&#123;<br>            cout&lt;&lt;elem[index]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>            index = (index<span class="hljs-number">+1</span>)%maxsize;<br>        &#125;<br>        cout&lt;&lt;endl;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">int</span> seqQueue&lt;T&gt;::<span class="hljs-built_in">length</span>() <span class="hljs-type">const</span>&#123;<br>    <span class="hljs-keyword">if</span>(rear &gt;= front) <span class="hljs-keyword">return</span> rear-front;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> rear+maxsize-front;<br>&#125;<br><span class="hljs-comment">//The following function implements some small debugging features.</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    seqQueue&lt;<span class="hljs-type">int</span>&gt; list;<br>    list.<span class="hljs-built_in">print</span>();<br>    list.<span class="hljs-built_in">push</span>(<span class="hljs-number">2</span>);<br>    list.<span class="hljs-built_in">push</span>(<span class="hljs-number">5</span>);<br>    cout&lt;&lt;list.<span class="hljs-built_in">isEmpty</span>()&lt;&lt;endl;<br>    list.<span class="hljs-built_in">print</span>();<br>    cout&lt;&lt;list.<span class="hljs-built_in">pop</span>();<br>    cout&lt;&lt;list.<span class="hljs-built_in">pop</span>();<br>    cout&lt;&lt;list.<span class="hljs-built_in">isEmpty</span>()&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Linked-Implementation"><a href="#Linked-Implementation" class="headerlink" title="Linked Implementation"></a>Linked Implementation</h3><p>é˜Ÿåˆ—çš„é“¾æ¥å®ç°è¢«ç§°ä¸º<strong>é“¾æ¥é˜Ÿåˆ—</strong>ã€‚ç”±äºé˜Ÿåˆ—ä¸ä¼šæ¶‰åŠ<strong>éå†</strong>ï¼ˆè€Œè¿™æ˜¯é“¾æ¥å®ç°æ‰€ä¸æ“…é•¿çš„ï¼‰ï¼Œåªä¼šè®¾è®¡å•ä¸ªå…ƒç´ çš„<strong>å‡ºé˜Ÿå’Œå…¥é˜Ÿ</strong>ç­‰æ“ä½œï¼Œå› æ­¤é˜Ÿåˆ—çš„é“¾æ¥å®ç°ä½¿ç”¨æœ€ç®€å•çš„<strong>å•é“¾è¡¨</strong>å³å¯ã€‚</p><p>åŒæ—¶ï¼Œå‡ºé˜Ÿå°±å°†é˜Ÿé¦–å…ƒç´ é‡Šæ”¾ï¼Œå…¥é˜Ÿå°±åœ¨é˜Ÿå°¾æ–°å¢ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤ä¹Ÿä¸æ¶‰åŠ<strong>å¾ªç¯é˜Ÿåˆ—</strong>çš„ä½¿ç”¨ã€‚</p><p>å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œä¸ºäº†å¿«é€Ÿçš„å®šä½åˆ°é˜Ÿå°¾å…ƒç´ ï¼Œé“¾æ¥é˜Ÿåˆ—éœ€è¦é¢å¤–å‚¨å­˜<strong>é˜Ÿå°¾å…ƒç´ çš„åœ°å€</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">linkQueue</span> : <span class="hljs-keyword">public</span> queue&lt;T&gt;&#123;<br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span><br>        &#123;<br>            T data;<br>            Node* next;<br>            <span class="hljs-comment">//parameterized constructor(default)</span><br>            <span class="hljs-built_in">Node</span>(<span class="hljs-type">const</span> T&amp; value = <span class="hljs-number">0</span>, Node *p = <span class="hljs-literal">nullptr</span>)&#123;<br>                data = value;<br>                next = p;<br>            &#125;<br>            <span class="hljs-comment">//destructor</span><br>            ~<span class="hljs-built_in">Node</span>()&#123;&#125;<br>        &#125;;<br>        Node *front, *rear;<br>        <span class="hljs-comment">//two pointers point at the front or the end of the queue.</span><br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">linkQueue</span>();<br>        <span class="hljs-comment">//This constructor is used to create a new linked queue.</span><br>        <span class="hljs-comment">//Todo: implement copy constructor and the overload of = (assignment)</span><br>        ~<span class="hljs-built_in">linkQueue</span>();<br>        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isEmpty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function">T <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>;<br>        <span class="hljs-function">T <span class="hljs-title">getHead</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span></span>;<br><br>        <span class="hljs-comment">//for debugging</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>        <br>&#125;;<br><br><br><span class="hljs-comment">//Implementation of linked queue</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>linkQueue&lt;T&gt;::<span class="hljs-built_in">linkQueue</span>()&#123;<br>    <span class="hljs-comment">//set nullptr for both pointers</span><br>    front = rear = <span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-comment">//it is also the judgement of an empty queue</span><br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>linkQueue&lt;T&gt;::~<span class="hljs-built_in">linkQueue</span>()&#123;<br>    Node * temp;<br>    <span class="hljs-keyword">while</span>(front != <span class="hljs-literal">nullptr</span>)&#123;<br>        <span class="hljs-comment">//simulate the process of leaving the queue until the queue is empty.</span><br>        temp = front;<br>        front = front -&gt; next;<br>        <span class="hljs-keyword">delete</span> temp;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">bool</span> linkQueue&lt;T&gt;::<span class="hljs-built_in">isEmpty</span>() <span class="hljs-type">const</span> &#123;<br>    <span class="hljs-keyword">return</span> front == <span class="hljs-literal">nullptr</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>T linkQueue&lt;T&gt;::<span class="hljs-built_in">getHead</span>() <span class="hljs-type">const</span>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isEmpty</span>()) &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Queue is empty&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> front -&gt; data;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">void</span> linkQueue&lt;T&gt;::<span class="hljs-built_in">push</span>(<span class="hljs-type">const</span> T&amp; value)&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>        front = rear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(value);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        Node *newnode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Node</span>(value);<br>        rear -&gt; next = newnode;<br>        rear = rear -&gt; next;<br>        <span class="hljs-comment">//! ensure the rear -&gt; next often points to the nullptr</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>T linkQueue&lt;T&gt;::<span class="hljs-built_in">pop</span>()&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isEmpty</span>()) &#123;<br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Queue is empty&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        T ans = front -&gt; data;<br>        Node* tmp = front;<br>        front = front -&gt; next;<br>        <span class="hljs-keyword">if</span>(front == <span class="hljs-literal">nullptr</span>)&#123;<br>            rear = <span class="hljs-literal">nullptr</span>;<br>            <span class="hljs-comment">//now the queue is empty!</span><br>            <span class="hljs-comment">//This is necessary, because before the pop process, the front and the rear pointer points at the same space</span><br>            <span class="hljs-comment">//now front moves to nullptr, rear pointer becomes INVALID! </span><br>        &#125;<br>        <span class="hljs-keyword">delete</span> tmp;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">int</span> linkQueue&lt;T&gt;::<span class="hljs-built_in">length</span>() <span class="hljs-type">const</span> &#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-type">int</span> length=<span class="hljs-number">0</span>;<br>    Node* traverseptr = front;<br>    <span class="hljs-keyword">while</span>(traverseptr != <span class="hljs-literal">nullptr</span>)&#123;<br>        traverseptr = traverseptr -&gt; next;<br>        length++; <br>    &#125;<br>    <span class="hljs-keyword">return</span> length;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-type">void</span> linkQueue&lt;T&gt;::<span class="hljs-built_in">print</span>()<span class="hljs-type">const</span> &#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">isEmpty</span>())&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;The queue is empty!&quot;</span> &lt;&lt; std::endl;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-type">int</span> length=<span class="hljs-number">0</span>;<br>        Node* traverseptr = front;<br>        <span class="hljs-keyword">while</span>(traverseptr != <span class="hljs-literal">nullptr</span>)&#123;<br>            std::cout &lt;&lt; traverseptr -&gt; data &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>            traverseptr = traverseptr -&gt; next;<br>            length++; <br>        &#125;<br>        std::cout &lt;&lt; std::endl;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;The queue has &quot;</span> &lt;&lt; length &lt;&lt; <span class="hljs-string">&quot; elements&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//The main function is used for Debugging only.</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    seqQueue&lt;<span class="hljs-type">int</span>&gt; list;<br>    list.<span class="hljs-built_in">print</span>();<br>    list.<span class="hljs-built_in">push</span>(<span class="hljs-number">2</span>);<br>    list.<span class="hljs-built_in">push</span>(<span class="hljs-number">5</span>);<br>    std::cout &lt;&lt; list.<span class="hljs-built_in">isEmpty</span>() &lt;&lt; std::endl;<br>    list.<span class="hljs-built_in">print</span>();<br>    std::cout &lt;&lt; list.<span class="hljs-built_in">pop</span>();<br>    std::cout &lt;&lt; list.<span class="hljs-built_in">pop</span>();<br>    std::cout &lt;&lt; list.<span class="hljs-built_in">isEmpty</span>() &lt;&lt; std::endl;<br>    <span class="hljs-comment">//The debug of link queue</span><br>    std::cout &lt;&lt; std::endl;<br>    linkQueue&lt;<span class="hljs-type">int</span>&gt; list2;<br>    list<span class="hljs-number">2.</span><span class="hljs-built_in">print</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)&#123;<br>        list<span class="hljs-number">2.</span><span class="hljs-built_in">push</span>(i * i);<br>        list<span class="hljs-number">2.</span><span class="hljs-built_in">print</span>();<br>    &#125;<br><br>    std::cout &lt;&lt; list<span class="hljs-number">2.</span><span class="hljs-built_in">isEmpty</span>() &lt;&lt; std::endl;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++)<br>    &#123;<br>        std::cout &lt;&lt; list<span class="hljs-number">2.</span><span class="hljs-built_in">pop</span>() &lt;&lt;std::endl;<br>        list<span class="hljs-number">2.</span><span class="hljs-built_in">print</span>();<br>    &#125;<br>    <br>    std::cout &lt;&lt; list<span class="hljs-number">2.</span><span class="hljs-built_in">isEmpty</span>() &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Queue-in-STL"><a href="#Queue-in-STL" class="headerlink" title="Queue in STL"></a>Queue in STL</h2><p>åœ¨C++æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ä¸­ï¼Œ<code>queue</code> æ˜¯ä¸€ç§å®¹å™¨é€‚é…å™¨ï¼Œç”¨äºå®ç°å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ•°æ®ç»“æ„ã€‚å®ƒåŸºäºå…¶ä»–å®¹å™¨ï¼ˆå¦‚ <code>deque</code> æˆ– <code>list</code>ï¼‰å®ç°ï¼Œé»˜è®¤ä½¿ç”¨ <code>deque</code> ä½œä¸ºåº•å±‚å®¹å™¨ã€‚</p><ol><li><strong>å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰</strong>ï¼šå…ƒç´ ä»é˜Ÿå°¾æ’å…¥ï¼Œä»é˜Ÿå¤´ç§»é™¤ã€‚</li><li><strong>æ“ä½œå—é™</strong>ï¼šåªå…è®¸åœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ï¼Œåœ¨é˜Ÿå¤´ç§»é™¤å…ƒç´ ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ã€‚</li></ol><h3 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a>å¸¸ç”¨æ“ä½œ</h3><ul><li>**push()**ï¼šåœ¨é˜Ÿå°¾æ’å…¥å…ƒç´ ã€‚</li><li>**pop()**ï¼šç§»é™¤é˜Ÿå¤´å…ƒç´ ã€‚</li><li>**front()**ï¼šè®¿é—®é˜Ÿå¤´å…ƒç´ ã€‚</li><li>**back()**ï¼šè®¿é—®é˜Ÿå°¾å…ƒç´ ã€‚</li><li>**empty()**ï¼šæ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºã€‚</li><li>**size()**ï¼šè¿”å›é˜Ÿåˆ—ä¸­å…ƒç´ çš„æ•°é‡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::queue&lt;<span class="hljs-type">int</span>&gt; q;<br><br>    q.<span class="hljs-built_in">push</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// é˜Ÿå°¾æ’å…¥10</span><br>    q.<span class="hljs-built_in">push</span>(<span class="hljs-number">20</span>); <span class="hljs-comment">// é˜Ÿå°¾æ’å…¥20</span><br>    q.<span class="hljs-built_in">push</span>(<span class="hljs-number">30</span>); <span class="hljs-comment">// é˜Ÿå°¾æ’å…¥30</span><br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;é˜Ÿå¤´å…ƒç´ : &quot;</span> &lt;&lt; q.<span class="hljs-built_in">front</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º10</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;é˜Ÿå°¾å…ƒç´ : &quot;</span> &lt;&lt; q.<span class="hljs-built_in">back</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º30</span><br><br>    q.<span class="hljs-built_in">pop</span>(); <span class="hljs-comment">// ç§»é™¤é˜Ÿå¤´å…ƒç´ 10</span><br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;é˜Ÿå¤´å…ƒç´ : &quot;</span> &lt;&lt; q.<span class="hljs-built_in">front</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º20</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åº•å±‚å®¹å™¨"><a href="#åº•å±‚å®¹å™¨" class="headerlink" title="åº•å±‚å®¹å™¨"></a>åº•å±‚å®¹å™¨</h3><p><code>queue</code> é»˜è®¤ä½¿ç”¨ <code>deque</code>ï¼Œä½†å¯ä»¥é€šè¿‡æ¨¡æ¿å‚æ•°æŒ‡å®šå…¶ä»–å®¹å™¨ï¼Œå¦‚ <code>list</code>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::queue&lt;<span class="hljs-type">int</span>, std::list&lt;<span class="hljs-type">int</span>&gt;&gt; q;<br></code></pre></td></tr></table></figure><div class="note note-primary">            <h2 id="deque-in-STL"><a href="#deque-in-STL" class="headerlink" title="deque in STL"></a><code>deque</code> in STL</h2><p><code>deque</code>ï¼ˆ<strong>åŒç«¯é˜Ÿåˆ—ï¼Œå…¨ç§° double-ended queue</strong>ï¼‰æ˜¯ C++ æ ‡å‡†æ¨¡æ¿åº“ï¼ˆSTLï¼‰ä¸­çš„ä¸€ç§åºåˆ—å¼å®¹å™¨ï¼Œæ”¯æŒåœ¨ä¸¤ç«¯é«˜æ•ˆåœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ <code>vector</code> ç±»ä¼¼ï¼Œ<code>deque</code> ä¹Ÿæ”¯æŒéšæœºè®¿é—®ï¼Œä½†åœ¨æŸäº›æ“ä½œä¸Šæ¯” <code>vector</code> æ›´åŠ çµæ´»ã€‚</p><h3 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a><strong>ä¸»è¦ç‰¹ç‚¹</strong></h3><ol><li><p><strong>åŒç«¯æ“ä½œ</strong>ï¼š</p><ul><li>å¯ä»¥åœ¨é˜Ÿåˆ—çš„å¤´éƒ¨å’Œå°¾éƒ¨é«˜æ•ˆåœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚</li><li>æ”¯æŒ <code>push_front()</code>ã€<code>push_back()</code>ã€<code>pop_front()</code> å’Œ <code>pop_back()</code> æ“ä½œã€‚</li></ul></li><li><p><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼š</p><ul><li><code>deque</code> çš„å†…éƒ¨å®ç°é€šå¸¸ç”±å¤šä¸ªå›ºå®šå¤§å°çš„å—ï¼ˆbufferï¼‰ç»„æˆï¼Œå› æ­¤å®ƒå¯ä»¥åœ¨ä¸¤ç«¯åŠ¨æ€æ‰©å±•ï¼Œè€Œä¸éœ€è¦åƒ <code>vector</code> é‚£æ ·åœ¨æ‰©å®¹æ—¶å¤åˆ¶æ‰€æœ‰å…ƒç´ ã€‚</li></ul></li><li><p><strong>éšæœºè®¿é—®</strong>ï¼š</p><ul><li>æ”¯æŒé€šè¿‡ä¸‹æ ‡ï¼ˆ<code>[]</code>ï¼‰æˆ– <code>at()</code> æ–¹æ³•éšæœºè®¿é—®å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º (O(1))ã€‚</li></ul></li><li><p><strong>å†…å­˜éè¿ç»­</strong>ï¼š</p><ul><li><code>deque</code> çš„å…ƒç´ å¹¶ä¸å­˜å‚¨åœ¨è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œè€Œæ˜¯åˆ†å¸ƒåœ¨å¤šä¸ªå—ä¸­ã€‚è¿™ä¸ <code>vector</code> ä¸åŒï¼Œ<code>vector</code> çš„å…ƒç´ æ˜¯è¿ç»­å­˜å‚¨çš„ã€‚</li></ul></li></ol><h3 id="å¸¸ç”¨æ“ä½œ"><a href="#å¸¸ç”¨æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ“ä½œ"></a><strong>å¸¸ç”¨æ“ä½œ</strong></h3><p>ä»¥ä¸‹æ˜¯ <code>deque</code> çš„å¸¸ç”¨æˆå‘˜å‡½æ•°ï¼š</p><ul><li><p><strong>æ’å…¥å’Œåˆ é™¤</strong>ï¼š</p><ul><li><code>push_front(x)</code>ï¼šåœ¨å¤´éƒ¨æ’å…¥å…ƒç´  <code>x</code>ã€‚</li><li><code>push_back(x)</code>ï¼šåœ¨å°¾éƒ¨æ’å…¥å…ƒç´  <code>x</code>ã€‚</li><li><code>pop_front()</code>ï¼šåˆ é™¤å¤´éƒ¨å…ƒç´ ã€‚</li><li><code>pop_back()</code>ï¼šåˆ é™¤å°¾éƒ¨å…ƒç´ ã€‚</li><li><code>insert(pos, x)</code>ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´  <code>x</code>ã€‚</li><li><code>erase(pos)</code>ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</li></ul></li><li><p><strong>è®¿é—®å…ƒç´ </strong>ï¼š</p><ul><li><code>front()</code>ï¼šè¿”å›å¤´éƒ¨å…ƒç´ çš„å¼•ç”¨ã€‚</li><li><code>back()</code>ï¼šè¿”å›å°¾éƒ¨å…ƒç´ çš„å¼•ç”¨ã€‚</li><li><code>operator[]</code> æˆ– <code>at(index)</code>ï¼šé€šè¿‡ç´¢å¼•è®¿é—®å…ƒç´ ã€‚</li></ul></li><li><p><strong>å®¹é‡ç›¸å…³</strong>ï¼š</p><ul><li><code>size()</code>ï¼šè¿”å›å½“å‰å…ƒç´ çš„æ•°é‡ã€‚</li><li><code>empty()</code>ï¼šæ£€æŸ¥å®¹å™¨æ˜¯å¦ä¸ºç©ºã€‚</li><li><code>resize(n)</code>ï¼šè°ƒæ•´å®¹å™¨çš„å¤§å°ä¸º <code>n</code>ã€‚</li></ul></li><li><p><strong>å…¶ä»–æ“ä½œ</strong>ï¼š</p><ul><li><code>clear()</code>ï¼šæ¸…ç©ºå®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</li><li><code>swap(deque)</code>ï¼šäº¤æ¢ä¸¤ä¸ª <code>deque</code> çš„å†…å®¹ã€‚</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;deque&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::deque&lt;<span class="hljs-type">int</span>&gt; dq;<br><br>    <span class="hljs-comment">// åœ¨å°¾éƒ¨æ’å…¥å…ƒç´ </span><br>    dq.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">10</span>);<br>    dq.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">20</span>);<br><br>    <span class="hljs-comment">// åœ¨å¤´éƒ¨æ’å…¥å…ƒç´ </span><br>    dq.<span class="hljs-built_in">push_front</span>(<span class="hljs-number">5</span>);<br>    dq.<span class="hljs-built_in">push_front</span>(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-comment">// è®¿é—®å…ƒç´ </span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;å¤´éƒ¨å…ƒç´ : &quot;</span> &lt;&lt; dq.<span class="hljs-built_in">front</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 1</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;å°¾éƒ¨å…ƒç´ : &quot;</span> &lt;&lt; dq.<span class="hljs-built_in">back</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 20</span><br><br>    <span class="hljs-comment">// éšæœºè®¿é—®</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;ç¬¬äºŒä¸ªå…ƒç´ : &quot;</span> &lt;&lt; dq[<span class="hljs-number">1</span>] &lt;&lt; std::endl;    <span class="hljs-comment">// è¾“å‡º 5</span><br><br>    <span class="hljs-comment">// åˆ é™¤å¤´éƒ¨å…ƒç´ </span><br>    dq.<span class="hljs-built_in">pop_front</span>();<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;åˆ é™¤åå¤´éƒ¨å…ƒç´ : &quot;</span> &lt;&lt; dq.<span class="hljs-built_in">front</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 5</span><br><br>    <span class="hljs-comment">// éå† deque</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i : dq) &#123;<br>        std::cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>; <span class="hljs-comment">// è¾“å‡º 5 10 20</span><br>    &#125;<br>    std::cout &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="deque-çš„å†…éƒ¨å®ç°"><a href="#deque-çš„å†…éƒ¨å®ç°" class="headerlink" title="deque çš„å†…éƒ¨å®ç°"></a><strong><code>deque</code> çš„å†…éƒ¨å®ç°</strong></h3><p><code>deque</code> é€šå¸¸ç”±å¤šä¸ªå›ºå®šå¤§å°çš„å—ï¼ˆbufferï¼‰ç»„æˆï¼Œè¿™äº›å—é€šè¿‡ä¸€ä¸ªä¸­å¤®æ§åˆ¶å™¨ï¼ˆé€šå¸¸æ˜¯æ•°ç»„æˆ–æŒ‡é’ˆæ•°ç»„ï¼‰ç®¡ç†ã€‚è¿™ç§è®¾è®¡ä½¿å¾— <code>deque</code> åœ¨ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤å…ƒç´ æ—¶éå¸¸é«˜æ•ˆï¼ŒåŒæ—¶æ”¯æŒéšæœºè®¿é—®ã€‚</p><ul><li><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>ä¸¤ç«¯æ’å…¥å’Œåˆ é™¤çš„æ—¶é—´å¤æ‚åº¦ä¸º *O(1)*ã€‚</li><li>ä¸éœ€è¦åƒ <code>vector</code> é‚£æ ·åœ¨æ‰©å®¹æ—¶å¤åˆ¶æ‰€æœ‰å…ƒç´ ã€‚</li></ul></li><li><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>å†…å­˜åˆ†å¸ƒä¸è¿ç»­ï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜ä¸å‹å¥½ã€‚</li><li>éšæœºè®¿é—®çš„æ€§èƒ½ç•¥ä½äº <code>vector</code>ã€‚</li></ul></li></ul><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a><strong>é€‚ç”¨åœºæ™¯</strong></h3><ol><li>éœ€è¦åœ¨ä¸¤ç«¯é¢‘ç¹æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„åœºæ™¯ã€‚</li><li>éœ€è¦éšæœºè®¿é—®ï¼Œä½†ä¸éœ€è¦å†…å­˜è¿ç»­æ€§çš„åœºæ™¯ã€‚</li><li>ä½œä¸º <code>queue</code> æˆ– <code>stack</code> çš„åº•å±‚å®¹å™¨ã€‚</li></ol><h3 id="deque-ä¸-vector-çš„å¯¹æ¯”"><a href="#deque-ä¸-vector-çš„å¯¹æ¯”" class="headerlink" title="deque ä¸ vector çš„å¯¹æ¯”"></a><strong><code>deque</code> ä¸ <code>vector</code> çš„å¯¹æ¯”</strong></h3><table><thead><tr><th>ç‰¹æ€§</th><th><code>deque</code></th><th><code>vector</code></th></tr></thead><tbody><tr><td><strong>å†…å­˜å¸ƒå±€</strong></td><td>éè¿ç»­</td><td>è¿ç»­</td></tr><tr><td><strong>éšæœºè®¿é—®æ€§èƒ½</strong></td><td>ç•¥ä½</td><td>é«˜</td></tr><tr><td><strong>ä¸¤ç«¯æ’å…¥&#x2F;åˆ é™¤</strong></td><td>é«˜æ•ˆï¼ˆ(O(1))ï¼‰</td><td>å°¾éƒ¨é«˜æ•ˆï¼ˆ(O(1))ï¼‰ï¼Œå¤´éƒ¨ä½æ•ˆï¼ˆ(O(n))ï¼‰</td></tr><tr><td><strong>æ‰©å®¹æœºåˆ¶</strong></td><td>æŒ‰éœ€åˆ†é…æ–°å—ï¼Œæ— éœ€å¤åˆ¶æ‰€æœ‰å…ƒç´ </td><td>éœ€è¦å¤åˆ¶æ‰€æœ‰å…ƒç´ </td></tr><tr><td><strong>ç¼“å­˜å‹å¥½æ€§</strong></td><td>è¾ƒå·®</td><td>è¾ƒå¥½</td></tr></tbody></table><blockquote><p>The above content is generated by <code>DeepSeek V3</code>.</p><p>åæ–‡ä¼šä¸“é—¨èŠ±ä¸€è®²çš„æ—¶é—´æ¢³ç†å„ç§çº¿æ€§æ•°æ®ç»“æ„ä¹‹é—´çš„å¼‚åŒ~</p></blockquote>          </div><h2 id="Applications-of-Queue"><a href="#Applications-of-Queue" class="headerlink" title="Applications of Queue"></a>Applications of Queue</h2><h3 id="The-Train-Car-Rearrangement-Problem"><a href="#The-Train-Car-Rearrangement-Problem" class="headerlink" title="The Train Car Rearrangement Problem"></a>The Train Car Rearrangement Problem</h3><h4 id="Problem-Restatement"><a href="#Problem-Restatement" class="headerlink" title="Problem Restatement"></a>Problem Restatement</h4><p>å·²çŸ¥ä¸€åˆ—ç«è½¦æœ‰nä¸ªè½¦å¢ï¼Œæœ‰kä¸ªç¼“å†²è½¨é“ï¼Œæ±‚é—®æ˜¯å¦èƒ½å¤Ÿé€šè¿‡</p><h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><h3 id="Josephus-Problem"><a href="#Josephus-Problem" class="headerlink" title="Josephus Problem"></a><strong>Josephus Problem</strong></h3><h3 id="Event-Driven-Simulation"><a href="#Event-Driven-Simulation" class="headerlink" title="Event-Driven Simulation"></a>Event-Driven Simulation</h3><h3 id="Requests-and-Threads"><a href="#Requests-and-Threads" class="headerlink" title="Requests and Threads"></a>Requests and Threads</h3>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
      <tag>Queue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Update-Learning</title>
    <link href="/posts/Python-Update-Learning/"/>
    <url>/posts/Python-Update-Learning/</url>
    
    <content type="html"><![CDATA[<h1 id="Python-Update-Learning"><a href="#Python-Update-Learning" class="headerlink" title="Python Update Learning"></a>Python Update Learning</h1><h2 id="Pytest"><a href="#Pytest" class="headerlink" title="Pytest"></a><code>Pytest</code></h2><h2 id="Pygame"><a href="#Pygame" class="headerlink" title="Pygame"></a><code>Pygame</code></h2><h2 id="Duck-Typing"><a href="#Duck-Typing" class="headerlink" title="Duck Typing"></a>Duck Typing</h2><h3 id="Introduction-to-Duck-Typing"><a href="#Introduction-to-Duck-Typing" class="headerlink" title="Introduction to Duck Typing"></a>Introduction to Duck Typing</h3><p><strong>Duck Typing</strong> is a programming concept often used in dynamically-typed languages, where the type or class of an object is determined by its behavior (methods and properties) rather than its explicit inheritance or interface implementation. The term originates from the phrase: </p><blockquote><p><em>â€œIf it walks like a duck and quacks like a duck, then it must be a duck.â€</em></p></blockquote><p>In essence, Duck Typing focuses on what an object <strong>can do</strong> rather than what it <strong>is</strong>. This approach provides flexibility and promotes code reusability, but it also requires careful handling to avoid runtime errors due to missing methods or properties.</p><h3 id="Key-Characteristics-of-Duck-Typing"><a href="#Key-Characteristics-of-Duck-Typing" class="headerlink" title="Key Characteristics of Duck Typing"></a>Key Characteristics of Duck Typing</h3><ol><li><p><strong>Behavior Over Type</strong>:</p><ul><li>An objectâ€™s suitability is determined by the presence of specific methods or properties, not by its class or type.</li><li>For example, if an object has a <code>quack()</code> method and a <code>walk()</code> method, it can be treated as a â€œduckâ€ regardless of its actual class.</li></ul></li><li><p><strong>Flexibility</strong>:</p><ul><li>Code can work with any object that implements the required behavior, making it highly adaptable and reusable.</li><li>This eliminates the need for strict type hierarchies or interfaces.</li></ul></li><li><p><strong>Common in Dynamic Languages</strong>:</p><ul><li>Duck Typing is frequently used in dynamically-typed languages like Python, Ruby, and JavaScript, where type checking is done at runtime rather than compile time.</li></ul></li></ol><h3 id="Example-Duck-Typing-in-Python"><a href="#Example-Duck-Typing-in-Python" class="headerlink" title="Example: Duck Typing in Python"></a>Example: Duck Typing in Python</h3><p>Below is an example that demonstrates Duck Typing using a <code>Duck</code> class, a <code>Person</code> class, and even a <code>Chicken</code> class. The key idea is that any object with the required methods (<code>quack()</code> and <code>walk()</code>) can be treated as a â€œduck.â€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Define a Duck class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Duck</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">quack</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Quack!&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">walk</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Walking like a duck&quot;</span>)<br><br><span class="hljs-comment"># Define a Person class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">quack</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m quacking like a duck!&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">walk</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;I&#x27;m walking like a duck&quot;</span>)<br><br><span class="hljs-comment"># Define a Chicken class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Chicken</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">quack</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Cluck cluck! (Pretending to quack)&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">walk</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Walking like a duck (but I&#x27;m actually a chicken)&quot;</span>)<br><br><span class="hljs-comment"># Function to check if an object is a &quot;duck&quot;</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">check_if_duck</span>(<span class="hljs-params">animal</span>):<br>    <span class="hljs-keyword">try</span>:<br>        animal.quack()<br>        animal.walk()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is a duck!&quot;</span>)<br>    <span class="hljs-keyword">except</span> AttributeError:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is not a duck!&quot;</span>)<br><br><span class="hljs-comment"># Test the function</span><br>duck = Duck()<br>person = Person()<br>chicken = Chicken()<br><br>check_if_duck(duck)     <span class="hljs-comment"># Output: Quack! Walking like a duck. This is a duck!</span><br>check_if_duck(person)   <span class="hljs-comment"># Output: I&#x27;m quacking like a duck! I&#x27;m walking like a duck. This is a duck!</span><br>check_if_duck(chicken)  <span class="hljs-comment"># Output: Cluck cluck! (Pretending to quack) Walking like a duck (but I&#x27;m actually a chicken). This is a duck!</span><br></code></pre></td></tr></table></figure><h3 id="Explanation-of-the-Code"><a href="#Explanation-of-the-Code" class="headerlink" title="Explanation of the Code"></a>Explanation of the Code</h3><ol><li><p><strong>Duck Typing in Action</strong>:</p><ul><li>The <code>check_if_duck</code> function does not check the type of the <code>animal</code> object. Instead, it checks whether the object has the <code>quack()</code> and <code>walk()</code> methods.</li><li>If the object has these methods, it is treated as a â€œduck,â€ regardless of whether it is an instance of <code>Duck</code>, <code>Person</code>, or even <code>Chicken</code>.</li></ul></li><li><p><strong>Flexibility and Reusability</strong>:</p><ul><li>The <code>Chicken</code> class is not a duck, but it can still be treated as one because it implements the required methods.</li><li>This demonstrates how Duck Typing allows objects of different types to be used interchangeably, as long as they exhibit the expected behavior.</li></ul></li><li><p><strong>Runtime Risks</strong>:</p><ul><li>If an object passed to <code>check_if_duck</code> does not have the required methods (e.g., a <code>Dog</code> class without <code>quack()</code> and <code>walk()</code>), the program will raise an <code>AttributeError</code> at runtime.</li></ul></li></ol><h3 id="Advantages-of-Duck-Typing"><a href="#Advantages-of-Duck-Typing" class="headerlink" title="Advantages of Duck Typing"></a>Advantages of Duck Typing</h3><ol><li><p><strong>Code Simplicity</strong>:</p><ul><li>Duck Typing reduces the need for complex type hierarchies and interfaces, making code simpler and more concise.</li></ul></li><li><p><strong>Enhanced Flexibility</strong>:</p><ul><li>Functions and methods can operate on any object that meets the required behavior, promoting code reuse and adaptability.</li></ul></li><li><p><strong>Dynamic Nature</strong>:</p><ul><li>Duck Typing aligns well with the dynamic nature of languages like Python, enabling rapid prototyping and development.</li></ul></li></ol><h3 id="Disadvantages-of-Duck-Typing"><a href="#Disadvantages-of-Duck-Typing" class="headerlink" title="Disadvantages of Duck Typing"></a>Disadvantages of Duck Typing</h3><ol><li><p><strong>Runtime Errors</strong>:</p><ul><li>Since type checking is deferred to runtime, errors related to missing methods or properties may only surface during execution.</li></ul></li><li><p><strong>Reduced Readability</strong>:</p><ul><li>Without explicit type declarations, it can be harder to understand what types of objects are expected by a function or method.</li></ul></li><li><p><strong>Testing Overhead</strong>:</p><ul><li>Comprehensive testing is required to ensure that objects passed to Duck Typing functions behave as expected.</li></ul></li></ol><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Duck Typing is a powerful and flexible programming paradigm that emphasizes behavior over explicit type definitions. By focusing on what an object <strong>can do</strong> rather than what it <strong>is</strong>, Duck Typing enables highly adaptable and reusable code. However, this flexibility comes with the trade-off of potential runtime errors and the need for thorough testing. The example of the <code>Chicken</code> class demonstrates how even non-duck objects can be treated as ducks if they implement the required behavior, showcasing the true essence of Duck Typing.</p><p>In summary, Duck Typing is a valuable tool in dynamically-typed languages, but it requires careful design and testing to ensure robustness and reliability.</p>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Updating</tag>
      
      <tag>Python</tag>
      
      <tag>Tutorial</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Advanced-File-Management</title>
    <link href="/posts/Python-advanced-File-Management/"/>
    <url>/posts/Python-advanced-File-Management/</url>
    
    <content type="html"><![CDATA[<h1 id="Advanced-Python-Techniques-File-Management"><a href="#Advanced-Python-Techniques-File-Management" class="headerlink" title="Advanced Python Techniques: File Management"></a>Advanced Python Techniques: File Management</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><a href="https://xiyuanyang-code.github.io/posts/Python-tutorial/">Updating  Plan</a></p><p>Today, we will introduce how to manage files (such as reading files and writing files) in Python.</p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><h2 id="Import-Modules"><a href="#Import-Modules" class="headerlink" title="Import Modules"></a>Import Modules</h2><p>åœ¨Pythonä¸­ï¼Œ<strong>æ¨¡å—ï¼ˆModuleï¼‰</strong>æ˜¯ä¸€ä¸ªåŒ…å«Pythonä»£ç çš„æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ <code>.py</code> ä¸ºæ‰©å±•åã€‚æ¨¡å—å¯ä»¥åŒ…å«å‡½æ•°ã€ç±»ã€å˜é‡å’Œå¯æ‰§è¡Œä»£ç ã€‚</p><h3 id="Basic-Grammer"><a href="#Basic-Grammer" class="headerlink" title="Basic Grammer"></a>Basic Grammer</h3><p>å¯¼å…¥æ¨¡å—æœ€å¸¸ç”¨çš„å‘½ä»¤æ˜¯<code>import</code>å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>import</code>å‘½ä»¤å¯¼å…¥<strong>Pythonä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—</strong>ã€‚ï¼ˆç±»ä¼¼äºC++ä¸­çš„<code>#include</code>å‘½ä»¤ï¼‰</p><p>åœ¨å¯¼å…¥æ¨¡å—çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å¦‚ä¸‹çš„å››ç§æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># ç¬¬ä¸€ç§å¯¼å…¥æ–¹å¼ï¼šæŠŠæ•´ä¸ªæ¨¡å—å…¨éƒ¨å¯¼å…¥</span><br><span class="hljs-keyword">import</span> math<br><span class="hljs-comment"># ä½¿ç”¨ math æ¨¡å—ä¸­çš„ sqrt å‡½æ•°</span><br>result = math.sqrt(<span class="hljs-number">16</span>)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º: 4.0</span><br><br><br><span class="hljs-comment"># ç¬¬äºŒç§å¯¼å…¥æ–¹å¼ï¼šå¯¼å…¥æ¨¡å—çš„ç‰¹å®šå†…å®¹</span><br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt<br><span class="hljs-comment"># ç›´æ¥ä½¿ç”¨ sqrt å‡½æ•°</span><br>result = sqrt(<span class="hljs-number">16</span>)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º: 4.0</span><br><br><br><span class="hljs-comment"># ç¬¬ä¸‰ç§å¯¼å…¥æ–¹å¼ï¼šå¯¼å…¥æ¨¡å—çš„å…¨éƒ¨å†…å®¹</span><br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> *<br><span class="hljs-comment"># ç›´æ¥ä½¿ç”¨ sqrt å‡½æ•°</span><br>result = sqrt(<span class="hljs-number">16</span>)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º: 4.0</span><br><br><br><span class="hljs-comment"># ç¬¬å››ç§å¯¼å…¥æ–¹å¼ï¼šèµ·åˆ«å </span><br><span class="hljs-keyword">import</span> math <span class="hljs-keyword">as</span> m<br><span class="hljs-comment"># ä½¿ç”¨åˆ«å m è®¿é—® sqrt å‡½æ•°</span><br>result = m.sqrt(<span class="hljs-number">16</span>)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º: 4.0</span><br><br><span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> sqrt <span class="hljs-keyword">as</span> square_root<br><span class="hljs-comment"># ä½¿ç”¨åˆ«å square_root</span><br>result = square_root(<span class="hljs-number">16</span>)<br><span class="hljs-built_in">print</span>(result)  <span class="hljs-comment"># è¾“å‡º: 4.0</span><br></code></pre></td></tr></table></figure><h3 id="Import-Class"><a href="#Import-Class" class="headerlink" title="Import Class"></a>Import Class</h3><p>ä¸ºäº†æå‡ä»£ç çš„ç®€æ´æ€§ï¼Œ<strong>ç±»çš„å®šä¹‰</strong>è¢«å‚¨å­˜åœ¨ç‰¹å®šçš„æ–‡ä»¶ä¸­ï¼Œåœ¨å¼€å‘è€…ä½¿ç”¨æ˜¯å¯ä»¥è¢«<strong>ç‰¹å®šçš„å¯¼å…¥</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># All_the_class.py</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bike</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Truck</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br><br><span class="hljs-comment"># main.py</span><br><br><span class="hljs-keyword">import</span> All_the_class<br><br><span class="hljs-keyword">from</span> All_the_class <span class="hljs-keyword">import</span> Car<br><br><span class="hljs-keyword">from</span> All_the_class <span class="hljs-keyword">import</span> Bike,Car<br><span class="hljs-comment"># è¿™ä¸‰ç§å¯¼å…¥æ–¹å¼éƒ½æ˜¯åˆæ³•çš„ï¼</span><br></code></pre></td></tr></table></figure><h3 id="Dive-Deeper"><a href="#Dive-Deeper" class="headerlink" title="Dive Deeper"></a>Dive Deeper</h3><div class="note note-info">            <h4 id="How-do-Python-import-modules"><a href="#How-do-Python-import-modules" class="headerlink" title="How do Python import modules?"></a>How do Python import modules?</h4><p>å½“ä½ å¯¼å…¥ä¸€ä¸ªæ¨¡å—æ—¶ï¼ŒPython ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾æ¨¡å—ï¼š</p><ol><li><strong>å†…ç½®æ¨¡å—</strong>ï¼šPython è‡ªå¸¦çš„æ ‡å‡†åº“æ¨¡å—ã€‚</li><li><strong>å½“å‰ç›®å½•</strong>ï¼šè¿è¡Œè„šæœ¬æ‰€åœ¨çš„ç›®å½•ã€‚</li><li>**ç¯å¢ƒå˜é‡ <code>PYTHONPATH</code>**ï¼šåŒ…å«ç›®å½•åˆ—è¡¨çš„ç¯å¢ƒå˜é‡ã€‚</li><li><strong>å®‰è£…çš„ç¬¬ä¸‰æ–¹åº“</strong>ï¼šé€šè¿‡ <code>pip</code> å®‰è£…çš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</li></ol><p><strong>å½“å‰ç›®å½•</strong>æ˜¯æŒ‡è¯¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•åœ°å€ï¼Œä¾‹å¦‚ä¸‹é¢çš„æ–‡ä»¶ç»“æ„ï¼š</p><ul><li><code>thefilefolder</code><ul><li><code>testcode2.py</code></li><li><code>testcode3.py</code></li></ul></li><li><code>testcode1.py</code></li></ul><p>å¯¹äº<code>testcode2.py</code>æ¥è¯´ï¼Œå½“å‰ç›®å½•ä¸‹æœ‰æ–‡ä»¶<code>testcode3.py</code>ï¼Œè€Œæ²¡æœ‰<code>testcode1.py</code>ã€‚</p><p><strong><code>PYTHONPATH</code> å…è®¸ä½ æ·»åŠ è‡ªå®šä¹‰çš„ç›®å½•è·¯å¾„</strong>ï¼Œä½¿å¾— Python åœ¨å¯¼å…¥æ¨¡å—æ—¶èƒ½å¤Ÿä»è¿™äº›ç›®å½•ä¸­æŸ¥æ‰¾æ¨¡å—æ–‡ä»¶ã€‚è¿™å¯¹äºä»¥ä¸‹åœºæ™¯éå¸¸æœ‰ç”¨ï¼š</p><ol><li><strong>è‡ªå®šä¹‰æ¨¡å—è·¯å¾„</strong>ï¼šå½“ä½ æœ‰ä¸€äº›è‡ªå®šä¹‰çš„æ¨¡å—ä¸åœ¨å½“å‰ç›®å½•æˆ– Python çš„æ ‡å‡†åº“è·¯å¾„ä¸­æ—¶ï¼Œå¯ä»¥é€šè¿‡ <code>PYTHONPATH</code> æŒ‡å®šè¿™äº›æ¨¡å—æ‰€åœ¨çš„ç›®å½•ã€‚</li><li><strong>é¡¹ç›®ç»“æ„ç®¡ç†</strong>ï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œæ¨¡å—å¯èƒ½åˆ†å¸ƒåœ¨ä¸åŒçš„ç›®å½•ä¸­ï¼Œé€šè¿‡ <code>PYTHONPATH</code> å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†è¿™äº›æ¨¡å—çš„è·¯å¾„ã€‚</li></ol>          </div><p>ä»ä¸Šæ–‡å¯çŸ¥ï¼Œæ–‡ä»¶çš„å¯¼å…¥å¹¶ä¸å±€é™äºå®˜æ–¹åº“æ–‡ä»¶çš„å¯¼å…¥ï¼Œä½ ä¹Ÿå¯ä»¥å¯¼å…¥<strong>è‡ªå·±å†™çš„Pythonæ–‡ä»¶</strong>ï¼</p><h4 id="name"><a href="#name" class="headerlink" title="__name__"></a><code>__name__</code></h4><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œè¿™æ˜¯åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹çš„ä¸¤ä¸ªPythonæ–‡ä»¶<code>testcode4.py</code>å’Œ<code>testcode5.py</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># testcode5.py</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello! This is the file testcode5.py!&quot;</span>)<br><br><span class="hljs-comment"># testcode4.py</span><br><span class="hljs-keyword">import</span> testcode5<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello! this is testcode4.py&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¿è¡Œ<code>testcode4.py</code>ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">Hello! This <span class="hljs-keyword">is</span> the file testcode5.py!<br>Hello! <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> testcode4.py<br></code></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼ŒPythonè§£é‡Šå™¨è¿è¡Œä»£ç çš„é¡ºåºå’Œé€»è¾‘å¦‚ä¸‹ï¼š</p><ol><li>**è¿è¡Œ <code>testcode4.py</code>**ï¼š<ul><li>Python è§£é‡Šå™¨å¼€å§‹æ‰§è¡Œ <code>testcode4.py</code> æ–‡ä»¶ã€‚</li><li>å½“é‡åˆ° <code>import testcode5</code> æ—¶ï¼ŒPython ä¼šæŸ¥æ‰¾å¹¶åŠ è½½ <code>testcode5.py</code> æ¨¡å—ã€‚</li></ul></li><li>**åŠ è½½å¹¶æ‰§è¡Œ <code>testcode5.py</code>**ï¼š<ul><li>Python ä¼šæ‰§è¡Œ <code>testcode5.py</code> æ–‡ä»¶ä¸­çš„<strong>æ‰€æœ‰é¡¶å±‚ä»£ç ï¼ˆå³ä¸åœ¨å‡½æ•°æˆ–ç±»ä¸­çš„ä»£ç ï¼‰</strong>ã€‚</li><li>åœ¨ <code>testcode5.py</code> ä¸­ï¼Œ<code>print(&quot;Hello! This is the file testcode5.py!&quot;)</code> æ˜¯é¡¶å±‚ä»£ç ï¼Œå› æ­¤ä¼šè¢«æ‰§è¡Œã€‚</li><li>æ‰§è¡Œå®Œ <code>testcode5.py</code> åï¼ŒPython ä¼šå›åˆ° <code>testcode4.py</code> ç»§ç»­æ‰§è¡Œã€‚</li></ul></li><li>**ç»§ç»­æ‰§è¡Œ <code>testcode4.py</code>**ï¼š<ul><li>åœ¨ <code>testcode4.py</code> ä¸­ï¼Œ<code>import testcode5</code> å·²ç»å®Œæˆï¼Œæ¥ä¸‹æ¥æ‰§è¡Œ <code>print(&quot;Hello! this is testcode4.py&quot;)</code>ã€‚</li><li>å› æ­¤ï¼Œ<code>testcode4.py</code> ä¸­çš„ <code>print</code> è¯­å¥ä¼šè¢«æ‰§è¡Œã€‚</li></ul></li></ol><p>è¿™å°±å‡ºç°äº†å¾ˆå°´å°¬çš„é—®é¢˜ï¼Œæˆ‘ä»¬è®¾ç½®<code>print</code>è¯­å¥çš„åˆè¡·æ˜¯å‘ŠçŸ¥ç¨‹åºå‘˜ç°åœ¨åœ¨è¿è¡Œå“ªä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬<strong>ä¸å¸Œæœ›æ¨¡å—è¢«å¯¼å…¥çš„è¾“å‡ºç›¸åŒçš„ç»“æœ</strong>ï¼Œæ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›å°†ä¸€ä¸ªç¨‹åº<strong>ä½œä¸ºæ¨¡å—è¢«å¯¼å…¥è¿è¡Œå’Œç›´æ¥è¿è¡Œ</strong>çš„è¡Œä¸ºäº§ç”Ÿå·®å¼‚ã€‚</p><blockquote><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå®é™…çš„é—®é¢˜ï¼Œæ¨¡å—çš„ä½¿ç”¨è€…ç›´æ¥å¯¼å…¥æ¨¡å—ï¼Œè€Œæ¨¡å—çš„å¼€å‘è€…éœ€è¦è°ƒè¯•ä¿¡æ¯ï¼Œå°±éœ€è¦è¿™æ ·ä¸€ç§<strong>åˆ†ç¦»</strong>çš„ç­–ç•¥ã€‚</p></blockquote><p>ä¸€ç§æ–¹æ³•æ˜¯å°†æ‰€æœ‰çš„ä»£ç å†™æˆå‡½æ•°ï¼Œ<strong>è¿™æ ·ä¸å­˜åœ¨é¡¶å±‚ä»£ç ä¸€è¯´äº†</strong>ï¼Œä½†æ˜¯è¿™å¯¹æ¨¡å—å¼€å‘å’Œè°ƒè¯•çš„åŠŸèƒ½æœ‰å¢æ·»äº†ä¸ä¾¿ä¹‹å¤„ã€‚å®é™…ä¸Šï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ª**<code>__name__</code> å±æ€§**ï¼Œçµæ´»ä½¿ç”¨<code>__name__</code>å¯ä»¥å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>æˆ‘ä»¬ç•¥å¾®ä¿®æ”¹åˆšåˆšçš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># testcode5.py</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello! This is the file testcode5.py!&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;testcode5 __name__: <span class="hljs-subst">&#123;__name__&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># testcode4.py</span><br><span class="hljs-keyword">import</span> testcode5<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello! this is testcode4.py&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;testcode4 __name__: <span class="hljs-subst">&#123;__name__&#125;</span>&quot;</span>)<br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">when you run testcode5.py:</span><br><span class="hljs-string">Hello! This is the file testcode5.py!</span><br><span class="hljs-string">testcode5 __name__: __main__</span><br><span class="hljs-string"></span><br><span class="hljs-string">when you run testcode4.py:</span><br><span class="hljs-string">Hello! This is the file testcode5.py!</span><br><span class="hljs-string">testcode5 __name__: testcode5</span><br><span class="hljs-string">Hello! this is testcode4.py</span><br><span class="hljs-string">testcode4 __name__: __main__</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¾ˆæƒŠå–œçš„å‘ç°ï¼Œ<strong>è¢«å¯¼å…¥çš„æ–‡ä»¶</strong>å’Œ<strong>ç›´æ¥è¢«è¿è¡Œçš„æ–‡ä»¶</strong>çš„<code>__name__</code>å±æ€§æ˜¯ä¸ä¸€æ ·çš„ï¼å½“ä¸€ä¸ªæ–‡ä»¶è¢«å¯¼å…¥çš„æ—¶å€™ï¼Œ<code>__name__</code>å­—ç¬¦ä¸²çš„å€¼å°±æ˜¯å…¶æ–‡ä»¶åï¼ˆä¾‹å¦‚<code>testcode5</code>ï¼‰ï¼Œè€Œè¢«ç›´æ¥è¿è¡Œçš„æ—¶å€™ï¼Œ<code>__name__</code>çš„å€¼å˜æˆäº†<code>__main__</code>ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>if __name__ == &quot;__main__&quot;</code>è¯­å¥æ¥å°è£…<strong>é¡¶å±‚ä»£ç </strong>ï¼Œå®ç°æˆ‘ä»¬ä¸Šæ–‡çš„éœ€æ±‚ï¼</p><h2 id="File-Reading-and-Writing"><a href="#File-Reading-and-Writing" class="headerlink" title="File Reading and Writing"></a>File Reading and Writing</h2><h3 id="What-is-path"><a href="#What-is-path" class="headerlink" title="What is path?"></a>What is path?</h3><p><strong>è·¯å¾„ï¼ˆpathï¼‰</strong>æ˜¯æŒ‡æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åœ¨ç³»ç»Ÿä¸­çš„å‡†ç¡®ä½ç½®ï¼Œ<strong>ç±»ä¼¼äºæ¯å®¶æ¯æˆ·çš„é—¨ç‰Œå·</strong>ã€‚å½“Pythonæƒ³è¦è¯»å–ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œé¦–å…ˆéœ€è¦è·å¾—<strong>æ–‡ä»¶çš„åœ°å€ï¼ˆå³è·¯å¾„ï¼‰</strong>ï¼Œè¿™æ ·æ–‡ä»¶æ‰èƒ½è¢«æ‰¾åˆ°å¹¶è¢«æˆåŠŸè¯»å–ã€‚</p><p>è·¯å¾„åˆ†ä¸ºä¸¤ç±»ï¼Œ<strong>ç›¸å¯¹è·¯å¾„</strong>å’Œ<strong>ç»å¯¹è·¯å¾„</strong>ã€‚</p><ul><li>ç»å¯¹è·¯å¾„æ˜¯ä»æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•å¼€å§‹çš„å®Œæ•´è·¯å¾„ï¼Œå®ƒå”¯ä¸€åœ°æ ‡è¯†ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•çš„ä½ç½®ã€‚</li><li>ç›¸å¯¹è·¯å¾„æ˜¯ç›¸å¯¹äºå½“å‰å·¥ä½œç›®å½•çš„è·¯å¾„ï¼Œå®ƒä¾èµ–äºå½“å‰çš„å·¥ä½œç¯å¢ƒã€‚</li></ul><blockquote><p>é€šä¿—ä¸€ç‚¹æ¥è¯´ï¼Œå¦‚æœæˆ‘ä»¬è¦æè¿°å°æ˜çš„ç»å¯¹è·¯å¾„ï¼Œæˆ‘ä»¬è¦ä»<strong>æ ¹ç›®å½•</strong>ï¼ˆä¸å¦¨å‡è®¾ä¸ºåœ°çƒï¼‰å¼€å§‹è¯´ï¼Œå°æ˜ä½åœ¨å“ªä¸ªå¤§æ´²å“ªä¸ªå›½å®¶å“ªä¸ªåŒºåŸŸå“ªä¸ªè¡—é“å“ªä¸ªé—¨ç‰Œå·â€¦ä½†å¦‚æœæˆ‘ç«™åœ¨<strong>å½“å‰å·¥ä½œç›®å½•</strong>ï¼ˆä¸å¦¨å‡è®¾ä¸º<code>åœ°çƒ/äºšæ´²/ä¸­å›½</code>ï¼‰,æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»å°æ˜ä½åœ¨å“ªä¸ªåŒºåŸŸå¼€å§‹è¯´èµ·å°±è¡Œäº†ã€‚ä½†æ˜¯å¦‚æœè¿œåœ¨ç¾æ´²çš„æœ‹å‹å°±æ— æ³•è¯†åˆ«è¿™ä¸ªç›¸å¯¹è·¯å¾„ï¼ˆå› ä¸º<strong>å½“å‰å·¥ä½œç›®å½•å‘ç”Ÿäº†æ”¹å˜</strong>ï¼‰ã€‚</p></blockquote><p><img src="https://ooo.0x0.ooo/2025/01/19/OGkztG.png" alt="The Absolute Path and the Relative Path"></p><h3 id="pathlib"><a href="#pathlib" class="headerlink" title="pathlib"></a><code>pathlib</code></h3><p><code>pathlib</code> æ˜¯ Python 3.4 å¼•å…¥çš„ä¸€ä¸ªæ¨¡å—ï¼Œæä¾›äº†ä¸€ç§é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ã€‚</p><p><code>pathlib</code> çš„æ ¸å¿ƒç±»æ˜¯ <code>Path</code>ï¼Œå®ƒè¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿè·¯å¾„ã€‚<code>Path</code> ç±»æœ‰ä¸¤ç§ä¸»è¦å­ç±»ï¼š</p><ul><li>**<code>PurePath</code>**ï¼šçº¯è·¯å¾„ç±»ï¼Œåªå¤„ç†è·¯å¾„å­—ç¬¦ä¸²ï¼Œä¸æ¶‰åŠå®é™…æ–‡ä»¶ç³»ç»Ÿæ“ä½œã€‚</li><li>**<code>Path</code>**ï¼šå…·ä½“è·¯å¾„ç±»ï¼Œç»§æ‰¿è‡ª <code>PurePath</code>ï¼Œå¯ä»¥æ‰§è¡Œå®é™…çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼ˆå¦‚åˆ›å»ºæ–‡ä»¶ã€è¯»å–æ–‡ä»¶ç­‰ï¼‰ã€‚</li></ul><ol><li>åˆ›å»º <code>Path</code> å¯¹è±¡</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-comment"># åˆ›å»º Path å¯¹è±¡</span><br>p = Path(<span class="hljs-string">&#x27;example.txt&#x27;</span>)<br><span class="hljs-built_in">print</span>(p)  <span class="hljs-comment"># è¾“å‡º: example.txt</span><br></code></pre></td></tr></table></figure><ol start="2"><li>è·¯å¾„æ‹¼æ¥</li></ol><p>ä½¿ç”¨ <code>/</code> è¿ç®—ç¬¦å¯ä»¥è½»æ¾æ‹¼æ¥è·¯å¾„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">p = Path(<span class="hljs-string">&#x27;/path/to&#x27;</span>)<br>p = p / <span class="hljs-string">&#x27;subdir&#x27;</span> / <span class="hljs-string">&#x27;file.txt&#x27;</span><br><span class="hljs-built_in">print</span>(p)  <span class="hljs-comment"># è¾“å‡º: /path/to/subdir/file.txt</span><br></code></pre></td></tr></table></figure><ol start="3"><li>è·å–è·¯å¾„çš„ç»„æˆéƒ¨åˆ†</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">p = Path(<span class="hljs-string">&#x27;/path/to/file.txt&#x27;</span>)<br><br><span class="hljs-built_in">print</span>(p.name)       <span class="hljs-comment"># è¾“å‡º: file.txtï¼ˆæ–‡ä»¶åï¼‰</span><br><span class="hljs-built_in">print</span>(p.stem)       <span class="hljs-comment"># è¾“å‡º: fileï¼ˆæ–‡ä»¶åä¸å¸¦åç¼€ï¼‰</span><br><span class="hljs-built_in">print</span>(p.suffix)     <span class="hljs-comment"># è¾“å‡º: .txtï¼ˆæ–‡ä»¶åç¼€ï¼‰</span><br><span class="hljs-built_in">print</span>(p.parent)     <span class="hljs-comment"># è¾“å‡º: /path/toï¼ˆçˆ¶ç›®å½•ï¼‰</span><br><span class="hljs-built_in">print</span>(p.absolute()) <span class="hljs-comment"># è¾“å‡º: ç»å¯¹è·¯å¾„</span><br></code></pre></td></tr></table></figure><ol start="4"><li>æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">p = Path(<span class="hljs-string">&#x27;example.txt&#x27;</span>)<br><span class="hljs-keyword">if</span> p.exists():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ–‡ä»¶å­˜åœ¨&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;</span>)<br><span class="hljs-comment"># è¿™é‡ŒæŸ¥æ‰¾çš„æ˜¯ç›¸å¯¹ç›®å½•ä¸‹çš„æ–‡ä»¶</span><br></code></pre></td></tr></table></figure><ol start="5"><li>åˆ›å»ºæ–‡ä»¶å’Œç›®å½•</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºæ–‡ä»¶</span><br>p = Path(<span class="hljs-string">&#x27;new_file.txt&#x27;</span>)<br>p.touch()  <span class="hljs-comment"># åˆ›å»ºç©ºæ–‡ä»¶</span><br><br><span class="hljs-comment"># åˆ›å»ºç›®å½•</span><br>p = Path(<span class="hljs-string">&#x27;new_directory&#x27;</span>)<br>p.mkdir(exist_ok=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># exist_ok=True é¿å…ç›®å½•å·²å­˜åœ¨æ—¶æŠ¥é”™</span><br></code></pre></td></tr></table></figure><ol start="6"><li>è¯»å–å’Œå†™å…¥æ–‡ä»¶</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å†™å…¥æ–‡ä»¶</span><br>p = Path(<span class="hljs-string">&#x27;example.txt&#x27;</span>)<br>p.write_text(<span class="hljs-string">&#x27;Hello, World!&#x27;</span>)<br><br><span class="hljs-comment"># æ³¨æ„ï¼åŸæ¥æ–‡ä»¶ä¸­çš„å†…å®¹ä¼šè¢«write_text()æ‰€è¦†ç›–</span><br>path.<span class="hljs-built_in">open</span>(mode=<span class="hljs-string">&#x27;a&#x27;</span>).write(<span class="hljs-string">&quot;Hello&quot;</span>)<br><span class="hljs-comment"># å¯ä»¥ä½¿ç”¨è¿½åŠ æ¨¡å¼</span><br><br><br><span class="hljs-comment"># è¯»å–æ–‡ä»¶</span><br>content = p.read_text()<br><span class="hljs-built_in">print</span>(content)  <span class="hljs-comment"># è¾“å‡º: Hello, World!</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥å®ç°ä¸€äº›æ›´é«˜çº§çš„æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br>path = Path(<span class="hljs-string">&quot;example.txt&quot;</span>)<br>contents = path.read_text()<br><br>lines = contents.splitlines()<br><span class="hljs-comment"># ä¼šè¿”å›ä¸€ä¸ªåˆ—è¡¨</span><br><span class="hljs-keyword">for</span> i,line <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lines):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;The <span class="hljs-subst">&#123;i+<span class="hljs-number">1</span>&#125;</span> line is <span class="hljs-subst">&#123;line&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">The <span class="hljs-number">1</span> <span class="hljs-type">line</span> <span class="hljs-keyword">is</span> hello my <span class="hljs-type">name</span> <span class="hljs-keyword">is</span> van<br>The <span class="hljs-number">2</span> <span class="hljs-type">line</span> <span class="hljs-keyword">is</span> i am an artist<br>The <span class="hljs-number">3</span> <span class="hljs-type">line</span> <span class="hljs-keyword">is</span> a performance artist<br></code></pre></td></tr></table></figure><ol start="7"><li>éå†ç›®å½•</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">p = Path(<span class="hljs-string">&#x27;.&#x27;</span>)<br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> p.iterdir():<br>    <span class="hljs-built_in">print</span>(file)  <span class="hljs-comment"># æ‰“å°å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•</span><br></code></pre></td></tr></table></figure><ol start="8"><li>æŸ¥æ‰¾æ–‡ä»¶</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ .txt æ–‡ä»¶</span><br><span class="hljs-keyword">for</span> file <span class="hljs-keyword">in</span> p.glob(<span class="hljs-string">&#x27;*.txt&#x27;</span>):<br>    <span class="hljs-built_in">print</span>(file)<br></code></pre></td></tr></table></figure><ol start="9"><li>åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ é™¤æ–‡ä»¶</span><br>p = Path(<span class="hljs-string">&#x27;example.txt&#x27;</span>)<br>p.unlink()<br><br><span class="hljs-comment"># åˆ é™¤ç›®å½•ï¼ˆç›®å½•å¿…é¡»ä¸ºç©ºï¼‰</span><br>p = Path(<span class="hljs-string">&#x27;empty_directory&#x27;</span>)<br>p.rmdir()<br></code></pre></td></tr></table></figure><p>   10.è·å–å½“å‰æ–‡ä»¶ç›®å½•ï¼ˆè¿™é‡Œä½¿ç”¨äº†<strong>os</strong>åº“ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-comment"># è·å–å½“å‰å·¥ä½œç›®å½•</span><br>cwd = os.getcwd()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰å·¥ä½œç›®å½•: <span class="hljs-subst">&#123;cwd&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># ä½¿ç”¨ Path.cwd() è·å–å½“å‰å·¥ä½œç›®å½•</span><br>cwd_path = Path.cwd()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰å·¥ä½œç›®å½•: <span class="hljs-subst">&#123;cwd_path&#125;</span>&quot;</span>)<br><span class="hljs-comment"># è·å–çš„æ˜¯æ ¹ç›®å½•</span><br></code></pre></td></tr></table></figure><h2 id="FileNotFoundError"><a href="#FileNotFoundError" class="headerlink" title="FileNotFoundError"></a><code>FileNotFoundError</code></h2><p>å½“æˆ‘ä»¬è¿›è¡Œæ–‡ä»¶æ“ä½œæ—¶ï¼Œä¸€ä¸å°å¿ƒå¯èƒ½ä¼šæ‹¼é”™æˆ–è€…æé”™äº†æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯¼è‡´<strong>ç¨‹åºæ— æ³•æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶</strong>ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚ä¸‹ç¨‹åºçš„ç›®å½•ä¸­æœ‰æ–‡ä»¶<code>example.txt</code>ï¼Œä½†æ²¡æœ‰<code>exammple.txt</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-comment"># for a neater traceback information</span><br><span class="hljs-keyword">from</span> rich <span class="hljs-keyword">import</span> traceback<br>traceback.install(show_locals=<span class="hljs-literal">True</span>)<br><br><br>correct_path = Path(<span class="hljs-string">&quot;example.txt&quot;</span>)<br>wrong_path = Path(<span class="hljs-string">&quot;exammple.txt&quot;</span>)<br><br>contents_correct = correct_path.read_text()<br>contents_wrong = wrong_path.read_text()<br></code></pre></td></tr></table></figure><p>ç¨‹åºçš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://ooo.0x0.ooo/2025/01/20/OGktrC.png" alt="FileNotfound Error"></p><p>å½’æ ¹ç»“åº•å°±ä¸€å¥è¯ï¼š<code>FileNotFoundError: [Errno 2] No such file or directory: &#39;exammple.txt&#39;</code>ã€‚</p><p>å’ŒC++ä¸€æ ·ï¼ŒPythonä¹Ÿæœ‰<strong>å¼‚å¸¸å¤„ç†</strong>çš„æœºåˆ¶ã€‚<code>FileNotFoundError</code> æ˜¯ Python ä¸­çš„ä¸€ä¸ª<strong>å†…ç½®å¼‚å¸¸ç±»</strong>ï¼Œç”¨äºè¡¨ç¤ºç¨‹åºå°è¯•è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•æ—¶æŠ›å‡ºçš„é”™è¯¯ã€‚å®ƒæ˜¯ <code>OSError</code> çš„å­ç±»ï¼ˆåœ¨ Python 3.3 ä¹‹å‰æ˜¯ <code>IOError</code> çš„å­ç±»ï¼‰ï¼Œä¸“é—¨ç”¨äºå¤„ç†æ–‡ä»¶æœªæ‰¾åˆ°çš„æƒ…å†µã€‚</p><p>åœ¨C++ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>try-catch</code>å—æ¥æ•è·å¼‚å¸¸ï¼Œä¿è¯å…¶ä»–ç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼Œåœ¨Pythonä¸­ï¼Œ<code>try-except</code>å—ä¹Ÿå‘æŒ¥äº†ç±»ä¼¼çš„ä½œç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><br><span class="hljs-comment"># for a neater traceback information</span><br><span class="hljs-keyword">from</span> rich <span class="hljs-keyword">import</span> traceback<br>traceback.install(show_locals=<span class="hljs-literal">True</span>)<br><br><br>correct_path = Path(<span class="hljs-string">&quot;example.txt&quot;</span>)<br>wrong_path = Path(<span class="hljs-string">&quot;exammple.txt&quot;</span>)<br><br>contents_correct = correct_path.read_text()<br><br><span class="hljs-keyword">try</span>:<br>    contents_wrong = wrong_path.read_text()<br><span class="hljs-keyword">except</span> FileNotFoundError:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Haha,File not found!&quot;</span>)<br></code></pre></td></tr></table></figure><p>å†æ¬¡è¿è¡Œç¨‹åºï¼Œå°±ä¸ä¼šå‡ºç°<code>traceback</code>æŠ¥é”™ï¼Œè€Œåªä¼šè¾“å‡ºï¼š<code>Haha,File not found!</code></p><h2 id="Data-Storageï¼šJSON"><a href="#Data-Storageï¼šJSON" class="headerlink" title="Data Storageï¼šJSON"></a>Data Storageï¼š<code>JSON</code></h2><h3 id="What-is-JSON"><a href="#What-is-JSON" class="headerlink" title="What is JSON ?"></a>What is <code>JSON</code> ?</h3><p><strong>JSON æ–‡ä»¶</strong> æ˜¯ä¸€ç§ç”¨äº<strong>å­˜å‚¨å’Œäº¤æ¢æ•°æ®çš„æ–‡ä»¶æ ¼å¼</strong>ï¼Œå…¨ç§°æ˜¯ <strong>JavaScript Object Notation</strong>ï¼ˆJavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼‰ã€‚å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯æ˜“äºäººç±»é˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚</p><p>JSON æ–‡ä»¶çš„å†…å®¹æ˜¯ç”± <strong>â€œé”®å€¼å¯¹â€</strong> ç»„æˆçš„ï¼Œå°±åƒå­—å…¸ä¸€æ ·ã€‚æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®æ ¼å¼ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Alice&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">25</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;isStudent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;courses&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;Math&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;Science&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;History&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;address&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;city&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Beijing&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;postalCode&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;100000&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p><code>JSON</code>æ–‡ä»¶æœ€å¼ºå¤§çš„ç”¨å¤„åœ¨äº<strong>æ•°æ®çš„ä¼ è¾“å’Œå­˜å‚¨</strong>ï¼Œä¾‹å¦‚å‰åç«¯ä¹‹é—´APIçš„è°ƒç”¨ã€è½¯ä»¶çš„é…ç½®ä¿¡æ¯ã€å­˜å‚¨ç»“æ„åŒ–æ•°æ®ï¼ˆæ—¥å¿—ï¼Œç”¨æˆ·ä¿¡æ¯ï¼‰ç­‰ç­‰ã€‚</p><h3 id="JSON-in-Python"><a href="#JSON-in-Python" class="headerlink" title="JSON in Python"></a><code>JSON</code> in Python</h3><p>åœ¨Pythonä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>json</code>æ¨¡å—æ¥è¿›è¡Œæ–‡ä»¶ç®¡ç†ã€‚</p><ol><li><strong>å°† Python å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²</strong></li></ol><p>ä½¿ç”¨ <code>json.dumps()</code> å¯ä»¥å°† Python å¯¹è±¡ï¼ˆå¦‚å­—å…¸ã€åˆ—è¡¨ï¼‰è½¬æ¢ä¸º JSON æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># å‡†å¤‡æ•°æ®</span><br>data = &#123;<br>    <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;å°çº¢&quot;</span>,<br>    <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">20</span>,<br>    <span class="hljs-string">&quot;isStudent&quot;</span>: <span class="hljs-literal">False</span>,<br>    <span class="hljs-string">&quot;favoriteFoods&quot;</span>: [<span class="hljs-string">&quot;ç«é”…&quot;</span>, <span class="hljs-string">&quot;å†°æ·‡æ·‹&quot;</span>]<br>&#125;<br><br><span class="hljs-comment"># å°† Python å¯¹è±¡è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²</span><br>json_string = json.dumps(data, indent=<span class="hljs-number">4</span>, ensure_ascii=<span class="hljs-literal">False</span>)<br><span class="hljs-comment"># è¿™ä¸€æ­¥ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªdata.jsonæ–‡ä»¶</span><br><span class="hljs-built_in">print</span>(json_string)<br><br><br><span class="hljs-comment"># ä½¿ç”¨ pathlib å†™å…¥æ–‡ä»¶</span><br>file_path = Path(<span class="hljs-string">&quot;data.json&quot;</span>)<br>file_path.write_text(json_string, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å°æ˜&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;isStudent&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;hobbies&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>        <span class="hljs-string">&quot;æ‰“ç¯®çƒ&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-string">&quot;å¬éŸ³ä¹&quot;</span><br>    <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><ul><li>**<code>indent=4</code>**ï¼šè®© JSON å­—ç¬¦ä¸²æ ¼å¼åŒ–è¾“å‡ºï¼Œç¼©è¿› 4 ä¸ªç©ºæ ¼ã€‚</li><li>**<code>ensure_ascii=False</code>**ï¼šç¡®ä¿é ASCII å­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡ï¼‰æ­£å¸¸æ˜¾ç¤ºã€‚</li></ul><ol start="2"><li><strong>å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º Python å¯¹è±¡</strong></li></ol><p>ä½¿ç”¨ <code>json.loads()</code> å¯ä»¥å°† JSON æ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸º Python å¯¹è±¡ï¼ˆå¦‚å­—å…¸ã€åˆ—è¡¨ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># ä½¿ç”¨ pathlib è¯»å–æ–‡ä»¶</span><br>file_path = Path(<span class="hljs-string">&quot;data.json&quot;</span>)<br>json_string = file_path.read_text(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br><br><span class="hljs-comment"># å°† JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º Python å¯¹è±¡</span><br>data = json.loads(json_string)<br><span class="hljs-built_in">print</span>(data[<span class="hljs-string">&quot;name&quot;</span>])  <span class="hljs-comment"># è¾“å‡ºï¼šå°çº¢</span><br><span class="hljs-built_in">print</span>(data[<span class="hljs-string">&quot;favoriteFoods&quot;</span>])  <span class="hljs-comment"># è¾“å‡ºï¼š[&#x27;ç«é”…&#x27;, &#x27;å†°æ·‡æ·‹&#x27;]</span><br></code></pre></td></tr></table></figure><h3 id="Usage-User-info-management"><a href="#Usage-User-info-management" class="headerlink" title="Usage: User_info management"></a>Usage: User_info management</h3><p>å­¦ä¼šäº†<code>json</code>çš„åŸºæœ¬æ“ä½œåï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ª<strong>è¿·ä½ æ•°æ®åº“</strong>ï¼šç”¨æ¥å­˜å‚¨ç”¨æˆ·çš„æ•°æ®ï¼Œè¿›è¡Œè¯»å†™ç­‰æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># è·å–ç”¨æˆ·è¾“å…¥çš„åå­—</span><br>user_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;Hello! What is your name? &quot;</span>)<br>user_name_path = Path(<span class="hljs-string">&quot;user_info.json&quot;</span>)<br><br><span class="hljs-comment"># åˆå§‹åŒ–ç”¨æˆ·æ•°æ®</span><br>all_user_data = []<br><br><span class="hljs-comment"># å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œè¯»å–æ–‡ä»¶å†…å®¹</span><br><span class="hljs-keyword">if</span> user_name_path.exists():<br>    all_user_contents = user_name_path.read_text(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    all_user_data = json.loads(all_user_contents)<br><br><span class="hljs-comment"># æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨</span><br>user_exists = <span class="hljs-literal">False</span><br>user_info = <span class="hljs-literal">None</span><br><br><span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> all_user_data:<br>    <span class="hljs-keyword">if</span> user.get(<span class="hljs-string">&quot;name&quot;</span>) == user_name:<br>        user_exists = <span class="hljs-literal">True</span><br>        user_info = user<br>        <span class="hljs-keyword">break</span><br><br><span class="hljs-keyword">if</span> user_exists:<br>    <span class="hljs-comment"># ç”¨æˆ·å·²ç»æ³¨å†Œè¿‡</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Welcome Back, <span class="hljs-subst">&#123;user_name&#125;</span>!&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Your favourite food is <span class="hljs-subst">&#123;user_info.get(<span class="hljs-string">&#x27;food&#x27;</span>)&#125;</span>&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-comment"># æ–°ç”¨æˆ·</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hello <span class="hljs-subst">&#123;user_name&#125;</span>! It seems that you are new here.&quot;</span>)<br>    fav_food = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;What is your favourite food? &quot;</span>)<br><br>    <span class="hljs-comment"># åˆ›å»ºæ–°ç”¨æˆ·æ•°æ®</span><br>    new_user = &#123;<br>        <span class="hljs-string">&quot;name&quot;</span>: user_name,<br>        <span class="hljs-string">&quot;food&quot;</span>: fav_food<br>    &#125;<br><br>    <span class="hljs-comment"># å°†æ–°ç”¨æˆ·æ·»åŠ åˆ°ç”¨æˆ·åˆ—è¡¨ä¸­</span><br>    all_user_data.append(new_user)<br><br>    <span class="hljs-comment"># å°†æ›´æ–°åçš„ç”¨æˆ·åˆ—è¡¨å†™å…¥æ–‡ä»¶</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;user_info.json&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> json_file:<br>        json.dump(all_user_data, json_file, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">4</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Your information has been saved. Welcome!&quot;</span>)<br></code></pre></td></tr></table></figure><p><strong>è¿™æ ·çš„Pythonä»£ç ä¹ æƒ¯å®åœ¨æ˜¯å¤ªå·®äº†ï¼</strong>ä¸‹é¢æ˜¯å¯¹å‡½æ•°ä½“å°è£…åçš„ä¼˜åŒ–å†™æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">load_user_data</span>(<span class="hljs-params">file_path</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ä» JSON æ–‡ä»¶åŠ è½½ç”¨æˆ·æ•°æ®ã€‚</span><br><span class="hljs-string">    å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºåˆ—è¡¨ã€‚</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> file_path.exists():<br>        <span class="hljs-keyword">try</span>:<br>            <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>                <span class="hljs-keyword">return</span> json.load(file)<br>        <span class="hljs-keyword">except</span> json.JSONDecodeError:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;é”™è¯¯ï¼šæ–‡ä»¶ <span class="hljs-subst">&#123;file_path&#125;</span> ä¸æ˜¯æœ‰æ•ˆçš„ JSON æ–‡ä»¶ï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span> []<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> []<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">save_user_data</span>(<span class="hljs-params">file_path, data</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å°†ç”¨æˆ·æ•°æ®ä¿å­˜åˆ° JSON æ–‡ä»¶ã€‚</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(file_path, <span class="hljs-string">&quot;w&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> file:<br>        json.dump(data, file, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">4</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_user_by_name</span>(<span class="hljs-params">users, name</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    åœ¨ç”¨æˆ·åˆ—è¡¨ä¸­æŸ¥æ‰¾æŒ‡å®šåå­—çš„ç”¨æˆ·ã€‚</span><br><span class="hljs-string">    å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›ç”¨æˆ·ä¿¡æ¯ï¼›å¦åˆ™è¿”å› Noneã€‚</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users:<br>        <span class="hljs-keyword">if</span> user.get(<span class="hljs-string">&quot;name&quot;</span>) == name:<br>            <span class="hljs-keyword">return</span> user<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">register_new_user</span>(<span class="hljs-params">users, name</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    æ³¨å†Œæ–°ç”¨æˆ·å¹¶è¿”å›æ›´æ–°åçš„ç”¨æˆ·åˆ—è¡¨ã€‚</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hello <span class="hljs-subst">&#123;name&#125;</span>! It seems that you are new here.&quot;</span>)<br>    fav_food = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;What is your favourite food? &quot;</span>)<br>    new_user = &#123;<span class="hljs-string">&quot;name&quot;</span>: name, <span class="hljs-string">&quot;food&quot;</span>: fav_food&#125;<br>    users.append(new_user)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Your information has been saved. Welcome!&quot;</span>)<br>    <span class="hljs-keyword">return</span> users<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    ä¸»ç¨‹åºé€»è¾‘ã€‚</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-comment"># æ–‡ä»¶è·¯å¾„</span><br>    user_file_path = Path(<span class="hljs-string">&quot;user_info.json&quot;</span>)<br><br>    <span class="hljs-comment"># åŠ è½½ç”¨æˆ·æ•°æ®</span><br>    users = load_user_data(user_file_path)<br><br>    <span class="hljs-comment"># è·å–ç”¨æˆ·è¾“å…¥çš„åå­—</span><br>    user_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;Hello! What is your name? &quot;</span>)<br><br>    <span class="hljs-comment"># æŸ¥æ‰¾ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨</span><br>    user_info = find_user_by_name(users, user_name)<br><br>    <span class="hljs-keyword">if</span> user_info:<br>        <span class="hljs-comment"># ç”¨æˆ·å·²å­˜åœ¨</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Welcome Back, <span class="hljs-subst">&#123;user_name&#125;</span>!&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Your favourite food is <span class="hljs-subst">&#123;user_info.get(<span class="hljs-string">&#x27;food&#x27;</span>)&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># æ–°ç”¨æˆ·æ³¨å†Œ</span><br>        users = register_new_user(users, user_name)<br>        <span class="hljs-comment"># ä¿å­˜æ›´æ–°åçš„ç”¨æˆ·æ•°æ®</span><br>        save_user_data(user_file_path, users)<br><br><span class="hljs-comment"># è¿è¡Œä¸»ç¨‹åº</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    main()<br></code></pre></td></tr></table></figure><h2 id="Project-Data-Visualization"><a href="#Project-Data-Visualization" class="headerlink" title="Project: Data Visualization"></a>Project: Data Visualization</h2><h3 id="Chapter-15-Data-Creation"><a href="#Chapter-15-Data-Creation" class="headerlink" title="Chapter 15 Data_Creation"></a>Chapter 15 Data_Creation</h3><h4 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a><code>Matplotlib</code></h4><p>Pythonçš„å¼ºå¤§ä¹‹å¤„ä¹‹ä¸€åœ¨äº<strong>å…¶æ´»è·ƒçš„ç¤¾åŒºç”Ÿæ€</strong>ï¼Œé€šè¿‡<code>pip install</code>ä»–äººçš„ç¬¬ä¸‰æ–¹åº“ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ›´å¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œæ¥ä¸‹æ¥çš„ç« èŠ‚ç¬”è€…å°†é‡ç‚¹ä»‹ç»<code>Matplotlib</code>çš„ä½¿ç”¨ã€‚</p><blockquote><p>è¿™ä¸€ç« çš„å­¦ä¹ éå¸¸æœ‰è¶£ï¼Œå¼ºçƒˆå»ºè®®åˆå­¦è€…ä¸€èµ·ä¸Šæ‰‹æ“ä½œã€‚</p></blockquote><p><code>Matplotlib</code> æ˜¯ Python ä¸­æœ€æµè¡Œçš„æ•°æ®å¯è§†åŒ–åº“ä¹‹ä¸€ï¼Œå¹¿æ³›ç”¨äºåˆ›å»ºé™æ€ã€åŠ¨æ€å’Œäº¤äº’å¼çš„å›¾è¡¨ã€‚å®ƒæä¾›äº†ç±»ä¼¼äº MATLAB çš„ç»˜å›¾æ¥å£ï¼Œç®€å•æ˜“ç”¨ä¸”åŠŸèƒ½å¼ºå¤§ã€‚ä»¥ä¸‹æ˜¯ <code>Matplotlib</code> çš„ç®€å•ä»‹ç»å’ŒåŸºæœ¬ç”¨æ³•ï¼š</p><p>(1) <strong>ç»˜åˆ¶ç®€å•çš„æŠ˜çº¿å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>y = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]<br><br><span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span><br>plt.plot(x, y)<br><br><span class="hljs-comment"># æ·»åŠ æ ‡é¢˜å’Œæ ‡ç­¾</span><br>plt.title(<span class="hljs-string">&quot;Simple Line Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><img src="https://matplotlib.org/stable/_images/sphx_glr_pyplot_001.png" alt="Simple Line Plot" style="zoom:67%;" /><p>(2) <strong>ç»˜åˆ¶æ•£ç‚¹å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>y = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]<br><br><span class="hljs-comment"># åˆ›å»ºæ•£ç‚¹å›¾</span><br>plt.scatter(x, y, s=<span class="hljs-number">10</span>)<br><span class="hljs-comment"># sä»£è¡¨ç‚¹çš„å¤§å°</span><br><br><span class="hljs-comment"># æ·»åŠ æ ‡é¢˜å’Œæ ‡ç­¾</span><br>plt.title(<span class="hljs-string">&quot;Scatter Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><img src="https://matplotlib.org/stable/_images/sphx_glr_scatter_001.png" alt="Scatter Plot" style="zoom:67%;" /><p>(3) <strong>ç»˜åˆ¶æŸ±çŠ¶å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>categories = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>]<br>values = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">15</span>, <span class="hljs-number">25</span>]<br><br><span class="hljs-comment"># åˆ›å»ºæŸ±çŠ¶å›¾</span><br>plt.bar(categories, values)<br><br><span class="hljs-comment"># æ·»åŠ æ ‡é¢˜å’Œæ ‡ç­¾</span><br>plt.title(<span class="hljs-string">&quot;Bar Chart&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;Categories&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Values&quot;</span>)<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="https://matplotlib.org/stable/_images/sphx_glr_bar_001.png" alt="Bar Chart"></p><p>(4) <strong>ç»˜åˆ¶é¥¼å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>labels = [<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>]<br>sizes = [<span class="hljs-number">15</span>, <span class="hljs-number">30</span>, <span class="hljs-number">45</span>, <span class="hljs-number">10</span>]<br><br><span class="hljs-comment"># åˆ›å»ºé¥¼å›¾</span><br>plt.pie(sizes, labels=labels, autopct=<span class="hljs-string">&#x27;%1.1f%%&#x27;</span>)<br><br><span class="hljs-comment"># æ·»åŠ æ ‡é¢˜</span><br>plt.title(<span class="hljs-string">&quot;Pie Chart&quot;</span>)<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="https://matplotlib.org/stable/_images/sphx_glr_pie_001.png" alt="Pie Chart"></p><p>ä½¿ç”¨ <code>plt.subplots</code> å¯ä»¥åœ¨ä¸€ä¸ªçª—å£ä¸­ç»˜åˆ¶å¤šä¸ªå­å›¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>y1 = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]<br>y2 = [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">25</span>]<br><br><span class="hljs-comment"># åˆ›å»ºå­å›¾</span><br>fig, (ax1, ax2) = plt.subplots(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>))<br><br><span class="hljs-comment"># å­å›¾ 1ï¼šæŠ˜çº¿å›¾</span><br>ax1.plot(x, y1)<br>ax1.set_title(<span class="hljs-string">&quot;Line Plot&quot;</span>)<br><br><span class="hljs-comment"># å­å›¾ 2ï¼šæ•£ç‚¹å›¾</span><br>ax2.scatter(x, y2)<br>ax2.set_title(<span class="hljs-string">&quot;Scatter Plot&quot;</span>)<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="https://ooo.0x0.ooo/2025/01/20/OGkwSP.png" alt="Subplots"></p><p><code>Matplotlib</code> æ”¯æŒä¸°å¯Œçš„è‡ªå®šä¹‰é€‰é¡¹ï¼Œä¾‹å¦‚é¢œè‰²ã€çº¿å‹ã€æ ‡è®°ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>y = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]<br><br><span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span><br>plt.plot(x, y, color=<span class="hljs-string">&#x27;red&#x27;</span>, linestyle=<span class="hljs-string">&#x27;--&#x27;</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>, label=<span class="hljs-string">&#x27;Data&#x27;</span>)<br><br><span class="hljs-comment"># æ·»åŠ æ ‡é¢˜ã€æ ‡ç­¾å’Œå›¾ä¾‹</span><br>plt.title(<span class="hljs-string">&quot;Customized Line Plot&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br>plt.legend()<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="https://matplotlib.org/stable/_images/sphx_glr_line_demo_dash_control_001.png" alt="Customized Line Plot"></p><p>ä½¿ç”¨ <code>plt.savefig</code> å¯ä»¥å°†å›¾è¡¨ä¿å­˜ä¸ºå›¾ç‰‡æ–‡ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æ•°æ®</span><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>y = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]<br><br><span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span><br>plt.plot(x, y)<br><br><span class="hljs-comment"># ä¿å­˜å›¾è¡¨</span><br>plt.savefig(<span class="hljs-string">&quot;line_plot.png&quot;</span>)<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>å†…ç½®æ ·å¼</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å†…ç½®æ ·å¼</span><br><span class="hljs-built_in">print</span>(plt.style.available)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment"># åº”ç”¨å†…ç½®æ ·å¼</span><br>plt.style.use(<span class="hljs-string">&#x27;seaborn-v0_8-dark&#x27;</span>)<br><br><span class="hljs-comment"># æ•°æ®</span><br>x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>y = [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]<br><br><span class="hljs-comment"># åˆ›å»ºå›¾è¡¨</span><br>plt.plot(x, y, label=<span class="hljs-string">&quot;Data&quot;</span>)<br><br><span class="hljs-comment"># æ·»åŠ æ ‡é¢˜å’Œæ ‡ç­¾</span><br>plt.title(<span class="hljs-string">&quot;Line Plot with Seaborn Darkgrid Style&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;X-axis&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Y-axis&quot;</span>)<br><br><span class="hljs-comment"># æ·»åŠ å›¾ä¾‹</span><br>plt.legend()<br><br><span class="hljs-comment"># æ˜¾ç¤ºå›¾è¡¨</span><br>plt.show()<br></code></pre></td></tr></table></figure><blockquote><p>Matplotlibæä¾›äº†å¾ˆå¤šè‡ªå®šä¹‰çš„è®¾ç½®ï¼Œä¾‹å¦‚<code>ticklable_format(style=)</code>æ¥è®¾ç½®<strong>åˆ»åº¦æ ‡è®°</strong>ï¼Œè‡ªå®šä¹‰RGBé¢œè‰²<code>color=(0,0.8,0)</code></p></blockquote><h4 id="Applicationï¼šRandom-Walk"><a href="#Applicationï¼šRandom-Walk" class="headerlink" title="Applicationï¼šRandom Walk"></a>Applicationï¼šRandom Walk</h4><p>ä¸‹æ–‡ç»™å‡ºå®ç°<code>Random Walk</code> çš„Pythonä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> choice<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomWalk</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;A class represents the random walk&#x27;&#x27;&#x27;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num_points=<span class="hljs-number">500</span></span>):<br>        <span class="hljs-variable language_">self</span>.num_points = num_points<br><br>        <span class="hljs-variable language_">self</span>.x_values=[<span class="hljs-number">0</span>]<br>        <span class="hljs-variable language_">self</span>.y_values=[<span class="hljs-number">0</span>]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fill_walk</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>((<span class="hljs-variable language_">self</span>.x_values))&lt;<span class="hljs-variable language_">self</span>.num_points:<br>            x_direction = choice([<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>])<br>            x_distance = choice([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br>            x_step = x_distance * x_direction<br><br>            y_direction = choice([<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>])<br>            y_distance = choice([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br>            y_step = y_distance * y_direction<br><br>            <span class="hljs-keyword">if</span> x_step==<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> y_step==<span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">continue</span><br><br>            x_new = <span class="hljs-variable language_">self</span>.x_values[-<span class="hljs-number">1</span>] + x_step<br>            y_new = <span class="hljs-variable language_">self</span>.y_values[-<span class="hljs-number">1</span>] + y_step<br><br>            <span class="hljs-variable language_">self</span>.x_values.append(x_new)<br>            <span class="hljs-variable language_">self</span>.y_values.append(y_new)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">imitate_walk</span>(<span class="hljs-params">index</span>):<br>    Total_steps= <span class="hljs-number">10000</span><br>    rw_orange = RandomWalk(Total_steps)<br>    rw_red = RandomWalk(Total_steps)<br>    rw_blue = RandomWalk(Total_steps)<br><br>    rw_orange.fill_walk()<br>    rw_blue.fill_walk()<br>    rw_red.fill_walk()<br><br>    plt.style.use(<span class="hljs-string">&#x27;classic&#x27;</span>)<br>    fig, ax = plt.subplots()<br>    point_numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(Total_steps))<br><br>    ax.scatter(rw_orange.x_values, rw_orange.y_values, c=point_numbers,cmap=plt.cm.Oranges,edgecolors=<span class="hljs-string">&#x27;none&#x27;</span>, s=<span class="hljs-number">2</span>)<br>    ax.scatter(rw_blue.x_values, rw_blue.y_values, c=point_numbers,cmap=plt.cm.Blues,edgecolors=<span class="hljs-string">&#x27;none&#x27;</span>, s=<span class="hljs-number">2</span>)<br>    ax.scatter(rw_red.x_values, rw_red.y_values, c=point_numbers,cmap=plt.cm.Reds,edgecolors=<span class="hljs-string">&#x27;none&#x27;</span>, s=<span class="hljs-number">2</span>)<br><br><br>    ax.set_aspect(<span class="hljs-string">&#x27;equal&#x27;</span>)<br><br>    ax.get_xaxis().set_visible(<span class="hljs-literal">False</span>)<br>    ax.get_yaxis().set_visible(<span class="hljs-literal">False</span>)<br><br><br>    plt.suptitle(<span class="hljs-string">f&#x27;Random Walk<span class="hljs-subst">&#123;index+<span class="hljs-number">1</span>&#125;</span>&#x27;</span>, fontsize=<span class="hljs-number">16</span>, fontweight=<span class="hljs-string">&#x27;bold&#x27;</span>)<br>    plt.savefig(<span class="hljs-string">f&#x27;Random_walk<span class="hljs-subst">&#123;index+<span class="hljs-number">1</span>&#125;</span>.png&#x27;</span>, bbox_inches=<span class="hljs-string">&#x27;tight&#x27;</span>)<br>    plt.close()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> tqdm(<span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>)):<br>        imitate_walk(i)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-string">&#x27;&#x27;&#x27;The main function&#x27;&#x27;&#x27;</span><br>    main()<br><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªä»£ç ä¼šå®ç°1000æ¬¡çš„Random_Walkï¼Œå…¶ä¸­æ¯ä¸€æ¬¡çš„æ­¥é•¿ä¸º10000ã€‚æœ€åç”»å‡ºçš„å›¾ç‰‡æ•ˆæœè¿˜æ˜¯éå¸¸éœ‡æ’¼çš„ï¼</p><h3 id="Chapter-16-Download-Data"><a href="#Chapter-16-Download-Data" class="headerlink" title="Chapter 16 Download Data"></a>Chapter 16 Download Data</h3><h4 id="CSV"><a href="#CSV" class="headerlink" title="CSV"></a>CSV</h4><p>CSVï¼ˆComma-Separated Valuesï¼Œé€—å·åˆ†éš”å€¼ï¼‰æ˜¯ä¸€ç§ç®€å•çš„æ–‡ä»¶æ ¼å¼ï¼Œç”¨äºå­˜å‚¨å’Œäº¤æ¢è¡¨æ ¼æ•°æ®ã€‚å®ƒä»¥çº¯æ–‡æœ¬å½¢å¼å­˜å‚¨æ•°æ®ï¼Œæ¯è¡Œä»£è¡¨ä¸€æ¡è®°å½•ï¼Œæ¯ä¸ªå­—æ®µç”¨é€—å·åˆ†éš”ã€‚CSV æ–‡ä»¶æ˜“äºç”Ÿæˆå’Œè§£æï¼Œå¹¿æ³›åº”ç”¨äºæ•°æ®å­˜å‚¨ã€å¯¼å…¥å’Œå¯¼å‡ºã€‚</p><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><span class="hljs-built_in">Name,</span>Age,City<br><span class="hljs-built_in">Alice,</span><span class="hljs-number">30</span>,<span class="hljs-keyword">New</span> York<br><span class="hljs-built_in">Bob,</span><span class="hljs-number">25</span>,Los Angeles<br><span class="hljs-built_in">Charlie,</span><span class="hljs-number">35</span>,Chicago<br></code></pre></td></tr></table></figure><ul><li><strong>è¡¨å¤´ï¼ˆHeaderï¼‰</strong>ï¼šç¬¬ä¸€è¡Œé€šå¸¸æ˜¯å­—æ®µåç§°ï¼ˆå¦‚ <code>Name, Age, City</code>ï¼‰ã€‚</li><li><strong>æ•°æ®è¡Œ</strong>ï¼šæ¯è¡Œä»£è¡¨ä¸€æ¡è®°å½•ï¼Œå­—æ®µä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚</li><li><strong>åˆ†éš”ç¬¦</strong>ï¼šé»˜è®¤æ˜¯é€—å·ï¼ˆ<code>,</code>ï¼‰ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å­—ç¬¦ï¼ˆå¦‚åˆ†å· <code>;</code> æˆ–åˆ¶è¡¨ç¬¦ <code>\t</code>ï¼‰ã€‚</li></ul><p>æˆ‘ä»¬ä¼šå‘ç°ï¼ŒCSVæ•°æ®æ–‡ä»¶é˜…è¯»èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œï¼ˆä½œä¸ºå­˜å‚¨ä¾¿æ·æ€§çš„ç‰ºç‰²ï¼‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Pythonæ¥å¸®åŠ©æˆ‘ä»¬è§£æCSVæ•°æ®å¹¶ä¸”å®Œæˆæ•°æ®çš„å¯è§†åŒ–ã€‚</p><h3 id="CSV-in-Pythonï¼šData-Processing"><a href="#CSV-in-Pythonï¼šData-Processing" class="headerlink" title="CSV in Pythonï¼šData Processing"></a>CSV in Pythonï¼šData Processing</h3><p>åœ¨åŸä¹¦ä¸­ï¼Œä½œè€…ä½¿ç”¨äº†å¤©æ°”æ•°æ®ä½œä¸ºç¤ºèŒƒï¼Œæˆ‘ä»¬å¯ä»¥æ¥ä¸€ç‚¹æ›´å¥½ç©çš„~</p><p>åœ¨æ¥ä¸‹æ¥çš„ç¯‡å¹…ä¸­ï¼Œç¬”è€…å°†ä½¿ç”¨<strong>Pythonå®Œæˆä¸€ä¸ªç®€å•çš„æœºå™¨å­¦ä¹ é¡¹ç›®â€”â€”TitanicäºŒåˆ†ç±»é—®é¢˜</strong></p><p>æ•°æ®é›†æ¥æºï¼š<a href="https://www.kaggle.com/c/titanic/overview">Kaggle Titanic</a></p><p>åœ¨Vscodeä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºé¡¹ç›®ä¸»ç›®å½•ï¼Œå¹¶ä¸”ä¸‹è½½å®˜æ–¹æä¾›çš„æ•°æ®é›†ï¼š<code>gender_submission.csv</code>,<code>test.csv</code>,<code>train.csv</code></p><p>å…ˆçœ‹çœ‹å®˜æ–¹ç»™æˆ‘ä»¬çš„è¦æ±‚æ˜¯ä»€ä¹ˆï¼š</p><blockquote><p><strong>The training set</strong> should be used to build your machine learning models. For the training set, we provide the outcome (also known as the â€œground truthâ€) for each passenger. Your model will be based on â€œfeaturesâ€ like passengersâ€™ gender and class. You can also use <a href="https://triangleinequality.wordpress.com/2013/09/08/basic-feature-engineering-with-the-titanic-data/">feature engineering </a>to create new features.</p><p><strong>The test set</strong> should be used to see how well your model performs on unseen data. For the test set, we do not provide the ground truth for each passenger. It is your job to predict these outcomes. For each passenger in the test set, use the model you trained to predict whether or not they survived the sinking of the Titanic.</p><p>We also include <strong>gender_submission.csv</strong>, a set of predictions that assume all and only female passengers survive, as an example of what a submission file should look like.</p></blockquote><p>é€šä¿—æ¥è¯´ï¼Œå°±æ˜¯ç»™äº†æ³°å¦å°¼å…‹å·ä¸Šéƒ¨åˆ†æˆå‘˜çš„æ•°æ®ä¿¡æ¯ï¼Œç„¶åå»ºç«‹è‡ªå·±çš„æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹<strong>â€œground truthâ€</strong>,æœ€åæäº¤ä¸€ä»½ç±»ä¼¼äº<code>gender_submission.csv</code>çš„æŠ¥å‘Šï¼ˆç¬¬ä¸‰ä»½æ–‡ä»¶åªæ˜¯è¾“å‡ºç¤ºä¾‹ï¼Œå‡è®¾æ‰€æœ‰å¥³äººå¹¸å­˜è€Œæ‰€æœ‰ç”·äººç‰ºç‰²ï¼‰</p><h5 id="Loading-Data"><a href="#Loading-Data" class="headerlink" title="Loading Data"></a>Loading Data</h5><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦<strong>è¯»å–csvæ–‡ä»¶ä¸­çš„æ•°æ®</strong>ï¼Œå¯ä»¥ä½¿ç”¨Pythonä¸­çš„<code>csv</code>æ¨¡å—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> csv<br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-keyword">import</span> json<br><br>test_data_path = Path(<span class="hljs-string">&#x27;test.csv&#x27;</span>)<br>train_data_path = Path(<span class="hljs-string">&#x27;train.csv&#x27;</span>)<br><br>train_lines = train_data_path.read_text().splitlines()<br>test_lines = test_data_path.read_text().splitlines()<br><span class="hljs-comment"># å°†æ–‡æœ¬å­—ç¬¦ä¸²æŒ‰è¡Œæ‹†åˆ†æˆåˆ—è¡¨</span><br><br>train_reader = csv.reader(train_lines)<br>test_reader = csv.reader(test_lines)<br><br>header_row_train = <span class="hljs-built_in">next</span>(train_reader)<br>header_row_test = <span class="hljs-built_in">next</span>(test_reader)<br><span class="hljs-comment">#å¾—åˆ°ç¬¬ä¸€è¡Œé¢˜å¤´</span><br><br><span class="hljs-built_in">print</span>(header_row_train)<br><span class="hljs-built_in">print</span>(header_row_test)<br><br></code></pre></td></tr></table></figure><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[<span class="hljs-symbol">&#x27;PassengerId</span>&#x27;, <span class="hljs-symbol">&#x27;Survived</span>&#x27;, <span class="hljs-symbol">&#x27;Pclass</span>&#x27;, <span class="hljs-symbol">&#x27;Name</span>&#x27;, <span class="hljs-symbol">&#x27;Sex</span>&#x27;, <span class="hljs-symbol">&#x27;Age</span>&#x27;, <span class="hljs-symbol">&#x27;SibSp</span>&#x27;, <span class="hljs-symbol">&#x27;Parch</span>&#x27;, <span class="hljs-symbol">&#x27;Ticket</span>&#x27;, <span class="hljs-symbol">&#x27;Fare</span>&#x27;, <span class="hljs-symbol">&#x27;Cabin</span>&#x27;, <span class="hljs-symbol">&#x27;Embarked</span>&#x27;]<br>[<span class="hljs-symbol">&#x27;PassengerId</span>&#x27;, <span class="hljs-symbol">&#x27;Pclass</span>&#x27;, <span class="hljs-symbol">&#x27;Name</span>&#x27;, <span class="hljs-symbol">&#x27;Sex</span>&#x27;, <span class="hljs-symbol">&#x27;Age</span>&#x27;, <span class="hljs-symbol">&#x27;SibSp</span>&#x27;, <span class="hljs-symbol">&#x27;Parch</span>&#x27;, <span class="hljs-symbol">&#x27;Ticket</span>&#x27;, <span class="hljs-symbol">&#x27;Fare</span>&#x27;, <span class="hljs-symbol">&#x27;Cabin</span>&#x27;, <span class="hljs-symbol">&#x27;Embarked</span>&#x27;]<br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¦å°†æ•°æ®å¤„ç†æˆæ–¹ä¾¿è·å–çš„JSONæ ¼å¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python">train_data_json = []<br>test_data_json = []<br><br><span class="hljs-comment"># å°†è®­ç»ƒé›†æ•°æ®è½¬æ¢ä¸º JSON</span><br><span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> train_reader:<br>    <span class="hljs-comment"># å°†æ¯ä¸€è¡Œæ•°æ®ä¸é¢˜å¤´ç»„åˆæˆå­—å…¸</span><br>    row_dict = &#123;header: value <span class="hljs-keyword">for</span> header, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(header_row_train, row)&#125;<br>    train_data_json.append(row_dict)<br><br><span class="hljs-comment"># å°†æµ‹è¯•é›†æ•°æ®è½¬æ¢ä¸º JSON</span><br><span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> test_reader:<br>    <span class="hljs-comment"># å°†æ¯ä¸€è¡Œæ•°æ®ä¸é¢˜å¤´ç»„åˆæˆå­—å…¸</span><br>    row_dict = &#123;header: value <span class="hljs-keyword">for</span> header, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(header_row_test, row)&#125;<br>    test_data_json.append(row_dict)<br><br><span class="hljs-comment"># æ‰“å°ç»“æœ</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è®­ç»ƒé›† JSON æ•°æ®ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(train_data_json[:<span class="hljs-number">2</span>])<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\næµ‹è¯•é›† JSON æ•°æ®ï¼š&quot;</span>)<br><span class="hljs-built_in">print</span>(test_data_json[:<span class="hljs-number">2</span>])<br><br><span class="hljs-comment"># ä¿å­˜è®­ç»ƒé›† JSON æ•°æ®</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;train_data.json&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    json.dump(train_data_json, f, indent=<span class="hljs-number">2</span>)  <span class="hljs-comment"># indent=2 ç”¨äºç¾åŒ–è¾“å‡º</span><br><br><span class="hljs-comment"># ä¿å­˜æµ‹è¯•é›† JSON æ•°æ®</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test_data.json&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    json.dump(test_data_json, f, indent=<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºï¼Œæˆ‘ä»¬å°±æˆåŠŸçš„æŠŠcsvæ ¼å¼çš„æ–‡ä»¶å­˜å‚¨æˆä¸º<code>JSON</code>æ–‡ä»¶ï¼</p><h5 id="Data-Washing"><a href="#Data-Washing" class="headerlink" title="Data Washing"></a>Data Washing</h5><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°æ®çš„é¢„å¤„ç†ï¼ŒåŒ…æ‹¬<strong>å¤„ç†ç©ºç¼ºçš„æ•°æ®</strong>ç­‰ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-string">&#x27;&#x27;&#x27;Data washing&#x27;&#x27;&#x27;</span><br><br><span class="hljs-comment"># åŠ è½½è®­ç»ƒé›† JSON æ•°æ®</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;train_data.json&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    train_data = json.load(f)<br><br><span class="hljs-comment"># åŠ è½½æµ‹è¯•é›† JSON æ•°æ®</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test_data.json&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    test_data = json.load(f)<br><br><br><span class="hljs-comment"># å°† JSON æ•°æ®è½¬æ¢ä¸º DataFrame</span><br>train_df = pd.DataFrame(train_data)<br>test_df = pd.DataFrame(test_data)<br><br><span class="hljs-comment"># å°†å­—ç¬¦ä¸²ç±»å‹çš„æ•°å€¼è½¬æ¢ä¸ºæ•°å€¼ç±»å‹</span><br>train_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br>train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br>test_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br>test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br><br>train_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br>train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br><br>test_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br>test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br><br><br><span class="hljs-comment"># å¤„ç†ç¼ºå¤±å€¼</span><br>train_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].fillna(train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].median())<br>train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>].fillna(train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>].mode()[<span class="hljs-number">0</span>])<br>train_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>].fillna(<span class="hljs-string">&#x27;Unknown&#x27;</span>)<br><br>test_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].fillna(test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].median())<br>test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].fillna(test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].median())<br>test_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>].fillna(<span class="hljs-string">&#x27;Unknown&#x27;</span>)<br><br><span class="hljs-comment"># check</span><br><span class="hljs-comment"># æ£€æŸ¥è®­ç»ƒé›†çš„ç¼ºå¤±å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The loss of train set:&quot;</span>)<br><span class="hljs-built_in">print</span>(train_df.isnull().<span class="hljs-built_in">sum</span>())<br><br><span class="hljs-comment"># æ£€æŸ¥æµ‹è¯•é›†çš„ç¼ºå¤±å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nThe loss of test set:&quot;</span>)<br><span class="hljs-built_in">print</span>(test_df.isnull().<span class="hljs-built_in">sum</span>())<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥è¾“å‡ºï¼Œè¯´æ˜æ•°æ®é¢„å¤„ç†å®Œæˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs bash">The loss of train <span class="hljs-built_in">set</span>:<br>PassengerId    0<br>Survived       0<br>Pclass         0<br>Name           0<br>Sex            0<br>Age            0<br>SibSp          0<br>Parch          0<br>Ticket         0<br>Fare           0<br>Cabin          0<br>Embarked       0<br>dtype: int64<br><br>The loss of <span class="hljs-built_in">test</span> <span class="hljs-built_in">set</span>:<br>PassengerId    0<br>Pclass         0<br>Name           0<br>Sex            0<br>Age            0<br>SibSp          0<br>Parch          0<br>Ticket         0<br>Fare           0<br>Cabin          0<br>Embarked       0<br>dtype: int64<br></code></pre></td></tr></table></figure><blockquote><p>è¿™å°±æ˜¯ç¬¬ä¸€æ­¥å‚¨å­˜åœ¨<code>JSON</code>çš„å¥½å¤„ï¼Œæ¨¡å—åŒ–çš„å¤„ç†ä¿è¯äº†ç¨‹åºå‘˜å¯ä»¥ç‹¬ç«‹åœ°æ‰§è¡Œå„éƒ¨åˆ†çš„ç¨‹åºï¼Œå¦‚æœå‡ºé”™äº†ä¹Ÿå¯ä»¥é‡æ–°è¿›è¡ŒLoading Dataè·å¾—åŸå§‹æ•°æ®ã€‚</p></blockquote><h5 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h5><p>æ¥ä¸‹æ¥å°±æ˜¯<strong>æœºå™¨å­¦ä¹ </strong>çš„ä¸“åœºäº†ï¼Œç¬”è€…ä½¿ç”¨çš„æ˜¯<strong>éšæœºæ£®æ—RandomBoost</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># %%</span><br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># %%</span><br><br><span class="hljs-string">&#x27;&#x27;&#x27;Data washing&#x27;&#x27;&#x27;</span><br><br><span class="hljs-comment"># åŠ è½½è®­ç»ƒé›† JSON æ•°æ®</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;train_data.json&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    train_data = json.load(f)<br><br><span class="hljs-comment"># åŠ è½½æµ‹è¯•é›† JSON æ•°æ®</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;test_data.json&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>    test_data = json.load(f)<br><br><br><span class="hljs-comment"># å°† JSON æ•°æ®è½¬æ¢ä¸º DataFrame</span><br>train_df = pd.DataFrame(train_data)<br>test_df = pd.DataFrame(test_data)<br><br><span class="hljs-comment"># å°†å­—ç¬¦ä¸²ç±»å‹çš„æ•°å€¼è½¬æ¢ä¸ºæ•°å€¼ç±»å‹</span><br>train_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br>train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br>test_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br>test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].replace(<span class="hljs-string">&#x27;&#x27;</span>, np.nan)<br><br>train_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br>train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br><br>train_df[<span class="hljs-string">&#x27;Parch&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Parch&#x27;</span>].astype(<span class="hljs-built_in">int</span>)<br>train_df[<span class="hljs-string">&#x27;SibSp&#x27;</span>] = train_df[<span class="hljs-string">&#x27;SibSp&#x27;</span>].astype(<span class="hljs-built_in">int</span>)<br>train_df[<span class="hljs-string">&#x27;Pclass&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Pclass&#x27;</span>].astype(<span class="hljs-built_in">int</span>)<br><br><br>test_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br>test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].astype(<span class="hljs-built_in">float</span>)<br><br>test_df[<span class="hljs-string">&#x27;Parch&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Parch&#x27;</span>].astype(<span class="hljs-built_in">int</span>)<br>test_df[<span class="hljs-string">&#x27;SibSp&#x27;</span>] = test_df[<span class="hljs-string">&#x27;SibSp&#x27;</span>].astype(<span class="hljs-built_in">int</span>)<br>test_df[<span class="hljs-string">&#x27;Pclass&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Pclass&#x27;</span>].astype(<span class="hljs-built_in">int</span>)<br><br><br><span class="hljs-comment"># å¤„ç†ç¼ºå¤±å€¼</span><br>train_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].fillna(train_df[<span class="hljs-string">&#x27;Age&#x27;</span>].median())<br>train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>].fillna(train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>].mode()[<span class="hljs-number">0</span>])<br>train_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>].fillna(<span class="hljs-string">&#x27;Unknown&#x27;</span>)<br><br>test_df[<span class="hljs-string">&#x27;Age&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].fillna(test_df[<span class="hljs-string">&#x27;Age&#x27;</span>].median())<br>test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].fillna(test_df[<span class="hljs-string">&#x27;Fare&#x27;</span>].median())<br>test_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Cabin&#x27;</span>].fillna(<span class="hljs-string">&#x27;Unknown&#x27;</span>)<br><br><br><br><span class="hljs-comment"># check</span><br><span class="hljs-comment"># æ£€æŸ¥è®­ç»ƒé›†çš„ç¼ºå¤±å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The loss of train set:&quot;</span>)<br><span class="hljs-built_in">print</span>(train_df.isnull().<span class="hljs-built_in">sum</span>())<br><br><span class="hljs-comment"># æ£€æŸ¥æµ‹è¯•é›†çš„ç¼ºå¤±å€¼</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\nThe loss of test set:&quot;</span>)<br><span class="hljs-built_in">print</span>(test_df.isnull().<span class="hljs-built_in">sum</span>())<br><br><span class="hljs-comment"># %%</span><br><span class="hljs-comment"># ä»å§“åä¸­æå–ç§°å‘¼ï¼ˆå¦‚ Mr, Miss, Mrsï¼‰</span><br>train_df[<span class="hljs-string">&#x27;Title&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Name&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&#x27;,&#x27;</span>)[<span class="hljs-number">1</span>].split(<span class="hljs-string">&#x27;.&#x27;</span>)[<span class="hljs-number">0</span>].strip())<br>test_df[<span class="hljs-string">&#x27;Title&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Name&#x27;</span>].apply(<span class="hljs-keyword">lambda</span> x: x.split(<span class="hljs-string">&#x27;,&#x27;</span>)[<span class="hljs-number">1</span>].split(<span class="hljs-string">&#x27;.&#x27;</span>)[<span class="hljs-number">0</span>].strip())<br><br><span class="hljs-comment"># å°†æ€§åˆ«è½¬æ¢ä¸ºæ•°å€¼</span><br>train_df[<span class="hljs-string">&#x27;Sex&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Sex&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;male&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;female&#x27;</span>: <span class="hljs-number">1</span>&#125;)<br>test_df[<span class="hljs-string">&#x27;Sex&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Sex&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;male&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;female&#x27;</span>: <span class="hljs-number">1</span>&#125;)<br><br><span class="hljs-comment"># åˆ›å»ºå®¶åº­å¤§å°ç‰¹å¾</span><br>train_df[<span class="hljs-string">&#x27;FamilySize&#x27;</span>] = train_df[<span class="hljs-string">&#x27;SibSp&#x27;</span>] + train_df[<span class="hljs-string">&#x27;Parch&#x27;</span>] + <span class="hljs-number">1</span><br>test_df[<span class="hljs-string">&#x27;FamilySize&#x27;</span>] = test_df[<span class="hljs-string">&#x27;SibSp&#x27;</span>] + test_df[<span class="hljs-string">&#x27;Parch&#x27;</span>] + <span class="hljs-number">1</span><br><br><span class="hljs-comment"># å°†ç™»èˆ¹æ¸¯å£è½¬æ¢ä¸ºæ•°å€¼</span><br>train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>] = train_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;S&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;C&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Q&#x27;</span>: <span class="hljs-number">2</span>&#125;)<br>test_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>] = test_df[<span class="hljs-string">&#x27;Embarked&#x27;</span>].<span class="hljs-built_in">map</span>(&#123;<span class="hljs-string">&#x27;S&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;C&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Q&#x27;</span>: <span class="hljs-number">2</span>&#125;)<br><br><span class="hljs-comment"># %%</span><br><span class="hljs-comment"># é€‰æ‹©ç‰¹å¾</span><br>features = [<span class="hljs-string">&#x27;Pclass&#x27;</span>, <span class="hljs-string">&#x27;Sex&#x27;</span>, <span class="hljs-string">&#x27;Age&#x27;</span>, <span class="hljs-string">&#x27;SibSp&#x27;</span>, <span class="hljs-string">&#x27;Parch&#x27;</span>, <span class="hljs-string">&#x27;Fare&#x27;</span>, <span class="hljs-string">&#x27;Embarked&#x27;</span>, <span class="hljs-string">&#x27;FamilySize&#x27;</span>]<br>X_train = train_df[features]<br>y_train = train_df[<span class="hljs-string">&#x27;Survived&#x27;</span>]<br><br>X_test = test_df[features]<br><br><span class="hljs-comment"># %%</span><br><span class="hljs-built_in">print</span>(X_train.dtypes)<br><br><span class="hljs-comment"># %%</span><br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier<br><br><span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span><br>model = RandomForestClassifier(n_estimators=<span class="hljs-number">100</span>, random_state=<span class="hljs-number">42</span>)<br><br><span class="hljs-comment"># è®­ç»ƒæ¨¡å‹</span><br>model.fit(X_train, y_train)<br><br><span class="hljs-comment"># %%</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score, confusion_matrix<br><br><span class="hljs-comment"># åœ¨è®­ç»ƒé›†ä¸Šè¿›è¡Œé¢„æµ‹</span><br>y_train_pred = model.predict(X_train)<br><br><span class="hljs-comment"># è®¡ç®—å‡†ç¡®ç‡</span><br>accuracy = accuracy_score(y_train, y_train_pred)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è®­ç»ƒé›†å‡†ç¡®ç‡: <span class="hljs-subst">&#123;accuracy:<span class="hljs-number">.2</span>f&#125;</span>&quot;</span>)<br><br><span class="hljs-comment"># ç»˜åˆ¶æ··æ·†çŸ©é˜µ</span><br>conf_matrix = confusion_matrix(y_train, y_train_pred)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ··æ·†çŸ©é˜µ:&quot;</span>)<br><span class="hljs-built_in">print</span>(conf_matrix)<br><br><span class="hljs-comment"># %%</span><br><span class="hljs-comment"># å¯¹æµ‹è¯•é›†è¿›è¡Œé¢„æµ‹</span><br>test_predictions = model.predict(X_test)<br><br><span class="hljs-comment"># å°†é¢„æµ‹ç»“æœä¿å­˜åˆ° CSV æ–‡ä»¶</span><br>output = pd.DataFrame(&#123;<br>    <span class="hljs-string">&#x27;PassengerId&#x27;</span>: test_df[<span class="hljs-string">&#x27;PassengerId&#x27;</span>],<br>    <span class="hljs-string">&#x27;Survived&#x27;</span>: test_predictions<br>&#125;)<br>output.to_csv(<span class="hljs-string">&#x27;submission.csv&#x27;</span>, index=<span class="hljs-literal">False</span>)<br><br><br><br></code></pre></td></tr></table></figure><blockquote><p>ç›¸å…³æ–‡ä»¶å°†ä¼šå¼€æºåˆ°æˆ‘çš„Githubä¸Šã€‚</p></blockquote><p>ç»“æœ:clown_face:</p><p><img src="https://ooo.0x0.ooo/2025/01/21/OGF0ms.png" alt="Result"></p><h3 id="Chapter-17-Using-API"><a href="#Chapter-17-Using-API" class="headerlink" title="Chapter 17 Using API"></a>Chapter 17 Using API</h3><h2 id="Advanced-Techniques"><a href="#Advanced-Techniques" class="headerlink" title="Advanced Techniques"></a>Advanced Techniques</h2>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Tutorial</tag>
      
      <tag>Files</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Cheatsheet</title>
    <link href="/posts/Python-cheatsheet/"/>
    <url>/posts/Python-cheatsheet/</url>
    
    <content type="html"><![CDATA[<h1 id="Python-Quick-Tutorial"><a href="#Python-Quick-Tutorial" class="headerlink" title="Python Quick Tutorial"></a>Python Quick Tutorial</h1><h2 id="The-Zen-of-Python"><a href="#The-Zen-of-Python" class="headerlink" title="The Zen of Python"></a>The Zen of Python</h2><div style="text-align: center;">Beautiful is better than ugly.<br>Explicit is better than implicit.<br>Simple is better than complex.<br>Complex is better than complicated.<br>Flat is better than nested.<br>Sparse is better than dense.<br>Readability counts.<br>Special cases aren't special enough to break the rules.<br>Although practicality beats purity.<br>Errors should never pass silently.<br>Unless explicitly silenced.<br>In the face of ambiguity, refuse the temptation to guess.<br>There should be one-- and preferably only one --obvious way to do it.<br>Although that way may not be obvious at first unless you're Dutch.<br>Now is better than never.<br>Although never is often better than right now.<br>If the implementation is hard to explain, it's a bad idea.<br>If the implementation is easy to explain, it may be a good idea.<br>Namespaces are one honking great idea -- let's do more of those!<br></div>## Announcement<p><a href="https://xiyuanyang-code.github.io/posts/Python-tutorial/">è¯¦æƒ…è¯·ç‚¹è¿™é‡Œ</a></p><p>è¿™æ˜¯<strong>Pythonå¿«é€Ÿæ•™ç¨‹ç³»åˆ—</strong>çš„ç¬¬ä¸€ç¯‡ï¼Œå†…å®¹è¦†ç›–ï¼š<strong>Pythonä¸­çš„å„ç§æ•°æ®ç±»å‹&#x2F;å¾ªç¯&#x2F;å‡½æ•°&#x2F;é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>ç­‰åŸºç¡€çš„è¯­æ³•çŸ¥è¯†ã€‚ </p><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul><li>Data Types</li><li>String</li><li>Basic Data Structures<ul><li>List</li><li>Tuple</li><li>Dictionaries</li></ul></li><li>Loops</li><li>Functions</li><li>OOP</li></ul><h2 id="Data-Types"><a href="#Data-Types" class="headerlink" title="Data Types"></a>Data Types</h2><p>åœ¨ Python ä¸­ï¼Œæ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸º <strong>å¯å˜æ•°æ®ç±»å‹</strong>ï¼ˆMutable Data Typesï¼‰å’Œ <strong>ä¸å¯å˜æ•°æ®ç±»å‹</strong>ï¼ˆImmutable Data Typesï¼‰ã€‚å®ƒä»¬çš„åŒºåˆ«åœ¨äºæ˜¯å¦å¯ä»¥åœ¨åˆ›å»ºåä¿®æ”¹å…¶å†…å®¹ã€‚</p><h3 id="Immutable-Data-Types"><a href="#Immutable-Data-Types" class="headerlink" title="Immutable Data Types"></a><strong>Immutable Data Types</strong></h3><p>ä¸å¯å˜æ•°æ®ç±»å‹æ˜¯æŒ‡ä¸€æ—¦åˆ›å»ºï¼Œå…¶å†…å®¹å°±ä¸èƒ½è¢«ä¿®æ”¹çš„æ•°æ®ç±»å‹ã€‚å¦‚æœå°è¯•ä¿®æ”¹ä¸å¯å˜å¯¹è±¡ï¼ŒPython ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸå¯¹è±¡ã€‚</p><ol><li><p><strong>æ•´æ•°ï¼ˆ<code>int</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">x = <span class="hljs-number">10</span><br>x = x + <span class="hljs-number">5</span>  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„æ•´æ•°å¯¹è±¡ï¼Œx æŒ‡å‘æ–°å¯¹è±¡</span><br></code></pre></td></tr></table></figure></li><li><p><strong>æµ®ç‚¹æ•°ï¼ˆ<code>float</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">y = <span class="hljs-number">3.14</span><br>y = y + <span class="hljs-number">1.0</span>  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„æµ®ç‚¹æ•°å¯¹è±¡ï¼Œy æŒ‡å‘æ–°å¯¹è±¡</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å­—ç¬¦ä¸²ï¼ˆ<code>str</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">s = <span class="hljs-string">&quot;hello&quot;</span><br>s = s + <span class="hljs-string">&quot; world&quot;</span>  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œs æŒ‡å‘æ–°å¯¹è±¡</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å…ƒç»„ï¼ˆ<code>tuple</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">t = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>t = t + (<span class="hljs-number">4</span>,)  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç»„å¯¹è±¡ï¼Œt æŒ‡å‘æ–°å¯¹è±¡</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å¸ƒå°”å€¼ï¼ˆ<code>bool</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">b = <span class="hljs-literal">True</span><br>b = <span class="hljs-literal">False</span>  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„å¸ƒå°”å¯¹è±¡ï¼Œb æŒ‡å‘æ–°å¯¹è±¡</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å†»ç»“é›†åˆï¼ˆ<code>frozenset</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">fs = <span class="hljs-built_in">frozenset</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>fs = fs.union([<span class="hljs-number">4</span>])  <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„å†»ç»“é›†åˆå¯¹è±¡ï¼Œfs æŒ‡å‘æ–°å¯¹è±¡</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="Mutable-Data-Types"><a href="#Mutable-Data-Types" class="headerlink" title="Mutable Data Types"></a>Mutable Data Types</h3><p>å¯å˜æ•°æ®ç±»å‹æ˜¯æŒ‡å¯ä»¥åœ¨åˆ›å»ºåä¿®æ”¹å…¶å†…å®¹çš„æ•°æ®ç±»å‹ã€‚ä¿®æ”¹å¯å˜å¯¹è±¡æ—¶ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥ä¿®æ”¹åŸå¯¹è±¡ã€‚</p><ol><li><p><strong>åˆ—è¡¨ï¼ˆ<code>list</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">lst = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>lst.append(<span class="hljs-number">4</span>)  <span class="hljs-comment"># ç›´æ¥ä¿®æ”¹åŸåˆ—è¡¨</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å­—å…¸ï¼ˆ<code>dict</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">d = &#123;<span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-number">2</span>&#125;<br>d[<span class="hljs-string">&quot;c&quot;</span>] = <span class="hljs-number">3</span>  <span class="hljs-comment"># ç›´æ¥ä¿®æ”¹åŸå­—å…¸</span><br></code></pre></td></tr></table></figure></li><li><p><strong>é›†åˆï¼ˆ<code>set</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">s = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;<br>s.add(<span class="hljs-number">4</span>)  <span class="hljs-comment"># ç›´æ¥ä¿®æ”¹åŸé›†åˆ</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å­—èŠ‚æ•°ç»„ï¼ˆ<code>bytearray</code>ï¼‰</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">ba = <span class="hljs-built_in">bytearray</span>(<span class="hljs-string">b&quot;hello&quot;</span>)<br>ba[<span class="hljs-number">0</span>] = <span class="hljs-number">72</span>  <span class="hljs-comment"># ç›´æ¥ä¿®æ”¹åŸå­—èŠ‚æ•°ç»„</span><br></code></pre></td></tr></table></figure></li><li><p><strong>è‡ªå®šä¹‰ç±»çš„å¯¹è±¡</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-variable language_">self</span>.value = value<br><br>obj = MyClass(<span class="hljs-number">10</span>)<br>obj.value = <span class="hljs-number">20</span>  <span class="hljs-comment"># ç›´æ¥ä¿®æ”¹å¯¹è±¡çš„å±æ€§</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="String-in-Python"><a href="#String-in-Python" class="headerlink" title="String in Python"></a>String in Python</h2><p>åœ¨ C&#x2F;C++ ä¸­ï¼Œå­—ç¬¦ä¸²çš„å®ç°çš„æ ¸å¿ƒæ˜¯<code>char*</code>ï¼ˆä¾é æŒ‡é’ˆæ“ä½œå†…å­˜ï¼‰æ¥å®ç°çš„ã€‚ä½†æ˜¯åœ¨Pythonä¸­ï¼Œå­—ç¬¦ä¸²åœ¨<strong>ä½¿ç”¨</strong>ä¸Šç›¸å¯¹æ¥è¯´æ›´åŠ çµæ´»ï¼Œæ–¹æ³•ä¹Ÿæ›´ä¸°å¯Œã€‚</p><ol><li><strong>å¤§å°å†™è½¬æ¢</strong></li></ol><ul><li><p><code>str.capitalize()</code>ï¼šå°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™ï¼Œå…¶ä½™å­—ç¬¦å°å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.capitalize())  <span class="hljs-comment"># è¾“å‡º: Hello world</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.casefold()</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ï¼Œæ”¯æŒæ›´å¤šè¯­è¨€ï¼ˆå¦‚å¾·è¯­ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;HELLO WORLD&quot;</span><br><span class="hljs-built_in">print</span>(name.casefold())  <span class="hljs-comment"># è¾“å‡º: hello world</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.lower()</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;HELLO WORLD&quot;</span><br><span class="hljs-built_in">print</span>(name.lower())  <span class="hljs-comment"># è¾“å‡º: hello world</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.upper()</code>ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.upper())  <span class="hljs-comment"># è¾“å‡º: HELLO WORLD</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.swapcase()</code>ï¼šå°†å­—ç¬¦ä¸²ä¸­çš„å¤§å°å†™äº’æ¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;Hello World&quot;</span><br><span class="hljs-built_in">print</span>(name.swapcase())  <span class="hljs-comment"># è¾“å‡º: hELLO wORLD</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.title()</code>ï¼šå°†å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.title())  <span class="hljs-comment"># è¾“å‡º: Hello World</span><br></code></pre></td></tr></table></figure></li></ul><ol start="2"><li><strong>å¯¹é½ä¸å¡«å……</strong></li></ol><ul><li><p><code>str.center(width[, fillchar])</code>ï¼šå°†å­—ç¬¦ä¸²å±…ä¸­ï¼Œå¹¶ç”¨æŒ‡å®šå­—ç¬¦å¡«å……è‡³æŒ‡å®šå®½åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-built_in">print</span>(name.center(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;-&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: --hello---</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.ljust(width[, fillchar])</code>ï¼šå°†å­—ç¬¦ä¸²å·¦å¯¹é½ï¼Œå¹¶ç”¨æŒ‡å®šå­—ç¬¦å¡«å……è‡³æŒ‡å®šå®½åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-built_in">print</span>(name.ljust(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;-&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: hello-----</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.rjust(width[, fillchar])</code>ï¼šå°†å­—ç¬¦ä¸²å³å¯¹é½ï¼Œå¹¶ç”¨æŒ‡å®šå­—ç¬¦å¡«å……è‡³æŒ‡å®šå®½åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-built_in">print</span>(name.rjust(<span class="hljs-number">10</span>, <span class="hljs-string">&quot;-&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: -----hello</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.zfill(width)</code>ï¼šç”¨ <code>0</code> å¡«å……å­—ç¬¦ä¸²è‡³æŒ‡å®šå®½åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">num = <span class="hljs-string">&quot;42&quot;</span><br><span class="hljs-built_in">print</span>(num.zfill(<span class="hljs-number">5</span>))  <span class="hljs-comment"># è¾“å‡º: 00042</span><br></code></pre></td></tr></table></figure></li></ul><ol start="3"><li><strong>æŸ¥æ‰¾ä¸æ›¿æ¢</strong></li></ol><ul><li><p><code>str.find(sub[, start[, end]])</code>ï¼šæŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å› <code>-1</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.find(<span class="hljs-string">&quot;world&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 6</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.rfind(sub[, start[, end]])</code>ï¼šä»å³å‘å·¦æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œæœªæ‰¾åˆ°è¿”å› <code>-1</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.rfind(<span class="hljs-string">&quot;o&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 7</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.index(sub[, start[, end]])</code>ï¼šæŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œæœªæ‰¾åˆ°æŠ›å‡º <code>ValueError</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.index(<span class="hljs-string">&quot;world&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 6</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.rindex(sub[, start[, end]])</code>ï¼šä»å³å‘å·¦æŸ¥æ‰¾å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œæœªæ‰¾åˆ°æŠ›å‡º <code>ValueError</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.rindex(<span class="hljs-string">&quot;o&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 7</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.replace(old, new[, count])</code>ï¼šæ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„å­å­—ç¬¦ä¸²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.replace(<span class="hljs-string">&quot;world&quot;</span>, <span class="hljs-string">&quot;python&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: hello python</span><br></code></pre></td></tr></table></figure></li></ul><ol start="4"><li><strong>åˆ†å‰²ä¸è¿æ¥</strong></li></ol><ul><li><p><code>str.split(sep=None, maxsplit=-1)</code>ï¼šæ ¹æ®åˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello,world,python&quot;</span><br><span class="hljs-built_in">print</span>(name.split(<span class="hljs-string">&quot;,&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: [&#x27;hello&#x27;, &#x27;world&#x27;, &#x27;python&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.rsplit(sep=None, maxsplit=-1)</code>ï¼šä»å³å‘å·¦åˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello,world,python&quot;</span><br><span class="hljs-built_in">print</span>(name.rsplit(<span class="hljs-string">&quot;,&quot;</span>, <span class="hljs-number">1</span>))  <span class="hljs-comment"># è¾“å‡º: [&#x27;hello,world&#x27;, &#x27;python&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.splitlines([keepends])</code>ï¼šæŒ‰è¡Œåˆ†å‰²å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">text = <span class="hljs-string">&quot;hello\nworld\npython&quot;</span><br><span class="hljs-built_in">print</span>(text.splitlines())  <span class="hljs-comment"># è¾“å‡º: [&#x27;hello&#x27;, &#x27;world&#x27;, &#x27;python&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.join(iterable)</code>ï¼šå°†å¯è¿­ä»£å¯¹è±¡ä¸­çš„å…ƒç´ ç”¨å­—ç¬¦ä¸²è¿æ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">words = [<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>, <span class="hljs-string">&quot;python&quot;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-&quot;</span>.join(words))  <span class="hljs-comment"># è¾“å‡º: hello-world-python</span><br></code></pre></td></tr></table></figure></li></ul><ol start="5"><li><strong>å»é™¤ç©ºç™½å­—ç¬¦</strong></li></ol><ul><li><p><code>str.strip([chars])</code>ï¼šå»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦æˆ–æŒ‡å®šå­—ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;  hello world  &quot;</span><br><span class="hljs-built_in">print</span>(name.strip())  <span class="hljs-comment"># è¾“å‡º: hello world</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.lstrip([chars])</code>ï¼šå»é™¤å­—ç¬¦ä¸²å·¦ç«¯çš„ç©ºç™½å­—ç¬¦æˆ–æŒ‡å®šå­—ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;  hello world  &quot;</span><br><span class="hljs-built_in">print</span>(name.lstrip())  <span class="hljs-comment"># è¾“å‡º: hello world  </span><br></code></pre></td></tr></table></figure></li><li><p><code>str.rstrip([chars])</code>ï¼šå»é™¤å­—ç¬¦ä¸²å³ç«¯çš„ç©ºç™½å­—ç¬¦æˆ–æŒ‡å®šå­—ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;  hello world  &quot;</span><br><span class="hljs-built_in">print</span>(name.rstrip())  <span class="hljs-comment"># è¾“å‡º:   hello world</span><br></code></pre></td></tr></table></figure></li></ul><ol start="6"><li><strong>åˆ¤æ–­ä¸éªŒè¯</strong></li></ol><ul><li><p><code>str.startswith(prefix[, start[, end]])</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå‰ç¼€å¼€å¤´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.startswith(<span class="hljs-string">&quot;hello&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.endswith(suffix[, start[, end]])</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šåç¼€ç»“å°¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.endswith(<span class="hljs-string">&quot;world&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.isalnum()</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«å­—æ¯å’Œæ•°å­—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello123&quot;</span><br><span class="hljs-built_in">print</span>(name.isalnum())  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.isalpha()</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«å­—æ¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-built_in">print</span>(name.isalpha())  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.isdigit()</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«æ•°å­—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">num = <span class="hljs-string">&quot;123&quot;</span><br><span class="hljs-built_in">print</span>(num.isdigit())  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.islower()</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸ºå°å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-built_in">print</span>(name.islower())  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.isupper()</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨ä¸ºå¤§å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;HELLO&quot;</span><br><span class="hljs-built_in">print</span>(name.isupper())  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.isspace()</code>ï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦åªåŒ…å«ç©ºç™½å­—ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;   &quot;</span><br><span class="hljs-built_in">print</span>(name.isspace())  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li></ul><ol start="7"><li><strong>æ ¼å¼åŒ–</strong></li></ol><ul><li><p><code>str.format(*args, kwargs)</code>**ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;world&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(name))  <span class="hljs-comment"># è¾“å‡º: hello world</span><br></code></pre></td></tr></table></figure></li><li><p><code>f-string</code>ï¼šPython 3.6 å¼•å…¥çš„<strong>æ ¼å¼åŒ–æ–¹æ³•</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;world&quot;</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;hello <span class="hljs-subst">&#123;name&#125;</span>&quot;</span>)  <span class="hljs-comment"># è¾“å‡º: hello world</span><br></code></pre></td></tr></table></figure></li></ul><ol start="8"><li><strong>å…¶ä»–æ–¹æ³•</strong></li></ol><ul><li><p><code>str.count(sub[, start[, end]])</code>ï¼šç»Ÿè®¡å­å­—ç¬¦ä¸²å‡ºç°çš„æ¬¡æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello world&quot;</span><br><span class="hljs-built_in">print</span>(name.count(<span class="hljs-string">&quot;o&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 2</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.encode(encoding=&quot;utf-8&quot;, errors=&quot;strict&quot;)</code>ï¼šå°†å­—ç¬¦ä¸²ç¼–ç ä¸ºå­—èŠ‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">name = <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-built_in">print</span>(name.encode())  <span class="hljs-comment"># è¾“å‡º: b&#x27;hello&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.maketrans(x[, y[, z]])</code>ï¼šåˆ›å»ºå­—ç¬¦æ˜ å°„è¡¨ï¼Œç”¨äº <code>translate()</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">trans = <span class="hljs-built_in">str</span>.maketrans(<span class="hljs-string">&quot;aeiou&quot;</span>, <span class="hljs-string">&quot;12345&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello&quot;</span>.translate(trans))  <span class="hljs-comment"># è¾“å‡º: h2ll4</span><br></code></pre></td></tr></table></figure></li><li><p><code>str.translate(table)</code>ï¼šæ ¹æ®æ˜ å°„è¡¨æ›¿æ¢å­—ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">trans = <span class="hljs-built_in">str</span>.maketrans(<span class="hljs-string">&quot;aeiou&quot;</span>, <span class="hljs-string">&quot;12345&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;hello&quot;</span>.translate(trans))  <span class="hljs-comment"># è¾“å‡º: h2ll4</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="Basic-Data-Structures-in-Python"><a href="#Basic-Data-Structures-in-Python" class="headerlink" title="Basic Data Structures in Python"></a>Basic Data Structures in Python</h2><h3 id="List-in-Python"><a href="#List-in-Python" class="headerlink" title="List in Python"></a>List in Python</h3><p>åœ¨Pythonä¸­ï¼Œåˆ—è¡¨æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥éšç€åˆ—è¡¨çš„è¿è¡Œå¢åˆ å…ƒç´ ã€‚</p><p>ä»¥ä¸‹æ˜¯ Python åˆ—è¡¨ï¼ˆ<code>list</code>ï¼‰çš„å¸¸ç”¨æ“ä½œæ•´ç†ï¼Œæ¶µç›–äº†åˆ—è¡¨çš„åˆ›å»ºã€è®¿é—®ã€ä¿®æ”¹ã€æ’åºã€éå†ã€åˆ‡ç‰‡ã€åˆ—è¡¨æ¨å¯¼å¼ç­‰æ“ä½œã€‚</p><blockquote><p>Pythonåˆ—è¡¨çš„åº•å±‚å®ç°æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª<strong>Cè¯­è¨€çš„åŠ¨æ€æ•°ç»„</strong>ã€‚</p></blockquote><ol><li><strong>åˆ—è¡¨çš„åˆ›å»º</strong></li></ol><ul><li>ä½¿ç”¨æ–¹æ‹¬å· <code>[]</code> åˆ›å»ºåˆ—è¡¨ã€‚</li><li>ä½¿ç”¨ <code>list()</code> å‡½æ•°å°†å…¶ä»–å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºåˆ—è¡¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºç©ºåˆ—è¡¨</span><br>empty_list = []<br><br><span class="hljs-comment"># åˆ›å»ºåŒ…å«å…ƒç´ çš„åˆ—è¡¨</span><br>fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><br><span class="hljs-comment"># ä½¿ç”¨ list() å‡½æ•°åˆ›å»ºåˆ—è¡¨</span><br>numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))  <span class="hljs-comment"># è¾“å‡º: [0, 1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure><ol start="2"><li><strong>è®¿é—®åˆ—è¡¨å…ƒç´ </strong></li></ol><ul><li>ä½¿ç”¨ç´¢å¼•è®¿é—®åˆ—è¡¨å…ƒç´ ï¼ˆç´¢å¼•ä» <code>0</code> å¼€å§‹ï¼‰ã€‚</li><li>ä½¿ç”¨è´Ÿæ•°ç´¢å¼•ä»åˆ—è¡¨æœ«å°¾è®¿é—®å…ƒç´ ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><span class="hljs-built_in">print</span>(fruits[<span class="hljs-number">0</span>])   <span class="hljs-comment"># è¾“å‡º: apple</span><br><span class="hljs-built_in">print</span>(fruits[-<span class="hljs-number">1</span>])  <span class="hljs-comment"># è¾“å‡º: cherry</span><br></code></pre></td></tr></table></figure><ol start="3"><li><strong>ä¿®æ”¹åˆ—è¡¨å…ƒç´ </strong></li></ol><ul><li>é€šè¿‡ç´¢å¼•ç›´æ¥ä¿®æ”¹åˆ—è¡¨å…ƒç´ ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br>fruits[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;blueberry&quot;</span><br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;apple&#x27;, &#x27;blueberry&#x27;, &#x27;cherry&#x27;]</span><br></code></pre></td></tr></table></figure><ol start="4"><li><strong>åˆ—è¡¨çš„å¸¸ç”¨æ–¹æ³•</strong></li></ol><p><strong>æ·»åŠ å…ƒç´ </strong></p><ul><li><p><code>append()</code>ï¼šåœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>]<br>fruits.append(<span class="hljs-string">&quot;cherry&quot;</span>)<br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;cherry&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>extend()</code>ï¼šå°†å¦ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨æœ«å°¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>]<br>fruits.extend([<span class="hljs-string">&quot;cherry&quot;</span>, <span class="hljs-string">&quot;orange&quot;</span>])<br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;cherry&#x27;, &#x27;orange&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>insert()</code>ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>]<br>fruits.insert(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;cherry&quot;</span>)<br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;apple&#x27;, &#x27;cherry&#x27;, &#x27;banana&#x27;]</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>åˆ é™¤å…ƒç´ </strong></p><ul><li><p><code>remove()</code>ï¼šåˆ é™¤åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br>fruits.remove(<span class="hljs-string">&quot;banana&quot;</span>)<br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;apple&#x27;, &#x27;cherry&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>pop()</code>ï¼šåˆ é™¤å¹¶è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼ˆé»˜è®¤åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br>fruits.pop(<span class="hljs-number">1</span>)  <span class="hljs-comment"># åˆ é™¤ç´¢å¼•ä¸º 1 çš„å…ƒç´ </span><br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;apple&#x27;, &#x27;cherry&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>clear()</code>ï¼šæ¸…ç©ºåˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br>fruits.clear()<br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: []</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>æŸ¥æ‰¾å…ƒç´ </strong></p><ul><li><p><code>index()</code>ï¼šè¿”å›æŒ‡å®šå…ƒç´ çš„ç´¢å¼•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><span class="hljs-built_in">print</span>(fruits.index(<span class="hljs-string">&quot;banana&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 1</span><br></code></pre></td></tr></table></figure></li><li><p><code>count()</code>ï¼šè¿”å›æŒ‡å®šå…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>]<br><span class="hljs-built_in">print</span>(fruits.count(<span class="hljs-string">&quot;banana&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: 2</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>æ’åºä¸åè½¬</strong></p><ul><li><p><code>sort()</code>ï¼šå¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼ˆé»˜è®¤å‡åºï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers = [<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">9</span>]<br>numbers.sort()<br><span class="hljs-built_in">print</span>(numbers)  <span class="hljs-comment"># è¾“å‡º: [1, 1, 3, 4, 5, 9]</span><br></code></pre></td></tr></table></figure></li><li><p><code>reverse()</code>ï¼šåè½¬åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br>fruits.reverse()<br><span class="hljs-built_in">print</span>(fruits)  <span class="hljs-comment"># è¾“å‡º: [&#x27;cherry&#x27;, &#x27;banana&#x27;, &#x27;apple&#x27;]</span><br></code></pre></td></tr></table></figure></li><li><p><code>sorted()</code>ï¼šå¯¹åˆ—è¡¨è¿›è¡Œä¸´æ—¶æ’åº</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;banana&quot;</span>,<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">sorted</span>(fruits))<br><span class="hljs-built_in">print</span>(fruits)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">[&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;cherry&#x27;]</span><br><span class="hljs-string">[&#x27;banana&#x27;, &#x27;apple&#x27;, &#x27;cherry&#x27;]</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><strong>Python ä¸­çš„è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">students = [<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">22</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Charlie&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">28</span>&#125;<br>]<br><br><span class="hljs-comment"># æŒ‰å¹´é¾„å‡åºæ’åº</span><br>students.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-string">&quot;age&quot;</span>])<br><span class="hljs-built_in">print</span>(students)<br><span class="hljs-comment"># è¾“å‡º: [&#123;&#x27;name&#x27;: &#x27;Bob&#x27;, &#x27;age&#x27;: 22&#125;, &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25&#125;, &#123;&#x27;name&#x27;: &#x27;Charlie&#x27;, &#x27;age&#x27;: 28&#125;]</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> cmp_to_key<br><br>students = [<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&quot;grade&quot;</span>: <span class="hljs-number">88</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Bob&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">22</span>, <span class="hljs-string">&quot;grade&quot;</span>: <span class="hljs-number">92</span>&#125;,<br>    &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Charlie&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">22</span>, <span class="hljs-string">&quot;grade&quot;</span>: <span class="hljs-number">85</span>&#125;<br>]<br><br><span class="hljs-comment"># è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">compare</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">if</span> a[<span class="hljs-string">&quot;age&quot;</span>] != b[<span class="hljs-string">&quot;age&quot;</span>]:<br>        <span class="hljs-keyword">return</span> a[<span class="hljs-string">&quot;age&quot;</span>] - b[<span class="hljs-string">&quot;age&quot;</span>]  <span class="hljs-comment"># æŒ‰å¹´é¾„å‡åº</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> b[<span class="hljs-string">&quot;grade&quot;</span>] - a[<span class="hljs-string">&quot;grade&quot;</span>]  <span class="hljs-comment"># æŒ‰æˆç»©é™åº</span><br><br><span class="hljs-comment"># ä½¿ç”¨ cmp_to_key å°†æ¯”è¾ƒå‡½æ•°è½¬æ¢ä¸º key å‡½æ•°</span><br>students.sort(key=cmp_to_key(compare))<br><span class="hljs-built_in">print</span>(students)<br><span class="hljs-comment"># è¾“å‡º: [&#123;&#x27;name&#x27;: &#x27;Charlie&#x27;, &#x27;age&#x27;: 22, &#x27;grade&#x27;: 85&#125;, &#123;&#x27;name&#x27;: &#x27;Bob&#x27;, &#x27;age&#x27;: 22, &#x27;grade&#x27;: 92&#125;, &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25, &#x27;grade&#x27;: 88&#125;]</span><br></code></pre></td></tr></table></figure>          </div><ol start="5"><li><strong>åˆ—è¡¨çš„éå†</strong></li></ol><ul><li>ä½¿ç”¨ <code>for</code> å¾ªç¯éå†åˆ—è¡¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><span class="hljs-keyword">for</span> fruit <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-built_in">print</span>(fruit)<br></code></pre></td></tr></table></figure><ol start="6"><li><strong>åˆ—è¡¨çš„åˆ‡ç‰‡</strong></li></ol><ul><li>ä½¿ç”¨åˆ‡ç‰‡æ“ä½œè·å–åˆ—è¡¨çš„å­é›†ã€‚</li><li>è¯­æ³•ï¼š<code>list[start:stop:step]</code></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br><span class="hljs-built_in">print</span>(numbers[<span class="hljs-number">2</span>:<span class="hljs-number">5</span>])    <span class="hljs-comment"># è¾“å‡º: [2, 3, 4]</span><br><span class="hljs-built_in">print</span>(numbers[::<span class="hljs-number">2</span>])    <span class="hljs-comment"># è¾“å‡º: [0, 2, 4, 6, 8]</span><br><span class="hljs-built_in">print</span>(numbers[::-<span class="hljs-number">1</span>])   <span class="hljs-comment"># è¾“å‡º: [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span><br></code></pre></td></tr></table></figure><ol start="7"><li><strong>åˆ—è¡¨çš„å¤åˆ¶</strong></li></ol><ul><li>ä½¿ç”¨åˆ‡ç‰‡æˆ– <code>copy()</code> æ–¹æ³•å¤åˆ¶åˆ—è¡¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br>fruits_copy = fruits[:]  <span class="hljs-comment"># ä½¿ç”¨åˆ‡ç‰‡å¤åˆ¶</span><br>fruits_copy2 = fruits.copy()  <span class="hljs-comment"># ä½¿ç”¨ copy() æ–¹æ³•å¤åˆ¶</span><br></code></pre></td></tr></table></figure><ol start="8"><li><strong>åˆ—è¡¨æ¨å¯¼å¼</strong></li></ol><ul><li>ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼å¿«é€Ÿç”Ÿæˆåˆ—è¡¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç”Ÿæˆå¹³æ–¹æ•°åˆ—è¡¨</span><br>squares = [x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]<br><span class="hljs-built_in">print</span>(squares)  <span class="hljs-comment"># è¾“å‡º: [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br><br><span class="hljs-comment"># ç”Ÿæˆå¶æ•°åˆ—è¡¨</span><br>evens = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]<br><span class="hljs-built_in">print</span>(evens)  <span class="hljs-comment"># è¾“å‡º: [0, 2, 4, 6, 8]</span><br></code></pre></td></tr></table></figure><ol start="9"><li><strong>åˆ—è¡¨çš„åµŒå¥—</strong></li></ol><ul><li>åˆ—è¡¨å¯ä»¥åŒ…å«å…¶ä»–åˆ—è¡¨ï¼Œå½¢æˆåµŒå¥—åˆ—è¡¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">matrix = [<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],<br>    [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],<br>    [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]<br>]<br><span class="hljs-built_in">print</span>(matrix[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>])  <span class="hljs-comment"># è¾“å‡º: 6</span><br></code></pre></td></tr></table></figure><ol start="10"><li><strong>åˆ—è¡¨çš„å…¶ä»–æ“ä½œ</strong></li></ol><ul><li><p><code>len()</code>ï¼šè·å–åˆ—è¡¨çš„é•¿åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(fruits))  <span class="hljs-comment"># è¾“å‡º: 3</span><br></code></pre></td></tr></table></figure></li><li><p><code>in</code> å’Œ <code>not in</code>ï¼šæ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&quot;apple&quot;</span>, <span class="hljs-string">&quot;banana&quot;</span>, <span class="hljs-string">&quot;cherry&quot;</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;banana&quot;</span> <span class="hljs-keyword">in</span> fruits)  <span class="hljs-comment"># è¾“å‡º: True</span><br></code></pre></td></tr></table></figure></li><li><p><code>+</code> å’Œ <code>*</code>ï¼šåˆ—è¡¨çš„æ‹¼æ¥å’Œé‡å¤ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>list2 = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br><span class="hljs-built_in">print</span>(list1 + list2)  <span class="hljs-comment"># è¾“å‡º: [1, 2, 3, 4, 5, 6]</span><br><span class="hljs-built_in">print</span>(list1 * <span class="hljs-number">2</span>)      <span class="hljs-comment"># è¾“å‡º: [1, 2, 3, 1, 2, 3]</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="Tuple-in-Python"><a href="#Tuple-in-Python" class="headerlink" title="Tuple in Python"></a>Tuple in Python</h3><p>åœ¨ Python ä¸­ï¼Œ<strong>å…ƒç»„ï¼ˆTupleï¼‰</strong> æ˜¯ä¸€ç§ä¸å¯å˜çš„åºåˆ—ç±»å‹ï¼Œç”¨äºå­˜å‚¨ä¸€ç»„æœ‰åºçš„å…ƒç´ ã€‚å…ƒç»„ä¸åˆ—è¡¨ï¼ˆ<code>list</code>ï¼‰ç±»ä¼¼ï¼Œä½†å…ƒç»„ä¸€æ—¦åˆ›å»ºï¼Œå…¶å†…å®¹ä¸å¯ä¿®æ”¹ã€‚</p><ul><li><strong>ä¸å¯å˜æ€§</strong>ï¼šå…ƒç»„ä¸€æ—¦åˆ›å»ºï¼Œå…¶å…ƒç´ ä¸èƒ½è¢«ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤ã€‚</li><li><strong>æœ‰åºæ€§</strong>ï¼šå…ƒç»„ä¸­çš„å…ƒç´ æ˜¯æœ‰åºçš„ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•è®¿é—®ã€‚</li><li><strong>å¼‚æ„æ€§</strong>ï¼šå…ƒç»„å¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„å…ƒç´ ï¼ˆå¦‚æ•´æ•°ã€å­—ç¬¦ä¸²ã€åˆ—è¡¨ç­‰ï¼‰ã€‚</li><li><strong>æ”¯æŒåµŒå¥—</strong>ï¼šå…ƒç»„å¯ä»¥åµŒå¥—å…¶ä»–å…ƒç»„æˆ–åˆ—è¡¨ã€‚</li></ul><p>å…ƒç»„ä½¿ç”¨åœ†æ‹¬å· <code>()</code> å®šä¹‰ï¼Œå…ƒç´ ä¹‹é—´ç”¨é€—å· <code>,</code> åˆ†éš”ã€‚</p><p><strong>å…ƒç»„çš„åˆ›å»º</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå…ƒç»„</span><br>my_tuple = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-built_in">print</span>(my_tuple)  <span class="hljs-comment"># è¾“å‡º: (1, 2, 3)</span><br><br><span class="hljs-comment"># åˆ›å»ºåŒ…å«ä¸åŒç±»å‹å…ƒç´ çš„å…ƒç»„</span><br>mixed_tuple = (<span class="hljs-number">1</span>, <span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-number">3.14</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br><span class="hljs-built_in">print</span>(mixed_tuple)  <span class="hljs-comment"># è¾“å‡º: (1, &#x27;hello&#x27;, 3.14, [1, 2, 3])</span><br><br><span class="hljs-comment"># åˆ›å»ºç©ºå…ƒç»„</span><br>empty_tuple = ()<br><span class="hljs-built_in">print</span>(empty_tuple)  <span class="hljs-comment"># è¾“å‡º: ()</span><br></code></pre></td></tr></table></figure><ul><li>å¦‚æœå…ƒç»„åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦åœ¨å…ƒç´ åé¢åŠ ä¸€ä¸ªé€—å· <code>,</code>ï¼Œå¦åˆ™ä¼šè¢«è®¤ä¸ºæ˜¯æ™®é€šæ‹¬å·ã€‚<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">single_element_tuple = (<span class="hljs-number">42</span>,)  <span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªå…ƒç»„</span><br>not_a_tuple = (<span class="hljs-number">42</span>)            <span class="hljs-comment"># è¿™æ˜¯ä¸€ä¸ªæ•´æ•°</span><br></code></pre></td></tr></table></figure><strong>å…ƒç»„çš„éå†</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">my_tuple = (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>)<br><br><span class="hljs-comment"># è®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-built_in">print</span>(my_tuple[<span class="hljs-number">0</span>])  <span class="hljs-comment"># è¾“å‡º: 10</span><br><br><span class="hljs-comment"># è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-built_in">print</span>(my_tuple[-<span class="hljs-number">1</span>])  <span class="hljs-comment"># è¾“å‡º: 50</span><br><br><span class="hljs-comment"># è®¿é—®åˆ‡ç‰‡</span><br><span class="hljs-built_in">print</span>(my_tuple[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>])  <span class="hljs-comment"># è¾“å‡º: (20, 30, 40)</span><br></code></pre></td></tr></table></figure><p>å…ƒç»„æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ä¸èƒ½ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">my_tuple = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># å°è¯•ä¿®æ”¹å…ƒç´ </span><br>my_tuple[<span class="hljs-number">0</span>] = <span class="hljs-number">10</span>  <span class="hljs-comment"># ä¼šæŠ›å‡º TypeError: &#x27;tuple&#x27; object does not support item assignment</span><br><br><span class="hljs-comment"># å°è¯•æ·»åŠ å…ƒç´ </span><br>my_tuple.append(<span class="hljs-number">4</span>)  <span class="hljs-comment"># ä¼šæŠ›å‡º AttributeError: &#x27;tuple&#x27; object has no attribute &#x27;append&#x27;</span><br><br><span class="hljs-comment"># å°è¯•åˆ é™¤å…ƒç´ </span><br><span class="hljs-keyword">del</span> my_tuple[<span class="hljs-number">0</span>]  <span class="hljs-comment"># ä¼šæŠ›å‡º TypeError: &#x27;tuple&#x27; object doesn&#x27;t support item deletion</span><br><br><span class="hljs-comment"># ä½†æ˜¯å¯ä»¥ç»™è¡¨ç¤ºå…ƒç»„çš„å˜é‡èµ‹å€¼</span><br>my_tuple=(<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>) <span class="hljs-comment">#VALID</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">tuple1 = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>tuple2 = (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)<br>combined_tuple = tuple1 + tuple2<br><span class="hljs-built_in">print</span>(combined_tuple)  <span class="hljs-comment"># è¾“å‡º: (1, 2, 3, 4, 5, 6)</span><br></code></pre></td></tr></table></figure><p><strong>å…ƒç»„çš„åŸºæœ¬æ“ä½œ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å…ƒç»„çš„åŸºæœ¬æ“ä½œ</span><br><span class="hljs-comment"># å…ƒç»„çš„æ‹¼æ¥</span><br>tuple1 = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>tuple2 = (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)<br>combined_tuple = tuple1 + tuple2<br><span class="hljs-built_in">print</span>(combined_tuple)  <span class="hljs-comment"># è¾“å‡º: (1, 2, 3, 4, 5, 6)</span><br><br><span class="hljs-comment"># å…ƒç»„çš„é‡å¤</span><br>my_tuple = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>repeated_tuple = my_tuple * <span class="hljs-number">3</span><br><span class="hljs-built_in">print</span>(repeated_tuple)  <span class="hljs-comment"># è¾“å‡º: (1, 2, 3, 1, 2, 3, 1, 2, 3)ã€</span><br><br><span class="hljs-comment"># å…ƒç»„çš„é•¿åº¦</span><br>my_tuple = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(my_tuple))  <span class="hljs-comment"># è¾“å‡º: 5</span><br><br><span class="hljs-comment"># å…ƒç»„çš„éå†</span><br>my_tuple = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> my_tuple:<br>    <span class="hljs-built_in">print</span>(item)<br>    <br><span class="hljs-comment"># å…ƒç»„çš„è§£åŒ…</span><br>my_tuple = (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)<br>a, b, c = my_tuple<br><span class="hljs-built_in">print</span>(a, b, c)  <span class="hljs-comment"># è¾“å‡º: 10 20 30</span><br><br><span class="hljs-comment"># å…ƒç»„åµŒå¥—å…¶ä»–å…ƒç»„æˆ–åˆ—è¡¨</span><br>nested_tuple = ((<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br><span class="hljs-built_in">print</span>(nested_tuple)  <span class="hljs-comment"># è¾“å‡º: ((1, 2), (3, 4), [5, 6])</span><br></code></pre></td></tr></table></figure><p><strong>å…ƒç»„ä¸åˆ—è¡¨çš„åŒºåˆ«</strong></p><table><thead><tr><th>ç‰¹æ€§</th><th>å…ƒç»„ (<code>tuple</code>)</th><th>åˆ—è¡¨ (<code>list</code>)</th></tr></thead><tbody><tr><td><strong>å¯å˜æ€§</strong></td><td>ä¸å¯å˜</td><td>å¯å˜</td></tr><tr><td><strong>è¯­æ³•</strong></td><td>ä½¿ç”¨åœ†æ‹¬å· <code>()</code></td><td>ä½¿ç”¨æ–¹æ‹¬å· <code>[]</code></td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>è®¿é—®é€Ÿåº¦æ›´å¿«ï¼Œå ç”¨å†…å­˜æ›´å°‘</td><td>è®¿é—®é€Ÿåº¦è¾ƒæ…¢ï¼Œå ç”¨å†…å­˜è¾ƒå¤š</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å­˜å‚¨ä¸å¯å˜æ•°æ®ï¼ˆå¦‚å¸¸é‡ã€é…ç½®ç­‰ï¼‰</td><td>å­˜å‚¨å¯å˜æ•°æ®ï¼ˆå¦‚åŠ¨æ€é›†åˆç­‰ï¼‰</td></tr></tbody></table><h3 id="Dictionaries-in-Python"><a href="#Dictionaries-in-Python" class="headerlink" title="Dictionaries in Python"></a>Dictionaries in Python</h3><p>åœ¨Pythonä¸­ï¼Œ<strong>å­—å…¸</strong>æ˜¯ä¸€ç§åŸºäºé”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œåº•å±‚åŸç†æ˜¯<strong>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰</strong>ã€‚å­—å…¸ä¸­çš„é”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„æ•°æ®ã€‚å­—å…¸æ˜¯æ— åºçš„ï¼ˆåœ¨ Python 3.7 åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œå­—å…¸ä¿æŒäº†æ’å…¥é¡ºåºï¼‰ï¼Œå¹¶ä¸”é€šè¿‡é”®æ¥å¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„å€¼ã€‚ä»¥ä¸‹æ˜¯å­—å…¸çš„è¯¦ç»†ä»‹ç»ï¼š</p><p><strong>å­—å…¸çš„åˆ›å»º</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå­—å…¸</span><br>my_dict = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;New York&quot;</span>&#125;<br><span class="hljs-comment"># æ³¨æ„ï¼šéœ€è¦ä½¿ç”¨èŠ±æ‹¬å·ï¼</span><br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25, &#x27;city&#x27;: &#x27;New York&#x27;&#125;</span><br><br><span class="hljs-comment"># åˆ›å»ºç©ºå­—å…¸</span><br>empty_dict = &#123;&#125;<br><span class="hljs-built_in">print</span>(empty_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#125;</span><br><br><span class="hljs-comment"># ä½¿ç”¨ dict() å‡½æ•°åˆ›å»ºå­—å…¸</span><br>my_dict = <span class="hljs-built_in">dict</span>(name=<span class="hljs-string">&quot;Alice&quot;</span>, age=<span class="hljs-number">25</span>, city=<span class="hljs-string">&quot;New York&quot;</span>)<br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25, &#x27;city&#x27;: &#x27;New York&#x27;&#125;</span><br></code></pre></td></tr></table></figure><p><strong>é€šè¿‡é”®æ¥è®¿é—®å­—å…¸çš„å€¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">my_dict = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;New York&quot;</span>&#125;<br><br><span class="hljs-comment"># è®¿é—®é”®å¯¹åº”çš„å€¼</span><br><span class="hljs-built_in">print</span>(my_dict[<span class="hljs-string">&quot;name&quot;</span>])  <span class="hljs-comment"># è¾“å‡º: Alice</span><br><br><span class="hljs-comment"># è®¿é—®ä¸å­˜åœ¨çš„é”®ä¼šæŠ›å‡º KeyError</span><br><span class="hljs-comment"># print(my_dict[&quot;gender&quot;])  # KeyError: &#x27;gender&#x27;</span><br><br><span class="hljs-comment"># ä½¿ç”¨getè®¿é—®ï¼Œä¸€ç§æ›´å®‰å…¨çš„æ–¹æ³•</span><br><span class="hljs-built_in">print</span>(my_dict.get(<span class="hljs-string">&quot;name&quot;</span>))      <span class="hljs-comment"># è¾“å‡º: Alice</span><br><span class="hljs-built_in">print</span>(my_dict.get(<span class="hljs-string">&quot;gender&quot;</span>))    <span class="hljs-comment"># è¾“å‡º: None</span><br><span class="hljs-built_in">print</span>(my_dict.get(<span class="hljs-string">&quot;gender&quot;</span>, <span class="hljs-string">&quot;unknown&quot;</span>))  <span class="hljs-comment"># è¾“å‡º: unknown</span><br></code></pre></td></tr></table></figure><p><strong>ä¿®æ”¹ï¼Œæ’å…¥ï¼Œåˆ é™¤</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python">my_dict = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;New York&quot;</span>&#125;<br><br><span class="hljs-comment"># ä¿®æ”¹å€¼</span><br>my_dict[<span class="hljs-string">&quot;age&quot;</span>] = <span class="hljs-number">26</span><br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 26, &#x27;city&#x27;: &#x27;New York&#x27;&#125;</span><br><br><span class="hljs-comment"># æ·»åŠ æ–°çš„é”®å€¼å¯¹</span><br>my_dict[<span class="hljs-string">&quot;gender&quot;</span>] = <span class="hljs-string">&quot;female&quot;</span><br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 26, &#x27;city&#x27;: &#x27;New York&#x27;, &#x27;gender&#x27;: &#x27;female&#x27;&#125;</span><br><br><span class="hljs-comment"># ä½¿ç”¨ del åˆ é™¤é”®å€¼å¯¹</span><br><span class="hljs-keyword">del</span> my_dict[<span class="hljs-string">&quot;city&quot;</span>]<br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 25&#125;</span><br><br><span class="hljs-comment"># ä½¿ç”¨ pop() åˆ é™¤é”®å€¼å¯¹å¹¶è¿”å›å€¼</span><br>age = my_dict.pop(<span class="hljs-string">&quot;age&quot;</span>)<br><span class="hljs-built_in">print</span>(age)      <span class="hljs-comment"># è¾“å‡º: 25</span><br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;&#125;</span><br><br><span class="hljs-comment"># æ¸…ç©ºå­—å…¸</span><br>my_dict.clear()<br><span class="hljs-built_in">print</span>(my_dict)  <span class="hljs-comment"># è¾“å‡º: &#123;&#125;</span><br></code></pre></td></tr></table></figure><p><strong>å…¶ä»–æ“ä½œ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python">my_dict = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;New York&quot;</span>&#125;<br><br><span class="hljs-comment"># éå†é”®</span><br><span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> my_dict:<br>    <span class="hljs-built_in">print</span>(key)<br><br><span class="hljs-comment"># éå†å€¼</span><br><span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> my_dict.values():<br>    <span class="hljs-built_in">print</span>(value)<br><br><span class="hljs-comment"># éå†é”®å€¼å¯¹</span><br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_dict.items():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;key&#125;</span>: <span class="hljs-subst">&#123;value&#125;</span>&quot;</span>)<br>    <br><span class="hljs-comment"># ä½¿ç”¨inæ£€æŸ¥æ˜¯å¦å­˜åœ¨</span><br>my_dict = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>, <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;New York&quot;</span>&#125;<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-keyword">in</span> my_dict)  <span class="hljs-comment"># è¾“å‡º: True</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-keyword">in</span> my_dict)  <span class="hljs-comment"># è¾“å‡º: False</span><br><br><br><span class="hljs-comment"># è·å–æ‰€æœ‰é”®</span><br><span class="hljs-built_in">print</span>(my_dict.keys())  <span class="hljs-comment"># è¾“å‡º: dict_keys([&#x27;name&#x27;, &#x27;age&#x27;, &#x27;city&#x27;])</span><br><br><span class="hljs-comment"># è·å–æ‰€æœ‰å€¼</span><br><span class="hljs-built_in">print</span>(my_dict.values())  <span class="hljs-comment"># è¾“å‡º: dict_values([&#x27;Alice&#x27;, 25, &#x27;New York&#x27;])</span><br><br><span class="hljs-comment"># è·å–æ‰€æœ‰é”®å€¼å¯¹</span><br><span class="hljs-built_in">print</span>(my_dict.items())  <span class="hljs-comment"># è¾“å‡º: dict_items([(&#x27;name&#x27;, &#x27;Alice&#x27;), (&#x27;age&#x27;, 25), (&#x27;city&#x27;, &#x27;New York&#x27;)])</span><br><br>dict1 = &#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Alice&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">25</span>&#125;<br>dict2 = &#123;<span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;New York&quot;</span>, <span class="hljs-string">&quot;gender&quot;</span>: <span class="hljs-string">&quot;female&quot;</span>,<span class="hljs-string">&quot;age&quot;</span>:<span class="hljs-number">15</span>&#125;<br>dict1.update(dict2)<br><span class="hljs-built_in">print</span>(dict1)  <span class="hljs-comment"># è¾“å‡º: &#123;&#x27;name&#x27;: &#x27;Alice&#x27;, &#x27;age&#x27;: 15, &#x27;city&#x27;: &#x27;New York&#x27;, &#x27;gender&#x27;: &#x27;female&#x27;&#125;</span><br><span class="hljs-comment"># åˆå¹¶å†²çªçš„é”®å€¼å¯¹æ—¶ä¼šè‡ªåŠ¨è¦†ç›–æˆæ–°çš„</span><br></code></pre></td></tr></table></figure><hr><p><strong>å­—å…¸æ¨å¯¼å¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œé”®ä¸ºæ•°å­—ï¼Œå€¼ä¸ºæ•°å­—çš„å¹³æ–¹ï¼ˆä½¿ç”¨èŠ±æ‹¬å·&#123;&#125;ï¼‰</span><br>squares = &#123;x: x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)&#125;<br><span class="hljs-built_in">print</span>(squares)  <span class="hljs-comment"># è¾“å‡º: &#123;0: 0, 1: 1, 2: 4, 3: 9, 4: 16&#125;</span><br></code></pre></td></tr></table></figure><h2 id="Loops-in-Python"><a href="#Loops-in-Python" class="headerlink" title="Loops in Python"></a>Loops in Python</h2><h3 id="While-loops"><a href="#While-loops" class="headerlink" title="While-loops"></a>While-loops</h3><p>åœ¨Pythonä¸­ï¼Œ<code>while</code>å¾ªç¯çš„åŸºæœ¬ç”¨æ³•å’ŒC&#x2F;C++åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯<strong>Pythonä¸­ä¸åŠ èŠ±æ‹¬å·å¹¶ä¸”è¦æ³¨æ„ç¼©è¿›</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">count = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> count &lt; <span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Count is: <span class="hljs-subst">&#123;count&#125;</span>&quot;</span>)<br>    count += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><code>while</code> å¾ªç¯å¯ä»¥æœ‰ä¸€ä¸ªå¯é€‰çš„ <code>else</code> å­å¥ã€‚å½“å¾ªç¯æ­£å¸¸ç»“æŸï¼ˆå³æ¡ä»¶å˜ä¸º <code>False</code>ï¼‰æ—¶ï¼Œ<code>else</code> å­å¥ä¼šè¢«æ‰§è¡Œã€‚å¦‚æœå¾ªç¯æ˜¯é€šè¿‡ <code>break</code> é€€å‡ºçš„ï¼Œ<code>else</code> å­å¥ä¸ä¼šæ‰§è¡Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">count = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> count &lt; <span class="hljs-number">5</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Count is: <span class="hljs-subst">&#123;count&#125;</span>&quot;</span>)<br>    count += <span class="hljs-number">1</span><br><span class="hljs-keyword">else</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Loop finished normally.&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="For-loops"><a href="#For-loops" class="headerlink" title="For-loops"></a>For-loops</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># éå†åˆ—è¡¨</span><br>fruits = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;cherry&#x27;</span>]<br><span class="hljs-keyword">for</span> fruit <span class="hljs-keyword">in</span> fruits:<br>    <span class="hljs-built_in">print</span>(fruit)<br><br><span class="hljs-comment"># éå†å­—ç¬¦ä¸²</span><br><span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;hello&quot;</span>:<br>    <span class="hljs-built_in">print</span>(char)<br><br><span class="hljs-comment"># éå†å­—å…¸çš„é”®å€¼å¯¹</span><br>my_dict = &#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">2</span>&#125;<br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_dict.items():<br>    <span class="hljs-built_in">print</span>(key, value)<br></code></pre></td></tr></table></figure><p>range <strong>çš„ä½¿ç”¨</strong></p><p>åœ¨ Python ä¸­ï¼Œ<code>range</code> æ˜¯ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºç”Ÿæˆä¸€ä¸ªæ•´æ•°åºåˆ—ã€‚å®ƒé€šå¸¸ç”¨äº <code>for</code> å¾ªç¯ä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨äºåˆ›å»ºåˆ—è¡¨æˆ–å…¶ä»–éœ€è¦æ•´æ•°åºåˆ—çš„åœºæ™¯ã€‚<code>range</code> å‡½æ•°æœ‰ä¸‰ç§è°ƒç”¨æ–¹å¼ï¼š</p><p>ï¼ˆ1ï¼‰<code>range(stop)</code></p><p>ç”Ÿæˆä» <code>0</code> å¼€å§‹åˆ° <code>stop-1</code> çš„æ•´æ•°åºåˆ—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):<br>    <span class="hljs-built_in">print</span>(i)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">0</span><br><span class="hljs-string">1</span><br><span class="hljs-string">2</span><br><span class="hljs-string">3</span><br><span class="hljs-string">4</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<code>range(start, stop)</code></p><p>ç”Ÿæˆä» <code>start</code> å¼€å§‹åˆ° <code>stop-1</code> çš„æ•´æ•°åºåˆ—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>):<br>    <span class="hljs-built_in">print</span>(i)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">2</span><br><span class="hljs-string">3</span><br><span class="hljs-string">4</span><br><span class="hljs-string">5</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰<code>range(start, stop, step)</code></p><p>ç”Ÿæˆä» <code>start</code> å¼€å§‹åˆ° <code>stop-1</code> çš„æ•´æ•°åºåˆ—ï¼Œæ­¥é•¿ä¸º <code>step</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>):<br>    <span class="hljs-built_in">print</span>(i)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">1</span><br><span class="hljs-string">3</span><br><span class="hljs-string">5</span><br><span class="hljs-string">7</span><br><span class="hljs-string">9</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><ul><li><strong>æƒ°æ€§æ±‚å€¼</strong>ï¼š<code>range</code> è¿”å›çš„æ˜¯ä¸€ä¸ª <code>range</code> å¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚å®ƒåªåœ¨éœ€è¦æ—¶ç”Ÿæˆå€¼ï¼Œå› æ­¤éå¸¸èŠ‚çœå†…å­˜ã€‚</li><li><strong>ä¸å¯å˜æ€§</strong>ï¼š<code>range</code> å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹å…¶å†…å®¹ã€‚</li><li><strong>æ”¯æŒè´Ÿæ­¥é•¿</strong>ï¼š<code>step</code> å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œè¡¨ç¤ºåå‘ç”Ÿæˆåºåˆ—ã€‚</li></ul><p>å¯ä»¥é€šè¿‡ <code>list()</code> å‡½æ•°å°† <code>range</code> å¯¹è±¡è½¬æ¢ä¸ºåˆ—è¡¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>))<br><span class="hljs-built_in">print</span>(numbers)  <span class="hljs-comment"># è¾“å‡º: [0, 1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure><ol><li><p><strong>éå†å­—å…¸</strong>ï¼š</p><ul><li>ä½ å¯ä»¥ä½¿ç”¨ <code>for</code> å¾ªç¯ç›´æ¥éå†å­—å…¸çš„é”®ã€å€¼ï¼Œæˆ–è€…é”®å€¼å¯¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">my_dict = &#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-number">3</span>&#125;<br><span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> my_dict:<br>    <span class="hljs-built_in">print</span>(key, my_dict[key])<br><br><span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> my_dict.items():<br>    <span class="hljs-built_in">print</span>(key, value)<br></code></pre></td></tr></table></figure></li><li><p>**ä½¿ç”¨ <code>enumerate()</code>**ï¼š</p><ul><li><code>enumerate()</code> å‡½æ•°å¯ä»¥åœ¨éå†åˆ—è¡¨æ—¶è·å–å…ƒç´ çš„ç´¢å¼•ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">my_list = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;cherry&#x27;</span>]<br><span class="hljs-keyword">for</span> index, value <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(my_list):<br>    <span class="hljs-built_in">print</span>(index, value)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">0 apple</span><br><span class="hljs-string">1 banana</span><br><span class="hljs-string">2 cherry</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨ <code>zip()</code>ï¼š</p><ul><li><code>zip()</code> å‡½æ•°å¯ä»¥åŒæ—¶éå†å¤šä¸ªåºåˆ—ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">names = [<span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-string">&#x27;Charlie&#x27;</span>]<br>scores = [<span class="hljs-number">85</span>, <span class="hljs-number">90</span>, <span class="hljs-number">95</span>]<br><span class="hljs-keyword">for</span> name, score <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(names, scores):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;name&#125;</span> scored <span class="hljs-subst">&#123;score&#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure></li><li><p><strong>åˆ—è¡¨æ¨å¯¼å¼</strong>ï¼š</p><ul><li>åˆ—è¡¨æ¨å¯¼å¼æ˜¯ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥ç”Ÿæˆåˆ—è¡¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">squares = [x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]<br><span class="hljs-built_in">print</span>(squares)<br></code></pre></td></tr></table></figure></li><li><p><strong>ç”Ÿæˆå™¨è¡¨è¾¾å¼</strong>ï¼š</p><ul><li>ä¸åˆ—è¡¨æ¨å¯¼å¼ç±»ä¼¼ï¼Œä½†ç”Ÿæˆå™¨è¡¨è¾¾å¼ä½¿ç”¨åœ†æ‹¬å·ï¼Œç”Ÿæˆå…ƒç´ æ—¶ä¸ä¼šç«‹å³å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">squares_gen = (x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))<br><span class="hljs-keyword">for</span> square <span class="hljs-keyword">in</span> squares_gen:<br>    <span class="hljs-built_in">print</span>(square)<br></code></pre></td></tr></table></figure></li><li><p><strong>æ¡ä»¶è¿‡æ»¤</strong>ï¼š</p><ul><li>ä½ å¯ä»¥åœ¨ <code>for</code> å¾ªç¯ä¸­ä½¿ç”¨æ¡ä»¶è¯­å¥æ¥è¿‡æ»¤å…ƒç´ ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">even_squares = [x**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]<br><span class="hljs-built_in">print</span>(even_squares)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">[0, 4, 16, 36, 64]</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>åµŒå¥—å¾ªç¯</strong>ï¼š</p><ul><li>åˆ—è¡¨æ¨å¯¼å¼å’Œç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸­å¯ä»¥åŒ…å«åµŒå¥—å¾ªç¯ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">pairs = [(x, y) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>) <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)]<br><span class="hljs-built_in">print</span>(pairs)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">[(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure></li></ol><h2 id="Functions-in-Python"><a href="#Functions-in-Python" class="headerlink" title="Functions in Python"></a>Functions in Python</h2><p>åœ¨Pythonä¸­ï¼Œè‡ªå®šä¹‰å‡½æ•°çš„è¯­æ³•æ ¼å¼å’Œè¿è¡Œé€»è¾‘æœ‰è¾ƒå¤§çš„ä¸åŒã€‚</p><h3 id="Basic-Usage"><a href="#Basic-Usage" class="headerlink" title="Basic Usage"></a>Basic Usage</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># example one</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_users</span>():<br>    <span class="hljs-string">&#x27;&#x27;&#x27;for the greetings to new users&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Hello!&quot;</span>)<br><br>    <br><span class="hljs-comment"># example two</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_users2</span>(<span class="hljs-params">username</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;functions with input&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hello! <span class="hljs-subst">&#123;username.title()&#125;</span>&quot;</span>)<br>    <br><span class="hljs-comment"># example three</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">greet_users3</span>(<span class="hljs-params">username</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;functions with outpput&#x27;&#x27;&#x27;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Hello! <span class="hljs-subst">&#123;username.title()&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">return</span> username<br><br><br>greet_users()<br>greet_users2(<span class="hljs-string">&quot;wowo&quot;</span>)<br>output=greet_users3(<span class="hljs-string">&quot;wowO&quot;</span>)<br><span class="hljs-built_in">print</span> (output)<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">Hello!</span><br><span class="hljs-string">Hello! Wowo</span><br><span class="hljs-string">Hello! Wowo</span><br><span class="hljs-string">wowO</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„<strong>å‡½æ•°å®šä¹‰</strong>ï¼ŒåŒ…æ‹¬<strong>å‡½æ•°åï¼Œæ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆOptionalï¼‰å’Œå…·ä½“çš„å‡½æ•°ä»£ç </strong>ã€‚</p><blockquote><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œpythonä¸­çš„å‡½æ•°ä¸éœ€è¦æ˜¾å¼å£°æ˜è¿”å›ç±»å‹ã€‚</p></blockquote><p><strong>pythonä¸­ä¹Ÿå­˜åœ¨å½¢å‚å’Œå®å‚çš„ä¼ é€’</strong>ï¼Œä½†å¹¶ä¸å®Œå…¨æ˜¯æ‹·è´ä¼ é€’ï¼ˆå¯å˜å¯¹è±¡å’Œä¸å¯å˜å¯¹è±¡ï¼‰</p><ul><li><p>ä¸å¯å˜å¯¹è±¡ï¼ˆå¦‚æ•´æ•°ã€å­—ç¬¦ä¸²ã€å…ƒç»„ï¼‰åœ¨ä¼ é€’æ—¶ï¼Œå½¢å‚å’Œå®å‚æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ä½†å¦‚æœå½¢å‚å°è¯•ä¿®æ”¹å¯¹è±¡ï¼ŒPython ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå½¢å‚ä¼šæŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡ï¼Œè€Œå®å‚ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚</p></li><li><p>å¯å˜å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å­—å…¸ã€é›†åˆï¼‰åœ¨ä¼ é€’æ—¶ï¼Œå½¢å‚å’Œå®å‚æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœå½¢å‚ä¿®æ”¹äº†å¯¹è±¡çš„å†…å®¹ï¼Œå®å‚ä¹Ÿä¼šå—åˆ°å½±å“ã€‚</p><ul><li>å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡çš„æ–¹æ³•å®ç°<strong>æ‹·è´ä¼ å‚</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">function_name(list_name[:])<br></code></pre></td></tr></table></figure></li></ul><h3 id="Advanced-Usage"><a href="#Advanced-Usage" class="headerlink" title="Advanced Usage"></a>Advanced Usage</h3><ul><li><p>å…³é”®è¯å®å‚ï¼ˆå‚æ•°åˆ—è¡¨çš„ä¸€ä¸€å¯¹åº”ï¼‰</p></li><li><p>è¿”å›å€¼çš„å¤šæ ·æ€§</p><ul><li>Python å‡½æ•°å¯ä»¥è¿”å› <strong>å­—å…¸</strong>ã€<strong>åˆ—è¡¨</strong> æˆ– <strong>å…ƒç»„</strong>ï¼Œç”šè‡³å¯ä»¥è¿”å›å®ƒä»¬çš„ç»„åˆã€‚</li><li>Python çš„å‡½æ•°éå¸¸çµæ´»ï¼Œå¯ä»¥è¿”å›ä»»æ„ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å¤æ‚çš„æ•°æ®ç»“æ„ã€‚</li></ul></li><li><p>ä½¿ç”¨<code>def function(*args)</code>å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º<code>nums</code>çš„å…ƒç»„ã€‚</p><ul><li><p>åœ¨å‡½æ•°å®šä¹‰ä¸­ï¼Œ<code>*</code> å’Œ <code>**</code> å¯ä»¥ç”¨äºæ¥æ”¶ä»»æ„æ•°é‡çš„ä½ç½®å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_args</span>(<span class="hljs-params">*args, **kwargs</span>):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Positional arguments:&quot;</span>, args)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Keyword arguments:&quot;</span>, kwargs)<br><br><span class="hljs-comment"># è°ƒç”¨å‡½æ•°</span><br>print_args(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, name=<span class="hljs-string">&quot;Alice&quot;</span>, age=<span class="hljs-number">25</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">Positional arguments: (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>Keyword arguments: &#123;<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Alice&#x27;</span>, <span class="hljs-string">&#x27;age&#x27;</span>: <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>*args</code> æ¥æ”¶æ‰€æœ‰ä½ç½®å‚æ•°ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¸ºä¸€ä¸ªå…ƒç»„ã€‚</li><li><code>**kwargs</code> æ¥æ”¶æ‰€æœ‰å…³é”®å­—å‚æ•°ï¼Œå¹¶å°†å…¶å­˜å‚¨ä¸ºä¸€ä¸ªå­—å…¸ã€‚</li></ul></li></ul></li></ul><h2 id="OOP-in-Python"><a href="#OOP-in-Python" class="headerlink" title="OOP in Python"></a>OOP in Python</h2><p>åœ¨Pythonä¸­ï¼Œä¹Ÿå¯ä»¥å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚ä¸‹æ–‡ç¬”è€…å°†ä»C++çš„è§†è§’å‡ºå‘ï¼Œå‘è¯»è€…å±•ç¤ºPythonä¸­ç›¸å¯¹åº”çš„ç”¨æ³•ã€‚</p><h3 id="A-simple-class-for-Matrix"><a href="#A-simple-class-for-Matrix" class="headerlink" title="A simple class for Matrix"></a>A simple class for Matrix</h3><p>ä¸‹æ–‡ç»™å‡ºä¸€ä¸ªç®€å•çš„çŸ©é˜µç±»å®ç°ï¼ˆC++è¯­è¨€ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Matrix</span>&#123;<br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-type">int</span> row,col;<br>        <span class="hljs-type">int</span>** thenumlist;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Matrix</span>(<span class="hljs-type">int</span> row_,<span class="hljs-type">int</span> col_):<span class="hljs-built_in">row</span>(row_),<span class="hljs-built_in">col</span>(col_)&#123;<br>            thenumlist=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>*[row];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                thenumlist[i]=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span> [col];<br>            &#125;<br>        &#125;;<br><br>        ~<span class="hljs-built_in">Matrix</span>()&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                <span class="hljs-keyword">delete</span>[] thenumlist[i];<br>            &#125;<br>            <span class="hljs-keyword">delete</span>[] thenumlist;<br>        &#125;<br><br>        <span class="hljs-built_in">Matrix</span>(<span class="hljs-type">const</span> Matrix&amp; x)&#123;<br>            row=x.row;<br>            col=x.col;<br>            thenumlist=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>*[row];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                thenumlist[i]=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span> [col];<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;col;j++)&#123;<br>                    thenumlist[i][j]=x.thenumlist[i][j];<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>;<br>        <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> Matrix &amp;x)&#123;<br>            <span class="hljs-comment">//bool judge=true;</span><br>            <span class="hljs-keyword">if</span>(x.row!=<span class="hljs-keyword">this</span>-&gt;row) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(x.col!=<span class="hljs-keyword">this</span>-&gt;col) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x.row;i++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;x.col;j++)&#123;<br>                    <span class="hljs-keyword">if</span>(x.thenumlist[i][j]!=(<span class="hljs-keyword">this</span>-&gt;thenumlist)[i][j])&#123;<br>                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        Matrix <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Matrix &amp;x)&#123;<br>            <span class="hljs-keyword">if</span>(*<span class="hljs-keyword">this</span>==x)&#123;<br>                <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                <span class="hljs-keyword">delete</span>[] thenumlist[i];<br>            &#125;<br>            <span class="hljs-keyword">delete</span>[] thenumlist;<br><br>            row=x.row;col=x.col;<br>            thenumlist=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>*[row];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                thenumlist[i]=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span> [col];<br>            &#125;<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;col;j++)&#123;<br>                    thenumlist[i][j]=x.thenumlist[i][j];<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">friend</span> istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is,Matrix&amp; x);<br>        <span class="hljs-keyword">friend</span> ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os,Matrix&amp; x);<br>        <span class="hljs-keyword">friend</span> Matrix <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Matrix&amp;x1,<span class="hljs-type">const</span> Matrix&amp;x2);<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Matrix::operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> thenumlist[x][y];<br>&#125;<br><br>istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is,Matrix&amp; x)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x.row;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;x.col;j++)&#123;<br>            is&gt;&gt;x.thenumlist[i][j];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><br>ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os,Matrix&amp; x)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x.row;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;x.col;j++)&#123;<br>            os&lt;&lt;x.thenumlist[i][j];<br>            <span class="hljs-keyword">if</span>(j!=x.col<span class="hljs-number">-1</span>) os&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>        &#125;<br>        os&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br>Matrix <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Matrix&amp;x1,<span class="hljs-type">const</span> Matrix&amp;x2)&#123;<br>    <span class="hljs-function">Matrix <span class="hljs-title">temp</span><span class="hljs-params">(x<span class="hljs-number">1.</span>row,x<span class="hljs-number">1.</span>col)</span></span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x<span class="hljs-number">1.</span>row;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;x<span class="hljs-number">1.</span>col;j++)&#123;<br>            temp.thenumlist[i][j]=x<span class="hljs-number">1.</span>thenumlist[i][j]+x<span class="hljs-number">2.</span>thenumlist[i][j];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> temp;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> m, n, x, y;<br>    cin &gt;&gt; m &gt;&gt; n &gt;&gt; x &gt;&gt; y;<br>    <span class="hljs-function">Matrix <span class="hljs-title">a</span><span class="hljs-params">(m, n)</span>, <span class="hljs-title">b</span><span class="hljs-params">(m, n)</span></span>;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    Matrix c = a+b;<br>    cout &lt;&lt; c;<br>    a = b+c;<br>    <span class="hljs-comment">// print element at row-x column-y of Matrix a, row and column count from 0</span><br>    cout &lt;&lt; <span class="hljs-built_in">a</span>(x, y) &lt;&lt; endl; <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸‹é¢æ”¹å†™æˆPythonçš„ç‰ˆæœ¬è¿›è¡Œè¿ç§»å­¦ä¹ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Matrix</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, row=<span class="hljs-number">1</span>, col=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Default constructor for the Matrix class.</span><br><span class="hljs-string">        Initializes a matrix with the given number of rows and columns.</span><br><span class="hljs-string">        If no dimensions are provided, defaults to a 1x1 matrix.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.row = row<br>        <span class="hljs-variable language_">self</span>.col = col<br>        <span class="hljs-comment"># Create a 2D list (matrix) filled with zeros</span><br>        <span class="hljs-variable language_">self</span>.thenumlist = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(col)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(row)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Destructor for the Matrix class.</span><br><span class="hljs-string">        In Python, this is rarely used because memory management is handled by the garbage collector.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Matrix object destroyed.&quot;</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__copy__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Copy constructor for the Matrix class.</span><br><span class="hljs-string">        Creates a new Matrix object that is a copy of the current object.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        new_matrix = Matrix(<span class="hljs-variable language_">self</span>.row, <span class="hljs-variable language_">self</span>.col)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                new_matrix.thenumlist[i][j] = <span class="hljs-variable language_">self</span>.thenumlist[i][j]<br>        <span class="hljs-keyword">return</span> new_matrix<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, x, y</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the () operator to access elements of the matrix.</span><br><span class="hljs-string">        Returns the element at the specified row and column.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.thenumlist[x][y]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the == operator to compare two matrices.</span><br><span class="hljs-string">        Returns True if the matrices have the same dimensions and elements, otherwise False.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.row != other.row <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.col != other.col:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.thenumlist[i][j] != other.thenumlist[i][j]:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__assign__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the = operator to assign one matrix to another.</span><br><span class="hljs-string">        Performs a deep copy of the elements.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span> == other:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span><br>        <span class="hljs-variable language_">self</span>.row = other.row<br>        <span class="hljs-variable language_">self</span>.col = other.col<br>        <span class="hljs-variable language_">self</span>.thenumlist = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row)]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                <span class="hljs-variable language_">self</span>.thenumlist[i][j] = other.thenumlist[i][j]<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the + operator to add two matrices.</span><br><span class="hljs-string">        Returns a new Matrix object that is the sum of the two matrices.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.row != other.row <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.col != other.col:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;Matrix dimensions do not match for addition.&quot;</span>)<br>        result = Matrix(<span class="hljs-variable language_">self</span>.row, <span class="hljs-variable language_">self</span>.col)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                result.thenumlist[i][j] = <span class="hljs-variable language_">self</span>.thenumlist[i][j] + other.thenumlist[i][j]<br>        <span class="hljs-keyword">return</span> result<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the str() function to provide a string representation of the matrix.</span><br><span class="hljs-string">        Returns the matrix as a formatted string.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\n&quot;</span>.join([<span class="hljs-string">&quot; &quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, row)) <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.thenumlist])<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the repr() function to provide a detailed string representation of the matrix.</span><br><span class="hljs-string">        Useful for debugging.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;Matrix(<span class="hljs-subst">&#123;self.row&#125;</span>, <span class="hljs-subst">&#123;self.col&#125;</span>, data=<span class="hljs-subst">&#123;self.thenumlist&#125;</span>)&quot;</span><br><br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">from_input</span>(<span class="hljs-params">rows, cols</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Static method to create a Matrix object from user input.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        matrix = Matrix(rows, cols)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(rows):<br>            row = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()))<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(row) != cols:<br>                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;Invalid number of elements in row.&quot;</span>)<br>            matrix.thenumlist[i] = row<br>        <span class="hljs-keyword">return</span> matrix<br><br><br><span class="hljs-comment"># Main function to test the Matrix class</span><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-comment"># Read matrix dimensions and element indices</span><br>    m, n, x, y = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split())<br><br>    <span class="hljs-comment"># Create two matrices from user input</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Enter elements for matrix A:&quot;</span>)<br>    a = Matrix.from_input(m, n)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Enter elements for matrix B:&quot;</span>)<br>    b = Matrix.from_input(m, n)<br><br>    <span class="hljs-comment"># Perform matrix addition</span><br>    c = a + b<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Matrix C (A + B):&quot;</span>)<br>    <span class="hljs-built_in">print</span>(c)<br><br>    <span class="hljs-comment"># Assign the result of (B + C) to A</span><br>    a = b + c<br><br>    <span class="hljs-comment"># Print the element at row-x, column-y of matrix A</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Element at (<span class="hljs-subst">&#123;x&#125;</span>, <span class="hljs-subst">&#123;y&#125;</span>) in matrix A: <span class="hljs-subst">&#123;a(x, y)&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="Data-and-functionsï¼Ÿ"><a href="#Data-and-functionsï¼Ÿ" class="headerlink" title="Data and functionsï¼Ÿ"></a>Data and functionsï¼Ÿ</h3><p>åœ¨C++ä¸­ï¼Œç±»çš„å®šä¹‰ä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢çš„å®šä¹‰ï¼š<strong>æ•°æ®æˆå‘˜å’Œæ–¹æ³•</strong>ï¼ˆå³æ•°æ®ç±»å‹å’Œæˆå‘˜å‡½æ•°ï¼‰ã€‚ä½†æ˜¯åœ¨Pythonçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°æ˜ç¡®çš„ä¸€å—åŒºåŸŸæ¥ä¸“é—¨å®šä¹‰æ•°æ®æˆå‘˜ã€‚</p><p>å®é™…ä¸Šï¼ŒPythonä¸­çš„ç±»å®ç°æ›´åŠ çš„çµæ´»ï¼Œæ•°æ®æˆå‘˜çš„å®šä¹‰å¯ä»¥ç›´æ¥åœ¨æ„é€ å‡½æ•°ä¸­å®ç°ï¼Œä¹Ÿå¯ä»¥åœ¨<strong>åç»­çš„ä½¿ç”¨ä¸­æ·»åŠ æ–°çš„æ•°æ®æˆå‘˜</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.data_member = <span class="hljs-number">42</span>  <span class="hljs-comment"># å®šä¹‰æ•°æ®æˆå‘˜</span><br>        <span class="hljs-variable language_">self</span>.name = <span class="hljs-string">&quot;Python&quot;</span>   <span class="hljs-comment"># å®šä¹‰å¦ä¸€ä¸ªæ•°æ®æˆå‘˜</span><br><br>obj = MyClass()<br><span class="hljs-built_in">print</span>(obj.data_member)  <span class="hljs-comment"># è¾“å‡º: 42</span><br><span class="hljs-built_in">print</span>(obj.name)         <span class="hljs-comment"># è¾“å‡º: Python</span><br><br>obj.new_data_member = <span class="hljs-string">&quot;Dynamic&quot;</span>  <span class="hljs-comment"># åŠ¨æ€æ·»åŠ æ•°æ®æˆå‘˜</span><br><span class="hljs-built_in">print</span>(obj.new_data_member)       <span class="hljs-comment"># è¾“å‡º: Dynamic</span><br><br><span class="hljs-comment"># ä½¿ç”¨slotså¯ä»¥æ˜¾å¼åœ°è§„å®šä¸å¯ä»¥æ·»åŠ æ–°çš„æ•°æ®æˆå‘˜</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    __slots__ = [<span class="hljs-string">&#x27;data_member&#x27;</span>, <span class="hljs-string">&#x27;name&#x27;</span>]  <span class="hljs-comment"># é™åˆ¶åªèƒ½æœ‰è¿™ä¸¤ä¸ªæ•°æ®æˆå‘˜</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.data_member = <span class="hljs-number">42</span><br>        <span class="hljs-variable language_">self</span>.name = <span class="hljs-string">&quot;Python&quot;</span><br><br>obj = MyClass()<br><span class="hljs-built_in">print</span>(obj.data_member)  <span class="hljs-comment"># è¾“å‡º: 42</span><br><span class="hljs-built_in">print</span>(obj.name)         <span class="hljs-comment"># è¾“å‡º: Python</span><br><br><span class="hljs-comment"># obj.new_member = &quot;Dynamic&quot;  # æŠ¥é”™: AttributeError</span><br></code></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒPythonä¸­å­˜åœ¨<strong>ç±»ä¸€çº§çš„æ•°æ®æˆå‘˜</strong>ï¼Œç±»ä¼¼äºC++ä¸­çš„é™æ€æ•°æ®æˆå‘˜ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    class_data_member = <span class="hljs-number">100</span>  <span class="hljs-comment"># å®šä¹‰ç±»å˜é‡ï¼ˆç±»æ•°æ®æˆå‘˜ï¼‰</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.instance_data_member = <span class="hljs-number">42</span>  <span class="hljs-comment"># å®šä¹‰å®ä¾‹å˜é‡</span><br><br>obj1 = MyClass()<br>obj2 = MyClass()<br><br><span class="hljs-built_in">print</span>(MyClass.class_data_member)  <span class="hljs-comment"># è¾“å‡º: 100ï¼ˆé€šè¿‡ç±»åè®¿é—®ï¼‰</span><br><span class="hljs-built_in">print</span>(obj1.class_data_member)     <span class="hljs-comment"># è¾“å‡º: 100ï¼ˆé€šè¿‡å¯¹è±¡è®¿é—®ï¼‰</span><br><span class="hljs-built_in">print</span>(obj1.instance_data_member)  <span class="hljs-comment"># è¾“å‡º: 42</span><br><br><span class="hljs-comment"># ä¿®æ”¹ç±»å˜é‡</span><br>MyClass.class_data_member = <span class="hljs-number">200</span><br><span class="hljs-built_in">print</span>(obj2.class_data_member)     <span class="hljs-comment"># è¾“å‡º: 200ï¼ˆæ‰€æœ‰å¯¹è±¡å…±äº«ç±»å˜é‡ï¼‰</span><br></code></pre></td></tr></table></figure><h3 id="Public-and-Privateï¼Ÿ"><a href="#Public-and-Privateï¼Ÿ" class="headerlink" title="Public and Privateï¼Ÿ"></a>Public and Privateï¼Ÿ</h3><p>ç»§ç»­è§‚å¯ŸPythonä»£ç ï¼Œå‘ç°<strong>Pythonä¸­æ²¡æœ‰privateå’Œpublic</strong>çš„åŒºåˆ«äº†ï¼</p><blockquote><p>è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œå› ä¸ºOOPçš„æ ¸å¿ƒç²¾ç¥ä¹‹ä¸€å°±æ˜¯å°è£…ï¼Œè€Œä¸åŒè®¿é—®æƒé™çš„è®¾ç½®æ˜¯å°è£…ç²¾ç¥å®ç°çš„åŸºç¡€ã€‚</p></blockquote><p>åœ¨ Python ä¸­ï¼Œç¡®å®æ²¡æœ‰åƒ C++ æˆ– Java é‚£æ ·ä¸¥æ ¼çš„ <code>private</code> å’Œ <code>public</code> è®¿é—®æ§åˆ¶å…³é”®å­—ã€‚Python é‡‡ç”¨äº†ä¸€ç§æ›´åŠ çµæ´»çš„æ–¹å¼æ¥æ§åˆ¶æˆå‘˜çš„è®¿é—®æƒé™ï¼Œä¸»è¦é€šè¿‡<strong>å‘½åçº¦å®š</strong>å’Œ<strong>ç‰¹æ®Šæœºåˆ¶</strong>æ¥å®ç°ç±»ä¼¼çš„åŠŸèƒ½ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰</strong>éƒ½æ˜¯å…¬æœ‰çš„ã€‚æ²¡é”™ï¼ŒPythonä¸­çš„ç±»å®ç°ç‰ºç‰²äº†å°è£…æ€§ã€‚ä¹Ÿæ²¡æœ‰å‹å…ƒçš„å®ç°ã€‚</p><div class="note note-primary">            <p><strong>Pythonä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ</strong>è¯·çœ‹è¿™ä¸ªé“¾æ¥ï¼š  <a href="https://mail.python.org/pipermail/tutor/2003-October/025932.html">Pythonic</a></p><p>I came across a quote â€œ<strong>we are all consenting adults here</strong>â€œ I think in explaining why it is not necessary to have type declaration statements in Python, in contrast to other strongly-typed languages.</p><p>This expression is also used in the object-oriented python literature to explain pythonâ€™s attitudes about private class members, which python doesnâ€™t have. </p><p>When you create an instance of some class there is nothing to prevent you from poking around inside and using various internal,<br>private methods that are (a) necessary for the class to function, BUT (b) not intended for direct use&#x2F;access.</p><p>Nothing is really private in python. No class or class instance can keep you away from all whatâ€™s inside (this makes introspection possible and powerful). Python trusts you. It says â€œhey, if you want to go poking around in dark places, Iâ€™m gonna trust that youâ€™ve got a good reason and youâ€™re not making trouble.â€</p><p>After all, <strong>weâ€™re all consenting adults here</strong>. C++ and Java donâ€™t have this philosophy (not to the same extent). They allow you create private methods and static members. Perl culture is like python in this respect, but Perl expresses the sentiment a bit differently. As the Camel book puts it,</p><p>  â€œa Perl module would prefer that you stayed out of its living room because you werenâ€™t invited, not because it has a shotgun.â€ But the sentiment is identical.</p><p>â€“karl</p><p>æˆ‘å¶ç„¶çœ‹åˆ°ä¸€å¥è¯ï¼šâ€œ<strong>we are all consenting adults here</strong>â€ï¼ˆæˆ‘ä»¬éƒ½æ˜¯æˆå¹´äººï¼‰ï¼Œè¿™å¥è¯é€šå¸¸ç”¨æ¥è§£é‡Šä¸ºä»€ä¹ˆ Python ä¸éœ€è¦åƒå…¶ä»–å¼ºç±»å‹è¯­è¨€é‚£æ ·æœ‰ç±»å‹å£°æ˜è¯­å¥ã€‚</p><p>è¿™ä¸ªè¡¨è¾¾ä¹Ÿç”¨åœ¨ Python é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ–‡çŒ®ä¸­ï¼Œç”¨æ¥è§£é‡Š Python å¯¹äº<strong>ç§æœ‰ç±»æˆå‘˜</strong>çš„æ€åº¦â€”â€”Python å¹¶æ²¡æœ‰çœŸæ­£çš„ç§æœ‰æˆå‘˜ã€‚å½“ä½ åˆ›å»ºæŸä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œæ²¡æœ‰ä»€ä¹ˆèƒ½é˜»æ­¢ä½ å»æ¢ç´¢ç±»çš„å†…éƒ¨å¹¶ä½¿ç”¨å„ç§å†…éƒ¨çš„ã€ç§æœ‰çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ï¼ˆaï¼‰æ˜¯ç±»æ­£å¸¸è¿è¡Œæ‰€å¿…éœ€çš„ï¼Œä½†ï¼ˆbï¼‰å¹¶ä¸æ‰“ç®—è®©ä½ ç›´æ¥ä½¿ç”¨æˆ–è®¿é—®ã€‚</p><p>åœ¨ Python ä¸­ï¼Œ<strong>æ²¡æœ‰ä»€ä¹ˆä¸œè¥¿æ˜¯çœŸæ­£ç§æœ‰çš„</strong>ã€‚æ²¡æœ‰ä»»ä½•ç±»æˆ–ç±»çš„å®ä¾‹èƒ½é˜»æ­¢ä½ è®¿é—®å†…éƒ¨çš„æ‰€æœ‰å†…å®¹ï¼ˆè¿™ä½¿å¾— Python çš„å†…çœæœºåˆ¶å˜å¾—å¯èƒ½ä¸”å¼ºå¤§ï¼‰ã€‚Python ä¿¡ä»»ä½ ã€‚å®ƒè¯´ï¼šâ€œå˜¿ï¼Œå¦‚æœä½ æƒ³æ·±å…¥æ¢ç´¢é‚£äº›é»‘æš—çš„è§’è½ï¼Œæˆ‘ä¼šç›¸ä¿¡ä½ æœ‰å……åˆ†çš„ç†ç”±ï¼Œè€Œä¸æ˜¯åœ¨æ£ä¹±ã€‚â€</p><p>æ¯•ç«Ÿï¼Œ<strong>æˆ‘ä»¬éƒ½æ˜¯æˆå¹´äºº</strong>ã€‚C++ å’Œ Java å¹¶æ²¡æœ‰è¿™ç§å“²å­¦ï¼ˆè‡³å°‘ä¸åƒ Python è¿™æ ·ï¼‰ã€‚å®ƒä»¬å…è®¸ä½ åˆ›å»ºç§æœ‰æ–¹æ³•å’Œé™æ€æˆå‘˜ã€‚Perl çš„æ–‡åŒ–åœ¨è¿™æ–¹é¢ä¸ Python ç±»ä¼¼ï¼Œä½† Perl çš„è¡¨è¾¾æ–¹å¼ç•¥æœ‰ä¸åŒã€‚æ­£å¦‚ã€Šéª†é©¼ä¹¦ã€‹ï¼ˆPerl çš„ç»å…¸ä¹¦ç±ï¼‰ä¸­æ‰€è¯´ï¼š</p><blockquote><p>â€œPerl æ¨¡å—æ›´å¸Œæœ›ä½ è¿œç¦»å®ƒçš„å®¢å…ï¼Œå› ä¸ºä½ æ²¡æœ‰è¢«é‚€è¯·ï¼Œè€Œä¸æ˜¯å› ä¸ºå®ƒæœ‰ä¸€æŠŠçŒæªã€‚â€</p></blockquote><p>ä½†ä¸¤è€…çš„ç†å¿µæ˜¯ç›¸åŒçš„ã€‚</p><p>â€”â€”Karl</p>          </div><p>ä¸è¿‡å®é™…ä¸Šï¼ŒPythonä¸­ä¹Ÿå…è®¸ä¸€äº›<strong>ç±»ä¼¼ç§æœ‰æˆå‘˜</strong>çš„å®ç°æ–¹å¼ï¼Œä¸è¿‡å¹¶æ²¡æœ‰åƒC++ä¸€æ ·é‚£ä¹ˆä¸¥æ ¼ã€‚</p><h4 id="Protected-Members"><a href="#Protected-Members" class="headerlink" title="Protected Members"></a><strong>Protected Members</strong></h4><ul><li><p><strong>å®šä¹‰</strong>ï¼šé€šè¿‡åœ¨æˆå‘˜åå‰åŠ ä¸€ä¸ªä¸‹åˆ’çº¿ <code>_</code> æ¥è¡¨ç¤ºå—ä¿æŠ¤æˆå‘˜ã€‚</p></li><li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>è¿™æ˜¯ä¸€ç§å‘½åçº¦å®šï¼Œè¡¨ç¤ºè¯¥æˆå‘˜<strong>ä¸åº”è¯¥</strong>åœ¨ç±»çš„å¤–éƒ¨ç›´æ¥è®¿é—®ï¼Œä½† Python å¹¶ä¸ä¼šé˜»æ­¢ä½ è®¿é—®ã€‚</li><li>ä¸»è¦ç”¨äºæç¤ºå¼€å‘è€…ï¼šâ€œè¿™æ˜¯ä¸€ä¸ªå†…éƒ¨å®ç°ç»†èŠ‚ï¼Œè¯·è°¨æ…ä½¿ç”¨â€ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>._protected_var = <span class="hljs-number">20</span>  <span class="hljs-comment"># å—ä¿æŠ¤å˜é‡</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_protected_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is a protected method.&quot;</span>)  <span class="hljs-comment"># å—ä¿æŠ¤æ–¹æ³•</span><br><br>obj = MyClass()<br><span class="hljs-built_in">print</span>(obj._protected_var)  <span class="hljs-comment"># å¯ä»¥è®¿é—®ï¼Œä½†ä¸æ¨è</span><br>obj._protected_method()    <span class="hljs-comment"># å¯ä»¥è°ƒç”¨ï¼Œä½†ä¸æ¨è</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="Private-Members"><a href="#Private-Members" class="headerlink" title="Private Members"></a><strong>Private Members</strong></h4><ul><li><p><strong>å®šä¹‰</strong>ï¼šé€šè¿‡åœ¨æˆå‘˜åå‰åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿ <code>__</code> æ¥è¡¨ç¤ºç§æœ‰æˆå‘˜ã€‚</p></li><li><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>Python ä¼šå¯¹ç§æœ‰æˆå‘˜è¿›è¡Œåç§°æ”¹å†™ï¼ˆName Manglingï¼‰ï¼Œä½¿å…¶åœ¨ç±»çš„å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ã€‚</li><li>åç§°æ”¹å†™è§„åˆ™ï¼š<code>__var</code> ä¼šè¢«æ”¹å†™ä¸º <code>_ClassName__var</code>ã€‚</li><li>è¿™æ˜¯ä¸€ç§æ›´ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶ï¼Œä½†ä»ç„¶å¯ä»¥é€šè¿‡æ”¹å†™åçš„åç§°è®¿é—®ï¼ˆä¸æ¨èï¼‰ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>.__private_var = <span class="hljs-number">30</span>  <span class="hljs-comment"># ç§æœ‰å˜é‡</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__private_method</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is a private method.&quot;</span>)  <span class="hljs-comment"># ç§æœ‰æ–¹æ³•</span><br><br>obj = MyClass()<br><span class="hljs-comment"># print(obj.__private_var)  # ç›´æ¥è®¿é—®ä¼šæŠ¥é”™ï¼šAttributeError</span><br><span class="hljs-comment"># obj.__private_method()    # ç›´æ¥è°ƒç”¨ä¼šæŠ¥é”™ï¼šAttributeError</span><br><br><span class="hljs-comment"># é€šè¿‡åç§°æ”¹å†™è®¿é—®ï¼ˆä¸æ¨èï¼‰</span><br><span class="hljs-built_in">print</span>(obj._MyClass__private_var)  <span class="hljs-comment"># è¾“å‡ºï¼š30</span><br>obj._MyClass__private_method()    <span class="hljs-comment"># è¾“å‡ºï¼šThis is a private method</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h3><h4 id="Default-Constructor-and-parameterized-Constructor"><a href="#Default-Constructor-and-parameterized-Constructor" class="headerlink" title="Default Constructor and parameterized Constructor"></a><strong>Default Constructor and parameterized Constructor</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, row=<span class="hljs-number">1</span>, col=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Default constructor for the Matrix class.</span><br><span class="hljs-string">        Initializes a matrix with the given number of rows and columns.</span><br><span class="hljs-string">        If no dimensions are provided, defaults to a 1x1 matrix.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>.row = row<br>        <span class="hljs-variable language_">self</span>.col = col<br>        <span class="hljs-comment"># Create a 2D list (matrix) filled with zeros</span><br>        <span class="hljs-variable language_">self</span>.thenumlist = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(col)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(row)]<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">Matrix</span>(<span class="hljs-type">int</span> row_=<span class="hljs-number">1</span>,<span class="hljs-type">int</span> col_=<span class="hljs-number">1</span>):<span class="hljs-built_in">row</span>(row_),<span class="hljs-built_in">col</span>(col_)&#123;<br>            thenumlist=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>*[row];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;row;i++)&#123;<br>                thenumlist[i]=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span> [col];<br>            &#125;<br>        &#125;;<br></code></pre></td></tr></table></figure><p>è®²é¢å‘å¯¹è±¡ç¼–ç¨‹è‚¯å®šå¾—ä»æ„é€ å‡½æ•°è®²èµ·ï¼Œä¸‹é¢ç€é‡åˆ†æä¸¤ç§è¯­è¨€ä¸­åœ¨è¯­æ³•ä¸Šçš„å·®å¼‚ï¼š</p><ul><li><code>self</code>ï¼š<code>self</code> æ˜¯ç±»çš„æ–¹æ³•ï¼ˆåŒ…æ‹¬æ„é€ å‡½æ•° <code>__init__</code>ï¼‰ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºè¡¨ç¤º<strong>å½“å‰å¯¹è±¡çš„å®ä¾‹</strong>ã€‚æœ‰ç‚¹ç±»ä¼¼äºC++ä¸­çš„<strong>éšå¼thisæŒ‡é’ˆ</strong>ï¼</li><li>Pythonä¸­çš„æ•°æ®æˆå‘˜çš„å£°æ˜ä¸»è¦éƒ½æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œçš„ï¼Œå¹¶ä¸”æ²¡æœ‰æä¾›è®¿é—®æƒé™çš„æ§åˆ¶ã€‚</li></ul><h4 id="Copy-Constructor"><a href="#Copy-Constructor" class="headerlink" title="Copy Constructor"></a>Copy Constructor</h4><p>åœ¨C++ä¸­ï¼Œç”±äºæ¶‰åŠåˆ°æŒ‡é’ˆï¼Œä½¿ç”¨<strong>å¤åˆ¶æ„é€ å‡½æ•°</strong>æ˜¯éå¸¸æœ‰å¿…è¦çš„ï¼åœ¨ Python ä¸­ï¼Œ<strong>æ²¡æœ‰æ˜¾å¼çš„æ‹·è´æ„é€ å‡½æ•°</strong>ï¼ˆCopy Constructorï¼‰ï¼Œå› ä¸º Python çš„å†…å­˜ç®¡ç†å’Œå¯¹è±¡å¤åˆ¶æœºåˆ¶ä¸ C++ ä¸åŒã€‚ä½†æ˜¯åœ¨Pythonçš„<code>copy</code>åº“ä¸­ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„å®ç°æ–¹å¼ã€‚</p><h5 id="Shallow-Copy"><a href="#Shallow-Copy" class="headerlink" title="Shallow Copy"></a>Shallow Copy</h5><ul><li><p><strong>å®šä¹‰</strong>ï¼šæµ…æ‹·è´åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½†ä¸ä¼šé€’å½’å¤åˆ¶å¯¹è±¡å†…éƒ¨çš„å­å¯¹è±¡ã€‚</p></li><li><p><strong>å®ç°æ–¹å¼</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>copy.copy()</code> å‡½æ•°ã€‚</li><li>ä½¿ç”¨å¯¹è±¡çš„ <code>copy()</code> æ–¹æ³•ï¼ˆå¦‚æœå¯¹è±¡æ”¯æŒï¼‰ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value,valist</span>):<br>        <span class="hljs-variable language_">self</span>.value = value<br>        <span class="hljs-variable language_">self</span>.valist= valist<br><br>obj1 = MyClass(<span class="hljs-number">42</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br>obj2 = copy.copy(obj1)<br><br><span class="hljs-built_in">print</span>(obj1.value)  <br><span class="hljs-built_in">print</span>(obj2.value)<br><br><span class="hljs-built_in">print</span>(obj1.valist)<br><span class="hljs-built_in">print</span>(obj2.valist)<br><br><span class="hljs-comment"># obj2.valist=[1,2,3,3,4] è¿™æ ·ä¼šè®©obj2.valistæŒ‡å‘ä¸€ä¸ªæ–°çš„åˆ—è¡¨å¯¹è±¡</span><br>obj2.value+=<span class="hljs-number">1</span><br>obj2.valist.append(<span class="hljs-number">33</span>)<br><br><span class="hljs-built_in">print</span>(obj1.valist)<br><span class="hljs-built_in">print</span>(obj2.valist)<br><br><span class="hljs-built_in">print</span>(obj1.value)  <br><span class="hljs-built_in">print</span>(obj2.value)<br><br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Bash">42<br>42<br>[1, 2, 3, 4]<br>[1, 2, 3, 4]<br>[1, 2, 3, 4, 33]<br>[1, 2, 3, 4, 33]<br>42<br>43<br></code></pre></td></tr></table></figure><ul><li>å¦‚æœå¯¹è±¡åŒ…å«å¯å˜å­å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å­—å…¸ï¼‰ï¼Œ<strong>æµ…æ‹·è´</strong>ä¼šå…±äº«è¿™äº›å­å¯¹è±¡ã€‚</li></ul><p><strong>åˆ†æ</strong>ï¼šåœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>obj2 = copy.copy(obj1)</code>è®©ä¸¤ä¸ªå¯¹è±¡çš„<code>valist</code>æ•°æ®æˆå‘˜æŒ‡å‘äº†<strong>åŒä¸€ä¸ªåˆ—è¡¨ï¼</strong>å› æ­¤å¯¹obj2è¿›è¡Œä¿®æ”¹çš„æ—¶å€™obj1ä¹Ÿä¼šä¿®æ”¹ã€‚</p><blockquote><p>è¿™ä¸€ç‚¹å’ŒC++ä¸€æ ·ï¼Œç›¸å½“äº<strong>ä¸€æ¡ç»³ä¸Šçš„èš‚èš±</strong>ï¼</p></blockquote></li></ul><h5 id="Deep-Copy"><a href="#Deep-Copy" class="headerlink" title="Deep Copy"></a>Deep Copy</h5><ul><li><p><strong>å®šä¹‰</strong>ï¼šæ·±æ‹·è´åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¹¶é€’å½’å¤åˆ¶å¯¹è±¡å†…éƒ¨çš„æ‰€æœ‰å­å¯¹è±¡ã€‚</p></li><li><p><strong>å®ç°æ–¹å¼</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>copy.deepcopy()</code> å‡½æ•°ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value,valist</span>):<br>        <span class="hljs-variable language_">self</span>.value = value<br>        <span class="hljs-variable language_">self</span>.valist= valist<br><br>obj1 = MyClass(<span class="hljs-number">42</span>,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br>obj2 = copy.deepcopy(obj1) <span class="hljs-comment">#ä»…ä¿®æ”¹è¿™ä¸€å¤„</span><br><br><span class="hljs-built_in">print</span>(obj1.value)  <br><span class="hljs-built_in">print</span>(obj2.value)<br><br><span class="hljs-built_in">print</span>(obj1.valist)<br><span class="hljs-built_in">print</span>(obj2.valist)<br><br><span class="hljs-comment"># obj2.valist=[1,2,3,3,4] è¿™æ ·ä¼šè®©obj2.valistæŒ‡å‘ä¸€ä¸ªæ–°çš„åˆ—è¡¨å¯¹è±¡</span><br>obj2.value+=<span class="hljs-number">1</span><br>obj2.valist.append(<span class="hljs-number">33</span>)<br><br><span class="hljs-built_in">print</span>(obj1.valist)<br><span class="hljs-built_in">print</span>(obj2.valist)<br><br><span class="hljs-built_in">print</span>(obj1.value)  <br><span class="hljs-built_in">print</span>(obj2.value)<br><br></code></pre></td></tr></table></figure></li><li><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>æ·±æ‹·è´ä¼šé€’å½’å¤åˆ¶æ‰€æœ‰å­å¯¹è±¡ï¼Œå› æ­¤ä¸ä¼šå…±äº«ä»»ä½•å¯å˜å­å¯¹è±¡ã€‚</li></ul></li></ul><h5 id="Define-Copy-Constructor-explicitly"><a href="#Define-Copy-Constructor-explicitly" class="headerlink" title="Define Copy Constructor explicitly"></a>Define Copy Constructor <strong>explicitly</strong></h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__copy__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Copy constructor for the Matrix class.</span><br><span class="hljs-string">        Creates a new Matrix object that is a copy of the current object.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        new_matrix = Matrix(<span class="hljs-variable language_">self</span>.row, <span class="hljs-variable language_">self</span>.col)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                new_matrix.thenumlist[i][j] = <span class="hljs-variable language_">self</span>.thenumlist[i][j]<br>        <span class="hljs-keyword">return</span> new_matrix<br></code></pre></td></tr></table></figure><div class="note note-danger">            <p><strong>æ³¨æ„ï¼åœ¨è¿™é‡Œæœ¬è´¨ä¸Šè¿˜æ˜¯è¿›è¡Œæµ…æ‹·è´ï¼ˆå’ŒC++æœ‰å¾ˆå¤§ä¸åŒï¼‰</strong>ã€‚å› ä¸ºPythonå…è®¸<code>thenumlist[i][j]</code>æ˜¯ä»»ä½•æ•°æ®ç±»å‹ï¼ˆç”šè‡³æ˜¯<strong>å¯å˜æ•°æ®ï¼Œä¾‹å¦‚åˆ—è¡¨</strong>ï¼‰ã€‚å¦‚æœæ˜¯ä¸å¯å˜æ•°æ®ä¾‹å¦‚ä¸€ä¸ª<code>int</code>æ•´æ•°ï¼Œæ·±æ‹·è´å’Œæµ…æ‹·è´çš„è¡Œä¸ºæ²¡æœ‰å·®åˆ«ï¼Œä½†å¦‚æœæ˜¯ä¸€ä¸ªå¯å˜æ•°æ®ç±»å‹ä¾‹å¦‚åˆ—è¡¨ï¼Œé‚£ä¹ˆå…¶æœ¬è´¨ä¸Šè¿˜æ˜¯æŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨ï¼Œæ˜¯ä¸€æ¡ç»³ä¸Šçš„èš‚èš±ï¼</p>          </div><p>ä¸è¿‡ï¼ŒPythonä¹Ÿæ”¯æŒè‡ªå®šä¹‰æ·±æ‹·è´å‡½æ•°ã€‚<strong>ä½†æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸ç”¨<code>copy</code>åº“ä¸­ç»™å¥½çš„å‡½æ•°å‘¢ï¼Ÿ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-variable language_">self</span>.value = value<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__copy__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è‡ªå®šä¹‰æµ…æ‹·è´è¡Œä¸º&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> MyClass(<span class="hljs-variable language_">self</span>.value)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__deepcopy__</span>(<span class="hljs-params">self, memo</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è‡ªå®šä¹‰æ·±æ‹·è´è¡Œä¸º&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> MyClass(copy.deepcopy(<span class="hljs-variable language_">self</span>.value, memo))<br><br>obj1 = MyClass(<span class="hljs-number">42</span>)<br>obj2 = copy.copy(obj1)      <span class="hljs-comment"># è°ƒç”¨ __copy__</span><br>obj3 = copy.deepcopy(obj1)  <span class="hljs-comment"># è°ƒç”¨ __deepcopy__</span><br><br><span class="hljs-built_in">print</span>(obj1.value)  <span class="hljs-comment"># è¾“å‡º: 42</span><br><span class="hljs-built_in">print</span>(obj2.value)  <span class="hljs-comment"># è¾“å‡º: 42</span><br><span class="hljs-built_in">print</span>(obj3.value)  <span class="hljs-comment"># è¾“å‡º: 42</span><br></code></pre></td></tr></table></figure><table><thead><tr><th>ç‰¹æ€§</th><th>Python ä¸­çš„å¯¹è±¡å¤åˆ¶</th><th>C++ ä¸­çš„æ‹·è´æ„é€ å‡½æ•°</th></tr></thead><tbody><tr><td><strong>å®ç°æ–¹å¼</strong></td><td>é€šè¿‡ <code>copy.copy()</code> æˆ– <code>copy.deepcopy()</code></td><td>é€šè¿‡æ˜¾å¼çš„æ‹·è´æ„é€ å‡½æ•°</td></tr><tr><td><strong>é»˜è®¤è¡Œä¸º</strong></td><td>æµ…æ‹·è´ï¼ˆå…±äº«å­å¯¹è±¡ï¼‰</td><td>æ·±æ‹·è´ï¼ˆé€’å½’å¤åˆ¶å­å¯¹è±¡ï¼‰</td></tr><tr><td><strong>è‡ªå®šä¹‰è¡Œä¸º</strong></td><td>é€šè¿‡ <code>__copy__</code> å’Œ <code>__deepcopy__</code></td><td>é€šè¿‡è‡ªå®šä¹‰æ‹·è´æ„é€ å‡½æ•°</td></tr><tr><td><strong>å†…å­˜ç®¡ç†</strong></td><td>è‡ªåŠ¨åƒåœ¾å›æ”¶</td><td>æ‰‹åŠ¨å†…å­˜ç®¡ç†</td></tr></tbody></table><h3 id="Destructor"><a href="#Destructor" class="headerlink" title="Destructor"></a>Destructor</h3><p>Pythonä¸­ä¸ç”¨å®ç°å…·ä½“çš„åŠ¨æ€å†…å­˜åˆ†é…çš„å›æ”¶ï¼Œä¸è¿‡å¯ä»¥å®ç°ä¸€äº›å…¶ä»–çš„åŠŸèƒ½ã€‚ï¼ˆä¾‹å¦‚è¾“å‡ºç‰¹å®šçš„ä¿¡æ¯ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__del__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># ææ„å‡½æ•°çš„ä»£ç </span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Object is being destroyed&quot;</span>)<br></code></pre></td></tr></table></figure><h3 id="Operator-Overloading"><a href="#Operator-Overloading" class="headerlink" title="Operator Overloading"></a>Operator Overloading</h3><p>åœ¨ Python ä¸­ï¼Œ<strong>è¿ç®—ç¬¦é‡è½½</strong>ï¼ˆOperator Overloadingï¼‰æ˜¯é€šè¿‡å®šä¹‰ç±»çš„ç‰¹æ®Šæ–¹æ³•ï¼ˆMagic Methods æˆ– Dunder Methodsï¼‰æ¥å®ç°çš„ã€‚è¿™äº›ç‰¹æ®Šæ–¹æ³•ä»¥åŒä¸‹åˆ’çº¿ <code>__</code> å¼€å¤´å’Œç»“å°¾ï¼Œä¾‹å¦‚ <code>__add__</code>ã€<code>__sub__</code> ç­‰ã€‚é€šè¿‡å®ç°è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥è®©è‡ªå®šä¹‰ç±»çš„å¯¹è±¡æ”¯æŒ Python çš„å†…ç½®è¿ç®—ç¬¦ï¼ˆå¦‚ <code>+</code>ã€<code>-</code>ã€<code>*</code> ç­‰ï¼‰ã€‚</p><table><thead><tr><th align="left">è¿ç®—ç¬¦</th><th align="left">æ–¹æ³•å</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>+</code></td><td align="left"><code>__add__</code></td><td align="left">åŠ æ³•è¿ç®—</td></tr><tr><td align="left"><code>-</code></td><td align="left"><code>__sub__</code></td><td align="left">å‡æ³•è¿ç®—</td></tr><tr><td align="left"><code>*</code></td><td align="left"><code>__mul__</code></td><td align="left">ä¹˜æ³•è¿ç®—</td></tr><tr><td align="left"><code>/</code></td><td align="left"><code>__truediv__</code></td><td align="left">é™¤æ³•è¿ç®—</td></tr><tr><td align="left"><code>//</code></td><td align="left"><code>__floordiv__</code></td><td align="left">æ•´é™¤è¿ç®—</td></tr><tr><td align="left"><code>%</code></td><td align="left"><code>__mod__</code></td><td align="left">å–æ¨¡è¿ç®—</td></tr><tr><td align="left"><code>**</code></td><td align="left"><code>__pow__</code></td><td align="left">å¹‚è¿ç®—</td></tr><tr><td align="left"><code>==</code></td><td align="left"><code>__eq__</code></td><td align="left">ç­‰äºè¿ç®—</td></tr><tr><td align="left"><code>!=</code></td><td align="left"><code>__ne__</code></td><td align="left">ä¸ç­‰äºè¿ç®—</td></tr><tr><td align="left"><code>&lt;</code></td><td align="left"><code>__lt__</code></td><td align="left">å°äºè¿ç®—</td></tr><tr><td align="left"><code>&lt;=</code></td><td align="left"><code>__le__</code></td><td align="left">å°äºç­‰äºè¿ç®—</td></tr><tr><td align="left"><code>&gt;</code></td><td align="left"><code>__gt__</code></td><td align="left">å¤§äºè¿ç®—</td></tr><tr><td align="left"><code>&gt;=</code></td><td align="left"><code>__ge__</code></td><td align="left">å¤§äºç­‰äºè¿ç®—</td></tr><tr><td align="left"><code>[]</code></td><td align="left"><code>__getitem__</code></td><td align="left">ç´¢å¼•æ“ä½œ</td></tr><tr><td align="left"><code>[]=</code></td><td align="left"><code>__setitem__</code></td><td align="left">ç´¢å¼•èµ‹å€¼æ“ä½œ</td></tr><tr><td align="left"><code>len()</code></td><td align="left"><code>__len__</code></td><td align="left">è·å–å¯¹è±¡é•¿åº¦</td></tr><tr><td align="left"><code>str()</code></td><td align="left"><code>__str__</code></td><td align="left">è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤º</td></tr><tr><td align="left"><code>repr()</code></td><td align="left"><code>__repr__</code></td><td align="left">è¿”å›å¯¹è±¡çš„å®˜æ–¹å­—ç¬¦ä¸²è¡¨ç¤º</td></tr><tr><td align="left"><code>in</code></td><td align="left"><code>__contains__</code></td><td align="left">æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨å¯¹è±¡ä¸­</td></tr><tr><td align="left"><code>()</code></td><td align="left"><code>__call__</code></td><td align="left">ä½¿å¯¹è±¡å¯è°ƒç”¨ï¼ˆåƒå‡½æ•°ä¸€æ ·ï¼‰</td></tr></tbody></table><p>ä»¥ä¸Šæ–‡çš„çŸ©é˜µç±»ä¸ºä¾‹ï¼Œçœ‹ä¸€çœ‹å…·ä½“æ˜¯å¦‚ä½•å®ç°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, x, y</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the () operator to access elements of the matrix.</span><br><span class="hljs-string">        Returns the element at the specified row and column.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.thenumlist[x][y]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the == operator to compare two matrices.</span><br><span class="hljs-string">        Returns True if the matrices have the same dimensions and elements, otherwise False.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.row != other.row <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.col != other.col:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.thenumlist[i][j] != other.thenumlist[i][j]:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__assign__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the = operator to assign one matrix to another.</span><br><span class="hljs-string">        Performs a deep copy of the elements.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span> == other:<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span><br>        <span class="hljs-variable language_">self</span>.row = other.row<br>        <span class="hljs-variable language_">self</span>.col = other.col<br>        <span class="hljs-variable language_">self</span>.thenumlist = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row)]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                <span class="hljs-variable language_">self</span>.thenumlist[i][j] = other.thenumlist[i][j]<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__add__</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the + operator to add two matrices.</span><br><span class="hljs-string">        Returns a new Matrix object that is the sum of the two matrices.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.row != other.row <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.col != other.col:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;Matrix dimensions do not match for addition.&quot;</span>)<br>        result = Matrix(<span class="hljs-variable language_">self</span>.row, <span class="hljs-variable language_">self</span>.col)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.col):<br>                result.thenumlist[i][j] = <span class="hljs-variable language_">self</span>.thenumlist[i][j] + other.thenumlist[i][j]<br>        <span class="hljs-keyword">return</span> result<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the str() function to provide a string representation of the matrix.</span><br><span class="hljs-string">        Returns the matrix as a formatted string.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\n&quot;</span>.join([<span class="hljs-string">&quot; &quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, row)) <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.thenumlist])<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__repr__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Overloads the repr() function to provide a detailed string representation of the matrix.</span><br><span class="hljs-string">        Useful for debugging.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;Matrix(<span class="hljs-subst">&#123;self.row&#125;</span>, <span class="hljs-subst">&#123;self.col&#125;</span>, data=<span class="hljs-subst">&#123;self.thenumlist&#125;</span>)&quot;</span><br></code></pre></td></tr></table></figure><h3 id="Static-Members"><a href="#Static-Members" class="headerlink" title="Static Members"></a>Static Members</h3><p>å¯¹äº<strong>é™æ€æ•°æ®æˆå‘˜</strong>æ¥è¯´ï¼Œå¯ä»¥é€šè¿‡ç±»ä¸€çº§çš„æ•°æ®æˆå‘˜å®ç°ï¼Œåœ¨ä¸Šæ–‡æœ‰è®²ã€‚[è·³è½¬é“¾æ¥](#Data and functionsï¼Ÿ)</p><p>å¯¹äºé™æ€æˆå‘˜å‡½æ•°æ¥è¯´ï¼Œä½¿ç”¨ <code>@staticmethod</code> è£…é¥°å™¨å®šä¹‰é™æ€æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">static_method</span>():<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;This is a static method&quot;</span>)<br><br><span class="hljs-comment"># é€šè¿‡ç±»åè°ƒç”¨é™æ€æ–¹æ³•</span><br>MyClass.static_method()  <span class="hljs-comment"># è¾“å‡º: This is a static method</span><br><br><span class="hljs-comment"># é€šè¿‡å®ä¾‹è°ƒç”¨é™æ€æ–¹æ³•</span><br>obj = MyClass()<br>obj.static_method()      <span class="hljs-comment"># è¾“å‡º: This is a static method</span><br></code></pre></td></tr></table></figure><h3 id="Class-Inheritance"><a href="#Class-Inheritance" class="headerlink" title="Class Inheritance"></a>Class Inheritance</h3><p>åœ¨Pythonä¸­ï¼Œä¹Ÿå¯ä»¥å®ç°ç±»çš„ç»§æ‰¿ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ParentClass</span>:<br>    <span class="hljs-comment"># çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</span><br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ChildClass</span>(<span class="hljs-title class_ inherited__">ParentClass</span>):<br>    <span class="hljs-comment"># å­ç±»çš„å±æ€§å’Œæ–¹æ³•</span><br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><p>ä¸‹æ–‡ä»¥ä¸€ä¸ªç®€åŒ–çš„çŸ©é˜µç±»ä¸ºç¤ºä¾‹ï¼Œæ¼”ç¤ºä¸€ä¸‹ç±»çš„ç»§æ‰¿ï¼š</p><blockquote><p>æ˜¯<strong>å…¬æœ‰ç»§æ‰¿</strong>ï¼Œå³ä¸€ç§<strong>is-a</strong>å…³ç³»ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Matrix</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, rows, cols</span>):<br>        <span class="hljs-variable language_">self</span>.rows = rows<br>        <span class="hljs-variable language_">self</span>.cols = cols<br>        <span class="hljs-variable language_">self</span>.data = [[i+j <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(cols)] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(rows)]  <span class="hljs-comment"># åˆå§‹åŒ–çŸ©é˜µ</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è¿”å›çŸ©é˜µçš„å­—ç¬¦ä¸²è¡¨ç¤º&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;\n&quot;</span>.join(<span class="hljs-string">&quot; &quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, row)) <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-variable language_">self</span>.data)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;çŸ©é˜µåŠ æ³•&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-variable language_">self</span>.rows != other.rows <span class="hljs-keyword">or</span> <span class="hljs-variable language_">self</span>.cols != other.cols:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;çŸ©é˜µç»´åº¦ä¸åŒ¹é…&quot;</span>)<br>        result = Matrix(<span class="hljs-variable language_">self</span>.rows, <span class="hljs-variable language_">self</span>.cols)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.rows):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.cols):<br>                result.data[i][j] = <span class="hljs-variable language_">self</span>.data[i][j] + other.data[i][j]<br>        <span class="hljs-keyword">return</span> result<br><br>    <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SquareMatrix</span>(<span class="hljs-title class_ inherited__">Matrix</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size</span>):<br>        <span class="hljs-built_in">super</span>().__init__(size, size)  <span class="hljs-comment"># è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">is_identity</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;æ£€æŸ¥æ˜¯å¦æ˜¯å•ä½çŸ©é˜µ&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.rows):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.cols):<br>                <span class="hljs-keyword">if</span> i == j <span class="hljs-keyword">and</span> <span class="hljs-variable language_">self</span>.data[i][j] != <span class="hljs-number">1</span>:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>                <span class="hljs-keyword">if</span> i != j <span class="hljs-keyword">and</span> <span class="hljs-variable language_">self</span>.data[i][j] != <span class="hljs-number">0</span>:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <br>obj1=Matrix(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br>obj2=SquareMatrix(<span class="hljs-number">6</span>)<br><span class="hljs-built_in">print</span>(obj2)<br></code></pre></td></tr></table></figure><ul><li><p><strong><code>super()</code> å‡½æ•°</strong>ï¼š</p><ul><li>åœ¨ <code>SquareMatrix</code> çš„æ„é€ å‡½æ•°ä¸­ï¼Œä½¿ç”¨ <code>super().__init__(size, size)</code> è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ã€‚</li></ul></li><li><p>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä½¿ç”¨åŸºç±»å¯¹è±¡çš„æ–¹æ³•</p><ul><li>ä¸Šè¿°ä»£ç çš„è¾“å‡ºï¼š</li></ul><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span><br><span class="hljs-symbol">2 </span><span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span><br><span class="hljs-symbol">4 </span><span class="hljs-number">5</span> <span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span><br><span class="hljs-symbol">5 </span><span class="hljs-number">6</span> <span class="hljs-number">7</span> <span class="hljs-number">8</span> <span class="hljs-number">9</span> <span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><blockquote><p>æœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨äº†åŸºç±»é‡è½½çš„<code>def __str__(self)</code></p></blockquote></li><li><p>åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°å’ŒåŸºç±»åŒåçš„æ–¹æ³•å¯ä»¥å®ç°<strong>å¯¹åŸºç±»æ–¹æ³•çš„è¦†ç›–</strong>ã€‚</p></li></ul><h3 id="Advanced-Usage-1"><a href="#Advanced-Usage-1" class="headerlink" title="Advanced Usage"></a>Advanced Usage</h3><h4 id="Property-Decorator"><a href="#Property-Decorator" class="headerlink" title="Property Decorator"></a>Property Decorator</h4><p><strong>Property Decorator</strong>ï¼ˆå±æ€§è£…é¥°å™¨ï¼‰æ˜¯ Python ä¸­ç”¨äºå°†æ–¹æ³•è½¬æ¢ä¸ºå±æ€§çš„æœºåˆ¶ã€‚å®ƒå…è®¸ä½ åƒè®¿é—®å±æ€§ä¸€æ ·è®¿é—®æ–¹æ³•ï¼ŒåŒæ—¶å¯ä»¥åœ¨è®¿é—®æ—¶æ‰§è¡Œé¢å¤–çš„é€»è¾‘ï¼ˆå¦‚éªŒè¯ã€è®¡ç®—ç­‰ï¼‰ã€‚å±æ€§è£…é¥°å™¨é€šè¿‡ <code>@property</code>ã€<code>@å±æ€§å.setter</code> å’Œ <code>@å±æ€§å.deleter</code> æ¥å®ç°ã€‚</p><ol><li><p><strong>å°†æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>@property</code> è£…é¥°å™¨ï¼Œå¯ä»¥å°†ä¸€ä¸ªæ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§ã€‚</li><li>è¿™æ ·ï¼Œä½ å¯ä»¥åƒè®¿é—®å±æ€§ä¸€æ ·è°ƒç”¨æ–¹æ³•ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ <code>()</code>ã€‚</li></ul></li><li><p><strong>å®ç°å±æ€§çš„å†™æ“ä½œ</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>@å±æ€§å.setter</code> è£…é¥°å™¨ï¼Œå¯ä»¥ä¸ºå±æ€§æ·»åŠ å†™æ“ä½œé€»è¾‘ã€‚</li><li>è¿™æ ·ï¼Œä½ å¯ä»¥åœ¨èµ‹å€¼æ—¶æ‰§è¡Œé¢å¤–çš„é€»è¾‘ï¼ˆå¦‚éªŒè¯ã€è®¡ç®—ç­‰ï¼‰ã€‚</li></ul></li><li><p><strong>å®ç°å±æ€§çš„åˆ é™¤æ“ä½œ</strong>ï¼š</p><ul><li>ä½¿ç”¨ <code>@å±æ€§å.deleter</code> è£…é¥°å™¨ï¼Œå¯ä»¥ä¸ºå±æ€§æ·»åŠ åˆ é™¤æ“ä½œé€»è¾‘ã€‚</li></ul></li><li><p><strong>åªè¯»å±æ€§</strong></p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, radius</span>):<br>        <span class="hljs-variable language_">self</span>.radius = radius<br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">area</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è®¡ç®—åœ†çš„é¢ç§¯&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">3.14</span> * <span class="hljs-variable language_">self</span>.radius ** <span class="hljs-number">2</span><br><br><span class="hljs-comment"># ä½¿ç”¨</span><br>c = Circle(<span class="hljs-number">5</span>)<br><span class="hljs-built_in">print</span>(c.area)  <span class="hljs-comment"># è¾“å‡º: 78.5ï¼ˆåƒè®¿é—®å±æ€§ä¸€æ ·è°ƒç”¨æ–¹æ³•ï¼‰</span><br><span class="hljs-comment"># c.area = 100  # æŠ¥é”™ï¼šAttributeErrorï¼ˆåªè¯»å±æ€§ï¼‰</span><br></code></pre></td></tr></table></figure><ol start="2"><li><strong>å¯è¯»å†™å±æ€§</strong></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Temperature</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, celsius</span>):<br>        <span class="hljs-variable language_">self</span>._celsius = celsius<br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">celsius</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è·å–æ‘„æ°æ¸©åº¦&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._celsius<br><br><span class="hljs-meta">    @celsius.setter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">celsius</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è®¾ç½®æ‘„æ°æ¸©åº¦&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">if</span> value &lt; -<span class="hljs-number">273.15</span>:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;Temperature cannot be below absolute zero.&quot;</span>)<br>        <span class="hljs-variable language_">self</span>._celsius = value<br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fahrenheit</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è·å–åæ°æ¸©åº¦&quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._celsius * <span class="hljs-number">9</span> / <span class="hljs-number">5</span> + <span class="hljs-number">32</span><br><br><span class="hljs-meta">    @fahrenheit.setter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fahrenheit</span>(<span class="hljs-params">self, value</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è®¾ç½®åæ°æ¸©åº¦&quot;&quot;&quot;</span><br>        <span class="hljs-variable language_">self</span>._celsius = (value - <span class="hljs-number">32</span>) * <span class="hljs-number">5</span> / <span class="hljs-number">9</span><br><br><span class="hljs-comment"># ä½¿ç”¨</span><br>t = Temperature(<span class="hljs-number">25</span>)<br><span class="hljs-built_in">print</span>(t.celsius)      <span class="hljs-comment"># è¾“å‡º: 25</span><br><span class="hljs-built_in">print</span>(t.fahrenheit)   <span class="hljs-comment"># è¾“å‡º: 77.0</span><br><br>t.fahrenheit = <span class="hljs-number">100</span><br><span class="hljs-built_in">print</span>(t.celsius)      <span class="hljs-comment"># è¾“å‡º: 37.777...</span><br></code></pre></td></tr></table></figure><ol start="3"><li><strong>åˆ é™¤å±æ€§</strong></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-variable language_">self</span>._value = <span class="hljs-number">42</span><br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._value<br><br><span class="hljs-meta">    @value.setter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">self, new_value</span>):<br>        <span class="hljs-variable language_">self</span>._value = new_value<br><br><span class="hljs-meta">    @value.deleter</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">value</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Deleting value&quot;</span>)<br>        <span class="hljs-keyword">del</span> <span class="hljs-variable language_">self</span>._value<br><br><span class="hljs-comment"># ä½¿ç”¨</span><br>obj = MyClass()<br><span class="hljs-built_in">print</span>(obj.value)  <span class="hljs-comment"># è¾“å‡º: 42</span><br><span class="hljs-keyword">del</span> obj.value     <span class="hljs-comment"># è¾“å‡º: Deleting value</span><br><span class="hljs-comment"># print(obj.value)  # æŠ¥é”™ï¼šAttributeErrorï¼ˆå±æ€§å·²è¢«åˆ é™¤ï¼‰</span><br></code></pre></td></tr></table></figure><table><thead><tr><th>ç‰¹æ€§</th><th>å±æ€§è£…é¥°å™¨ (<code>@property</code>)</th><th>æ™®é€šæ–¹æ³•</th></tr></thead><tbody><tr><td><strong>è®¿é—®æ–¹å¼</strong></td><td>åƒè®¿é—®å±æ€§ä¸€æ ·ï¼ˆæ— æ‹¬å·ï¼‰</td><td>éœ€è¦è°ƒç”¨æ–¹æ³•ï¼ˆå¸¦æ‹¬å·ï¼‰</td></tr><tr><td><strong>é€»è¾‘å°è£…</strong></td><td>å¯ä»¥åœ¨è®¿é—®æ—¶æ‰§è¡Œé¢å¤–é€»è¾‘</td><td>éœ€è¦æ˜¾å¼è°ƒç”¨æ–¹æ³•</td></tr><tr><td><strong>åªè¯»æ€§</strong></td><td>å¯ä»¥é€šè¿‡ <code>@property</code> å®ç°åªè¯»</td><td>éœ€è¦é¢å¤–é€»è¾‘å®ç°åªè¯»</td></tr><tr><td><strong>å†™æ“ä½œ</strong></td><td>é€šè¿‡ <code>@setter</code> å®ç°å†™æ“ä½œ</td><td>éœ€è¦é¢å¤–æ–¹æ³•å®ç°å†™æ“ä½œ</td></tr><tr><td><strong>åˆ é™¤æ“ä½œ</strong></td><td>é€šè¿‡ <code>@deleter</code> å®ç°åˆ é™¤æ“ä½œ</td><td>éœ€è¦é¢å¤–æ–¹æ³•å®ç°åˆ é™¤æ“ä½œ</td></tr></tbody></table><blockquote><p>The END</p><p>æ›´å¤šPythonçš„é«˜çº§æ“ä½œçš„æ•™ç¨‹è§åç»­çš„æ›´æ–°ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>Python</tag>
      
      <tag>Tutorial</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Python-Tutorial</title>
    <link href="/posts/Python-tutorial/"/>
    <url>/posts/Python-tutorial/</url>
    
    <content type="html"><![CDATA[<h1 id="Python-tutorial"><a href="#Python-tutorial" class="headerlink" title="Python tutorial"></a>Python tutorial</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h2 id="The-Zen-of-Python"><a href="#The-Zen-of-Python" class="headerlink" title="The Zen of Python"></a>The Zen of Python</h2><h2 id="Announcement"><a href="#Announcement" class="headerlink" title="Announcement"></a>Announcement</h2>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Announcement</tag>
      
      <tag>Python</tag>
      
      <tag>Tutorial</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linux-Bash-Introduction</title>
    <link href="/posts/Linux-Bash-Introduction/"/>
    <url>/posts/Linux-Bash-Introduction/</url>
    
    <content type="html"><![CDATA[<p>å°é¢å‡ºå¤„ï¼š<a href="https://www.makeuseof.com/linux-bash-what-use-for/">Bash and Linux</a></p><h1 id="Linux-and-Bash-Introduction"><a href="#Linux-and-Bash-Introduction" class="headerlink" title="Linux and Bash Introduction"></a>Linux and Bash Introduction</h1><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Tux.svg/150px-Tux.svg.png" alt="Tux the penguin"></p><h2 id="Lecture2-Missing-Semester-2"><a href="#Lecture2-Missing-Semester-2" class="headerlink" title="Lecture2 Missing Semester(2)"></a>Lecture2 Missing Semester(2)</h2><h3 id="in-Bash"><a href="#in-Bash" class="headerlink" title="$ in Bash"></a><code>$</code> in Bash</h3><p>In Bash, <code>$</code> has special meanings:</p><ol><li><strong>Variable Reference</strong>: Access variable values (<code>$var</code>).</li><li><strong>Special Variables</strong>: <ul><li><code>$0</code>: Script name.</li><li><code>$1</code>-<code>$9</code>: Script arguments.</li><li><code>$?</code>: Exit status of the last command.</li><li><code>$$</code>: Current scriptâ€™s PID.</li></ul></li><li><strong>Command Substitution</strong>: Capture command output (<code>$(command)</code>).</li><li><strong>Arithmetic Operations</strong>: Perform math (<code>$((expression))</code>).</li><li><strong>String Manipulation</strong>: Substrings (<code>$&#123;str:start:length&#125;</code>) or length (<code>$&#123;#str&#125;</code>).</li><li><strong>Environment Variables</strong>: Access (<code>$HOME</code>, <code>$PATH</code>).</li></ol><p>Here <code>$1</code> is the first argument to the script&#x2F;function. Unlike other scripting languages, bash uses a variety of special variables to refer to arguments, error codes, and other relevant variables. Below is a list of some of them. A more comprehensive list can be found <a href="https://tldp.org/LDP/abs/html/special-chars.html">here</a>.</p><ul><li><code>$0</code> - Name of the script</li><li><code>$1</code> to <code>$9</code> - Arguments to the script. <code>$1</code> is the first argument and so on.</li><li><code>$@</code> - All the arguments</li><li><code>$#</code> - Number of arguments</li><li><code>$?</code> - Return code of the previous command<ul><li>If the previous command execute successfully, the arguments will probably return <code>0</code>.</li><li>If it fails, it will return none-0 value.</li></ul></li><li><code>$$</code> - <strong>Process identification number (PID)</strong> for the current script</li><li><code>!!</code> - <strong>Entire last command, including arguments</strong>. A common pattern is to execute a command only for it to fail due to missing permissions; you can quickly re-execute the command with sudo by doing <code>sudo !!</code></li><li><code>$_</code> - Last argument from the last command. If you are in an interactive shell, you can also quickly get this value by typing <code>Esc</code> followed by <code>.</code> or <code>Alt+.</code></li></ul><h3 id="find-command"><a href="#find-command" class="headerlink" title="find command"></a><code>find</code> command</h3><p><code>find</code> is a very powerful command-line tool used to search for files and directories in a directory tree. It supports a large number of parameters and options, allowing searches based on file name, type, size, time, permissions, and many other conditions. Below are some commonly used <code>find</code> parameters and options, categorized by functionality:</p><h4 id="1-Basic-Search"><a href="#1-Basic-Search" class="headerlink" title="1. Basic Search"></a>1. <strong>Basic Search</strong></h4><ul><li><strong><code>.</code></strong>: Start searching from the current directory.</li><li><strong><code>/path/to/dir</code></strong>: Start searching from the specified directory.</li></ul><h4 id="2-Search-by-File-Name"><a href="#2-Search-by-File-Name" class="headerlink" title="2. Search by File Name"></a>2. <strong>Search by File Name</strong></h4><ul><li><strong><code>-name &quot;pattern&quot;</code></strong>: Match file names (case-sensitive).<ul><li>Example: <code>find . -name &quot;*.txt&quot;</code> finds all <code>.txt</code> files.</li></ul></li><li><strong><code>-iname &quot;pattern&quot;</code></strong>: Match file names (case-insensitive).<ul><li>Example: <code>find . -iname &quot;readme*&quot;</code> finds all <code>README</code>, <code>readme</code>, etc. files.</li></ul></li><li><strong><code>-regex &quot;pattern&quot;</code></strong>: Match file names using regular expressions.<ul><li>Example: <code>find . -regex &quot;.*\.txt$&quot;</code> finds all files ending with <code>.txt</code>.</li></ul></li></ul><h4 id="3-Search-by-File-Type"><a href="#3-Search-by-File-Type" class="headerlink" title="3. Search by File Type"></a>3. <strong>Search by File Type</strong></h4><ul><li><strong><code>-type f</code></strong>: Find regular files.</li><li><strong><code>-type d</code></strong>: Find directories.</li><li><strong><code>-type l</code></strong>: Find symbolic links.</li><li><strong><code>-type s</code></strong>: Find socket files.</li><li><strong><code>-type p</code></strong>: Find named pipes (FIFO).</li><li><strong><code>-type c</code></strong>: Find character device files.</li><li><strong><code>-type b</code></strong>: Find block device files.</li></ul><h4 id="4-Search-by-File-Size"><a href="#4-Search-by-File-Size" class="headerlink" title="4. Search by File Size"></a>4. <strong>Search by File Size</strong></h4><ul><li><strong><code>-size +n</code></strong>: Find files larger than <code>n</code>.</li><li><strong><code>-size -n</code></strong>: Find files smaller than <code>n</code>.</li><li><strong><code>-size n</code></strong>: Find files exactly <code>n</code> in size.<ul><li>Units can be:<ul><li><code>c</code>: Bytes (default).</li><li><code>k</code>: Kilobytes.</li><li><code>M</code>: Megabytes.</li><li><code>G</code>: Gigabytes.</li></ul></li><li>Example: <code>find . -size +100M</code> finds files larger than 100MB.</li></ul></li></ul><h4 id="5-Search-by-Time"><a href="#5-Search-by-Time" class="headerlink" title="5. Search by Time"></a>5. <strong>Search by Time</strong></h4><ul><li><strong><code>-mtime n</code></strong>: Find files modified <code>n</code> days ago.<ul><li><code>-mtime +n</code>: Files modified more than <code>n</code> days ago.</li><li><code>-mtime -n</code>: Files modified within the last <code>n</code> days.</li></ul></li><li><strong><code>-atime n</code></strong>: Find files accessed <code>n</code> days ago.</li><li><strong><code>-ctime n</code></strong>: Find files whose status (e.g., permissions or ownership) changed <code>n</code> days ago.</li><li><strong><code>-mmin n</code></strong>: Find files modified <code>n</code> minutes ago.<ul><li><code>-mmin +n</code>: Files modified more than <code>n</code> minutes ago.</li><li><code>-mmin -n</code>: Files modified within the last <code>n</code> minutes.</li></ul></li><li><strong><code>-amin n</code></strong>: Find files accessed <code>n</code> minutes ago.</li><li><strong><code>-cmin n</code></strong>: Find files whose status changed <code>n</code> minutes ago.</li></ul><h4 id="6-Search-by-Permissions"><a href="#6-Search-by-Permissions" class="headerlink" title="6. Search by Permissions"></a>6. <strong>Search by Permissions</strong></h4><ul><li><strong><code>-perm mode</code></strong>: Find files with permissions exactly matching <code>mode</code>.<ul><li>Example: <code>find . -perm 644</code> finds files with permissions <code>644</code>.</li></ul></li><li><strong><code>-perm -mode</code></strong>: Find files with permissions including <code>mode</code>.<ul><li>Example: <code>find . -perm -u=r</code> finds files readable by the user.</li></ul></li><li><strong><code>-perm /mode</code></strong>: Find files with any of the <code>mode</code> bits set.</li></ul><h4 id="7-Search-by-User-and-Group"><a href="#7-Search-by-User-and-Group" class="headerlink" title="7. Search by User and Group"></a>7. <strong>Search by User and Group</strong></h4><ul><li><strong><code>-user username</code></strong>: Find files owned by the specified user.</li><li><strong><code>-group groupname</code></strong>: Find files owned by the specified group.</li><li><strong><code>-uid uid</code></strong>: Find files owned by the specified user ID.</li><li><strong><code>-gid gid</code></strong>: Find files owned by the specified group ID.</li></ul><h4 id="8-Logical-Operations"><a href="#8-Logical-Operations" class="headerlink" title="8. Logical Operations"></a>8. <strong>Logical Operations</strong></h4><ul><li><strong><code>-and</code> or <code>-a</code></strong>: Logical AND (default).</li><li><strong><code>-or</code> or <code>-o</code></strong>: Logical OR.</li><li><strong><code>-not</code> or <code>!</code></strong>: Logical NOT.</li><li><strong><code>()</code></strong>: Group conditions.<ul><li>Example: <code>find . \( -name &quot;*.txt&quot; -o -name &quot;*.md&quot; \)</code> finds <code>.txt</code> or <code>.md</code> files.</li></ul></li></ul><h4 id="9-Execute-Actions"><a href="#9-Execute-Actions" class="headerlink" title="9. Execute Actions"></a>9. <strong>Execute Actions</strong></h4><ul><li><strong><code>-exec command &#123;&#125; \;</code></strong>: Execute a command on the found files.<ul><li>Example: <code>find . -name &quot;*.log&quot; -exec rm &#123;&#125; \;</code> deletes all <code>.log</code> files.</li></ul></li><li><strong><code>-exec command &#123;&#125; +</code></strong>: Pass multiple files to the command at once.<ul><li>Example: <code>find . -name &quot;*.txt&quot; -exec cp &#123;&#125; /backup/ +</code> copies all <code>.txt</code> files to <code>/backup</code>.</li></ul></li><li><strong><code>-ok command &#123;&#125; \;</code></strong>: Similar to <code>-exec</code>, but prompts for confirmation before executing the command.</li><li><strong><code>-delete</code></strong>: Delete the found files.</li><li><strong><code>-print</code></strong>: Print the path of the found files (default behavior).</li><li><strong><code>-ls</code></strong>: Display the found files in <code>ls -dils</code> format.</li></ul><h4 id="10-Other-Common-Options"><a href="#10-Other-Common-Options" class="headerlink" title="10. Other Common Options"></a>10. <strong>Other Common Options</strong></h4><ul><li><strong><code>-maxdepth n</code></strong>: Limit the maximum directory depth for the search.<ul><li>Example: <code>find . -maxdepth 2 -name &quot;*.txt&quot;</code> searches for <code>.txt</code> files only in the current directory and its immediate subdirectories.</li></ul></li><li><strong><code>-mindepth n</code></strong>: Limit the minimum directory depth for the search.</li><li><strong><code>-empty</code></strong>: Find empty files or directories.</li><li><strong><code>-readable</code></strong>: Find readable files.</li><li><strong><code>-writable</code></strong>: Find writable files.</li><li><strong><code>-executable</code></strong>: Find executable files.</li></ul><h4 id="11-Comprehensive-Examples"><a href="#11-Comprehensive-Examples" class="headerlink" title="11. Comprehensive Examples"></a>11. <strong>Comprehensive Examples</strong></h4><p>Find and delete all <code>.log</code> files in the current directory:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find . -name <span class="hljs-string">&quot;*.log&quot;</span> -delete<br></code></pre></td></tr></table></figure><p>Find files larger than 100MB in <code>/var/log</code> and display detailed information:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find /var/log -size +100M -<span class="hljs-built_in">ls</span><br></code></pre></td></tr></table></figure><p>Find <code>.txt</code> files modified within the last 7 days in the current directory and copy them to <code>/backup</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find . -name <span class="hljs-string">&quot;*.txt&quot;</span> -mtime -7 -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">cp</span> &#123;&#125; /backup/ \;<br></code></pre></td></tr></table></figure><p>Find and delete all empty directories in the current directory:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find . -<span class="hljs-built_in">type</span> d -empty -delete<br></code></pre></td></tr></table></figure><p>Find files with permissions <code>644</code> in the current directory and change their permissions to <code>755</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">find . -<span class="hljs-built_in">type</span> f -perm 644 -<span class="hljs-built_in">exec</span> <span class="hljs-built_in">chmod</span> 755 &#123;&#125; \;<br></code></pre></td></tr></table></figure><h3 id="grep-command"><a href="#grep-command" class="headerlink" title="grep command"></a><code>grep</code> command</h3><p><strong>grep</strong> can be powerful when finding contents of files (code).</p><p><code>grep</code> is a powerful command-line tool in Unix&#x2F;Linux used to search for specific patterns within files or input text. Hereâ€™s a summary of its key features:</p><h4 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a><strong>Basic Syntax</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep [options] pattern [file]<br></code></pre></td></tr></table></figure><ul><li><strong><code>pattern</code></strong>: The text or regular expression to search for.</li><li><strong><code>file</code></strong>: The file(s) to search within. If omitted, <code>grep</code> reads from standard input.</li></ul><h4 id="Common-Options"><a href="#Common-Options" class="headerlink" title="Common Options"></a><strong>Common Options</strong></h4><ol><li><p><strong><code>-i</code></strong>: Ignore case (case-insensitive search).</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -i <span class="hljs-string">&quot;hello&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-v</code></strong>: Invert match (show lines that do <strong>not</strong> match the pattern).</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v <span class="hljs-string">&quot;error&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-r</code> or <code>-R</code></strong>: Recursively search directories.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -r <span class="hljs-string">&quot;pattern&quot;</span> /path/to/dir<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-n</code></strong>: Show line numbers of matching lines.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -n <span class="hljs-string">&quot;pattern&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-c</code></strong>: Count the number of matching lines.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -c <span class="hljs-string">&quot;pattern&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-l</code></strong>: List filenames containing the pattern.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -l <span class="hljs-string">&quot;pattern&quot;</span> *.txt<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-w</code></strong>: Match whole words only.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -w <span class="hljs-string">&quot;word&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p><strong><code>-A</code>, <code>-B</code>, <code>-C</code></strong>: Show lines after, before, or around the match.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -A 2 <span class="hljs-string">&quot;pattern&quot;</span> file.txt  <span class="hljs-comment"># Show 2 lines after the match</span><br>grep -B 2 <span class="hljs-string">&quot;pattern&quot;</span> file.txt  <span class="hljs-comment"># Show 2 lines before the match</span><br>grep -C 2 <span class="hljs-string">&quot;pattern&quot;</span> file.txt  <span class="hljs-comment"># Show 2 lines before and after the match</span><br></code></pre></td></tr></table></figure></li></ol><h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a><strong>Examples</strong></h4><ol><li><p>Search for â€œerrorâ€ in a file:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&quot;error&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p>Search for â€œhelloâ€ case-insensitively:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -i <span class="hljs-string">&quot;hello&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p>Count occurrences of â€œpatternâ€:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -c <span class="hljs-string">&quot;pattern&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li><li><p>Search for â€œwordâ€ in all <code>.txt</code> files recursively:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -r <span class="hljs-string">&quot;word&quot;</span> *.txt<br></code></pre></td></tr></table></figure></li><li><p>Find lines <strong>not</strong> containing â€œdebugâ€:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep -v <span class="hljs-string">&quot;debug&quot;</span> file.txt<br></code></pre></td></tr></table></figure></li></ol><h4 id="Advanced-Usage"><a href="#Advanced-Usage" class="headerlink" title="Advanced Usage"></a><strong>Advanced Usage</strong></h4><ul><li><p><strong>Regular Expressions</strong>: Use <code>grep</code> with regex for complex patterns.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">grep <span class="hljs-string">&quot;^start&quot;</span> file.txt      <span class="hljs-comment"># Lines starting with &quot;start&quot;</span><br>grep <span class="hljs-string">&quot;end$&quot;</span> file.txt        <span class="hljs-comment"># Lines ending with &quot;end&quot;</span><br>grep <span class="hljs-string">&quot;[0-9]&quot;</span> file.txt       <span class="hljs-comment"># Lines containing numbers</span><br></code></pre></td></tr></table></figure></li><li><p><strong>Combining with Other Commands</strong>: Pipe output to <code>grep</code>.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ls</span> -l | grep <span class="hljs-string">&quot;.txt&quot;</span>         <span class="hljs-comment"># List only `.txt` files</span><br>ps aux | grep <span class="hljs-string">&quot;process&quot;</span>     <span class="hljs-comment"># Find a running process</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="Shortcut-in-Bash"><a href="#Shortcut-in-Bash" class="headerlink" title="Shortcut in Bash"></a>Shortcut in Bash</h2><h3 id="Cursor-Movement"><a href="#Cursor-Movement" class="headerlink" title="Cursor Movement"></a><strong>Cursor Movement</strong></h3><ul><li><p><strong>Ctrl + A</strong>: Move the cursor to the beginning of the line.</p></li><li><p><strong>Ctrl + E</strong>: Move the cursor to the end of the line.</p></li><li><p><strong>Alt + B</strong>: Move the cursor back one word. or <strong>Ctrl + &lt;-</strong>.</p></li><li><p><strong>Alt + F</strong>: Move the cursor forward one word.or <strong>Ctrl + -&gt;</strong>.</p></li><li><p><strong>Ctrl + XX</strong>: Toggle between the beginning of the line and the current cursor position.</p></li></ul><h3 id="Editing-Commands"><a href="#Editing-Commands" class="headerlink" title="Editing Commands"></a><strong>Editing Commands</strong></h3><ul><li><p><strong>Ctrl + U</strong>: Cut text from the cursor to the beginning of the line.</p></li><li><p><strong>Ctrl + K</strong>: Cut text from the cursor to the end of the line.</p></li><li><p><strong>Ctrl + W</strong>: Cut the word before the cursor.</p></li><li><p><strong>Alt + D</strong>: Cut the word after the cursor.</p></li><li><p><strong>Ctrl + Y</strong>: Paste the last cut text.</p></li><li><p><strong>Ctrl + T</strong>: Swap the last two characters before the cursor.</p></li><li><p><strong>Alt + T</strong>: Swap the current word with the previous word.</p></li></ul><h3 id="Command-History"><a href="#Command-History" class="headerlink" title="Command History"></a><strong>Command History</strong></h3><ul><li><p><strong>Ctrl + P</strong>: Move to the previous command in history (same as Up Arrow).</p></li><li><p><strong>Ctrl + N</strong>: Move to the next command in history (same as Down Arrow).</p></li><li><p><strong>Ctrl + R</strong>: Search command history interactively.</p></li><li><p><strong>Ctrl + G</strong>: Exit the history search mode.</p></li></ul><h3 id="Process-Control"><a href="#Process-Control" class="headerlink" title="Process Control"></a><strong>Process Control</strong></h3><ul><li><p><strong>Ctrl + C</strong>: Terminate the current process.</p></li><li><p><strong>Ctrl + Z</strong>: Suspend the current process.</p></li><li><p><strong>Ctrl + L</strong>: Clear the terminal screen.</p></li><li><p><strong>Ctrl + D</strong>: Exit the shell or close the terminal.</p></li></ul><h3 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a><strong>Miscellaneous</strong></h3><ul><li><p><strong>Ctrl + S</strong>: Pause terminal output (useful for stopping fast-scrolling text).</p></li><li><p><strong>Ctrl + Q</strong>: Resume terminal output after pausing.</p></li><li><p><strong>Ctrl + _</strong>: Undo the last change.</p></li><li><p><strong>Alt + .</strong>: Insert the last argument of the previous command.</p></li></ul><h3 id="Tab-Completion"><a href="#Tab-Completion" class="headerlink" title="Tab Completion"></a><strong>Tab Completion</strong></h3><ul><li><p><strong>Tab</strong>: Auto-complete file names, directories, or commands.</p></li><li><p><strong>Double Tab</strong>: Show all possible completions.</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>Bash</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Tools-Tutorial</title>
    <link href="/posts/Tools-Tutorial/"/>
    <url>/posts/Tools-Tutorial/</url>
    
    <content type="html"><![CDATA[<h1 id="Tools-Tutorial-for-Computer-Science"><a href="#Tools-Tutorial-for-Computer-Science" class="headerlink" title="Tools Tutorial for Computer Science"></a>Tools Tutorial for Computer Science</h1><p><a href="https://developerguru.in/full_stack_development.php"><strong>å°é¢å‡ºå¤„</strong></a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>In this article, you will learn a set of <strong>methodologies</strong> for using tools in computer science. It will teach you how to quickly get started and master the use of tools through <strong>practical approaches</strong>, while continuously improving your skills through ongoing practice.</p><h2 id="Table-of-contents"><a href="#Table-of-contents" class="headerlink" title="Table of contents"></a>Table of contents</h2><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>ç¨‹åºå‘˜ä¹‹é—´å¾ˆæµè¡Œä¸€å¥è¯ï¼Œ<strong>ä¸è¦é‡å¤é€ è½®å­</strong>ã€‚</p><blockquote><p>é€ è½®å­å…¶å®æ˜¯ä¸ªå¾ˆå€¼å¾—æ¢è®¨çš„è¯é¢˜ï¼Œæœ‰æœºä¼šæ—¥åå¼€ä¸€ç¯‡èŠä¸€èŠ~</p></blockquote><p>çš„ç¡®ï¼Œä½œä¸ºè½®å­çš„<strong>ä½¿ç”¨è€…</strong>ï¼Œæˆ‘ä»¬ä¸éœ€è¦è¿‡åˆ†å…³æ³¨å¼€å‘è€…æ‰€å°è£…å¥½çš„å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œåªéœ€è¦æŒæ¡å·¥å…·æœ€åŸºæœ¬çš„ä½¿ç”¨æ‰‹æ®µï¼Œå°±å¯ä»¥æœ€å¤§åŒ–åœ°æå‡è‡ªå·±çš„æ•ˆç‡ã€‚</p><p>ç„¶è€Œï¼Œåœ¨å®é™…çš„å­¦ä¹ è¿‡ç¨‹ä¸­æ—¶ï¼Œç¬”è€…ç»å¸¸ä¼šä¸º<strong>å·¥å…·çš„å­¦ä¹ </strong>è€Œæ„Ÿåˆ°è‹¦æ¼ï¼Œæ¯”å¦‚ï¼š</p><ul><li>åœ¨<code>Github</code>ä¸Šæ·˜åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„projectï¼Œæƒ³å¼€ç®±ç©ä¸€ç©ï¼Œä½†æ˜¯æ­¢æ­¥äº<strong>è¯»æ‡‚ç”¨æˆ·æ‰‹å†Œ</strong>ã€‚</li><li>Be trapped in å„ç§è®¨äººåŒçš„é…ç½®ç¯å¢ƒå’ŒæŠ¥é”™ä¿¡æ¯ä¸­ã€‚</li><li>å°è¯•å­¦ä¹ ä¸€é¡¹æ–°æŠ€èƒ½ï¼Œä½†å‘ç°è¿™é¡¹æŠ€èƒ½éœ€è¦è®¸å¤šçš„<strong>å‰ç½®æŠ€èƒ½</strong>ï¼Œå¯¼è‡´è¿Ÿè¿Ÿæ— æ³•è·å¾—å­¦ä¹ çš„æ­£å‘åé¦ˆï¼Œæœ€åå­¦ä¹ çš„çƒ­æƒ…è¢«æµ‡ç­ä¸äº†äº†ä¹‹ã€‚</li><li>å­¦ä¹ æ›²çº¿è¿‡äºé™¡å³­ï¼Œå¯¼è‡´åœ¨ä½¿ç”¨åˆæœŸå¼€å‘æ•ˆç‡<strong>ä¸å‡åé™</strong>ã€‚</li><li>å­¦ä¼šäº†ä½†æ€»æ˜¯æ²¡æœ‰å…»æˆç»å¸¸ä½¿ç”¨çš„ä¹ æƒ¯ï¼Œå¯¼è‡´å­¦äº†å¿˜å¿˜äº†å­¦ï¼Œæ¯æ¬¡éœ€è¦ä¸€äº›å‘½ä»¤è¿˜å¾—å¾ˆéº»çƒ¦çš„é—®<code>GPT</code>ã€‚</li></ul><p>æ—¥åï¼Œåœ¨ä¸å…¶ä»–åŒå­¦çš„äº¤æµä¸­ï¼Œå‘ç°è¿™æ ·çš„é—®é¢˜å¹¶éä¸ªä¾‹ï¼Œè€Œæ˜¯æ™®éå­˜åœ¨çš„é—®é¢˜ï¼åœ¨ä¸‹æ–‡ä¸­ï¼Œç¬”è€…å°†ä»¥<code>git</code>çš„å­¦ä¹ å†ç¨‹ä¸ºä¾‹ï¼Œæ‰‹æŠŠæ‰‹æ­å»ºå·¥å…·å­¦ä¹ çš„é«˜æ•ˆæ–¹æ³•è®ºã€‚åœ¨åšå®¢çš„æœ€åï¼Œç¬”è€…å°†ä¼šå¯¹æ–¹æ³•è®ºä½œç³»ç»Ÿæ€§çš„æ€»ç»“ï¼Œå¹¶å¯¹ä¸Šæ–‡æåˆ°çš„5ä¸ªé—®é¢˜åšé’ˆå¯¹æ€§çš„è§£ç­”ã€‚</p><h2 id="Basic-Principles"><a href="#Basic-Principles" class="headerlink" title="Basic Principles"></a>Basic Principles</h2><p>ç”¨12å­—æ¦‚æ‹¬è¿™ä¸€å¥—æ–¹æ³•è®ºï¼Œå°±æ˜¯ï¼š</p><p><div style="width: 80%; margin: auto;"><strong style="color: red;    font-size: 30px;    "><b>æé«˜æ•ˆç‡ï¼ŒäºŒå…«æ³•åˆ™ï¼ŒåŸºäºå®è·µã€‚</b></strong></div></p><ul><li>æé«˜æ•ˆç‡ï¼šè¿™æ˜¯<strong>å·¥å…·ä½¿ç”¨çš„ç›®çš„</strong>ã€‚</li><li><strong>äºŒå…«æ³•åˆ™</strong>ï¼šè¿™å…¶å®è¿˜æ˜¯<strong>æé«˜æ•ˆç‡</strong>çš„å¦ä¸€ç§è¡¨è¾¾ï¼šèŠ±è¾ƒçŸ­çš„æ—¶é—´å­¦ä¹ å·¥å…·20%çš„åŠŸèƒ½ï¼Œä¾¿å¯ä»¥è§£å†³80%çš„é—®é¢˜ã€‚</li><li><strong>å®è·µä¸ºç‹</strong>ï¼šå·¥å…·ä½¿ç”¨çš„è½è„šç‚¹ä¸æ˜¯çº¸ä¸Šè°ˆå…µè€Œæ˜¯å…·ä½“è½åœ°åˆ°é¡¹ç›®ä¸­å»ä½¿ç”¨ã€‚</li></ul><h2 id="Showcasing-Usage-with-Git"><a href="#Showcasing-Usage-with-Git" class="headerlink" title="Showcasing Usage with Git"></a>Showcasing Usage with Git</h2><h3 id="Overall-Perception-of-Basic-information"><a href="#Overall-Perception-of-Basic-information" class="headerlink" title="Overall Perception of Basic information"></a>Overall Perception of Basic information</h3><p><span style="font-size: 14pt;"><strong><font  color="red">æ„ŸçŸ¥æ–°å†…å®¹çš„åŸºæœ¬ä¿¡æ¯&amp;åˆæ­¥æ„å»ºè¾ƒä¸ºå®Œæ•´çš„çŸ¥è¯†ç½‘ç»œ</font></strong></span></p><p>å­¦ä¹ æ–°æŠ€èƒ½çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯<strong>å¾ˆå¥½çš„è®¤è¯†ä»–</strong>ï¼</p><p>è¿™ä¸€ç‚¹å…¶å®éå¸¸é‡è¦ï¼Œè€Œæ°æ°è¢«ç½‘ä¸Šå¤©èŠ±ä¹±å çš„ä¿å§†çº§æ— è„‘æ‰‹æŠŠæ‰‹æ•™ç¨‹æ‰€å¿½ç•¥äº†ï¼Œå°±æ˜¯<strong>è¿™ä¸ªå·¥å…·æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è¿™ä¸€ä¸ªå·¥å…·ï¼Ÿ <strong>è¿™æ¶‰åŠåˆ°å·¥å…·çš„æ ¹æœ¬å±æ€§ï¼š</strong>æ”¹å–„å·¥ä½œæµï¼Œæé«˜ç”Ÿäº§åŠ›</strong>ã€‚ä¸€åˆ‡å·¥å…·çš„ä½¿ç”¨éƒ½æ˜¯åŸºäºè¿™ä¸€ç‚¹è€Œå‡ºå‘çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå·¥å…·çš„ä½¿ç”¨éƒ½æ˜¯ä¸ºäº†<strong>è§£å†³ç°å®ç”Ÿæ´»ä¸­çš„å®é™…é—®é¢˜</strong>ã€‚</p><p>å› æ­¤ï¼Œè®¤è¯†å·¥å…·çš„ç¬¬ä¸€æ­¥å°±æ˜¯å›ç­”ä¸‹é¢ä¸‰ä¸ªé—®é¢˜ï¼š</p><ul><li>è¿™ä¸ªå·¥å…·æ˜¯ä»€ä¹ˆï¼Ÿç”¨ä¸€å¥è¯æ¦‚æ‹¬å±•ç°å…¶æœ¬è´¨çš„å±æ€§ã€‚</li><li>è¿™ä¸ªå·¥å…·æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆå®é™…é—®é¢˜è€Œå­˜åœ¨çš„ï¼Ÿ</li><li>è¿™ä¸ªå·¥å…·æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ</li></ul><p>æ–°çš„é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é«˜æ•ˆåœ°è·å–ä¸Šé¢è¿™ä¸‰ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Ÿä¸‹æ–‡ç¬”è€…å°†ä»¥<code>Git</code>åšç¤ºèŒƒã€‚</p><h4 id="What-is-Git"><a href="#What-is-Git" class="headerlink" title="What is Git?"></a>What is Git?</h4><p>å¦‚ä½•è¿ˆå‡ºæˆ‘ä»¬å­¦ä¹ çš„ç¬¬ä¸€æ­¥ï¼Ÿé‚£å½“ç„¶æ˜¯ä»<strong>ç½‘ä¸Šè·å–ç­”æ¡ˆ</strong>ã€‚åœ¨è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨<strong><font  color="red">ä¿¡æ¯æ¸ é“æ¥æºçš„æƒå¨æ€§å’Œå¯è§£é‡Šæ€§</font></strong>ã€‚ä¸‹é¢åˆ†åˆ«é˜è¿°è¿™ä¸¤ç‚¹ã€‚</p><h5 id="The-authority-of-information"><a href="#The-authority-of-information" class="headerlink" title="The authority of information"></a>The authority of information</h5><p> æˆ‘ä»¬ä¸Šç½‘æœç´¢<code>Git</code>ï¼Œä»¥ä¸‹ä¸‰å¼ å›¾å±•ç¤ºäº†ä¸åŒæœç´¢å¼•æ“çš„æœç´¢ç»“æœï¼š</p><p><img src="https://ooo.0x0.ooo/2025/01/11/OE9RXx.png" alt="Google Search"></p><p><img src="https://ooo.0x0.ooo/2025/01/11/OE94xj.png" alt="Bing Search"></p><p><img src="https://ooo.0x0.ooo/2025/01/11/OE9DJp.png" alt="Baidu Search"></p><p>æˆ‘ä»¬å‘ç°å¾ˆå¤šå…¨æ–°çš„åè¯ï¼Œ<strong>ç°åœ¨çœ‹ä¸æ‡‚æ²¡æœ‰å…³ç³»</strong>ï¼Œä½†è‡³å°‘æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªç½‘ç«™ï¼Œ<a href="https://git-scm.com/">https://git-scm.com</a> ï¼Œè¿™ä¸ªç½‘ç«™åœ¨ä¸‰ä¸ªæœç´¢å¼•æ“çš„é¡µé¢éƒ½å‡ºç°äº†ï¼Œè¶³ä»¥è¯æ˜å…¶é‡è¦æ€§ã€‚</p><blockquote><p>æœç´¢å¼•æ“çš„é€‰æ‹©å…¶å®ä¹Ÿæœ‰å¾ˆå¤šå­¦é—®ï¼Œç¬”è€…çš„é»˜è®¤æœç´¢å¼•æ“å’Œæµè§ˆå™¨æ˜¯<strong>Bing</strong>æµè§ˆå™¨ï¼Œæœ‰æ—¶ä¹Ÿä¼šç”¨Googleæµè§ˆå™¨ï¼ˆè¿™ä¸ªæœ‰æ—¶å€™éœ€è¦ä¸€äº›é­”æ³•ï¼Œä¸ªäººæ„Ÿè§‰åœ¨æ—¥å¸¸ä½¿ç”¨ä¸ŠBingå·²ç»å®Œå…¨è¶³å¤Ÿäº†ï¼‰ã€‚<strong>éå¸¸ä¸å»ºè®®å„ä½ä½¿ç”¨ç™¾åº¦æˆ–è€…360ç­‰è½¯ä»¶ä½œä¸ºä¸»åŠ›æœç´¢å¼•æ“å»ä½¿ç”¨</strong>ï¼Œå¹¿å‘Šå¼¹çª—å¤ªå¤šå¹¶ä¸”æ¨èç³»ç»Ÿå¾ˆåƒåœ¾ã€‚å°±åƒåœ¨ä¸Šé¢å±•ç¤ºçš„ï¼Œç™¾åº¦çš„é¦–ä¸ªæ¨é€ç«Ÿç„¶æ˜¯å¹¿å‘Šï¼Œå¹¶ä¸”ä¹Ÿæ²¡æœ‰åƒBingæˆ–Googleè¿™æ ·çš„é¦–é¡µæ‘˜è¦ä¾›ç”¨æˆ·å¿«é€ŸæŸ¥è¯¢ã€‚</p></blockquote><p>æ‰“å¼€è¿™ä¸ªç½‘ç«™ï¼Œæˆ‘ä»¬å‘ç°äº†æ–°ä¸–ç•Œã€‚</p><p>è¿™å°±æ˜¯<strong>Git</strong>çš„å®˜æ–¹ç½‘ç«™ï¼Œåœ¨è¿™é‡Œçš„ä¿¡æ¯ä»£è¡¨ç€<strong>æœ€æ–°é¢–æœ€æƒå¨</strong>çš„ä¿¡æ¯ï¼æ²¡æœ‰ç»è¿‡ä»»ä½•è½¬è¿°çš„è¿‡ç¨‹ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åç»­å­¦ä¹ çš„<strong>ä¸»æˆ˜åœºä¹‹ä¸€</strong>ã€‚</p><p><img src="https://ooo.0x0.ooo/2025/01/11/OE9EBY.png" alt="Git"></p><p>ç»†çœ‹è¿™ä¸ªç½‘ç«™ï¼Œè²Œä¼¼æˆ‘ä»¬èƒ½å¤Ÿå›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜äº†ï¼Œ<strong>è¿™ä¸ªå·¥å…·æ˜¯ä»€ä¹ˆï¼Ÿ</strong><code>Git</code>çš„å®˜ç½‘ç»™å‡ºäº†æœ€æƒå¨å¹¶ä¸”ä¹Ÿæ˜¯æœ€å‡†ç¡®çš„è§£ç­”ï¼š</p><blockquote><p>Git is a <a href="https://git-scm.com/about/free-and-open-source">free and open source</a> <strong>distributed version control system</strong> designed to handle everything from small to very large projects with speed and efficiency.</p><p>Git is <a href="https://git-scm.com/doc">easy to learn</a> and has a <a href="https://git-scm.com/about/small-and-fast">tiny footprint with lightning fast performance</a>. It outclasses SCM tools like Subversion, CVS, Perforce, and ClearCase with features like <a href="https://git-scm.com/about/branching-and-merging">cheap local branching</a>, convenient <a href="https://git-scm.com/about/staging-area">staging areas</a>, and <a href="https://git-scm.com/about/distributed">multiple workflows</a>.</p><p>è´´å¿ƒçš„é™„ä¸Šä¸­æ–‡ç¿»è¯‘ï¼Œä¸è¿‡å­¦å¥½è‹±è¯­è¿˜æ˜¯å¾ˆé‡è¦çš„å“‡ï¼</p><p>Git æ˜¯ä¸€ä¸ª<a href="https://git-scm.com/about/free-and-open-source">å…è´¹ä¸”å¼€æº</a>çš„<strong>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</strong>ï¼Œæ—¨åœ¨ä»¥é€Ÿåº¦å’Œæ•ˆç‡å¤„ç†ä»å°å‹åˆ°è¶…å¤§å‹çš„å„ç§é¡¹ç›®ã€‚</p><p>Git <a href="https://git-scm.com/doc">æ˜“äºå­¦ä¹ </a>ï¼Œå¹¶ä¸”å…·æœ‰<a href="https://git-scm.com/about/small-and-fast">æå°çš„èµ„æºå ç”¨å’Œé—ªç”µèˆ¬çš„æ€§èƒ½</a>ã€‚å®ƒé€šè¿‡è¯¸å¦‚<a href="https://git-scm.com/about/branching-and-merging">å»‰ä»·çš„æœ¬åœ°åˆ†æ”¯</a>ã€ä¾¿æ·çš„<a href="https://git-scm.com/about/staging-area">æš‚å­˜åŒºåŸŸ</a>å’Œ<a href="https://git-scm.com/about/distributed">å¤šç§å·¥ä½œæµç¨‹</a>ç­‰ç‰¹æ€§ï¼Œè¶…è¶Šäº† Subversionã€CVSã€Perforce å’Œ ClearCase ç­‰ SCM å·¥å…·ã€‚</p></blockquote><div class="note note-success">            <p><strong>é”¦å›Šå¦™è®¡â‘ ï¼šé‡è§†å®˜æ–¹ç½‘ç«™ï¼ˆæƒå¨æ€§ï¼‰</strong></p>          </div><h5 id="The-interpretability-of-information"><a href="#The-interpretability-of-information" class="headerlink" title="The interpretability of information"></a>The interpretability of information</h5><p>è¿™çœ‹ç€å¾ˆé…·ï¼Œä¸æ˜¯å—ï¼Ÿæ¯•ç«Ÿæˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªâ€œå®è—ç½‘ç«™â€ï¼Œä¹ŸçŸ¥é“äº†åç»­æˆ‘ä»¬è¦åœ¨å“ªé‡Œå­¦ä¹ ã€‚ä½†æ˜¯ï¼Œ<strong>Git</strong>çš„å®˜æ–¹ç½‘ç«™ç®—æ˜¯ä¸–ç•Œä¸Šå†™çš„<strong>æœ€å¥½çš„å®˜æ–¹æ–‡æ¡£ä¹‹ä¸€äº†</strong>ï¼Œå®é™…ä¸Šå¾ˆå¤šé¡¹ç›®çš„å®˜æ–¹æ–‡æ¡£å¹¶ä¸å…·å¤‡å¾ˆé«˜çš„<strong>å¯è¯»æ€§</strong>ã€‚</p><p>æ¯”å¦‚ï¼Œä¸‹é¢æ˜¯C++çš„å®˜æ–¹æ–‡æ¡£ï¼Œå½“æ—¶çœŸçš„æ˜¯å¯¹æˆ‘å¹¼å°çš„å¿ƒçµé€ æˆäº†é™ç»´æ‰“å‡»ã€‚åƒè¿™æ ·çš„å®˜æ–¹æ–‡æ¡£å°±ä¼šæ›´åŠ æ³¨é‡<strong>å…¨é¢æ€§å’Œä¸¥è°¨æ€§</strong>ï¼Œå—ä¼—ç¾¤ä½“æ˜¯å‡†ä¸“ä¸šå¼€å‘è€…è€Œéå…¥é—¨çš„æ–°æ‰‹èœé¸Ÿã€‚è€Œå¯¹äºèœé¸Ÿæ¥è¯´ï¼Œè¿™ä¸ªç½‘ç«™æ›´å¤šåº”è¯¥èµ·åˆ°ä¸€ç§<strong>References</strong>çš„ä½œç”¨ã€‚</p><p><img src="https://ooo.0x0.ooo/2025/01/11/OE90Mc.png" alt="C Plus Plus"></p><blockquote><p>ç¨‹åºå‘˜æœ€è®¨åŒçš„å››ä»¶äº‹ï¼šå†™æ³¨é‡Šã€å†™æ–‡æ¡£ã€åˆ«äººä¸å†™æ³¨é‡Šã€åˆ«äººä¸å†™æ–‡æ¡£ã€‚â€Œ</p></blockquote><p>åˆæ¯”å¦‚ï¼Œå…¶å®ä½ å¹¶ä¸äº†è§£ä¸Šæ–‡çš„<strong>distributed version control system</strong>åˆ°åº•æ˜¯å•¥æ„æ€ï¼Ÿè¿™å…¶å®æ˜¯å› ä¸ºæˆ‘ä»¬ç¼ºä¹ä¸€ç§<strong>å¯è¯»æ€§ä¸”ç›´è§‚æ€§çš„è§£é‡Š</strong>ã€‚è€Œ<strong>ç”Ÿæˆå¼AIæ¨¡å‹</strong>å¯ä»¥ç»™æˆ‘ä»¬å¸¦æ¥ç”ŸåŠ¨å½¢è±¡çš„è§£é‡Šï¼ˆä¿¡æ¯çš„å¯è§£é‡Šæ€§ï¼‰ã€‚é¡ºå¸¦çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è§£å†³æˆ‘ä»¬åœ¨æœ€å¼€å§‹é—®çš„ç¬¬äºŒä¸ªé—®é¢˜ï¼Œ<strong>è¿™ä¸ªå·¥å…·æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆå®é™…é—®é¢˜è€Œå­˜åœ¨çš„ï¼Ÿ</strong></p><p>åœ¨è¿™é‡Œå„ä½ä¸éœ€è¦ä¸ºAIå·¥å…·çš„ä½¿ç”¨è€Œå‘æ„ï¼Œæˆ‘æ¨èä½¿ç”¨GPTï¼ŒClaudeï¼ˆè¿™ä¿©éœ€è¦é­”æ³•ï¼‰ï¼Œå›½å†…æ¨è<strong>DeepSeekï¼Œè±†åŒ…ï¼Œæ–‡å¿ƒä¸€è¨€ï¼Œå¤©å·¥AIç­‰</strong>ã€‚ç¬”è€…ç›®å‰ä½¿ç”¨<code>GPT+Cursor+DeepSeek</code>çš„ç»„åˆã€‚ä¸‹æ–‡çš„å®ä¾‹éƒ½å°†ä½¿ç”¨DeepSeekä½œä¸ºç¤ºèŒƒAIï¼š</p><div class="note note-primary">            <p><strong>ChatBox with DeepSeek</strong></p><p><strong>Me</strong>: è¯·ç”¨é€šä¿—çš„è¯­è¨€è§£é‡Šä¸€ä¸‹Gitæ˜¯ä»€ä¹ˆ</p><hr><p><strong>DeepSeek</strong>: Git æ˜¯ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒæ˜¯ä¸€ä¸ªâ€œæ—¶å…‰æœºâ€ï¼Œå¸®ä½ è®°å½•å’Œç®¡ç†æ–‡ä»¶çš„å˜åŒ–ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾ä½ åœ¨å†™ä¸€ç¯‡æ–‡ç« ï¼Œæ¯æ¬¡ä¿®æ”¹åï¼ŒGit éƒ½ä¼šå¸®ä½ ä¿å­˜ä¸€ä¸ªâ€œå¿«ç…§â€ã€‚è¿™æ ·ï¼Œå¦‚æœä½ æ”¹é”™äº†å†…å®¹ï¼Œæˆ–è€…æƒ³çœ‹çœ‹ä¹‹å‰çš„æ ·å­ï¼ŒGit å¯ä»¥è½»æ¾å¸®ä½ æ‰¾å›ä¹‹å‰çš„ç‰ˆæœ¬ã€‚</p><p>Git è¿˜ç‰¹åˆ«é€‚åˆå¤šäººåä½œã€‚æ¯”å¦‚ä½ å’Œæœ‹å‹ä¸€èµ·å†™ä»£ç ï¼ŒGit å¯ä»¥è®©ä½ ä»¬åŒæ—¶å·¥ä½œï¼Œæœ€åå†æŠŠå„è‡ªçš„ä¿®æ”¹åˆå¹¶åˆ°ä¸€èµ·ï¼Œé¿å…æ··ä¹±ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼ŒGit çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯ï¼š</p><ol><li>è®°å½•æ–‡ä»¶çš„å˜åŒ–å†å²ã€‚</li><li>æ–¹ä¾¿å¤šäººåä½œã€‚</li><li>éšæ—¶å›é€€åˆ°ä¹‹å‰çš„ç‰ˆæœ¬ã€‚</li></ol><p>å®ƒå¹¿æ³›ç”¨äºè½¯ä»¶å¼€å‘ï¼Œä½†ä¹Ÿå¯ä»¥ç”¨æ¥ç®¡ç†ä»»ä½•ç±»å‹çš„æ–‡ä»¶ã€‚</p><hr><p><strong>Me</strong>: Gitåœ¨å®é™…åº”ç”¨ä¸­ä¼šè§£å†³ä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Ÿ</p><hr><p><strong>DeepSeek</strong>: Git åœ¨å®é™…åº”ç”¨ä¸­ä¸»è¦è§£å†³ä»¥ä¸‹å‡ ç±»é—®é¢˜ï¼š</p><ol><li><p><strong>ç‰ˆæœ¬ç®¡ç†</strong></p><ul><li><strong>é—®é¢˜</strong>ï¼šåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶ä¼šä¸æ–­ä¿®æ”¹ï¼Œå¯èƒ½ä¼šé‡åˆ°æ”¹é”™ä»£ç ã€è¯¯åˆ æ–‡ä»¶ï¼Œæˆ–è€…æƒ³æ‰¾å›ä¹‹å‰æŸä¸ªç‰ˆæœ¬çš„æƒ…å†µã€‚</li><li><strong>Git çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šGit ä¼šè®°å½•æ¯æ¬¡æ–‡ä»¶çš„å˜åŒ–ï¼Œä½ å¯ä»¥éšæ—¶æŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼Œç”šè‡³å›é€€åˆ°ä¹‹å‰çš„æŸä¸ªçŠ¶æ€ã€‚</li></ul><p><strong>ä¾‹å­</strong>ï¼šä½ å†™äº†ä¸€æ®µä»£ç ï¼Œåæ¥æ”¹åäº†ï¼Œå¯ä»¥ç”¨ Git è½»æ¾æ‰¾å›ä¹‹å‰çš„æ­£ç¡®ç‰ˆæœ¬ã€‚</p></li><li><p><strong>å¤šäººåä½œ</strong></p><ul><li><strong>é—®é¢˜</strong>ï¼šå¤šäººåŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå®¹æ˜“äº§ç”Ÿå†²çªï¼Œæˆ–è€…ä¸çŸ¥é“è°æ”¹äº†å“ªé‡Œã€‚</li><li><strong>Git çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šGit å…è®¸æ¯ä¸ªäººåœ¨è‡ªå·±çš„åˆ†æ”¯ä¸Šå·¥ä½œï¼Œæœ€åå°†ä¿®æ”¹åˆå¹¶åˆ°ä¸€èµ·ã€‚å¦‚æœæœ‰å†²çªï¼ŒGit ä¼šæç¤ºä½ è§£å†³ã€‚</li></ul><p><strong>ä¾‹å­</strong>ï¼šä½ å’ŒåŒäº‹åŒæ—¶å¼€å‘ä¸€ä¸ªåŠŸèƒ½ï¼ŒGit å¯ä»¥å¸®åŠ©ä½ ä»¬åˆå¹¶ä»£ç ï¼Œé¿å…è¦†ç›–å¯¹æ–¹çš„å·¥ä½œã€‚</p></li><li><p><strong>ä»£ç å¤‡ä»½</strong></p><ul><li><strong>é—®é¢˜</strong>ï¼šä»£ç åªå­˜åœ¨æœ¬åœ°ç”µè„‘ä¸Šï¼Œå¦‚æœç”µè„‘åäº†æˆ–æ–‡ä»¶ä¸¢å¤±ï¼Œå·¥ä½œæˆæœå°±æ²¡äº†ã€‚</li><li><strong>Git çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šGit å¯ä»¥å°†ä»£ç ä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ï¼ˆå¦‚ GitHubã€GitLabï¼‰ï¼Œå®ç°å¤‡ä»½å’Œå…±äº«ã€‚</li></ul><p><strong>ä¾‹å­</strong>ï¼šä½ å¯ä»¥æŠŠä»£ç æ¨é€åˆ° GitHubï¼Œè¿™æ ·å³ä½¿ç”µè„‘å‡ºé—®é¢˜ï¼Œä»£ç ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p></li><li><p><strong>åˆ†æ”¯ç®¡ç†</strong></p><ul><li><strong>é—®é¢˜</strong>ï¼šåœ¨å¼€å‘æ–°åŠŸèƒ½æˆ–ä¿®å¤ bug æ—¶ï¼Œç›´æ¥ä¿®æ”¹ä¸»ä»£ç å¯èƒ½ä¼šå½±å“æ­£åœ¨è¿è¡Œçš„ç¨‹åºã€‚</li><li><strong>Git çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šGit æ”¯æŒåˆ›å»ºåˆ†æ”¯ï¼Œä½ å¯ä»¥åœ¨æ–°åˆ†æ”¯ä¸Šå¼€å‘ï¼Œå®Œæˆåå†åˆå¹¶åˆ°ä¸»åˆ†æ”¯ã€‚</li></ul><p><strong>ä¾‹å­</strong>ï¼šä½ æƒ³å¼€å‘ä¸€ä¸ªæ–°åŠŸèƒ½ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå®Œæˆåæµ‹è¯•æ— è¯¯å†åˆå¹¶åˆ°ä¸»åˆ†æ”¯ã€‚</p></li><li><p><strong>è¿½è¸ªæ”¹åŠ¨</strong></p><ul><li><strong>é—®é¢˜</strong>ï¼šä¿®æ”¹ä»£ç åï¼Œå¾ˆéš¾è®°ä½å…·ä½“æ”¹äº†å“ªäº›åœ°æ–¹ï¼Œä¸ºä»€ä¹ˆè¦æ”¹ã€‚</li><li><strong>Git çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šGit ä¼šè®°å½•æ¯æ¬¡æ”¹åŠ¨çš„å…·ä½“å†…å®¹ï¼Œå¹¶ä¸”ä½ å¯ä»¥ä¸ºæ¯æ¬¡æ”¹åŠ¨æ·»åŠ æ³¨é‡Šï¼ˆcommit messageï¼‰ï¼Œæ–¹ä¾¿ä»¥åæŸ¥çœ‹ã€‚</li></ul><p><strong>ä¾‹å­</strong>ï¼šä½ å¯ä»¥é€šè¿‡ Git æŸ¥çœ‹æŸæ¬¡æ”¹åŠ¨çš„å…·ä½“å†…å®¹ï¼Œäº†è§£ä¸ºä»€ä¹ˆä¿®æ”¹äº†æŸæ®µä»£ç ã€‚</p></li><li><p><strong>ä»£ç å®¡æŸ¥</strong></p><ul><li><strong>é—®é¢˜</strong>ï¼šå¤šäººåä½œæ—¶ï¼Œå¦‚ä½•ç¡®ä¿ä»£ç è´¨é‡ï¼Ÿ</li><li><strong>Git çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼šé€šè¿‡ Git çš„ Pull Requestï¼ˆPRï¼‰åŠŸèƒ½ï¼Œå…¶ä»–äººå¯ä»¥æŸ¥çœ‹ä½ çš„ä»£ç æ”¹åŠ¨å¹¶æå‡ºå»ºè®®ã€‚</li></ul><p><strong>ä¾‹å­</strong>ï¼šä½ å®Œæˆä¸€ä¸ªåŠŸèƒ½åï¼Œå‘èµ· PRï¼ŒåŒäº‹å¯ä»¥æ£€æŸ¥ä»£ç å¹¶æå‡ºæ”¹è¿›æ„è§ã€‚</p></li></ol><p><strong>æ€»ç»“</strong></p><p>Git ä¸»è¦è§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>ç‰ˆæœ¬ä¸¢å¤±æˆ–æ··ä¹±ã€‚</li><li>å¤šäººåä½œæ—¶çš„å†²çªã€‚</li><li>ä»£ç å¤‡ä»½å’Œå…±äº«ã€‚</li><li>å¼€å‘æ–°åŠŸèƒ½æ—¶çš„é£é™©éš”ç¦»ã€‚</li><li>è¿½è¸ªæ”¹åŠ¨å’Œä»£ç å®¡æŸ¥ã€‚</li></ul><p>æ— è®ºæ˜¯ä¸ªäººé¡¹ç›®è¿˜æ˜¯å›¢é˜Ÿåä½œï¼ŒGit éƒ½æ˜¯æé«˜æ•ˆç‡ã€é™ä½é£é™©çš„é‡è¦å·¥å…·ã€‚</p><hr><p><strong>Me</strong>: Gitçš„å®˜ç½‘ä¸Šè§£é‡Šçš„æ˜¯distributed version control systemï¼Œä½ èƒ½ç”¨é€šä¿—çš„è¯­è¨€è§£é‡Šä¸€ä¸‹å—</p><hr><p><strong>DeepSeek</strong>: å½“ç„¶å¯ä»¥ï¼Git å®˜ç½‘è¯´å®ƒæ˜¯ä¸€ä¸ª <strong>â€œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿâ€</strong>ï¼Œå¬èµ·æ¥æœ‰ç‚¹å¤æ‚ï¼Œä½†å…¶å®å¾ˆç®€å•ã€‚æˆ‘ä»¬å¯ä»¥æ‹†å¼€æ¥çœ‹ï¼š</p><ol><li><strong>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</strong></li></ol><p>Git æ˜¯ä¸€ä¸ªç”¨æ¥ç®¡ç†æ–‡ä»¶å˜åŒ–çš„å·¥å…·ã€‚æ¯”å¦‚ä½ å†™ä»£ç æˆ–æ–‡æ¡£ï¼Œæ¯æ¬¡ä¿®æ”¹åï¼ŒGit éƒ½ä¼šå¸®ä½ ä¿å­˜ä¸€ä¸ªâ€œå¿«ç…§â€ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥éšæ—¶æŸ¥çœ‹ä¹‹å‰çš„å†…å®¹ï¼Œæˆ–è€…å›é€€åˆ°æŸä¸ªå†å²ç‰ˆæœ¬ã€‚</p><ol start="2"><li><strong>åˆ†å¸ƒå¼</strong></li></ol><p>è¿™æ˜¯ Git æœ€ç‰¹åˆ«çš„åœ°æ–¹ã€‚ä¼ ç»Ÿçš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆæ¯”å¦‚ SVNï¼‰æ˜¯ <strong>é›†ä¸­å¼</strong> çš„ï¼Œæ‰€æœ‰æ–‡ä»¶çš„å†å²ç‰ˆæœ¬éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªä¸­å¤®æœåŠ¡å™¨ä¸Šã€‚å¦‚æœæœåŠ¡å™¨åäº†ï¼Œå¤§å®¶å°±æ²¡æ³•å·¥ä½œäº†ã€‚</p><p>è€Œ Git æ˜¯ <strong>åˆ†å¸ƒå¼</strong> çš„ï¼Œæ„æ€æ˜¯ï¼š</p><ul><li>æ¯ä¸ªäººç”µè„‘ä¸Šéƒ½æœ‰ä¸€ä¸ªå®Œæ•´çš„ä»“åº“ï¼ˆåŒ…æ‹¬æ‰€æœ‰æ–‡ä»¶çš„å†å²è®°å½•ï¼‰ã€‚</li><li>ä½ ä¸éœ€è¦ä¾èµ–ä¸­å¤®æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨æœ¬åœ°å®Œæˆå¤§éƒ¨åˆ†æ“ä½œï¼ˆæ¯”å¦‚æŸ¥çœ‹å†å²ã€åˆ›å»ºåˆ†æ”¯ã€æäº¤æ”¹åŠ¨ç­‰ï¼‰ã€‚</li><li>ä½ å¯ä»¥éšæ—¶å’Œå…¶ä»–äººçš„ä»“åº“åŒæ­¥ï¼Œäº¤æ¢æ”¹åŠ¨ã€‚</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><p>å‡è®¾ä½ å’Œæœ‹å‹ä¸€èµ·å†™ä»£ç ï¼š</p><ol><li>ä½ ç”¨ Git æŠŠæ•´ä¸ªé¡¹ç›®ï¼ˆåŒ…æ‹¬æ‰€æœ‰å†å²è®°å½•ï¼‰å¤åˆ¶åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šã€‚</li><li>ä½ åœ¨æœ¬åœ°ä¿®æ”¹ä»£ç ï¼ŒGit å¸®ä½ è®°å½•æ¯æ¬¡æ”¹åŠ¨ã€‚</li><li>ä½ æœ‹å‹ä¹Ÿåœ¨ä»–çš„ç”µè„‘ä¸Šä¿®æ”¹ä»£ç ï¼ŒGit ä¹Ÿå¸®ä»–è®°å½•ã€‚</li><li>ä½ ä»¬å„è‡ªå®Œæˆåï¼Œå¯ä»¥æŠŠæ”¹åŠ¨åŒæ­¥åˆ°ä¸€èµ·ã€‚</li></ol><p>å³ä½¿æ²¡æœ‰ç½‘ç»œï¼Œä½ ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°å·¥ä½œï¼Œç­‰æœ‰ç½‘äº†å†åŒæ­¥ã€‚å¦‚æœä¸­å¤®æœåŠ¡å™¨åäº†ï¼Œä½ ä»¬æ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æœ‰å®Œæ•´çš„å¤‡ä»½ï¼Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚</p><p>æ€»ç»“</p><p>â€œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿâ€ å°±æ˜¯ï¼š</p><ul><li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šå¸®ä½ è®°å½•æ–‡ä»¶çš„å˜åŒ–å†å²ã€‚</li><li><strong>åˆ†å¸ƒå¼</strong>ï¼šæ¯ä¸ªäººç”µè„‘ä¸Šéƒ½æœ‰å®Œæ•´çš„ä»“åº“ï¼Œä¸ä¾èµ–ä¸­å¤®æœåŠ¡å™¨ï¼Œæ›´çµæ´»ã€æ›´å®‰å…¨ã€‚</li></ul><p>Git çš„è¿™ç§è®¾è®¡è®©å®ƒç‰¹åˆ«é€‚åˆä¸ªäººå¼€å‘ã€å›¢é˜Ÿåä½œï¼Œç”šè‡³æ˜¯å¼€æºé¡¹ç›®çš„å…¨çƒåä½œï¼ˆæ¯”å¦‚ Linux å†…æ ¸å¼€å‘ï¼‰ã€‚</p>          </div><p>æˆ‘åœ¨è¿™é‡Œé—®äº†AIä¸‰ä¸ªé—®é¢˜ï¼Œ<strong>ä»–ç›´æ¥è§£å†³äº†æˆ‘çš„æ‰€æœ‰é—®é¢˜ï¼ï¼ï¼</strong>å¯è°“æ˜¯å¼ºå¤§è‡³æã€‚æˆ‘ä¸ä»…çŸ¥é“äº†Gitå®˜ç½‘ä¸­çš„â€œåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿâ€æ˜¯ä»€ä¹ˆæ„æ€ï¼Œè¿˜çŸ¥é“äº†Gitåœ¨æ—¥å¸¸ç”¨é€”ä¸­ç»å¸¸ä½¿ç”¨åœ¨å“ªäº›åœºæ™¯ä¸­ï¼ŒGitèƒ½å¤Ÿè§£å†³å“ªäº›ç”Ÿæ´»ä¸­çš„å®é™…é—®é¢˜ã€‚</p><div class="note note-success">            <p><strong>é”¦å›Šå¦™è®¡â‘¡ï¼šå–„ç”¨AIå·¥å…·ï¼ˆå¯è§£é‡Šæ€§ï¼‰</strong></p><p>å½“ä½ æŸæ‰‹æ— ç­–çš„æ—¶å€™ï¼Œä¸å¦¨å’ŒAIèŠèŠå¤©ï¼Œå¯¹äºå…¥é—¨çº§åˆ«çš„å·¥å…·æ•™ç¨‹è€Œè¨€ï¼ŒAIå·²ç»èƒ½å¤Ÿåšçš„æ¯”å¤§éƒ¨åˆ†äººç±»æ•™ç¨‹è¦å¥½äº†ã€‚</p><div class="note note-danger">            <p>æ³¨æ„ï¼Œä¸è¦äº§ç”Ÿå¯¹<strong>AI</strong>çš„è¿‡åº¦ä¾èµ–å¿ƒç†ï¼AIçš„è¾“å‡ºå¹¶ä¸ä¿è¯ç»å¯¹çš„æ­£ç¡®æ€§ï¼Œå°¤å…¶æ˜¯åœ¨æ¶‰åŠæ›´æ·±å±‚æ¬¡é—®é¢˜çš„æ—¶å€™ã€‚å› æ­¤ï¼Œ<strong>æåº¦ä¸æ¨è</strong>å®Œå…¨å€ŸåŠ©AIçš„åŠ›é‡æ¥å­¦ä¹ å·¥å…·ï¼è¿™å¾€å¾€ä¼šå¸¦æ¥å¾ˆä¸¥é‡çš„éšæ‚£ï¼Œä½œä¸ºä¸€ä¸ªå­¦ä¹ è€…çš„èº«ä»½ï¼Œä½ æ ¹æœ¬æ— æ³•åˆ¤æ–­AIç”Ÿæˆçš„å†…å®¹åˆ°åº•æ˜¯æ­£ç¡®çš„è¿˜æ˜¯èƒ¡è¯´å…«é“ã€‚ç›¸åï¼Œå°†AIä½œä¸ºå·¥å…·è¾…åŠ©å­¦ä¹ æ‰æ˜¯æœ€ä¸ºé«˜æ•ˆä¸”å®‰å…¨çš„é€‰æ‹©ã€‚</p>          </div>          </div><p>è‡³æ­¤ï¼Œä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œå·²ç»å¦‚ä½•æ‰¾åˆ°ä»¥ä¸‹ä¸‰ä¸ªé—®é¢˜ç­”æ¡ˆçš„ç­”æ¡ˆï¼Œå·²ç»è¢«æˆ‘ä»¬æ‰¾åˆ°äº†ï¼š</p><ul><li>è¿™ä¸ªå·¥å…·æ˜¯ä»€ä¹ˆï¼Ÿç”¨ä¸€å¥è¯æ¦‚æ‹¬å±•ç°å…¶æœ¬è´¨çš„å±æ€§ã€‚<ul><li>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œè®°å½•æ–‡ä»¶å˜åŒ–å†å²ã€‚</li></ul></li><li>è¿™ä¸ªå·¥å…·æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆå®é™…é—®é¢˜è€Œå­˜åœ¨çš„ï¼Ÿ<ul><li>ç®¡ç†æ–‡ä»¶ç‰ˆæœ¬ï¼Œé¿å…ä¸¢å¤±ï¼Œæ”¯æŒå¤šäººåä½œã€‚</li></ul></li><li>è¿™ä¸ªå·¥å…·æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ<ul><li>å¤‡ä»½ä»£ç ã€å›é€€ç‰ˆæœ¬ã€åˆ†æ”¯ç®¡ç†ã€å›¢é˜Ÿåä½œã€‚</li></ul></li></ul><div class="note note-info">            <p><strong>Period 1:</strong> å­¦ä¹ æœ€åŸºæœ¬çš„æ¡†æ¶çŸ¥è¯†ï¼Œç»å…¸ä¸‰è¿é—®ã€‚</p><p><strong>å­¦ä¹ æ—¶é—´</strong>ï¼š&lt;1hï¼ˆç†Ÿç»ƒèµ·æ¥20åˆ†é’Ÿè¶³çŸ£ï¼‰</p><p><strong>å…³é”®</strong>ï¼š</p><ul><li>æŠŠæ¡å®˜æ–¹ç½‘ç«™å’Œä¸€äº›æƒå¨é€”å¾„ï¼ˆæƒå¨æ€§ï¼‰</li><li>å–„äºä½¿ç”¨AIå·¥å…·ï¼ˆå¯è§£é‡Šæ€§ï¼‰</li></ul>          </div><hr><p><strong>æ–½å·¥åŒºå‹¿çœ‹ï¼</strong></p><h3 id="Quick-Start-for-a-project"><a href="#Quick-Start-for-a-project" class="headerlink" title="Quick Start for a project"></a>Quick Start for a project</h3><ul><li><p>å€ŸåŠ©ä»–äººä½¿ç”¨çš„è½®å­çš„åŠ›é‡</p></li><li><p>å€ŸåŠ©å…¸å‹ç¤ºä¾‹å¿«é€Ÿä¸Šæ‰‹ä¸€ä¸ªproject</p></li><li><p><strong>æœ€é‡è¦çš„éƒ¨åˆ†</strong></p><p><span style="font-size: 18pt;"><strong><font  color="red">ä»¥å®æˆ˜é¡¹ç›®ä¸ºæœ€å¥½çš„æ•™æï¼Œåœ¨å®è·µä¸­å­¦ä¹ ä»£ç ï¼ˆçŸ¥è¯†ï¼‰æ˜¯æ€ä¹ˆå®ç°çš„</font></strong></span></p></li></ul><h3 id="From-imitating-to-modifying-and-enhancing"><a href="#From-imitating-to-modifying-and-enhancing" class="headerlink" title="From imitating to modifying and enhancing"></a>From imitating to modifying and enhancing</h3><ul><li>åœ¨ç²¾è¯»å®Œç¤ºä¾‹projectåï¼Œå¯ä»¥å°è¯•å¼€å§‹ <strong>æ¨¡ä»¿</strong></li><li><strong>æ¨¡ä»¿â€”â€”â€”â€”ä¿®æ”¹â€”â€”â€”â€”ä¼˜åŒ–</strong></li><li>ä¸æ–­åœ°å‘ç°é—®é¢˜ï¼Œè§£å†³é—®é¢˜ï¼</li></ul><h3 id="Diving-into-principles"><a href="#Diving-into-principles" class="headerlink" title="Diving into principles"></a>Diving into principles</h3><ul><li>åœ¨è¿™ä¸ªé˜¶æ®µï¼Œå·²ç»åˆæ­¥å…·å¤‡æ„å»ºå·¥ç¨‹çš„åŸºæœ¬èƒ½åŠ›ï¼Œä½†ä»éœ€è¦è¿›ä¸€æ­¥æŒæ¡<strong>åº•å±‚åŸç†å’Œä¸€äº›æ›´é«˜çº§æ›´è¿›é˜¶çš„ç”¨æ³•ï¼ˆè‡ªä¸»æ€§å’Œåˆ›æ–°æ€§ï¼‰</strong></li><li>å¯ä»¥åœ¨å¼€æºç½‘ç«™ä¸Šå­¦ä¹ ä»–äººçš„æˆæœ</li><li>å°è¯•é˜…è¯»å®˜æ–¹æ–‡ä»¶æˆ–è€…ä¸€äº›åº•å±‚æ–‡ä»¶</li><li>å¯¹åº•å±‚åŸç†çš„å­¦ä¹ å¾€å¾€æ˜¯æ¯ç‡¥çš„ï¼Œ<strong>å¯¹äºå·¥ç¨‹å®è·µæ¥è¯´åˆæœŸæ°¸è¿œæ˜¯å®è·µæœ€é‡è¦ï¼Œå¯¹äºåŸç†å±‚é¢èµ·åˆ°é”¦ä¸Šæ·»èŠ±çš„ä½œç”¨ï¼Œç›®çš„åœ¨äºä¸ºæˆ‘ä»¬åç»­çš„ä¸ªæ€§åŒ–åˆ›æ–°å¥ å®šåŸºç¡€ã€‚</strong></li></ul><h3 id="Occasional-Backtracking"><a href="#Occasional-Backtracking" class="headerlink" title="Occasional Backtracking"></a>Occasional Backtracking</h3><ul><li><strong>ç»å…¸å›è¯»</strong>ï¼ï¼ï¼</li><li>1-2-3-4å¾€å¾€æ˜¯å¾ªç¯çš„è¿‡ç¨‹ï¼Œåœ¨å“ªä¸€æ­¥éƒ½ä¼šå—æŒ«ï¼Œç†æ€§åˆ†æï¼Œé€‚å½“æ±‚åŠ©ï¼Œç–¯ç‹‚æ‹·æ‰“ChatGPT</li></ul><h3 id="Conclusion-and-Notice"><a href="#Conclusion-and-Notice" class="headerlink" title="Conclusion and Notice"></a>Conclusion and Notice</h3><ul><li>è¯¥å­¦ä¹ æ–¹æ³•ä¸é€‚åº”äºé€»è¾‘æ€§æ¯”è¾ƒå¼ºçš„ç†ç§‘</li><li>è¯¥å­¦ä¹ æ–¹æ³•ä¸é€‚ç”¨äºåº•å±‚çš„åŸºç¡€å­¦ç§‘</li><li>è¯¥å­¦ä¹ æ–¹æ³•é€‚ç”¨äºå·²ç»å­˜åœ¨ä¸€å®šè¿ç§»åŸºç¡€çš„æ–°å­¦ç§‘ï¼Œä¸é€‚åˆå®Œå…¨æœªæ›¾æ¶‰çŒçš„å­¦ç§‘</li></ul><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://git-scm.com/docs">Git documentation</a></p><p style="text-align: center;">    <span style="font-size: 30pt;">        <strong>            <font  color="red">                åšä¸€åç»ˆèº«çš„å­¦ä¹ è€…            </font>        </strong>    </span></p>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>Methodologies</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jotting-References-and-Encapsulation-in-OOP</title>
    <link href="/posts/Jotting-References-and-Encapsulation-in-OOP/"/>
    <url>/posts/Jotting-References-and-Encapsulation-in-OOP/</url>
    
    <content type="html"><![CDATA[<h1 id="Jotting-References-and-Encapsulation-in-OOP"><a href="#Jotting-References-and-Encapsulation-in-OOP" class="headerlink" title="[Jotting] References and Encapsulation in OOP"></a>[Jotting] References and Encapsulation in OOP</h1><h2 id="About-Jotting"><a href="#About-Jotting" class="headerlink" title="About Jotting"></a>About Jotting</h2><div class="note note-primary">            <p>â€œJottingâ€ means quickly writing down short notes or ideas. Itâ€™s often used for informal, brief records, like reminders or thoughts.</p>          </div><p>åœ¨<strong>Jotting</strong>æ ç›®ä¸­ï¼Œæˆ‘å°†ä»¥<strong>ç¢ç‰‡åŒ–</strong>çš„æ–¹å¼è®°å½•æˆ‘åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€ä¸ªä¸ªå°é—®é¢˜ï¼Œä»–ä»¬ä¹‹é—´å…·æœ‰ç‹¬ç«‹æ€§ï¼Œå„è‡ªæ˜¯ä¸€ä¸ªä¸ªå°ä¸“é¢˜ï¼Œä½†æ˜¯<strong>æœ‰å…·æœ‰æ›´æ·±å±‚æ¬¡çš„å…±æ€§</strong>ã€‚å› æ­¤ï¼Œæœ¬æ ç›®çš„åˆè¡·å°±æ˜¯åœ¨<strong>è§£å†³è¿™ä¸€ä¸ªä¸ªå°ä¸“é¢˜çš„è¿‡ç¨‹ä¸­ï¼Œå°è¯•æç‚¼å…¶æœ€æœ¬è´¨çš„â€œç¬¬ä¸€æ€§åŸç†â€</strong>ï¼Œè¿›è€Œæœ‰åŠ©äºæ„å»ºåœ¨å®è§‚ä¸Šçš„çŸ¥è¯†æ¡†æ¶ã€‚</p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>In this blog, we will start with the design of a <strong>vector</strong> class, exploring the implementation details of defining member functions as <strong>const references and non-const references</strong>, as well as their practical applications in <strong>operator overloading</strong>, <strong>setting friend functions</strong>, <strong>constructors</strong>, and more. On a deeper level, this article uses this example to discuss the trade-offs between the <strong>encapsulation philosophy and flexibility</strong> in OOP.</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨æ˜¨å¤©çš„C++ä½œä¸šä¸­ï¼Œç¬”è€…åšåˆ°äº†ä¸€é“å¾ˆç»å…¸çš„é¢å‘å¯¹è±¡çš„è®¾è®¡é¢˜ï¼š<strong>è®¾è®¡å‘é‡ç±»å¹¶å®ç°å¯¹åº”çš„åŠŸèƒ½</strong>ã€‚ä¸‹æ–‡è´´å‡ºé¢˜ç›®å’Œå·²ç»é€šè¿‡æµ‹è¯•æ ·ä¾‹çš„ä»£ç ã€‚</p><blockquote><p><strong>é¢˜ç›®ï¼š</strong>æœ¬å…³ä»»åŠ¡ï¼šå®šä¹‰ä¸€ä¸ªå‘é‡ç±»MyVectï¼Œåˆ†é‡ä¸ºæ•´æ•°ï¼Œå‘é‡ç»´æ•°ä½œä¸ºå…¶æ•°æ®æˆå‘˜ï¼Œé™¤äº†å®ç°æ„é€ å‡½æ•°ã€ææ„å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ï¼Œè¿˜èƒ½å¤Ÿ </p><ul><li>é‡è½½åŠ æ³•ï¼šå¯¹åº”åˆ†é‡ç›¸åŠ ï¼Œå‡è®¾æ€»æ˜¯ç»´æ•°ç›¸åŒçš„ä¸¤ä¸ªå‘é‡ç›¸åŠ  </li><li>é‡è½½[]ï¼šå–ç›¸åº”åˆ†é‡ </li><li>é‡è½½è¾“å…¥è¾“å‡º </li><li>é‡è½½&#x3D;ã€&#x3D;&#x3D;ã€!&#x3D; </li><li>é‡è½½++ã€â€“ï¼šå¯¹æ‰€æœ‰åˆ†é‡åš++å’Œâ€“</li><li>è¾“å‡ºå‘é‡èŒƒæ•°(L2èŒƒæ•°) è‹¥å°†å‘é‡èµ‹å€¼ç»™ä¸€ä¸ªdoubleå‹æ•°ï¼Œåˆ™è¡¨ç¤ºæ±‚å…¶èŒƒæ•°(L2èŒƒæ•°) </li><li>èƒ½å¤ŸçŸ¥é“ç¨‹åºç›®å‰å­˜æ´»çš„å‘é‡æ•° </li><li>è¾“å‡ºå‘é‡ç»´æ•°</li></ul></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @Date: 2024-11-11 21:10:22</span><br><span class="hljs-comment"> * @LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @LastEditTime: 2024-12-30 14:56:27</span><br><span class="hljs-comment"> * @FilePath: \CODE_for_Vscode\C++_project\testcode_4.cpp</span><br><span class="hljs-comment"> * @Description: </span><br><span class="hljs-comment"> * Do you code and make progress today?</span><br><span class="hljs-comment"> * Copyright (c) 2024 by Xiyuan Yang, All Rights Reserved. </span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyVect</span>&#123;<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> numbers;<br>    <span class="hljs-type">int</span> size;<br>    <span class="hljs-type">int</span> *array;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">MyVect</span>()&#123;<br>            numbers++;<br>        &#125;<br>        <span class="hljs-built_in">MyVect</span>(<span class="hljs-type">int</span> n):<span class="hljs-built_in">size</span>(n)&#123;<br>            array=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[size];<br>            numbers++;<br>        &#125;<br>        <span class="hljs-built_in">MyVect</span>(<span class="hljs-type">const</span> MyVect&amp; x)&#123;<br>            size=x.size;<br>            array=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[size];<br>            numbers++;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;size;i++)&#123;<br>                array[i]=x.array[i];<br>            &#125;<br>        &#125;<br>        ~<span class="hljs-built_in">MyVect</span>()&#123;<br>            numbers--;<br>            <span class="hljs-keyword">delete</span>[] array;<br>        &#125;<br>        <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getlength</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> size;&#125;<br>        <span class="hljs-function"><span class="hljs-type">int</span>* <span class="hljs-title">getarray</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> array;&#125;<br>        <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">getnorm</span><span class="hljs-params">()</span></span>&#123;<br>            <span class="hljs-type">double</span> sum=<span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;size;i++)&#123;<br>                sum+=(array[i])*array[i];<br>            &#125;<br>            sum=<span class="hljs-built_in">sqrt</span>(sum);<br>            <span class="hljs-keyword">return</span> sum;<br>        &#125;<br>        <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">getliving</span><span class="hljs-params">()</span></span>;<br>        <span class="hljs-type">int</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> x)&#123;<span class="hljs-keyword">return</span> array[x];&#125;<br>        MyVect&amp; <span class="hljs-keyword">operator</span>++()&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;size;i++)&#123;<br>                array[i]++;<br>            &#125;<br>            <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>        &#125;<br>        MyVect <span class="hljs-keyword">operator</span>++(<span class="hljs-type">int</span> x)&#123;<br>            MyVect temp=*<span class="hljs-keyword">this</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;size;i++)&#123;<br>                array[i]++;<br>            &#125;<br>            <span class="hljs-keyword">return</span> temp;<br>        &#125;<br>        MyVect <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> MyVect &amp;x);<br>        <span class="hljs-keyword">friend</span> istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is,MyVect&amp; x);<br>        <span class="hljs-keyword">friend</span> ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os,<span class="hljs-type">const</span> MyVect&amp; x);<br>        <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(MyVect&amp;x1,MyVect&amp;x2);<br>        <span class="hljs-keyword">friend</span> MyVect <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> MyVect&amp;x1,<span class="hljs-type">const</span> MyVect&amp;x2);<br>        <span class="hljs-type">double</span> <span class="hljs-keyword">operator</span>-(<span class="hljs-type">double</span> minus)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">getnorm</span>()-minus;<br>        &#125;;<br>&#125;;<br><br><span class="hljs-type">int</span> MyVect::numbers=<span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">MyVect::getliving</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">return</span> numbers;<br>&#125;<br><br>istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is,MyVect&amp; x)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x.size;i++)&#123;<br>        is&gt;&gt;x.array[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><br>ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os,<span class="hljs-type">const</span> MyVect&amp; x)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x.size;i++)&#123;<br>        os&lt;&lt;x.array[i];<br>        <span class="hljs-keyword">if</span>(i!=x.size<span class="hljs-number">-1</span>) os&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br>MyVect <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> MyVect&amp;x1,<span class="hljs-type">const</span> MyVect&amp;x2)&#123;<br>    <span class="hljs-function">MyVect <span class="hljs-title">temp</span><span class="hljs-params">(x<span class="hljs-number">1.</span>size)</span></span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x<span class="hljs-number">1.</span>size;i++)&#123;<br>        temp.array[i]=x<span class="hljs-number">1.</span>array[i]+x<span class="hljs-number">2.</span>array[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> temp;<br>&#125;<br><br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(MyVect&amp;x1,MyVect&amp;x2)&#123;<br>    <span class="hljs-keyword">if</span>(x<span class="hljs-number">1.</span>size!=x<span class="hljs-number">2.</span>size)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;x<span class="hljs-number">1.</span>size;i++)&#123;<br>        <span class="hljs-keyword">if</span>(x<span class="hljs-number">1.</span>array[i]!=x<span class="hljs-number">2.</span>array[i])&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br>MyVect MyVect::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> MyVect &amp;x)&#123;<br>            <span class="hljs-keyword">if</span>((<span class="hljs-keyword">this</span>)==&amp;x)&#123;<br>                <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">delete</span>[] array;<br>            size=x.size;<br>            array=<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[size];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;size;i++)&#123;<br>                array[i]=x.array[i];<br>            &#125;<br>            <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>        &#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-function">MyVect <span class="hljs-title">v1</span><span class="hljs-params">(n)</span></span>;<br>    <span class="hljs-type">double</span> x;<br>    cin &gt;&gt; v1;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Now v1 is: &quot;</span>&lt;&lt; v1 &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The length of v1 is &quot;</span> &lt;&lt; v<span class="hljs-number">1.</span><span class="hljs-built_in">getlength</span>() &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The norm of v1 is &quot;</span> &lt;&lt; v<span class="hljs-number">1.</span><span class="hljs-built_in">getnorm</span>() &lt;&lt; endl;<br>    x = v1 - <span class="hljs-number">1.0</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The norm of v1 minus 1 is &quot;</span> &lt;&lt; x &lt;&lt; endl;<br>    MyVect v2 = v1;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Now v2 is: &quot;</span> &lt;&lt; v2 &lt;&lt; endl;<br>    <span class="hljs-comment">//cout &lt;&lt; &quot;The number of vectors is: &quot; &lt;&lt; v1.getcount() &lt;&lt; endl;</span><br>    cout &lt;&lt; endl;<br>    &#123;<br>        <span class="hljs-function">MyVect <span class="hljs-title">v3</span><span class="hljs-params">(n)</span></span>;<br>        v3= v1 + v2;<br>        cout &lt;&lt; <span class="hljs-string">&quot;The result of v1+v2 is: &quot;</span> &lt;&lt; v3 &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;The 1st element of v3 is &quot;</span> &lt;&lt; v3[<span class="hljs-number">1</span>] &lt;&lt; endl;<br>        <span class="hljs-comment">//cout &lt;&lt; &quot;The number of vectors is: &quot; &lt;&lt; MyVect::getcount() &lt;&lt; endl;</span><br>    &#125;<br>    cout &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The number of living vectors is: &quot;</span> &lt;&lt; v<span class="hljs-number">1.</span><span class="hljs-built_in">getliving</span>() &lt;&lt; endl;<br>    <span class="hljs-comment">//cout &lt;&lt; &quot;The number of total vector is: &quot; &lt;&lt; v1.getcount() &lt;&lt; endl;</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;The result of v1++ is: &quot;</span> &lt;&lt; v1++ &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The result of v1==v2 is &quot;</span> &lt;&lt; (v1==v2) &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The result of ++v2 is: &quot;</span> &lt;&lt; ++v2 &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;The result of v1==v2 is &quot;</span> &lt;&lt; (v1==v2) &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å…·ä½“çš„å®ç°å…¶å®å¹¶ä¸éº»çƒ¦ï¼Œåªæ˜¯ä»£ç çš„å·¥ç¨‹é‡å¾ˆå¤§ã€‚ä¸è¿‡ï¼Œç¬”è€…åœ¨é‡è½½++è¿ç®—ç¬¦çš„æ—¶å€™é‡åˆ°äº†ä¸€äº›éº»çƒ¦ã€‚</p><p>å›é¡¾**<a href="https://xiyuanyang-code.github.io/posts/Introduction-to-OOP/">ç¬”è€…ä¹‹å‰å†™çš„åšå®¢</a><strong>ï¼Œè¿™æ˜¯</strong>é‡è½½++&#x2F;â€“è¿ç®—ç¬¦çš„æ–¹æ³•**ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @Date: 2024-11-11 21:10:21</span><br><span class="hljs-comment"> * @LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @LastEditTime: 2024-12-30 14:04:15</span><br><span class="hljs-comment"> * @FilePath: \CODE_for_Vscode\C++_project\testcode_5.cpp</span><br><span class="hljs-comment"> * @Description: </span><br><span class="hljs-comment"> * Do you code and make progress today?</span><br><span class="hljs-comment"> * Copyright (c) 2024 by Xiyuan Yang, All Rights Reserved. </span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">value</span>(v) &#123;&#125;<br><br>    <span class="hljs-comment">// å‰ç¼€ ++ è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>++() &#123;<br>        ++value;  <span class="hljs-comment">// å¢åŠ æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br>    <span class="hljs-comment">// å‰ç¼€ -- è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>--() &#123;<br>        --value;  <span class="hljs-comment">// å‡å°‘æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br>    <span class="hljs-comment">// åç¼€ ++ è¿ç®—ç¬¦é‡è½½</span><br>    MyClass <span class="hljs-keyword">operator</span>++(<span class="hljs-type">int</span>) &#123;<br>        MyClass temp = *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// ä¿å­˜å½“å‰å€¼</span><br>        ++value;  <span class="hljs-comment">// å¢åŠ æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> temp;  <span class="hljs-comment">// è¿”å›åŸå¯¹è±¡</span><br>    &#125;<br><br>    <span class="hljs-comment">// åç¼€ -- è¿ç®—ç¬¦é‡è½½</span><br>    MyClass <span class="hljs-keyword">operator</span>--(<span class="hljs-type">int</span>) &#123;<br>        MyClass temp = *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// ä¿å­˜å½“å‰å€¼</span><br>        --value;  <span class="hljs-comment">// å‡å°‘æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> temp;  <span class="hljs-comment">// è¿”å›åŸå¯¹è±¡</span><br>    &#125;<br><br>    <span class="hljs-comment">// æ˜¾ç¤ºå€¼</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span>,<span class="hljs-title">obj2</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    cout&lt;&lt;<span class="hljs-string">&quot;++ in the front:&quot;</span>&lt;&lt;endl;<br>    (++obj1).<span class="hljs-built_in">display</span>();<br><br>    cout&lt;&lt;<span class="hljs-string">&quot;++ in the back:&quot;</span>&lt;&lt;endl;<br>    (obj2++).<span class="hljs-built_in">display</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¾“å‡ºï¼š</span><br><span class="hljs-comment">++ in the front:</span><br><span class="hljs-comment">Value: 11</span><br><span class="hljs-comment">++ in the back:</span><br><span class="hljs-comment">Value: 10</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä»”ç»†æ¯”è¾ƒ<code>++/--</code>è¿ç®—ç¬¦çš„é‡è½½è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¼šå‘ç°åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹çš„ä¸åŒï¼š</p><ul><li>åç¼€è¿ç®—ç¬¦é‡è½½çš„æ—¶å€™éœ€è¦<code>(int)</code>ä½œä¸ºä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œæ–¹ä¾¿ç¼–è¯‘å™¨åŒºåˆ†ã€‚</li><li>åç¼€è¿ç®—ç¬¦è¿”å›çš„æ˜¯ä¸€ä¸ª**<code>MyClass</code>å¯¹è±¡<strong>ï¼Œè€Œå‰ç¼€è¿ç®—ç¬¦è¿”å›çš„æ˜¯å¯¹ä¸€ä¸ª</strong><code>MyClass</code>å¯¹è±¡çš„å¼•ç”¨**ã€‚</li></ul><p>ä¸‹é¢æˆ‘ä»¬æ¥é‡ç‚¹è®¨è®ºç¬¬äºŒæ¡ï¼Œå³è¿™ç¯‡åšå®¢çš„ç¬¬ä¸€ä¸ªé‡ç‚¹å†…å®¹ï¼š<strong>å…³äºå¯¹è±¡çš„å¼•ç”¨ã€‚</strong></p><h2 id="The-References-of-an-object"><a href="#The-References-of-an-object" class="headerlink" title="The References of an object"></a>The References of an object</h2><p>ä¸ºä»€ä¹ˆå‰ç¼€å’Œåç¼€è¿ç®—ç¬¦çš„<strong>è¿”å›å€¼ä¸ç›¸åŒ</strong>ï¼Ÿå› ä¸ºç¼–è¯‘å™¨å®ç°è¿™ä¸¤ç§è¿ç®—çš„æ“ä½œä¸åŒã€‚å‰ç¼€è¿ç®—æ˜¯è¿”å›è‡ªå¢ä¹‹åçš„</p><p>å€¼ï¼Œéœ€è¦è¿”å›å¯¹å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™æ˜¯ä¸ºäº†æ”¯æŒ<strong>é“¾å¼æ“ä½œ</strong>å’Œ<strong>ä¸€è‡´æ€§</strong>ã€‚ä¾‹å¦‚<code>(++(++obj));</code></p><p>é‚£<strong>åç½®è¿ç®—ç¬¦</strong>å‘¢ï¼Ÿåœ¨æˆ‘ä»¬é‡è½½çš„åç½®è¿ç®—ç¬¦ä¸­ï¼Œæˆ‘ä»¬å…ˆæ–°å»ºä¸€ä¸ªtempå¯¹è±¡æ¥å‚¨å­˜åŸæ¥å¯¹è±¡çš„å€¼ï¼Œä¹‹åå¯¹å¯¹è±¡åš<strong>è‡ªå¢è¿ç®—</strong>ï¼Œç„¶åè¿”å›tempå¯¹è±¡çš„å€¼ï¼Œè¿™æ ·å°±å®ç°äº†<strong>è¿”å›é€’å¢å‰å¯¹è±¡çš„å€¼</strong>ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨ä½¿ç”¨<strong>åç½®è‡ªå¢è¿ç®—ç¬¦çš„è¿‡ç¨‹ä¸­</strong>ï¼Œæˆ‘ä»¬å®é™…ä¸Šè¿”å›çš„æ˜¯<strong>ä¸´æ—¶å˜é‡çš„å€¼</strong>ï¼Œå› æ­¤<strong>ä¸å¯ä»¥è¿”å›å¯¹å¯¹è±¡çš„å¼•ç”¨ï¼Œå› ä¸ºå¯¹ä¸´æ—¶å¯¹è±¡çš„å¼•ç”¨ä¼šå¯¼è‡´æ‚¬æŒ‚æŒ‡é’ˆç­‰ä¸¥é‡çš„é—®é¢˜</strong>ã€‚ï¼ˆä¸´æ—¶å¯¹è±¡åœ¨ä¼ å®Œå€¼åå°±ä¼šè¢«é”€æ¯ï¼Œæ­¤æ—¶åœ¨å¯¹ä»–è¿›è¡Œå¼•ç”¨æ“ä½œæ˜¯æ²¡æœ‰æ„ä¹‰ä¸”æå…¶å±é™©çš„ã€‚ï¼‰</p><p>å¦‚æœè¯»è€…è¿˜å¯¹è¿™ä¸€éƒ¨åˆ†æœ‰äº›ç–‘æƒ‘çš„è¯ï¼Œä¸å¦¨çœ‹çœ‹ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ï¼Œä»¥ä¸‹çš„ä»£ç é€šè¿‡<strong>æ˜¾å¼å®šä¹‰ä¸‰ç§æ„é€ å‡½æ•°</strong>æ¥ç›‘æ§ä¸´æ—¶å¯¹è±¡çš„æ„é€ å’Œææ„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @Date: 2024-11-11 21:10:21</span><br><span class="hljs-comment"> * @LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @LastEditTime: 2024-12-30 14:24:24</span><br><span class="hljs-comment"> * @FilePath: \CODE_for_Vscode\C++_project\testcode_5.cpp</span><br><span class="hljs-comment"> * @Description: </span><br><span class="hljs-comment"> * Do you code and make progress today?</span><br><span class="hljs-comment"> * Copyright (c) 2024 by Xiyuan Yang, All Rights Reserved. </span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyClass</span>()&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;Create a new object with default constructor&quot;</span>&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">value</span>(v) &#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;Create a new object!&quot;</span>&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">const</span> MyClass&amp; x)&#123;<br>        value=x.value;<br>        cout&lt;&lt;<span class="hljs-string">&quot;Create a new object with copy constructor&quot;</span>&lt;&lt;endl;<br>    &#125;<br>    ~<span class="hljs-built_in">MyClass</span>()&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;The object destroyed&quot;</span>&lt;&lt;endl;<br>    &#125;<br><br>    <span class="hljs-comment">// å‰ç¼€ ++ è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>++() &#123;<br>        ++value;  <span class="hljs-comment">// å¢åŠ æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br>    <span class="hljs-comment">// å‰ç¼€ -- è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>--() &#123;<br>        --value;  <span class="hljs-comment">// å‡å°‘æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br>    <span class="hljs-comment">// åç¼€ ++ è¿ç®—ç¬¦é‡è½½</span><br>    MyClass <span class="hljs-keyword">operator</span>++(<span class="hljs-type">int</span>) &#123;<br>        MyClass temp = *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// ä¿å­˜å½“å‰å€¼</span><br>        ++value;  <span class="hljs-comment">// å¢åŠ æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> temp;  <span class="hljs-comment">// è¿”å›åŸå¯¹è±¡</span><br>    &#125;<br><br>    <span class="hljs-comment">// åç¼€ -- è¿ç®—ç¬¦é‡è½½</span><br>    MyClass <span class="hljs-keyword">operator</span>--(<span class="hljs-type">int</span>) &#123;<br>        MyClass temp = *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// ä¿å­˜å½“å‰å€¼</span><br>        --value;  <span class="hljs-comment">// å‡å°‘æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> temp;  <span class="hljs-comment">// è¿”å›åŸå¯¹è±¡</span><br>    &#125;<br><br>    <span class="hljs-comment">// æ˜¾ç¤ºå€¼</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj3</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    obj<span class="hljs-number">3.</span><span class="hljs-built_in">display</span>();<br>    (obj3++).<span class="hljs-built_in">display</span>();<br>    ((obj3++)++).<span class="hljs-built_in">display</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Create a new object!</span><br><span class="hljs-comment">Value: 10</span><br><span class="hljs-comment">Create a new object with copy constructor</span><br><span class="hljs-comment">Value: 10</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">Create a new object with copy constructor</span><br><span class="hljs-comment">Create a new object with copy constructor</span><br><span class="hljs-comment">Value: 11</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="Facing-the"><a href="#Facing-the" class="headerlink" title="Facing the &lt;&lt; operator"></a>Facing the <code>&lt;&lt;</code> operator</h3><p>å› ä¸ºä¸´æ—¶å˜é‡å¯¹<strong>ç­‰å¾…èµ‹å€¼è¿ç®—ç¬¦å°†å€¼æ‹·è´æˆåŠŸåå†è¢«é”€æ¯</strong>ï¼ˆå¦‚æœæ¶‰åŠåˆ°æŒ‡é’ˆå¯¹è±¡ï¼Œéœ€è¦é‡è½½èµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œå› æ­¤ä»…ä»…åœ¨<strong>å€¼</strong>çš„ä½¿ç”¨ä¸Šï¼Œä¸Šæ–‡çš„ä»£ç èƒ½å¤Ÿç›¸å®‰æ— äº‹ã€‚ï¼ˆè¾“å‡ºç»“æœçš„æ­£ç¡®æ€§ä¹Ÿå°è¯äº†è¿™ä¸€ç‚¹ï¼‰ã€‚ä¸è¿‡ï¼Œåªè¦æˆ‘ä»¬å¯¹ä»£ç åšä¸€äº›å°å°çš„ä¿®æ”¹ï¼Œæˆ‘ä»¬å°±ä¼šå‘ç°å¾ˆå¤šæœ‰è¶£çš„bugï¼ˆæˆ–è€…è¯´æ˜¯<strong>å†²çª</strong>ï¼‰å°±å‡ºç°äº†ã€‚</p><p>åšä»€ä¹ˆä¿®æ”¹å‘¢ï¼Ÿæˆ‘ä»¬é‡è½½<strong>æµè¾“å‡ºè¿ç®—ç¬¦</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">friend</span> ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os,MyClass&amp; x)&#123;<br>        os&lt;&lt;x.value;<br>        <span class="hljs-keyword">return</span> os;<br>    &#125;<br><span class="hljs-comment">//è¿™æ˜¯ä½¿ç”¨é constå¼•ç”¨</span><br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹mainå‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj3</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    obj<span class="hljs-number">3.</span><span class="hljs-built_in">display</span>();<br>    (obj3++).<span class="hljs-built_in">display</span>();<br>    ((obj3++)++).<span class="hljs-built_in">display</span>();<br><br>    cout&lt;&lt;<span class="hljs-string">&quot;Now lets look at the obj4&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj4</span><span class="hljs-params">(<span class="hljs-number">100</span>)</span></span>;<br>    cout&lt;&lt;<span class="hljs-string">&quot;Normal use &quot;</span>&lt;&lt;obj4&lt;&lt;endl;<br>    cout&lt;&lt;<span class="hljs-string">&quot;++ in the front &quot;</span>&lt;&lt;(++obj4)&lt;&lt;endl;<br>    <span class="hljs-comment">//cout&lt;&lt;&quot;++ in the back &quot;&lt;&lt;(obj4++)&lt;&lt;endl;</span><br>    <span class="hljs-comment">//ä¸Šé¢è¿™ä¸€è¡Œå…ˆæ³¨é‡Šæ‰ï¼Œä¹‹åå†è®¨è®º</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Create a new object!</span><br><span class="hljs-comment">Value: 10</span><br><span class="hljs-comment">Create a new object with copy constructor</span><br><span class="hljs-comment">Value: 10</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">Create a new object with copy constructor</span><br><span class="hljs-comment">Create a new object with copy constructor</span><br><span class="hljs-comment">Value: 11</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">Now lets look at the obj4</span><br><span class="hljs-comment">Create a new object!</span><br><span class="hljs-comment">Normal use 100</span><br><span class="hljs-comment">++ in the front 101</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">The object destroyed</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠ<code>cout&lt;&lt;&quot;++ in the back &quot;&lt;&lt;(obj4++)&lt;&lt;endl;</code>è¿™ä¸€è¡Œä»£ç çš„æ³¨é‡Šåˆ æ‰ï¼Œ<strong>ä¸å‡ºæ„å¤–çš„è¯ï¼Œæˆ‘ä»¬çš„ä»£ç å‡ºç°äº†æŠ¥é”™</strong>ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Bash">testcode_5.cpp:81:35: error: cannot <span class="hljs-built_in">bind</span> non-const lvalue reference of <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;MyClass&amp;&#x27;</span> to an rvalue of <span class="hljs-built_in">type</span> <span class="hljs-string">&#x27;MyClass&#x27;</span><br>     cout&lt;&lt;<span class="hljs-string">&quot;++ in the back &quot;</span>&lt;&lt;(obj4++)&lt;&lt;<span class="hljs-string">endl;</span><br><span class="hljs-string">                              ~~~~~^~~</span><br><span class="hljs-string">                              </span><br><span class="hljs-string">Translate:æ— æ³•å°†ç±»å‹ä¸º MyClass&amp; çš„é const å·¦å€¼å¼•ç”¨ç»‘å®šåˆ°ç±»å‹ä¸º MyClass çš„å³å€¼ã€‚</span><br></code></pre></td></tr></table></figure><h3 id="Explanations"><a href="#Explanations" class="headerlink" title="Explanations"></a>Explanations</h3><p>ä»”ç»†åˆ†æä¸€ä¸‹åŸå› å…¶å®å¾ˆç®€å•ï¼š<strong>é—®é¢˜å‡ºç°åœ¨åç½®++è¿ç®—ç¬¦çš„è¿”å›ç±»å‹ä¸Š</strong>ã€‚å› ä¸ºåç½®++è¿ç®—ç¬¦è¿”å›çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡çš„å€¼ï¼ˆ<strong>MyClass çš„å³å€¼</strong>ï¼‰ï¼Œè¿™ä¸æµè¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½å‚æ•°åˆ—è¡¨ï¼ˆ<strong>MyClass&amp; çš„é const å·¦å€¼å¼•ç”¨</strong>ï¼‰ä¸åŒ¹é…ã€‚</p><p>è¿™æ ·å°±æœ‰å†²çªäº§ç”Ÿäº†ï¼Œæˆ‘ä»¬è®¾è®¡ä»£ç çš„åˆè¡·æ˜¯å¸Œæœ›å¯¹è±¡èƒ½è¿”å›ä»–åœ¨æ‰§è¡Œè‡ªå¢æ“ä½œä¹‹å‰çš„å€¼ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹++åç½®è¿ç®—ç¬¦çš„è¿”å›ç±»å‹ï¼Œä¼šäº§ç”Ÿæ‚¬æŒ‚æŒ‡é’ˆçš„ä¸¥é‡é—®é¢˜ï¼š</p><p><img src="/posts/Jotting-References-and-Encapsulation-in-OOP/references.png" alt="Dangling pointer"></p><blockquote><p>å¼•ç”¨æ‰¾ä¸åˆ°å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œæ— æ³•æ­£å¸¸è¾“å‡ºã€‚</p></blockquote><p><strong>å› æ­¤ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„å”¯ä¸€é€”å¾„å°±æ˜¯ä¿®æ”¹æµè¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½å‡½æ•°å®šä¹‰ï¼</strong></p><h3 id="Use-of-const-references"><a href="#Use-of-const-references" class="headerlink" title="Use of const references"></a>Use of const references</h3><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹æµè¾“å‡ºè¿ç®—ç¬¦çš„å¼•ç”¨ç±»å‹ï¼š<strong>å°†éconstå¼•ç”¨æ›´æ”¹ä¸ºconstå¼•ç”¨</strong>ã€‚</p><p>å› ä¸º<strong>const å¼•ç”¨æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§</strong>ï¼š<strong>const å¼•ç”¨å¯ä»¥ç»‘å®šå³å€¼</strong>ã€‚è¿™æ˜¯ C++ ä¸­çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œå…è®¸å°†ä¸´æ—¶å¯¹è±¡ï¼ˆå³å€¼ï¼‰ä¼ é€’ç»™æ¥å— <code>const</code> å¼•ç”¨çš„å‡½æ•°æˆ–å‚æ•°ã€‚</p><p>åœ¨æ›´æ”¹å‚æ•°åˆ—è¡¨åï¼Œä»£ç å°±å¯ä»¥æ­£å¸¸çš„è¿è¡Œäº†ï¼</p><p><strong>const vs non-const</strong></p><table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">const å¼•ç”¨</th><th align="left">é const å¼•ç”¨</th></tr></thead><tbody><tr><td align="left"><strong>ä¿®æ”¹æƒé™</strong></td><td align="left">ä¸èƒ½ä¿®æ”¹å¯¹è±¡</td><td align="left">å¯ä»¥ä¿®æ”¹å¯¹è±¡</td></tr><tr><td align="left"><strong>ç»‘å®šè§„åˆ™</strong></td><td align="left">å¯ä»¥ç»‘å®šå·¦å€¼å’Œå³å€¼</td><td align="left">åªèƒ½ç»‘å®šå·¦å€¼</td></tr><tr><td align="left"><strong>ä½¿ç”¨åœºæ™¯</strong></td><td align="left">åªè¯»è®¿é—®ï¼Œé¿å…æ‹·è´</td><td align="left">éœ€è¦ä¿®æ”¹å¯¹è±¡</td></tr><tr><td align="left"><strong>å®‰å…¨æ€§</strong></td><td align="left">æ›´å®‰å…¨ï¼Œé¿å…æ„å¤–ä¿®æ”¹</td><td align="left">éœ€è¦è°¨æ…ä½¿ç”¨</td></tr><tr><td align="left"><strong>æ€§èƒ½</strong></td><td align="left">å¯ä»¥ä¼˜åŒ–å³å€¼å¤„ç†</td><td align="left">æ— æ³•ç›´æ¥ä¼˜åŒ–å³å€¼å¤„ç†</td></tr></tbody></table><div class="note note-info">            <p>ç¬”è€…å†™åˆ°è¿™é‡Œæ‰å‘ç°è‡ªå·±çš„è¾…å¯¼ä¹¦ä¸Šåœ¨é‡è½½æµè¾“å‡ºè¿ç®—ç¬¦çš„æ—¶å€™æœ¬æ¥å°±æ˜¯ä½¿ç”¨constå¼•ç”¨çš„ ğŸ¤¡ğŸ’”ã€‚æ‰€ä»¥æ”¹äº†é‚£ä¹ˆä¹…çš„ä»£ç å°±æ˜¯å› ä¸ºæ²¡æœ‰ä»”ç»†çœ‹ä¹¦ã€‚ã€‚ã€‚åƒä¸€å ‘é•¿ä¸€æ™ºå§ã€‚ã€‚ã€‚</p>          </div><h2 id="Encapsulation-in-OOP"><a href="#Encapsulation-in-OOP" class="headerlink" title="Encapsulation in OOP"></a>Encapsulation in OOP</h2><p>å†™å®Œä¸Šé¢çš„ä»£ç ï¼Œè¯»è€…çš„å¿ƒä¸­å†’å‡ºäº†ä¸¤ä¸ªæœ‰å…³å¼•ç”¨å’Œå°è£…çš„é—®é¢˜ã€‚</p><p><strong>Question1 <strong>å›é¡¾ä¸Šé¢çš„ä»£ç ï¼Œæˆå‘˜å‡½æ•°å’Œå‹å…ƒå‡½æ•°å¯ä»¥</strong>ç›´æ¥ä¿®æ”¹å¼•ç”¨ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜</strong>ï¼Œè¿™æ ·åšæ˜¯å¦æœ‰è¿OOPçš„<strong>å°è£…</strong>çš„å®‰å…¨æ€§ç²¾ç¥ï¼Ÿ</p><p>å°è£…çš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>éšè—å¯¹è±¡çš„å†…éƒ¨å®ç°ç»†èŠ‚</strong>ï¼Œåªæš´éœ²å¿…è¦çš„æ¥å£ç»™å¤–éƒ¨ä½¿ç”¨ã€‚é€šè¿‡å°è£…ï¼Œå¯ä»¥ç¡®ä¿å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ä¸ä¼šè¢«å¤–éƒ¨ä»£ç éšæ„ä¿®æ”¹ï¼Œä»è€Œæé«˜ä»£ç çš„å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><p>èº«ä¸º<strong>æˆå‘˜å‡½æ•°</strong>æˆ–è€…<strong>å‹å…ƒå‡½æ•°</strong>ï¼Œå…¶æœ¬èº«å°±å…·æœ‰ä¿®æ”¹æœ¬å¯¹è±¡çš„ç§æœ‰æˆå‘˜çš„æƒé™ï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›å‡½æ•°åœ¨<strong>éconstå¼•ç”¨ä¸‹å…·æœ‰è®¿é—®ç”šè‡³ä¿®æ”¹å…¶ä»–å¯¹è±¡çš„ç§æœ‰æˆå‘˜çš„æƒé™</strong>ã€‚</p><p>è¿™æ˜¯å¾ˆå±é™©çš„äº‹æƒ…ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬<strong>å†æ¬¡æ„Ÿå—åˆ°äº†constå¼•ç”¨çš„å¼ºå¤§ä¼˜åŠ¿ï¼šåœ¨èŠ‚çœæ•ˆç‡çš„åŒæ—¶ä¿è¯äº†å¯¹è±¡ä¸è¢«ä¿®æ”¹çš„å®‰å…¨æ€§ã€‚</strong></p><p>å› æ­¤ï¼ŒQuestion1 çš„é—®é¢˜ç¡®å®æ˜¯å­˜åœ¨çš„ï¼Œè§£å†³åŠæ³•ä¹Ÿéå¸¸çš„ç®€å•ï¼Œå°†å¼•ç”¨ä¿®æ”¹ä¸ºconstå¼•ç”¨ï¼Œåªåœ¨éœ€è¦ä¿®æ”¹çš„æ—¶å€™æš´éœ²å¿…è¦çš„æƒé™ã€‚åŒæ—¶ï¼Œå°†ä¿®æ”¹çš„æ“ä½œå°è£…æˆå‡½æ•°ä¹Ÿèƒ½ä¸€å®šç¨‹åº¦ä¸Šä¿è¯å…¶å®‰å…¨æ€§ã€‚</p><p><strong>Question 2</strong> å¦‚æœæˆ‘å¸Œæœ›ä»»ä½•å¤–éƒ¨ä»£ç éƒ½ä¸èƒ½è®¿é—®ä¸€ä¸ªç‰¹åœ°çš„ç§æœ‰æˆå‘˜ï¼ˆä¾‹å¦‚å¯†é’¥ï¼‰ï¼Œæˆ‘è¯¥å¦‚ä½•å®ç°ï¼Ÿ</p><p><strong>è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¤æ‚</strong>ï¼Œå…·ä½“è€Œè¨€éœ€è¦ä½¿ç”¨<strong>åµŒå¥—ç±»å®ç°</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrivateValue</span>&#123;<br>        <span class="hljs-keyword">private</span>:<span class="hljs-type">int</span> privatevalue;<br>        <span class="hljs-keyword">public</span>:<br>            <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getprivatevalue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>&#123;<span class="hljs-keyword">return</span> privatevalue;&#125;<br>            <span class="hljs-built_in">PrivateValue</span>(<span class="hljs-type">int</span> x):<span class="hljs-built_in">privatevalue</span>(x)&#123;&#125;<br>    &#125;;<br>    PrivateValue pri;<br>    <span class="hljs-comment">// åªæœ‰ç‰¹å®šæˆå‘˜å‡½æ•°å¯ä»¥è®¿é—® privatevalue</span><br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> v, <span class="hljs-type">int</span> pv) : <span class="hljs-built_in">value</span>(v),<span class="hljs-built_in">pri</span>(pv)&#123;&#125;<br><br>    <span class="hljs-comment">// å…¬å…±æ¥å£</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> pri.<span class="hljs-built_in">getprivatevalue</span>();<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæ–¹æ³•<code>int getprivatevalue() const&#123;return privatevalue;&#125;</code>æˆä¸ºäº†è·å¾—å¯†é’¥çš„å”¯ä¸€é€”å¾„ï¼Œå“ªæ€•æ˜¯æˆå‘˜å‡½æ•°ï¼Œä¹Ÿä¸å¯ä»¥ç›´æ¥è°ƒç”¨<code>pri.privatevalue</code>ã€‚</p><p><img src="/safety.png" alt="safety"></p><div class="note note-primary">            <p><strong>å°è£…å’Œå®‰å…¨æ€§</strong>æ˜¯OOPä¸­éå¸¸é‡è¦çš„ä¸€ä¸ªç²¾ç¥ï¼Œåœ¨å®ç°å…¬ç”¨æ¥å£çš„åŒæ—¶éšè—æ•°æ®æˆå‘˜å’Œå…·ä½“çš„å‡½æ•°ä»£ç ï¼Œæé«˜äº†ç”¨æˆ·ä½¿ç”¨çš„å®‰å…¨æ€§å’Œä¾¿æ·æ€§ã€‚ä½†æ˜¯ï¼Œåœ¨æœ¬ç§‘C++çš„æ•™å­¦ä¸­ï¼Œå—å›°äº<strong>é¢˜ç›®</strong>çš„é™åˆ¶ï¼Œè¿™ä¸€ç‚¹è¢«å¤§å¤§å¿½ç•¥äº†ã€‚ï¼ˆç¬”è€…èº«è¾¹ç”šè‡³æœ‰åŒå­¦å°†æ‰€æœ‰çš„æ•°æ®æˆå‘˜å…¨éƒ¨è®¾ç½®ä¸ºpublicï¼Œè¿™æ ·å°‘å†™å¾ˆå¤šå‡½æ•°ä¹Ÿå¯ä»¥é€šè¿‡æµ‹è¯•æ ·ä¾‹ã€‚ï¼‰</p>          </div><p>ä¾‹å¦‚åœ¨ä¸‹é¢çš„ç±»è®¾è®¡ä¸­ï¼Œ<code>privatevalue</code>ä½œä¸ºå¯†é’¥ï¼Œ<strong>å“ªæ€•æ˜¯MyClassçš„æˆå‘˜å‡½æ•°éƒ½ä¸å¯ä»¥è°ƒç”¨å…¶å€¼</strong>ï¼Œåªèƒ½é€šè¿‡å”¯ä¸€çš„æ¥å£<code>int getprivatevalue() const</code>å®ç°ã€‚</p><blockquote><p>è¿™æ ·æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¥½å¤„æ—¶å®ç°äº†å®‰å…¨æ€§çš„<strong>å±‚çº§åˆ†ç¦»</strong>ã€‚æ˜¾ç„¶valueçš„å®‰å…¨ç­‰çº§ä½äº<code>privatevalue</code>ï¼Œå¼€å‘è€…æ”¾å¼€<code>MyClass</code>çš„æƒé™ä¹Ÿä¸ä¼šå½±å“åˆ°<code>PrivateValue</code>ç±»ã€‚ä¿è¯äº†é«˜çº§å®‰å…¨æ•°æ®çš„å®‰å…¨æ€§ã€‚</p><p>ä¾‹å¦‚ï¼Œä»»ä½•<code>MyClass</code>çš„æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®valueçš„å€¼ï¼Œä½†æ˜¯åªæœ‰æŒæ¡passwordçš„æˆå‘˜å‡½æ•°æ‰èƒ½é€šè¿‡æ¥å£è®¿é—®<code>privatevalue</code>çš„å€¼ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrivateValue</span>&#123;<br>        <span class="hljs-keyword">private</span>:<span class="hljs-type">int</span> privatevalue;<br>        <span class="hljs-keyword">public</span>:<br>            <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getprivatevalue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>&#123;<br>                <span class="hljs-type">int</span> password;<br>                cout&lt;&lt;<span class="hljs-string">&quot;Please enter the password: &quot;</span>;<br>                cin&gt;&gt;password;<br>                <span class="hljs-keyword">if</span>(password==<span class="hljs-number">123456</span>)&#123;<br>                    <span class="hljs-keyword">return</span> privatevalue;<br>                &#125;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>            <span class="hljs-built_in">PrivateValue</span>(<span class="hljs-type">int</span> x):<span class="hljs-built_in">privatevalue</span>(x)&#123;&#125;<br>    &#125;;<br>    PrivateValue pri;<br>    <span class="hljs-comment">// åªæœ‰ç‰¹å®šæˆå‘˜å‡½æ•°å¯ä»¥è®¿é—® privatevalue</span><br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> v, <span class="hljs-type">int</span> pv) : <span class="hljs-built_in">value</span>(v),<span class="hljs-built_in">pri</span>(pv)&#123;&#125;<br><br>    <span class="hljs-comment">// å…¬å…±æ¥å£</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> pri.<span class="hljs-built_in">getprivatevalue</span>();<br>    &#125;<br>&#125;;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj1</span><span class="hljs-params">(<span class="hljs-number">23</span>,<span class="hljs-number">3456</span>)</span></span>;<br>    cout&lt;&lt;obj<span class="hljs-number">1.</span><span class="hljs-built_in">getValue</span>();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><ul><li>å¤šç”¨constå¼•ç”¨ï¼Œå¤šå¤šç›Šå–„ã€‚</li><li>å¯¹äºæ²¡æœ‰è®¿é—®æƒçš„å˜é‡ä½¿ç”¨<strong>åµŒå¥—ç±»</strong>å®ç°ã€‚</li></ul><blockquote><p>The END</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>OOP</tag>
      
      <tag>Jotting</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Input-and-Output-in-C-Plus-Plus</title>
    <link href="/posts/Input-and-Output-in-C-plus-plus/"/>
    <url>/posts/Input-and-Output-in-C-plus-plus/</url>
    
    <content type="html"><![CDATA[<h1 id="Input-Output-and-Files-in-C"><a href="#Input-Output-and-Files-in-C" class="headerlink" title="Input, Output and Files in C++"></a>Input, Output and Files in C++</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This blog will focus on <strong>C++ stream-based input and output,</strong> including <strong>console-based, file-based, and string-based input and output</strong>. The blog will share some advanced techniques for custom input and output, including the use of the <strong>iomanip</strong> library, accessing <strong>ASCII files and binary files</strong>.</p><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul><li><p><a href="#Introduction"><strong>Introductions</strong></a></p></li><li><p><a href="#Several-Basic-Concepts"><strong>Several Basic Concepts</strong></a></p></li><li><p><a href="#Console-based-input-and-output"><strong>Console-based input and output</strong></a></p></li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨<strong>å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„</strong>ä¸­ï¼Œè®¡ç®—æœºé€šè¿‡è¾“å…¥è®¾å¤‡å‘ç”µè„‘è¾“å…¥ä¿¡æ¯ï¼Œç»è¿‡è¿ç®—åç”±è¾“å‡ºè®¾å¤‡è¾“å‡ºã€‚ç”±æ­¤å¯è§ï¼Œè¾“å…¥è¾“å‡ºæ˜¯<strong>ç¨‹åºä¸å¤–éƒ¨è¿›è¡Œæ•°æ®é€šä¿¡çš„é‡è¦æ¢çº½</strong>ã€‚åœ¨è¿‡å¾€C++çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†ä¸€äº›æœ‰å…³è¾“å…¥è¾“å‡ºçš„åŸºæœ¬çŸ¥è¯†ï¼ˆ<code>cin</code>å’Œ<code>cout</code>ï¼‰ã€‚æœ¬ç« èŠ‚å°†ä»æ›´åŠ åº•å±‚çš„è§†è§’ä»‹ç»C++ä¸­å¸¸è§çš„ä¸‰ç§è¾“å…¥è¾“å‡ºï¼š**åŸºäºæ§åˆ¶å°çš„è¾“å…¥è¾“å‡ºç±»å‹<code>iostream</code>ã€åŸºäºæ–‡ä»¶çš„è¾“å…¥è¾“å‡ºç±»å‹<code>fstream</code>å’ŒåŸºäºå­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡ºç±»å‹<code>sstream</code>**ã€‚</p><p><img src="/posts/Input-and-Output-in-C-plus-plus/fnym.png" alt="å†¯è¯ºä¾æ›¼ä½“ç³»ç»“æ„"></p><h2 id="Several-Basic-Concepts"><a href="#Several-Basic-Concepts" class="headerlink" title="Several Basic Concepts"></a>Several Basic Concepts</h2><p>åœ¨æ­£å¼å¼€å§‹æˆ‘ä»¬çš„å†…å®¹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œä¸‹æ–‡å°†å‘è¯»è€…ä»‹ç»å››ä¸ªåŸºæœ¬æ¦‚å¿µï¼š<strong>æµã€æ§åˆ¶å°ã€ç¼“å†²åŒºå’ŒIOæ ‡å‡†åº“</strong>ã€‚</p><h3 id="Streams"><a href="#Streams" class="headerlink" title="Streams"></a>Streams</h3><p>åœ¨è®¡ç®—æœºç¼–ç¨‹ä¸­ï¼Œ<strong>æµ(Stream)<strong>æ˜¯ä¸€ç§ç”¨äºè¾“å…¥å’Œè¾“å‡ºï¼ˆI&#x2F;Oï¼‰æ“ä½œçš„æŠ½è±¡ã€‚æµå¯ä»¥çœ‹ä½œæ˜¯æ•°æ®å…ƒç´ çš„åºåˆ—ï¼Œè¿™äº›æ•°æ®å…ƒç´ </strong>æŒ‰æ—¶é—´é¡ºåºå¯ä¾›ç¨‹åºè¯»å–æˆ–å†™å…¥</strong>ï¼Œé€šå¸¸ç”¨äºåœ¨ç¨‹åºä¸å¤–éƒ¨æºï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œè¿æ¥æˆ–æ§åˆ¶å°ï¼‰ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚</p><p>å…·ä½“åˆ°C++çš„è¾“å…¥è¾“å‡ºä¸­ï¼ŒC++çš„è¾“å…¥&#x2F;è¾“å‡ºæ˜¯ä»¥<strong>ä¸€è¿ä¸²å­—èŠ‚æµçš„æ–¹å¼</strong>è¿›è¡Œçš„ã€‚åœ¨è¾“å…¥æ“ä½œä¸­ï¼Œå­—èŠ‚ä»<strong>è®¾å¤‡ï¼ˆå¦‚é”®ç›˜ã€ç£ç›˜ï¼‰æµå‘å†…å­˜</strong>ï¼Œç§°ä¸º<strong>è¾“å…¥æµ</strong>ã€‚åœ¨è¾“å‡ºæ“ä½œä¸­ï¼Œå­—èŠ‚<strong>ä»å†…å­˜æµå‘è®¾å¤‡ï¼ˆå¦‚æ˜¾ç¤ºå™¨ã€æ‰“å°æœºã€ç£ç›˜ç­‰ï¼‰</strong>ï¼Œç§°ä¸º<strong>è¾“å‡ºæµ</strong>ã€‚ C++åŒæ—¶æä¾›â€œä½å±‚æ¬¡â€å’Œâ€œé«˜å±‚æ¬¡â€çš„è¾“å…¥&#x2F;è¾“å‡ºã€‚ä½å±‚æ¬¡çš„è¾“å…¥&#x2F;è¾“å‡ºç›´æ¥<strong>å¤„ç†å­—èŠ‚æµä¸­çš„ä¸€ä¸ªä¸ªå­—èŠ‚</strong>ï¼ŒæŠŠæ¯ä¸ªå­—èŠ‚ä»…çœ‹æˆä¸€ä¸ªäºŒè¿›åˆ¶æ¯”ç‰¹ä¸²ã€‚é«˜å±‚æ¬¡çš„è¾“å…¥&#x2F;è¾“å‡ºå¯ä»¥å°†å­—èŠ‚ç»„åˆæˆæœ‰æ„ä¹‰çš„å•ä½ï¼Œå¦‚<strong>æ•´å‹æ•°ã€æµ®ç‚¹æ•°åŠè‡ªå®šä¹‰ç±»å‹çš„å€¼è¿›è¡Œæ“ä½œ</strong>ã€‚  </p><p>å…·ä½“è€Œè¨€ï¼Œé«˜å±‚æ¬¡IOä¸»è¦æ˜¯åŸºäº<strong>æµï¼ˆStreamï¼‰</strong>çš„ I&#x2F;Oï¼Œæä¾›äº†æ›´æŠ½è±¡ã€æ›´æ˜“ç”¨çš„æ¥å£ï¼ˆ<code>cin</code>å’Œ<code>cout</code>ï¼‰ã€‚å®ƒéšè—äº†åº•å±‚ç»†èŠ‚ï¼ˆå¦‚ç¼“å†²åŒºç®¡ç†ã€è®¾å¤‡æ§åˆ¶ç­‰ï¼‰ã€‚è€Œä½å±‚æ¬¡IOåŸºäº<strong>ç³»ç»Ÿè°ƒç”¨</strong>æˆ–<strong>C æ ‡å‡†åº“å‡½æ•°</strong>çš„ I&#x2F;Oï¼Œæä¾›äº†æ›´åº•å±‚çš„æ§åˆ¶ï¼Œä¾‹å¦‚Cè¯­è¨€ä¸­çš„<code>printf()</code>å’Œ<code>scanf()</code>å‡½æ•°ã€‚</p><table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">é«˜å±‚æ¬¡ I&#x2F;O</th><th align="left">ä½å±‚æ¬¡ I&#x2F;O</th></tr></thead><tbody><tr><td align="left">æŠ½è±¡ç¨‹åº¦</td><td align="left">é«˜ï¼ˆåŸºäºæµï¼‰</td><td align="left">ä½ï¼ˆåŸºäºæ–‡ä»¶æè¿°ç¬¦æˆ–ç¼“å†²åŒºï¼‰</td></tr><tr><td align="left">æ˜“ç”¨æ€§</td><td align="left">é«˜ï¼ˆç®€æ´çš„æ¥å£ï¼Œç±»å‹å®‰å…¨ï¼‰</td><td align="left">ä½ï¼ˆéœ€è¦æ‰‹åŠ¨ç®¡ç†èµ„æºï¼‰</td></tr><tr><td align="left">æ€§èƒ½</td><td align="left">è¾ƒä½ï¼ˆæœ‰æŠ½è±¡å±‚å¼€é”€ï¼‰</td><td align="left">è¾ƒé«˜ï¼ˆç›´æ¥æ“ä½œåº•å±‚èµ„æºï¼‰</td></tr><tr><td align="left">æ§åˆ¶ç²’åº¦</td><td align="left">è¾ƒç²—ï¼ˆéšè—äº†åº•å±‚ç»†èŠ‚ï¼‰</td><td align="left">è¾ƒç»†ï¼ˆå¯ä»¥ç²¾ç¡®æ§åˆ¶ I&#x2F;O ç»†èŠ‚ï¼‰</td></tr><tr><td align="left">é€‚ç”¨åœºæ™¯</td><td align="left">é€šç”¨åœºæ™¯ï¼ˆå¦‚æ§åˆ¶å°ã€æ–‡ä»¶ I&#x2F;Oï¼‰</td><td align="left">é«˜æ€§èƒ½åœºæ™¯æˆ–éœ€è¦ç²¾ç»†æ§åˆ¶çš„åœºæ™¯</td></tr></tbody></table><h3 id="Console"><a href="#Console" class="headerlink" title="Console"></a>Console</h3><p><strong>æ§åˆ¶å°ï¼ˆConsoleï¼‰</strong>ï¼Œä¹Ÿå«åš<strong>å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼ŒCommand Line Interfaceï¼‰</strong>æˆ–<strong>ç»ˆç«¯ï¼ˆTerminalï¼‰</strong>ï¼Œæ˜¯ä¸€ä¸ªç”¨äºä¸è®¡ç®—æœºè¿›è¡Œäº¤äº’çš„æ–‡æœ¬ç•Œé¢ã€‚åœ¨æ§åˆ¶å°ä¸­ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¾“å…¥å‘½ä»¤å’Œæ¥æ”¶è®¡ç®—æœºè¾“å‡ºç»“æœæ¥ä¸æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚</p><p>æ§åˆ¶å°çš„åŸºæœ¬æ¦‚å¿µï¼š</p><ol><li><strong>æ–‡æœ¬äº¤äº’ç•Œé¢</strong>ï¼š æ§åˆ¶å°é€šå¸¸æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬çš„ç•Œé¢ï¼Œæ²¡æœ‰å›¾å½¢å…ƒç´ ï¼Œç”¨æˆ·é€šè¿‡é”®ç›˜è¾“å…¥å‘½ä»¤ï¼Œè®¡ç®—æœºé€šè¿‡æ–‡æœ¬è¾“å‡ºåé¦ˆç»™ç”¨æˆ·ã€‚è¿™ä¸å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ç›¸æ¯”ï¼Œæ˜¾å¾—æ›´åŠ ç®€æ´ã€ç›´æ¥ã€‚</li><li><strong>å‘½ä»¤è¾“å…¥å’Œè¾“å‡º</strong>ï¼š åœ¨æ§åˆ¶å°ä¸­ï¼Œç”¨æˆ·é€šè¿‡è¾“å…¥å‘½ä»¤æ¥æ‰§è¡Œå„ç§ä»»åŠ¡ï¼Œæ¯”å¦‚æ–‡ä»¶ç®¡ç†ã€ç¨‹åºå¯åŠ¨ã€ç³»ç»Ÿé…ç½®ç­‰ã€‚è®¡ç®—æœºåˆ™é€šè¿‡æ–‡æœ¬è¾“å‡ºç»™å‡ºæ‰§è¡Œç»“æœæˆ–æç¤ºä¿¡æ¯ã€‚</li><li><strong>ç¨‹åºçš„äº¤äº’å¼æ“ä½œ</strong>ï¼š å¾ˆå¤šç¨‹åºï¼ˆå°¤å…¶æ˜¯å¼€å‘å·¥å…·ã€ç¼–è¯‘å™¨ã€æ•°æ®åº“ç­‰ï¼‰éƒ½æ”¯æŒæ§åˆ¶å°äº¤äº’ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ§åˆ¶å°ä¸­è¾“å…¥æŒ‡ä»¤ï¼Œå®æ—¶è·å–ç¨‹åºè¾“å‡ºçš„ç»“æœã€‚</li></ol><h3 id="Buffer"><a href="#Buffer" class="headerlink" title="Buffer"></a>Buffer</h3><p><strong>ç¼“å†²åŒºï¼ˆBufferï¼‰</strong> æ˜¯è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸€å—ä¸´æ—¶å­˜å‚¨åŒºåŸŸï¼Œé€šå¸¸ç”¨äºå­˜å‚¨æ•°æ®ï¼Œä»¥ä¾¿åœ¨æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­æé«˜æ•ˆç‡ã€‚ç¼“å†²åŒºå¯ä»¥å¸®åŠ©ç¨‹åºå‡å°‘é¢‘ç¹çš„I&#x2F;Oæ“ä½œï¼ˆå¦‚ç£ç›˜è¯»å†™ã€ç½‘ç»œé€šä¿¡ç­‰ï¼‰ï¼Œé€šè¿‡ç¼“å­˜æ•°æ®æ¥å®ç°æ›´é«˜æ•ˆçš„æ“ä½œã€‚</p><p>ç¨‹åºåªèƒ½è®¿é—®å†…å­˜ä¸­çš„ä¿¡æ¯ï¼Œè€Œä¸èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨è®¾å¤‡ä¸­çš„ä¿¡æ¯ã€‚å½“ç¨‹åºéœ€è¦è¯»å–å¤–éƒ¨è®¾å¤‡ä¸­çš„æŸä¸ªä¿¡æ¯æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†<strong>åŒ…å«æ­¤ä¿¡æ¯çš„ä¸€æ‰¹æ•°æ®ä»å¤–éƒ¨è®¾å¤‡è¯»å…¥å†…å­˜ï¼Œå†ä»å†…å­˜è¯»å…¥ç¨‹åº</strong>ï¼Œæ­¤æ—¶å‘ç”Ÿäº†<strong>ä¸€æ¬¡å¤–éƒ¨è®¾å¤‡çš„è®¿é—®</strong>ã€‚å¦‚æœç¨‹åºéœ€è¦è¯»å–çš„æ•°æ®å·²ç»åœ¨å†…å­˜ä¸­ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿå¤–éƒ¨è®¾å¤‡çš„è®¿é—®ã€‚è¾“å‡ºä¹Ÿæ˜¯å¦‚æ­¤ã€‚å¦‚æœç¨‹åºå‘å¤–éƒ¨è®¾å¤‡è¾“å‡ºä¸€ä¸ªä¿¡æ¯ï¼Œæ­¤ä¿¡æ¯è¢«å†™åœ¨å†…å­˜çš„æŸä¸ªåœ°æ–¹ï¼Œæ“ä½œç³»ç»Ÿä¼šå®šæœŸå°†å†…å­˜ä¸­çš„ä¿¡æ¯è¾“å‡ºåˆ°å¤–éƒ¨è®¾å¤‡ã€‚å†…å­˜ä¸­å­˜æ”¾è¿™äº›æ•°æ®çš„åŒºåŸŸç§°ä¸º<strong>è¾“å…¥&#x2F;è¾“å‡ºç¼“å†²åŒº</strong>ã€‚  </p><p><strong>ç¼“å†²åŒºçš„å·¥ä½œåŸç†ï¼š</strong></p><ol><li><strong>å†™ç¼“å†²åŒº</strong>ï¼šå½“ç¨‹åºå‘æ–‡ä»¶æˆ–ç½‘ç»œå‘é€æ•°æ®æ—¶ï¼Œæ•°æ®é¦–å…ˆè¢«å†™å…¥ç¼“å†²åŒºï¼Œ<font color=red><strong>ç­‰ç¼“å†²åŒºè¢«å¡«æ»¡æˆ–æ¡ä»¶æ»¡è¶³</strong></font>æ—¶ï¼Œå†ä¸€æ¬¡æ€§å°†æ•°æ®å†™å…¥ç›®æ ‡è®¾å¤‡ã€‚</li><li><strong>è¯»ç¼“å†²åŒº</strong>ï¼šå½“ç¨‹åºä»æ–‡ä»¶æˆ–ç½‘ç»œè¯»å–æ•°æ®æ—¶ï¼Œ<font color=red><strong>æ•°æ®é¦–å…ˆè¢«ä»ç›®æ ‡è®¾å¤‡åŠ è½½åˆ°ç¼“å†²åŒºï¼Œå†ä»ç¼“å†²åŒºè¯»å–æ•°æ®åˆ°ç¨‹åºä¸­</strong></font>ã€‚è¿™æ ·å¯ä»¥é¿å…æ¯æ¬¡è¯»å–æ—¶éƒ½è®¿é—®è®¾å¤‡ï¼Œæé«˜è¯»å–é€Ÿåº¦ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// ä½¿ç”¨å¸¦ç¼“å†²çš„æ–‡ä»¶è¾“å…¥è¾“å‡ºæµ</span><br>    <span class="hljs-function">std::ifstream <span class="hljs-title">inputFile</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>)</span></span>;  <span class="hljs-comment">// é»˜è®¤ä½¿ç”¨ç¼“å†²</span><br>    std::string line;<br><br>    <span class="hljs-keyword">if</span> (inputFile.<span class="hljs-built_in">is_open</span>()) &#123;<br>        <span class="hljs-keyword">while</span> (std::<span class="hljs-built_in">getline</span>(inputFile, line)) &#123;<br>            std::cout &lt;&lt; line &lt;&lt; std::endl;  <span class="hljs-comment">// ç¼“å†²åŒºä¸­çš„æ•°æ®ä¸€æ¬¡æ€§è¾“å‡º</span><br>        &#125;<br>        inputFile.<span class="hljs-built_in">close</span>();<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;æ— æ³•æ‰“å¼€æ–‡ä»¶&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>std::ifstream</code> é»˜è®¤ä½¿ç”¨ç¼“å†²åŒºæ¥è¯»å–æ–‡ä»¶å†…å®¹ã€‚å®ƒé¦–å…ˆä»æ–‡ä»¶ç³»ç»Ÿè¯»å–ä¸€äº›æ•°æ®åˆ°ç¼“å†²åŒºï¼Œç„¶åä¸€æ¬¡æ€§å°†è¿™äº›æ•°æ®æä¾›ç»™ç¨‹åºã€‚</p><div class="note note-info">            <p>æœ‰å…³ç¼“å†²åŒºçš„å…·ä½“å®ç°åŸç†æˆ‘ä»¬ä¼šç¨åæåŠã€‚ï¼ˆ<strong>ä¸è¾“å…¥è¾“å‡ºç±»çš„å®ç°æœ‰å…³</strong>ï¼‰</p>          </div><h3 id="Standard-Library-for-IO"><a href="#Standard-Library-for-IO" class="headerlink" title="Standard Library for IO"></a>Standard Library for IO</h3><p>C++æ ‡å‡†åº“ä¸­ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†å°±æ˜¯IOæµåº“ï¼Œä¸“é—¨å®ç°C++ä¸­çš„è¾“å…¥å’Œè¾“å‡ºã€‚æä¾›åŸºäºæµçš„è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼ŒåŒ…æ‹¬æ§åˆ¶å°ã€æ–‡ä»¶å’Œå­—ç¬¦ä¸²çš„ I&#x2F;Oã€‚ä¸»è¦å¤´æ–‡ä»¶ï¼š</p><ul><li><code>&lt;iostream&gt;</code>ï¼šæ ‡å‡†è¾“å…¥è¾“å‡ºæµï¼ˆå¦‚ <code>std::cin</code>ã€<code>std::cout</code>ï¼‰ã€‚</li><li><code>&lt;fstream&gt;</code>ï¼šæ–‡ä»¶æµï¼ˆå¦‚ <code>std::ifstream</code>ã€<code>std::ofstream</code>ï¼‰ã€‚</li><li><code>&lt;sstream&gt;</code>ï¼šå­—ç¬¦ä¸²æµï¼ˆå¦‚ <code>std::istringstream</code>ã€<code>std::ostringstream</code>ï¼‰ã€‚</li></ul><p><img src="/posts/Input-and-Output-in-C-plus-plus/iostream.png" alt="iostream"></p><table><thead><tr><th align="left">å¤´æ–‡ä»¶</th><th align="left">åŠŸèƒ½æè¿°</th><th align="left">ä¸»è¦ç±»&#x2F;å¯¹è±¡</th><th align="left">ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td align="left"><code>&lt;iostream&gt;</code></td><td align="left">æä¾›æ ‡å‡†è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œç”¨äºæ§åˆ¶å° I&#x2F;Oã€‚</td><td align="left">- <code>std::cin</code>ï¼šæ ‡å‡†è¾“å…¥æµ -<code>std::cout</code>ï¼šæ ‡å‡†è¾“å‡ºæµ - <code>std::cerr</code>ï¼šæ ‡å‡†é”™è¯¯æµ - <code>std::clog</code>ï¼šæ ‡å‡†æ—¥å¿—æµ</td><td align="left">æ§åˆ¶å°è¾“å…¥è¾“å‡ºï¼Œå¦‚ç”¨æˆ·äº¤äº’ã€è°ƒè¯•ä¿¡æ¯è¾“å‡ºç­‰ã€‚</td></tr><tr><td align="left"><code>&lt;fstream&gt;</code></td><td align="left">æä¾›æ–‡ä»¶è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œç”¨äºè¯»å†™æ–‡ä»¶ã€‚</td><td align="left">- <code>std::ifstream</code>ï¼šæ–‡ä»¶è¾“å…¥æµ - <code>std::ofstream</code>ï¼šæ–‡ä»¶è¾“å‡ºæµ - <code>std::fstream</code>ï¼šæ–‡ä»¶æµ</td><td align="left">æ–‡ä»¶è¯»å†™æ“ä½œï¼Œå¦‚è¯»å–é…ç½®æ–‡ä»¶ã€ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶ç­‰ã€‚</td></tr><tr><td align="left"><code>&lt;sstream&gt;</code></td><td align="left">æä¾›å­—ç¬¦ä¸²è¾“å…¥è¾“å‡ºåŠŸèƒ½ï¼Œç”¨äºå°†å­—ç¬¦ä¸²ä½œä¸ºæµå¤„ç†ã€‚</td><td align="left">- <code>std::istringstream</code>ï¼šå­—ç¬¦ä¸²è¾“å…¥æµ - <code>std::ostringstream</code>ï¼šå­—ç¬¦ä¸²è¾“å‡ºæµ - <code>std::stringstream</code>ï¼šå­—ç¬¦ä¸²æµ</td><td align="left">å­—ç¬¦ä¸²æ ¼å¼åŒ–ã€è§£æï¼Œå¦‚å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ã€å°†æ•°æ®æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ç­‰ã€‚</td></tr></tbody></table><h2 id="Console-based-input-and-output"><a href="#Console-based-input-and-output" class="headerlink" title="Console-based input and output"></a>Console-based input and output</h2><p>åœ¨<strong>è¿ç®—ç¬¦é‡è½½</strong>è¿™ä¸€å°èŠ‚æ—¶ï¼Œç¬”è€…æ›¾ç»ä»‹ç»äº†cin&#x2F;coutçš„çœŸå®é¢ç›®æ˜¯**<code>istream</code>ç±»å’Œ<code>ostream</code>ç±»çš„å¯¹è±¡**ã€‚å¹¶è®²è§£äº†å¦‚ä½•é‡è½½æµè¾“å…¥è¾“å‡ºè¿ç®—ç¬¦ã€‚ä¸‹é¢è½¬è½½è‡ªå·±çš„éƒ¨åˆ†åšå®¢å†…å®¹ï¼Œ<a href="https://xiyuanyang-code.github.io/posts/Introduction-to-OOP/">åŸæ–‡ç‚¹è¿™é‡Œ</a>ã€‚</p><div class="note note-info">            <h3 id="è¾“å…¥-è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½"><a href="#è¾“å…¥-è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½" class="headerlink" title="è¾“å…¥&#x2F;è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½"></a>è¾“å…¥&#x2F;è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½</h3><h4 id="é‡æ–°è®¤è¯†è¿ç®—ç¬¦"><a href="#é‡æ–°è®¤è¯†è¿ç®—ç¬¦" class="headerlink" title="é‡æ–°è®¤è¯†&lt;&lt;å’Œ&gt;&gt;è¿ç®—ç¬¦"></a>é‡æ–°è®¤è¯†<code>&lt;&lt;</code>å’Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦</h4><p>åœ¨ç¬”è€…çš„ç¬¬ä¸€å ‚C++å¯è’™è¯¾ä¸Šï¼Œç¬”è€…ä¾¿ä½“ä¼šåˆ°äº†<strong>æµæ“ä½œ</strong>çš„ç²¾å¦™å’Œä¾¿æ·ã€‚ï¼ˆç›¸æ¯”äº<code>printf()</code>å’Œ<code>scanf()</code>çš„å†—é•¿è¯­æ³•ï¼‰ä½†æ˜¯ï¼Œå½“æ—¶ç¬”è€…åªæ˜¯æŠŠ<code>cin/cout</code>å½“åšä¸€ä¸ªæ™®é€šçš„å‡½æ•°æ¥ä½¿ç”¨ï¼Œå¹¶ä¸çŸ¥é“å…¶èƒŒåæ·±å±‚æ¬¡çš„åŸç†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å…ˆæ¥é‡æ–°è®¤è¯†ä¸€ä¸‹cin&#x2F;coutçš„çœŸé¢ç›®ã€‚</p><h5 id="istreamå’Œostream"><a href="#istreamå’Œostream" class="headerlink" title="istreamå’Œostream"></a><code>istream</code>å’Œ<code>ostream</code></h5><p>åœ¨ C++ ä¸­ï¼Œ<strong>æµç±»ï¼ˆå¦‚ <code>std::istream</code> å’Œ <code>std::ostream</code>ï¼‰æ˜¯å¤„ç†è¾“å…¥è¾“å‡ºæ“ä½œçš„æ ¸å¿ƒç±»</strong>ï¼Œå®ƒä»¬ä¸ºç¨‹åºæä¾›äº†ä¸æ•°æ®æµè¿›è¡Œäº¤äº’çš„åŠŸèƒ½ã€‚è¿™äº›ç±»æ˜¯ C++ æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºç®€åŒ–ä¸æ–‡ä»¶ã€æ§åˆ¶å°ã€å­—ç¬¦ä¸²ç­‰è®¾å¤‡çš„äº¤äº’ã€‚</p><ol><li><strong><code>std::istream</code> ç±»</strong></li></ol><p><code>std::istream</code> ç±»æ˜¯ç”¨äºå¤„ç†è¾“å…¥æ“ä½œçš„ç±»ï¼Œæä¾›äº†ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®çš„åŠŸèƒ½ã€‚å®ƒæ˜¯æ‰€æœ‰è¾“å…¥æµç±»ï¼ˆå¦‚ <code>cin</code>ï¼‰çš„åŸºç±»ã€‚</p><ul><li><p><strong>æ„é€ å‡½æ•°</strong>ï¼š<code>std::istream</code> çš„æ„é€ å‡½æ•°å¯ä»¥ç”¨æ¥æ‰“å¼€æ–‡ä»¶æˆ–åˆå§‹åŒ–è¾“å…¥æµã€‚</p></li><li><p>æˆå‘˜å‡½æ•°</p><ul><li><code>operator&gt;&gt;</code>ï¼šæµæå–è¿ç®—ç¬¦ï¼Œç”¨äºä»æµä¸­æå–æ•°æ®ã€‚</li><li><code>get()</code>ï¼šç”¨äºè¯»å–ä¸€ä¸ªå­—ç¬¦æˆ–ä¸€è¡Œæ•°æ®ã€‚</li><li><code>read()</code>ï¼šä»æµä¸­è¯»å–ç‰¹å®šæ•°é‡çš„å­—ç¬¦ã€‚</li><li><code>eof()</code>ï¼šæ£€æŸ¥æ˜¯å¦åˆ°è¾¾æ–‡ä»¶ç»“æŸæ ‡å¿—ã€‚</li><li><code>fail()</code>ï¼šæ£€æŸ¥æµæ˜¯å¦è¿›å…¥å¤±è´¥çŠ¶æ€ã€‚</li></ul></li></ul><ol start="2"><li><strong><code>std::ostream</code> ç±»</strong></li></ol><p><code>std::ostream</code> ç±»æ˜¯ç”¨äºå¤„ç†è¾“å‡ºæ“ä½œçš„ç±»ï¼Œæä¾›äº†å°†æ•°æ®å†™å…¥è¾“å‡ºæµçš„åŠŸèƒ½ã€‚å®ƒæ˜¯æ‰€æœ‰è¾“å‡ºæµç±»ï¼ˆå¦‚ <code>cout</code>ï¼‰çš„åŸºç±»ã€‚</p><ul><li><p><strong>æ„é€ å‡½æ•°</strong>ï¼š<code>std::ostream</code> çš„æ„é€ å‡½æ•°ç”¨äºæ‰“å¼€è¾“å‡ºæµæˆ–åˆå§‹åŒ–è¾“å‡ºæµã€‚</p></li><li><p>æˆå‘˜å‡½æ•°</p><ul><li><code>operator&lt;&lt;</code>ï¼šæµæ’å…¥è¿ç®—ç¬¦ï¼Œç”¨äºå°†æ•°æ®æ’å…¥åˆ°æµä¸­ã€‚</li><li><code>put()</code>ï¼šç”¨äºå‘æµä¸­å†™å…¥ä¸€ä¸ªå­—ç¬¦ã€‚</li><li><code>write()</code>ï¼šç”¨äºå‘æµä¸­å†™å…¥ç‰¹å®šæ•°é‡çš„å­—ç¬¦ã€‚</li><li><code>flush()</code>ï¼šå¼ºåˆ¶è¾“å‡ºç¼“å†²åŒºå†…å®¹ï¼Œç¡®ä¿æ•°æ®ç«‹å³å†™å…¥æµã€‚</li><li><code>endl</code>ï¼šæ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦å¹¶åˆ·æ–°è¾“å‡ºæµã€‚</li></ul></li></ul><ol start="3"><li><strong>ç»§æ‰¿ç»“æ„</strong></li></ol><p><code>std::istream</code> å’Œ <code>std::ostream</code> ç±»æœ¬èº«éƒ½ç»§æ‰¿è‡ª <code>std::ios</code> ç±»ï¼Œå®ƒä»¬å…±äº«ä¸€äº›åŸºæœ¬çš„è¾“å…¥è¾“å‡ºåŠŸèƒ½ã€‚<code>std::ios</code> ç±»æä¾›äº†ç®¡ç†æµçŠ¶æ€çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ£€æŸ¥æ˜¯å¦å¤„äºé”™è¯¯çŠ¶æ€ã€æ˜¯å¦å·²åˆ°è¾¾æ–‡ä»¶æœ«å°¾ç­‰ã€‚</p><ul><li><strong><code>std::ios</code> ç±»</strong>ï¼š<code>std::ios</code> æ˜¯ <code>std::istream</code> å’Œ <code>std::ostream</code> çš„åŸºç±»ï¼Œè´Ÿè´£æµçš„åŸºæœ¬çŠ¶æ€ç®¡ç†ï¼ˆå¦‚é”™è¯¯æ ‡å¿—ã€æ ¼å¼æ§åˆ¶ç­‰ï¼‰ã€‚<ul><li><code>std::ios::good()</code>: æ£€æŸ¥æµæ˜¯å¦å¤„äºè‰¯å¥½çŠ¶æ€ã€‚</li><li><code>std::ios::eof()</code>: æ£€æŸ¥æµæ˜¯å¦åˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚</li><li><code>std::ios::fail()</code>: æ£€æŸ¥æµæ˜¯å¦å¤„äºå¤±è´¥çŠ¶æ€ã€‚</li></ul></li></ul><ol start="4"><li><strong>å¸¸è§çš„æ´¾ç”Ÿç±»</strong></li></ol><ul><li>**<code>std::ifstream</code>**ï¼š<code>std::ifstream</code> æ˜¯ <code>std::istream</code> çš„æ´¾ç”Ÿç±»ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è¾“å…¥ã€‚å®ƒæä¾›äº†ä»æ–‡ä»¶è¯»å–æ•°æ®çš„åŠŸèƒ½ã€‚</li><li>**<code>std::ofstream</code>**ï¼š<code>std::ofstream</code> æ˜¯ <code>std::ostream</code> çš„æ´¾ç”Ÿç±»ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è¾“å‡ºã€‚å®ƒæä¾›äº†å°†æ•°æ®å†™å…¥æ–‡ä»¶çš„åŠŸèƒ½ã€‚</li><li>**<code>std::stringstream</code>**ï¼š<code>std::stringstream</code> æ˜¯ <code>std::istream</code> å’Œ <code>std::ostream</code> çš„æ´¾ç”Ÿç±»ï¼Œå…è®¸åœ¨å†…å­˜ä¸­å¤„ç†å­—ç¬¦ä¸²æµã€‚å®ƒæ—¢å¯ä»¥ç”¨äºè¾“å…¥ä¹Ÿå¯ä»¥ç”¨äºè¾“å‡ºã€‚</li></ul><h5 id="cinå’Œcout"><a href="#cinå’Œcout" class="headerlink" title="cinå’Œcout"></a><code>cin</code>å’Œ<code>cout</code></h5><p><code>cin</code> å’Œ <code>cout</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­<strong>é¢„å®šä¹‰çš„è¾“å…¥å’Œè¾“å‡ºæµå¯¹è±¡</strong>ï¼Œå®ƒä»¬æ˜¯ç”±æµç±»ï¼ˆå¦‚ <code>istream</code> å’Œ <code>ostream</code>ï¼‰åˆ›å»ºçš„å…¨å±€å¯¹è±¡ï¼Œç”¨äºè¿›è¡Œæ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºã€‚</p><ul><li><strong><code>cin</code>ï¼ˆæ ‡å‡†è¾“å…¥æµå¯¹è±¡ï¼‰</strong>ï¼š<code>cin</code> æ˜¯ä¸€ä¸ªå…¨å±€çš„è¾“å…¥æµå¯¹è±¡ï¼Œå±äº <code>std::istream</code> ç±»ï¼Œé€šå¸¸ç”¨äºä»æ ‡å‡†è¾“å…¥ï¼ˆå¦‚é”®ç›˜ï¼‰è·å–æ•°æ®ã€‚</li><li><strong><code>cout</code>ï¼ˆæ ‡å‡†è¾“å‡ºæµå¯¹è±¡ï¼‰</strong>ï¼š<code>cout</code> æ˜¯ä¸€ä¸ªå…¨å±€çš„è¾“å‡ºæµå¯¹è±¡ï¼Œå±äº <code>std::ostream</code> ç±»ï¼Œé€šå¸¸ç”¨äºå°†æ•°æ®è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆå¦‚æ˜¾ç¤ºå™¨ï¼‰ã€‚</li></ul><div class="note note-danger">            <p><strong>æ˜¯çš„ï¼Œcin&#x2F;coutæ ¹æœ¬ä¸æ˜¯å‡½æ•°ï¼Œè€Œæ˜¯å¯¹è±¡ï¼ï¼ï¼</strong></p>          </div><h5 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="&lt;&lt;å’Œ&gt;&gt;è¿ç®—ç¬¦"></a><code>&lt;&lt;</code>å’Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦</h5><p>è¿™äº›è¿ç®—ç¬¦å®é™…ä¸Šæ˜¯è¢«é‡è½½çš„ï¼Œå®ƒä»¬ä¸æ˜¯å†…ç½®è¿ç®—ç¬¦ï¼Œè€Œæ˜¯é€šè¿‡é‡è½½æ¥å®šä¹‰æµæ“ä½œçš„è¡Œä¸ºã€‚</p><ul><li>**æµæ’å…¥è¿ç®—ç¬¦ <code>&lt;&lt;</code>**ï¼šè¢« <code>std::ostream</code> ç±»é‡è½½ï¼Œç”¨äºå°†æ•°æ®æ’å…¥åˆ°è¾“å‡ºæµä¸­ã€‚å½“ä½ å†™ <code>cout &lt;&lt; x;</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº† <code>std::ostream</code> ç±»çš„ <code>operator&lt;&lt;</code> å‡½æ•°ã€‚</li><li>**æµæå–è¿ç®—ç¬¦ <code>&gt;&gt;</code>**ï¼šè¢« <code>std::istream</code> ç±»é‡è½½ï¼Œç”¨äºä»è¾“å…¥æµä¸­æå–æ•°æ®ã€‚å½“ä½ å†™ <code>cin &gt;&gt; x;</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº† <code>std::istream</code> ç±»çš„ <code>operator&gt;&gt;</code> å‡½æ•°ã€‚</li></ul><p>æµæ’å…¥è¿ç®—ç¬¦&lt;&lt;æ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ cout &lt;&lt; x çš„è¿ç®—ç¬¦ä¸¤ä¾§åˆ†åˆ«æ˜¯ cout å’Œ xï¼Œ x æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œ cout æ˜¯è¾“å‡ºæµç±» <code>ostream</code> çš„å¯¹è±¡ã€‚ &lt;&lt;è¿ç®—ç¬¦å°†å³è¾¹å¯¹è±¡çš„å€¼è½¬æ¢æˆæ–‡æœ¬å½¢å¼æ’å…¥å·¦è¾¹çš„è¾“å‡ºæµå¯¹è±¡ï¼Œ æ‰§è¡Œç»“æœæ˜¯å·¦è¾¹çš„è¾“å‡ºæµå¯¹è±¡çš„å¼•ç”¨ã€‚å¯¹äº cout &lt;&lt; xï¼Œè¿ç®—ç»“æœä¸ºå¯¹è±¡ coutã€‚æ­£å› ä¸º&lt;&lt;è¿ç®—çš„ç»“æœæ˜¯å·¦è¾¹å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥å…è®¸æ‰§è¡Œ <code>cout &lt;&lt; x &lt;&lt; y</code> ç­‰çš„æ“ä½œã€‚å› ä¸º&lt;&lt;æ˜¯å·¦ç»“åˆçš„ï¼Œæ‰€ä»¥ä¸Šè¿°è¡¨è¾¾å¼å…ˆæ‰§è¡Œ <code>cout &lt;&lt; x</code>ï¼Œæ‰§è¡Œçš„ç»“æœæ˜¯å¯¹è±¡ coutï¼Œç„¶åæ‰§è¡Œ <code>cout &lt;&lt; y</code>ã€‚</p><h4 id="åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½è¿ç®—ç¬¦"><a href="#åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½è¿ç®—ç¬¦" class="headerlink" title="åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½&lt;&lt;å’Œ&gt;&gt;è¿ç®—ç¬¦"></a>åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½<code>&lt;&lt;</code>å’Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦</h4><p>ç”±äºç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>ostream/istream</code> ç±»çš„å¯¹è±¡ï¼Œå› æ­¤<strong>æµæ’å…¥è¿ç®—ç¬¦ä¸èƒ½é‡è½½æˆæˆå‘˜å‡½æ•°ï¼Œå¿…é¡»é‡è½½æˆå…¨å±€å‡½æ•°ï¼Œæµè¾“å‡ºè¿ç®—ç¬¦ä¹Ÿæ˜¯å¦‚æ­¤</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿåœ¨ C++ ä¸­ï¼Œ<strong>æˆå‘˜å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°é€šå¸¸æ˜¯éšå¼çš„ <code>this</code> æŒ‡é’ˆ</strong>ï¼ŒæŒ‡å‘å½“å‰å¯¹è±¡ã€‚å› æ­¤ï¼Œæˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ <code>this</code> æŒ‡é’ˆè®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡å’Œå…¶ä»–æˆå‘˜å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰è¿ç®—ç¬¦çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯ä»¥è¢«<strong>thisæŒ‡é’ˆæŒ‡å‘çš„ï¼Œæ‰èƒ½å¤Ÿè¢«å®šä¹‰ä¸ºç±»å†…çš„æˆå‘˜å‡½æ•°</strong>ï¼Œå¦åˆ™å¿…é¡»è¢«<strong>å®šä¹‰ä¸ºå‹å…ƒå‡½æ•°</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> x, y;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) : <span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;<br><br>    <span class="hljs-comment">// é‡è½½ &lt;&lt; è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">friend</span> ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="hljs-type">const</span> Point&amp; p);<br>    <span class="hljs-comment">//å‚æ•°ä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯ostreamç±»çš„å¯¹è±¡ï¼ˆç›¸å½“äºcoutï¼‰</span><br>&#125;;<br><br><span class="hljs-comment">// é‡è½½ &lt;&lt; è¿ç®—ç¬¦</span><br>ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="hljs-type">const</span> Point&amp; p) &#123;<br>    os &lt;&lt; <span class="hljs-string">&quot;(&quot;</span> &lt;&lt; p.x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; p.y &lt;&lt; <span class="hljs-string">&quot;)&quot;</span>;<br>    <span class="hljs-keyword">return</span> os;  <span class="hljs-comment">// è¿”å› ostream å¼•ç”¨ï¼Œä»¥ä¾¿é“¾å¼è°ƒç”¨</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">Point <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Point: &quot;</span> &lt;&lt; p &lt;&lt; endl;  <span class="hljs-comment">// è°ƒç”¨é‡è½½çš„ &lt;&lt; è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> x, y;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) : <span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;<br><br>    <span class="hljs-comment">// é‡è½½ &gt;&gt; è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">friend</span> istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is, Point&amp; p);<br>    <span class="hljs-comment">//å‚æ•°ä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯istreamç±»çš„å¯¹è±¡ï¼ˆç›¸å½“äºcinï¼‰</span><br>&#125;;<br><br><span class="hljs-comment">// é‡è½½ &gt;&gt; è¿ç®—ç¬¦</span><br>istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is, Point&amp; p) &#123;<br>    is &gt;&gt; p.x &gt;&gt; p.y;  <span class="hljs-comment">// ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®åˆ°æˆå‘˜å˜é‡</span><br>    <span class="hljs-keyword">return</span> is;  <span class="hljs-comment">// è¿”å› istream å¼•ç”¨ï¼Œä»¥ä¾¿é“¾å¼è°ƒç”¨</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">Point <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Enter coordinates for the point (x y): &quot;</span>;<br>    cin &gt;&gt; p;  <span class="hljs-comment">// è°ƒç”¨é‡è½½çš„ &gt;&gt; è¿ç®—ç¬¦</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;You entered point: &quot;</span> &lt;&lt; p &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç›¸å…³æ³¨æ„ç‚¹ï¼š</strong></p><ul><li>æ³¨æ„è¿”å›ç±»å‹æ˜¯å¯¹<code>istream</code>æˆ–<code>ostream</code>çš„å¼•ç”¨ã€‚</li></ul>          </div><h3 id="iomanip"><a href="#iomanip" class="headerlink" title="iomanip"></a>iomanip</h3><p><code>iomanip</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªå¤´æ–‡ä»¶ï¼Œå…¨ç§°ä¸º <strong>Input&#x2F;Output Manipulators</strong>ï¼ˆè¾“å…¥è¾“å‡ºæ“çºµå™¨ï¼‰ã€‚å®ƒæä¾›äº†ä¸€ç³»åˆ—ç”¨äº<strong>æ ¼å¼åŒ–è¾“å…¥</strong>è¾“å‡ºçš„å·¥å…·å‡½æ•°ï¼Œé€šå¸¸ä¸ <code>iostream</code> åº“ï¼ˆå¦‚ <code>cin</code> å’Œ <code>cout</code>ï¼‰ç»“åˆä½¿ç”¨ï¼Œä»¥æ§åˆ¶æ•°æ®çš„æ˜¾ç¤ºæ–¹å¼ã€‚<strong>æ ¼å¼åŒ–è¾“å…¥&#x2F;è¾“å‡º</strong>æ˜¯é€šè¿‡<strong>æµæ“çºµç¬¦</strong>æˆ–**<code>istream</code> å’Œ <code>ostream</code> ç±»çš„æˆå‘˜å‡½æ•°<strong>å®ç°çš„ã€‚æµæ“çºµç¬¦æ˜¯ä»¥ä¸€ä¸ªæµå¼•ç”¨ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›åŒä¸€æµå¼•ç”¨çš„å‡½æ•°ï¼Œå› æ­¤å®ƒå¯ä»¥åµŒå…¥è¾“å…¥&#x2F;è¾“å‡ºæ“ä½œçš„é“¾ä¸­ã€‚ <code>endl</code> å°±æ˜¯æœ€å¸¸ç”¨çš„æµæ“çºµç¬¦ã€‚æ ¼å¼åŒ–è¾“å…¥&#x2F;è¾“å‡ºçš„åŠŸèƒ½åŒ…æ‹¬</strong>è®¾ç½®æ•´å‹æ•°çš„åŸºæ•°ã€è®¾ç½®æµ®ç‚¹æ•°çš„ç²¾åº¦ã€è®¾ç½®å’Œæ”¹å˜åŸŸå®½ã€è®¾ç½®åŸŸçš„å¡«å……å­—ç¬¦**ç­‰ã€‚  </p><p><code>iomanip</code> ä¸­å¸¸ç”¨çš„å‡½æ•°åŒ…æ‹¬ï¼š</p><ol><li><p><strong>è®¾ç½®å­—æ®µå®½åº¦</strong><br><code>setw(n)</code>ï¼šè®¾ç½®ä¸‹ä¸€ä¸ªè¾“å‡ºå­—æ®µçš„å®½åº¦ä¸º <code>n</code> ä¸ªå­—ç¬¦ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">cout &lt;&lt; <span class="hljs-built_in">setw</span>(<span class="hljs-number">10</span>) &lt;&lt; <span class="hljs-string">&quot;Hello&quot;</span>; <span class="hljs-comment">// è¾“å‡º &quot;     Hello&quot;ï¼ˆå‰é¢æœ‰ 5 ä¸ªç©ºæ ¼ï¼‰</span><br></code></pre></td></tr></table></figure></li><li><p><strong>è®¾ç½®æµ®ç‚¹æ•°ç²¾åº¦</strong><br><code>setprecision(n)</code>ï¼šè®¾ç½®æµ®ç‚¹æ•°è¾“å‡ºçš„ç²¾åº¦ä¸º <code>n</code> ä½ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">cout &lt;&lt; <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">3</span>) &lt;&lt; <span class="hljs-number">3.14159</span>; <span class="hljs-comment">// è¾“å‡º &quot;3.14&quot;</span><br>cout &lt;&lt; fixed &lt;&lt; <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">3</span>) &lt;&lt; <span class="hljs-number">3.14159</span>; <span class="hljs-comment">//è¾“å‡º &quot;3.142&quot;</span><br><br><span class="hljs-comment">// ä½ ä¹Ÿå¯ä»¥å†™æˆ cout.precision(3);cout&lt;&lt;x;</span><br></code></pre></td></tr></table></figure><p>åœ¨é»˜è®¤æ¨¡å¼ä¸‹ï¼Œ<code>setprecision(n)</code> æ§åˆ¶çš„æ˜¯<strong>æœ‰æ•ˆæ•°å­—ä½æ•°</strong>ï¼Œå³ä»ç¬¬ä¸€ä¸ªéé›¶æ•°å­—å¼€å§‹è®¡ç®—çš„æ€»ä½æ•°ã€‚åœ¨ <code>fixed</code> æ¨¡å¼ä¸‹ï¼Œ<code>setprecision(n)</code> æ§åˆ¶çš„æ˜¯<strong>å°æ•°ç‚¹åçš„ä½æ•°</strong>ã€‚(<strong>æ˜¯å››èˆäº”å…¥</strong>)ã€‚åœ¨ <code>scientific</code> æ¨¡å¼ä¸‹ï¼Œ<code>setprecision(n)</code> æ§åˆ¶çš„æ˜¯<strong>å°æ•°ç‚¹åçš„ä½æ•°</strong>ï¼Œä½†æ•°å­—ä¼šä»¥ç§‘å­¦è®¡æ•°æ³•æ˜¾ç¤ºã€‚</p></li><li><p><strong>è®¾ç½®å¡«å……å­—ç¬¦</strong><br><code>setfill(c)</code>ï¼šè®¾ç½®å¡«å……å­—ç¬¦ä¸º <code>c</code>ï¼Œé€šå¸¸ä¸ <code>setw</code> ä¸€èµ·ä½¿ç”¨ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">cout &lt;&lt; <span class="hljs-built_in">setfill</span>(<span class="hljs-string">&#x27;*&#x27;</span>) &lt;&lt; <span class="hljs-built_in">setw</span>(<span class="hljs-number">10</span>) &lt;&lt; <span class="hljs-string">&quot;Hi&quot;</span>; <span class="hljs-comment">// è¾“å‡º &quot;********Hi&quot;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>æ§åˆ¶å¸ƒå°”å€¼è¾“å‡ºæ ¼å¼</strong><br><code>boolalpha</code> &#x2F; <code>noboolalpha</code>ï¼šå°†å¸ƒå°”å€¼è¾“å‡ºä¸º <code>true</code>&#x2F;<code>false</code> æˆ– <code>1</code>&#x2F;<code>0</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">cout &lt;&lt; boolalpha &lt;&lt; <span class="hljs-literal">true</span>; <span class="hljs-comment">// è¾“å‡º &quot;true&quot;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>æ§åˆ¶æ•°å­—çš„è¿›åˆ¶</strong><br><code>hex</code>ã€<code>dec</code>ã€<code>oct</code>ï¼šåˆ†åˆ«å°†æ•°å­—è¾“å‡ºä¸ºåå…­è¿›åˆ¶ã€åè¿›åˆ¶å’Œå…«è¿›åˆ¶ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code>setbase()</code>è¿›è¡Œæ ¼å¼åŒ–æ§åˆ¶ã€‚ï¼ˆ<strong>å‚æ•°åŒ–çš„æµæ“çºµç¬¦</strong>ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">cout &lt;&lt; hex &lt;&lt; <span class="hljs-number">255</span>; <span class="hljs-comment">// è¾“å‡º &quot;ff&quot;</span><br></code></pre></td></tr></table></figure></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iomanip&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-built_in">setw</span>(<span class="hljs-number">10</span>) &lt;&lt; <span class="hljs-built_in">setfill</span>(<span class="hljs-string">&#x27;-&#x27;</span>) &lt;&lt; <span class="hljs-string">&quot;Hello&quot;</span> &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º &quot;-----Hello&quot;</span><br>    cout &lt;&lt; <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">4</span>) &lt;&lt; <span class="hljs-number">3.14159</span> &lt;&lt; endl;          <span class="hljs-comment">// è¾“å‡º &quot;3.142&quot;</span><br>    cout &lt;&lt; hex &lt;&lt; <span class="hljs-number">255</span> &lt;&lt; endl;                          <span class="hljs-comment">// è¾“å‡º &quot;ff&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="6"><li><strong>è‡ªå®šä¹‰è¾“å‡ºæµæ“çºµç¬¦</strong></li></ol><p>åœ¨ C++ ä¸­ï¼Œè‡ªå®šä¹‰æµæ“çºµç¬¦å‡½æ•°ï¼ˆCustom Stream Manipulatorsï¼‰å…è®¸ä½ åˆ›å»ºè‡ªå·±çš„æµæ“ä½œç¬¦ï¼Œç”¨äºç®€åŒ–æˆ–æ‰©å±•è¾“å…¥è¾“å‡ºæµçš„æ ¼å¼åŒ–æ“ä½œã€‚è‡ªå®šä¹‰æµæ“çºµç¬¦å‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ— å‚æ•°çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¸¦å‚æ•°çš„å‡½æ•°ï¼Œå®ƒä»¬é€šè¿‡æ“ä½œæµçš„å†…éƒ¨çŠ¶æ€æˆ–æ‰§è¡Œç‰¹å®šæ“ä½œæ¥å®ç°è‡ªå®šä¹‰åŠŸèƒ½ã€‚</p><ol><li><strong>æ— å‚æ•°çš„è‡ªå®šä¹‰æµæ“çºµç¬¦</strong></li></ol><p>æ— å‚æ•°çš„è‡ªå®šä¹‰æµæ“çºµç¬¦æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªæµå¯¹è±¡ï¼ˆ<code>std::ostream&amp;</code> æˆ– <code>std::istream&amp;</code>ï¼‰å¹¶è¿”å›è¯¥æµå¯¹è±¡ã€‚é€šå¸¸ç”¨äºè®¾ç½®æµçš„æ ¼å¼çŠ¶æ€ã€‚</p><p><strong>ç¤ºä¾‹ï¼šå®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ“çºµç¬¦ï¼Œå°†è¾“å‡ºæµçš„é¢œè‰²è®¾ç½®ä¸ºçº¢è‰²ï¼ˆå‡è®¾ç»ˆç«¯æ”¯æŒ ANSI é¢œè‰²ä»£ç ï¼‰ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ“çºµç¬¦å‡½æ•°ï¼šè®¾ç½®ä¸ºçº¢è‰²</span><br><span class="hljs-function">ostream&amp; <span class="hljs-title">red</span><span class="hljs-params">(ostream&amp; os)</span> </span>&#123;<br>    os &lt;&lt; <span class="hljs-string">&quot;\033[31m&quot;</span>; <span class="hljs-comment">// ANSI é¢œè‰²ä»£ç ï¼šçº¢è‰²</span><br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ“çºµç¬¦å‡½æ•°ï¼šæ¢å¤é»˜è®¤é¢œè‰²</span><br><span class="hljs-function">ostream&amp; <span class="hljs-title">reset</span><span class="hljs-params">(ostream&amp; os)</span> </span>&#123;<br>    os &lt;&lt; <span class="hljs-string">&quot;\033[0m&quot;</span>; <span class="hljs-comment">// ANSI é‡ç½®ä»£ç </span><br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; red &lt;&lt; <span class="hljs-string">&quot;This text is red!&quot;</span> &lt;&lt;endl&lt;&lt; reset &lt;&lt; <span class="hljs-string">&quot; This text is back to default.&quot;</span> &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>å¸¦å‚æ•°çš„è‡ªå®šä¹‰æµæ“çºµç¬¦</strong></li></ol><p>å¸¦å‚æ•°çš„è‡ªå®šä¹‰æµæ“çºµç¬¦éœ€è¦å€ŸåŠ©ä¸€ä¸ªè¾…åŠ©ç±»æ¥å®ç°ã€‚é€šè¿‡é‡è½½ <code>operator&lt;&lt;</code> æˆ– <code>operator&gt;&gt;</code>ï¼Œå¯ä»¥ä¼ é€’å‚æ•°å¹¶æ‰§è¡Œæ›´å¤æ‚çš„æ“ä½œã€‚</p><p><strong>ç¤ºä¾‹ï¼šå®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ“çºµç¬¦ï¼Œé‡å¤è¾“å‡ºæŒ‡å®šæ¬¡æ•°çš„å­—ç¬¦ä¸²ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// è¾…åŠ©ç±»</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">RepeatManipulator</span> &#123;<br>    <span class="hljs-type">int</span> count;<br>    <span class="hljs-type">const</span> string&amp; str;<br><br>    <span class="hljs-built_in">RepeatManipulator</span>(<span class="hljs-type">int</span> n, <span class="hljs-type">const</span> string&amp; s) : <span class="hljs-built_in">count</span>(n), <span class="hljs-built_in">str</span>(s) &#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">// é‡è½½ operator&lt;&lt;</span><br>ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="hljs-type">const</span> RepeatManipulator&amp; manip) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; manip.count; ++i) &#123;<br>        os &lt;&lt; manip.str;<br>    &#125;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ“çºµç¬¦å‡½æ•°</span><br><span class="hljs-function">RepeatManipulator <span class="hljs-title">repeat</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">const</span> string&amp; s)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">RepeatManipulator</span>(n, s);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;Hello! &quot;</span>) &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º &quot;Hello! Hello! Hello! &quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><hr><ol start="3"><li><strong>ç»“åˆ <code>iomanip</code> ä½¿ç”¨</strong></li></ol><p>è‡ªå®šä¹‰æµæ“çºµç¬¦å¯ä»¥ä¸ <code>iomanip</code> ä¸­çš„æ ‡å‡†æ“çºµç¬¦ç»“åˆä½¿ç”¨ï¼Œä»¥å®ç°æ›´å¼ºå¤§çš„åŠŸèƒ½ã€‚</p><p><strong>ç¤ºä¾‹ï¼šå®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ“çºµç¬¦ï¼Œå°†æµ®ç‚¹æ•°è¾“å‡ºä¸ºç™¾åˆ†æ¯”æ ¼å¼ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iomanip&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ“çºµç¬¦å‡½æ•°</span><br><span class="hljs-function">ostream&amp; <span class="hljs-title">percent</span><span class="hljs-params">(ostream&amp; os)</span> </span>&#123;<br>    os &lt;&lt; fixed &lt;&lt; <span class="hljs-built_in">setprecision</span>(<span class="hljs-number">2</span>) &lt;&lt; <span class="hljs-string">&#x27;*&#x27;</span>; <span class="hljs-comment">// è®¾ç½®æ ¼å¼å¹¶æ·»åŠ ç™¾åˆ†å·</span><br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">double</span> num = <span class="hljs-number">0.753</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Percentage: &quot;</span> &lt;&lt; num * <span class="hljs-number">100</span> &lt;&lt; percent &lt;&lt; endl; <span class="hljs-comment">// è¾“å‡º &quot;Percentage: 75.30%&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><hr><ol start="4"><li><strong>è‡ªå®šä¹‰è¾“å…¥æµæ“çºµç¬¦</strong></li></ol><p>è‡ªå®šä¹‰æµæ“çºµç¬¦ä¹Ÿå¯ä»¥ç”¨äºè¾“å…¥æµï¼ˆ<code>std::istream</code>ï¼‰ï¼Œç”¨äºè§£ææˆ–å¤„ç†è¾“å…¥æ•°æ®ã€‚</p><p><strong>ç¤ºä¾‹ï¼šå®ç°ä¸€ä¸ªè‡ªå®šä¹‰æ“çºµç¬¦ï¼Œè·³è¿‡è¾“å…¥æµä¸­çš„é€—å·ï¼š</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ“çºµç¬¦å‡½æ•°</span><br><span class="hljs-function">istream&amp; <span class="hljs-title">skipComma</span><span class="hljs-params">(istream&amp; is)</span> </span>&#123;<br>    <span class="hljs-type">char</span> c;<br>    is &gt;&gt; c; <span class="hljs-comment">// è¯»å–ä¸€ä¸ªå­—ç¬¦</span><br>    <span class="hljs-keyword">if</span> (c != <span class="hljs-string">&#x27;,&#x27;</span>) &#123;<br>        is.<span class="hljs-built_in">putback</span>(c); <span class="hljs-comment">// å¦‚æœä¸æ˜¯é€—å·ï¼Œæ”¾å›æµä¸­</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> a, b;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Enter two numbers separated by a comma: &quot;</span>;<br>    cin &gt;&gt; a &gt;&gt; skipComma &gt;&gt; b;<br>    cout &lt;&lt; <span class="hljs-string">&quot;You entered: &quot;</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot; and &quot;</span> &lt;&lt; b &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><strong>è‡ªå®šä¹‰æµæ“ä½œç¬¦æ˜¯C++è¾“å…¥è¾“å‡ºçš„åˆ©å™¨ã€‚</strong>å¼ºçƒˆæ¨èå¤§å®¶ä¸Šæ‰‹å®ç°è‡ªå·±çš„æµæ“ä½œç¬¦ï¼</p></blockquote><h2 id="File-based-input-and-output"><a href="#File-based-input-and-output" class="headerlink" title="File-based input and output"></a>File-based input and output</h2><h3 id="Preliminaries"><a href="#Preliminaries" class="headerlink" title="Preliminaries"></a>Preliminaries</h3><p>åœ¨æˆ‘ä»¬ä¹‹å‰æ‰€é‡åˆ°çš„ç¨‹åºä¸­ï¼Œç¨‹åºçš„è¾“å…¥éƒ½æŒ‡çš„æ˜¯<strong>é”®ç›˜çš„æ‰‹åŠ¨è¾“å…¥</strong>ï¼Œè¿™ç§è¾“å…¥æ–¹å¼çµæ´»ä¾¿æ·ä½†å…·æœ‰å±€é™æ€§ã€‚ï¼ˆä¾‹å¦‚æˆ‘ç¼–å†™äº†ä¸€ä¸ªç¨‹åºéœ€è¦ç»Ÿè®¡å…¬å¸æ‰€æœ‰å‘˜å·¥çš„è€ƒå‹¤è®°å½•ï¼Œå¦‚æœæŠŠæ‰€æœ‰æ•°æ®å…¨éƒ¨æ‰‹æ•²è¿›ç»ˆç«¯ä¸­æ— ç–‘æ˜¯è´¹æ—¶è´¹åŠ›çš„ã€‚ï¼‰å› æ­¤ï¼Œ<strong>æ–‡ä»¶çš„è¾“å…¥è¾“å‡º</strong>åœ¨æŸäº›æƒ…å†µä¸‹ç›¸æ¯”äºæ§åˆ¶å°çš„è¾“å…¥è¾“å‡ºæœ‰ç€å¾—å¤©ç‹¬åšçš„ä¼˜è¶Šæ€§ã€‚</p><p>ä¸ºäº†å±•ç¤ºæ–‡ä»¶è¾“å…¥è¾“å‡ºçš„å¼ºå¤§ä¹‹å¤„ï¼Œå…ˆå‘ç¬”è€…å±•ç¤ºä»¥ä¸‹çš„ç¨‹åºï¼š</p><p><img src="/posts/Input-and-Output-in-C-plus-plus/Bash.png" alt="File-based input and output"></p><blockquote><p>ä¸Šå›¾çš„å‘½ä»¤è¡Œä½¿ç”¨Bashè¯­è¨€ï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯è‡ªè¡Œå­¦ä¹ ï¼Œç¬”è€…è¿™é‡Œä½¿ç”¨çš„æ˜¯GitBashï¼ˆPowershellå°±æ˜¯ğŸ’©ï¼‰</p></blockquote><ul><li><code>cat</code> å±•ç¤ºæ–‡ä»¶çš„å†…å®¹</li><li><code>g++ testfile1.cpp =o main </code>ç¼–è¯‘<code>testfile1.cpp</code>æ–‡ä»¶ï¼Œç”Ÿæˆ<code>main.exe</code>çš„å¯æ‰§è¡Œæ–‡ä»¶</li><li><code>./main.exe</code> è¿è¡Œ<code>main.exe</code></li><li><code>./main.exe &lt;1.txt &gt;2.txt</code><ul><li><strong>Bashè¯­è¨€çš„è¾“å…¥é‡å®šå‘å’Œè¾“å‡ºé‡å®šå‘</strong>ï¼šå°†<code>1.txt</code>çš„æ–‡ä»¶å†…å®¹å½“åšè¾“å…¥è¾“å…¥è¿›<code>main.exe</code>ä¸­ï¼Œç„¶åå°†ç¨‹åºçš„è¾“å‡ºæµå‘<code>2.txt</code></li></ul></li></ul><p>æ ¹æ®ç»“æœä¸éš¾å‘ç°ï¼Œ<code>1.txt</code>ä½œä¸ºè¾“å…¥å†…å®¹ï¼ŒæˆåŠŸè¢«ç¨‹åºæ‰€æ‰§è¡Œå¹¶ä¸”<strong>æˆåŠŸå°†æ‰§è¡Œçš„ç»“æœå¯¼å…¥åˆ°<code>2.txt</code><strong>ä¸­ã€‚</strong>æ³°è£¤è¾£ï¼</strong></p><h3 id="Files-Streams-and-EOF"><a href="#Files-Streams-and-EOF" class="headerlink" title="Files, Streams, and EOF"></a>Files, Streams, and EOF</h3><h4 id="EOF"><a href="#EOF" class="headerlink" title="EOF"></a>EOF</h4><p>C++çš„æ–‡ä»¶æ²¡æœ‰è®°å½•çš„æ¦‚å¿µï¼Œå®ƒæŠŠæ–‡ä»¶çœ‹æˆå­—èŠ‚åºåˆ—ï¼Œå³ç”±ä¸€ä¸ªä¸ªå­—èŠ‚é¡ºåºç»„æˆï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶ä»¥<strong>æ–‡ä»¶ç»“æŸç¬¦ï¼ˆ End Of Fileï¼Œ EOFï¼‰</strong>ç»“æŸï¼Œè¿™ç§æ–‡ä»¶ç§°ä¸º<strong>æµå¼æ–‡ä»¶</strong>ã€‚æˆ‘ä»¬å¯ä»¥å°† C++çš„æ–‡ä»¶çœ‹æˆä¸€ä¸ªå­—ç¬¦ä¸²ã€‚åªä¸è¿‡è¿™ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ï¼Œè€Œæ˜¯å­˜æ”¾åœ¨å¤–å­˜ä¸­ï¼›ä¸æ˜¯ç”¨<code>&#39;\0&#39;</code>ç»“æŸçš„ï¼Œè€Œæ˜¯ç”¨ EOF ç»“æŸã€‚</p><h4 id="Files"><a href="#Files" class="headerlink" title="Files"></a>Files</h4><p>æ ¹æ®ä¸åŒçš„è¯»å†™æ–¹å¼ï¼Œ<strong>æ–‡ä»¶</strong>åœ¨C++ä¸­å…·ä½“è¢«åˆ†ç±»ä¸º<strong>ASCIIæ–‡ä»¶</strong>å’Œ<strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong>ã€‚<strong>ASCIIæ–‡ä»¶</strong>æ˜¯æŒ‡ä½¿ç”¨ ASCII ç¼–ç å­˜å‚¨æ–‡æœ¬çš„æ–‡ä»¶ï¼Œç”¨æ¥å­˜å‚¨çº¯æ–‡æœ¬æ•°æ®ã€‚è€Œ<strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong>å‚¨å­˜çš„æ˜¯<strong>æ•°æ®åœ¨å†…å­˜ä¸­çš„è¡¨ç¤º</strong>ã€‚ä¾‹å¦‚æˆ‘ä»¬å¸¸è§çš„å¯æ‰§è¡Œæ–‡ä»¶<code>.exe</code>å°±æ˜¯ä¸€ç§å¸¸è§çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p><h4 id="Streams-1"><a href="#Streams-1" class="headerlink" title="Streams"></a>Streams</h4><p>å’Œ<code>iostream</code>ç±»ä¼¼ï¼Œåœ¨æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶ä¹Ÿå¯ä»¥è¢«çœ‹åšæ˜¯<strong>ä¸€ç§è¾“å…¥è¾“å‡ºæµ</strong>ã€‚å½“åº”ç”¨ç¨‹åºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®æ—¶ï¼Œå°†æ–‡ä»¶ä¸ä¸€ä¸ª<strong>è¾“å…¥æ–‡ä»¶æµå¯¹è±¡</strong> <code>ifstream</code> ç›¸å…³è”ï¼ˆ<strong>è¿™ä¸€æ­¥å«åšæ‰“å¼€æ–‡ä»¶</strong>ï¼‰ã€‚å½“åº”ç”¨ç¨‹åºå°†æ•°æ®å†™å…¥ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå°†æ–‡ä»¶ä¸ä¸€ä¸ª<strong>è¾“å‡ºæ–‡ä»¶æµå¯¹è±¡</strong> <code>ofstream</code> ç›¸å…³è”ï¼ˆ<strong>è¿™ä¸€æ­¥å«åšå…³é—­æ–‡ä»¶</strong>ï¼‰ã€‚å¦‚æœæ—¢è¦è¾“å…¥åˆè¦è¾“å‡ºï¼Œåˆ™ä¸<strong>è¾“å…¥&#x2F;è¾“å‡ºæ–‡ä»¶æµå¯¹è±¡</strong> <code>fstream</code> ç›¸å…³è”ã€‚  æ–‡ä»¶è¢«å…³é—­åï¼Œè¯¥æ–‡ä»¶æµå¯¹è±¡å¯ä»¥ä¸å…¶ä»–æ–‡ä»¶ç›¸å…³è”ã€‚</p><p>åœ¨æ“ä½œä¸Šï¼Œ<code>fstream</code>æ˜¯<code>iostream</code>çš„æ´¾ç”Ÿç±»ï¼Œå› æ­¤å¹¶æ— è¾ƒå¤§çš„å·®å¼‚ã€‚</p><h3 id="Using-fstream-for-ASCII"><a href="#Using-fstream-for-ASCII" class="headerlink" title="Using fstream for ASCII"></a>Using <code>fstream</code> for ASCII</h3><p>ä¸‹é¢çš„ä»£ç ç»™å‡ºäº†ä½¿ç”¨<code>fstream</code>çš„è‹¥å¹²åŸºæœ¬ç”¨æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span> <span class="hljs-comment">// åŒ…å«æ–‡ä»¶æµåº“</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span>  <span class="hljs-comment">// åŒ…å«å­—ç¬¦ä¸²åº“</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// 1. æ‰“å¼€æ–‡ä»¶</span><br>    <span class="hljs-comment">// ä½¿ç”¨ fstream å¯¹è±¡ï¼Œå¯ä»¥åŒæ—¶æ”¯æŒè¯»å†™æ“ä½œ</span><br>    fstream file;<br><br>    <span class="hljs-comment">// æ‰“å¼€æ–‡ä»¶ &quot;example.txt&quot;ï¼Œæ¨¡å¼ä¸ºï¼š</span><br>    <span class="hljs-comment">// ios::out - å†™å…¥æ¨¡å¼ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰</span><br>    <span class="hljs-comment">// ios::in  - è¯»å–æ¨¡å¼</span><br>    <span class="hljs-comment">// ios::trunc - å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œæ¸…ç©ºæ–‡ä»¶å†…å®¹</span><br>    file.<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;example.txt&quot;</span>, ios::out | ios::in | ios::trunc);<br><br>    <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸæ‰“å¼€</span><br>    <span class="hljs-keyword">if</span> (!file.<span class="hljs-built_in">is_open</span>()) &#123;<br>        cerr &lt;&lt; <span class="hljs-string">&quot;Error: Failed to open file!&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>; <span class="hljs-comment">// è¿”å›é”™è¯¯ç </span><br>    &#125;<br><br>    <span class="hljs-comment">// 2. å†™å…¥æ•°æ®åˆ°æ–‡ä»¶</span><br>    string dataToWrite = <span class="hljs-string">&quot;Hello, this is a line of text written to the file.\n&quot;</span>;<br>    file &lt;&lt; dataToWrite; <span class="hljs-comment">// ä½¿ç”¨æµæ’å…¥è¿ç®—ç¬¦å†™å…¥æ•°æ®</span><br>    file &lt;&lt; <span class="hljs-string">&quot;Another line of text.\n&quot;</span>;<br><br>    <span class="hljs-comment">// 3. è¯»å–æ–‡ä»¶å†…å®¹</span><br>    <span class="hljs-comment">// å°†æ–‡ä»¶æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´</span><br>    file.<span class="hljs-built_in">seekg</span>(<span class="hljs-number">0</span>, ios::beg);<br><br>    string line;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Reading from file:\n&quot;</span>;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">getline</span>(file, line)) &#123; <span class="hljs-comment">// é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹</span><br>        cout &lt;&lt; line &lt;&lt; endl;     <span class="hljs-comment">// è¾“å‡ºåˆ°æ§åˆ¶å°</span><br>    &#125;<br><br>    <span class="hljs-comment">// 4. å…³é—­æ–‡ä»¶</span><br>    file.<span class="hljs-built_in">close</span>();<br><br>    <span class="hljs-comment">// 5. é‡æ–°æ‰“å¼€æ–‡ä»¶ä»¥è¿½åŠ æ•°æ®</span><br>    file.<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;example.txt&quot;</span>, ios::out | ios::app); <span class="hljs-comment">// ios::app è¡¨ç¤ºè¿½åŠ æ¨¡å¼</span><br>    <span class="hljs-keyword">if</span> (!file.<span class="hljs-built_in">is_open</span>()) &#123;<br>        cerr &lt;&lt; <span class="hljs-string">&quot;Error: Failed to reopen file for appending!&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// è¿½åŠ æ•°æ®</span><br>    file &lt;&lt; <span class="hljs-string">&quot;This line is appended to the file.\n&quot;</span>;<br><br>    <span class="hljs-comment">// 6. å†æ¬¡è¯»å–æ–‡ä»¶å†…å®¹</span><br>    file.<span class="hljs-built_in">close</span>();<br>    file.<span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;example.txt&quot;</span>, ios::in); <span class="hljs-comment">// ä»¥åªè¯»æ¨¡å¼æ‰“å¼€æ–‡ä»¶</span><br>    <span class="hljs-keyword">if</span> (!file.<span class="hljs-built_in">is_open</span>()) &#123;<br>        cerr &lt;&lt; <span class="hljs-string">&quot;Error: Failed to reopen file for reading!&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    cout &lt;&lt; <span class="hljs-string">&quot;\nReading after appending:\n&quot;</span>;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">getline</span>(file, line)) &#123; <span class="hljs-comment">// é€è¡Œè¯»å–æ–‡ä»¶å†…å®¹</span><br>        cout &lt;&lt; line &lt;&lt; endl;     <span class="hljs-comment">// è¾“å‡ºåˆ°æ§åˆ¶å°</span><br>    &#125;<br><br>    <span class="hljs-comment">// 7. å…³é—­æ–‡ä»¶</span><br>    file.<span class="hljs-built_in">close</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><div class="note note-primary">            <p><strong>ä»£ç çš„ç›¸å…³è¦ç‚¹è§£é‡Š</strong></p><h4 id="å®šä¹‰æ–‡ä»¶æµå¯¹è±¡"><a href="#å®šä¹‰æ–‡ä»¶æµå¯¹è±¡" class="headerlink" title="å®šä¹‰æ–‡ä»¶æµå¯¹è±¡"></a><strong>å®šä¹‰æ–‡ä»¶æµå¯¹è±¡</strong></h4><p><code>fstream file</code>å°†<strong>æ–‡ä»¶æµå¯¹è±¡</strong>å’Œè¾“å…¥çš„æ•°æ®æµç»‘å®šã€‚</p><h4 id="æ‰“å¼€æ–‡ä»¶"><a href="#æ‰“å¼€æ–‡ä»¶" class="headerlink" title="æ‰“å¼€æ–‡ä»¶"></a>æ‰“å¼€æ–‡ä»¶</h4><p>å®šä¹‰å¥½æ–‡ä»¶æµå¯¹è±¡åï¼Œå°±å¯ä»¥ä½¿ç”¨æ–‡ä»¶æµå¯¹è±¡çš„<code>open()</code>æˆå‘˜å‡½æ•°å®ç°<strong>æ‰“å¼€æ–‡ä»¶</strong>çš„æ“ä½œã€‚ä¸‹é¢æ˜¯<code>open()</code>æˆå‘˜å‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">open</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* filename, ios_base::openmode mode = ios_base::in | ios_base::out)</span></span>;<br></code></pre></td></tr></table></figure><p>ä¸éš¾å‘ç°<code>open()</code>å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ¥å—Cè¯­è¨€é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯**<code>ios_base::openmode</code>**ã€‚<code>ios_base::openmode</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­å®šä¹‰çš„ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œç”¨äºæŒ‡å®šæ–‡ä»¶æµçš„æ‰“å¼€æ¨¡å¼ã€‚å®ƒæ˜¯ <code>std::ios_base</code> ç±»çš„æˆå‘˜ç±»å‹ï¼Œé€šå¸¸é€šè¿‡ <code>std::ios</code> å‘½åç©ºé—´æ¥è®¿é—®ï¼ˆä¾‹å¦‚ <code>std::ios::in</code>ï¼‰ã€‚<code>ios_base::openmode</code> çš„ä¸»è¦ä½œç”¨æ˜¯æ§åˆ¶æ–‡ä»¶æµçš„æ‰“å¼€æ–¹å¼ï¼Œä¾‹å¦‚æ˜¯è¯»å–ã€å†™å…¥ã€è¿½åŠ è¿˜æ˜¯äºŒè¿›åˆ¶æ¨¡å¼ç­‰ã€‚è¿™äº›æ¨¡å¼å¯ä»¥é€šè¿‡ä½è¿ç®—ç¬¦ <code>|</code> ç»„åˆä½¿ç”¨ã€‚</p><table><thead><tr><th align="left">æ¨¡å¼</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>std::ios::in</code></td><td align="left">ä»¥è¯»å–æ¨¡å¼æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰“å¼€å¤±è´¥ã€‚</td></tr><tr><td align="left"><code>std::ios::out</code></td><td align="left">ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºæ–‡ä»¶ï¼›å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œé»˜è®¤è¦†ç›–å†…å®¹ã€‚</td></tr><tr><td align="left"><code>std::ios::app</code></td><td align="left">ä»¥è¿½åŠ æ¨¡å¼æ‰“å¼€æ–‡ä»¶ã€‚æ‰€æœ‰å†™å…¥æ“ä½œéƒ½åœ¨æ–‡ä»¶æœ«å°¾è¿›è¡Œï¼Œä¸ä¼šè¦†ç›–åŸæœ‰å†…å®¹ã€‚</td></tr><tr><td align="left"><code>std::ios::ate</code></td><td align="left">æ‰“å¼€æ–‡ä»¶åï¼Œå°†æ–‡ä»¶æŒ‡é’ˆå®šä½åˆ°æ–‡ä»¶æœ«å°¾ã€‚</td></tr><tr><td align="left"><code>std::ios::trunc</code></td><td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œæ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼ˆæˆªæ–­æ–‡ä»¶ï¼‰ã€‚</td></tr><tr><td align="left"><code>std::ios::binary</code></td><td align="left">ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼ˆé»˜è®¤æ˜¯æ–‡æœ¬æ¨¡å¼ï¼‰ã€‚</td></tr></tbody></table><p>å› æ­¤ï¼Œä¸Šæ–‡ä¸­<code>file.open(&quot;example.txt&quot;, ios::out | ios::in | ios::trunc);</code>çš„æ„æ€å°±æ˜¯ï¼šæ‰“å¼€<code>example.txt</code>æ–‡ä»¶ï¼Œå¯è¯»å¯å†™ä¸”æˆªæ–­æ–‡ä»¶ã€‚ç”±é»˜è®¤å‚æ•°å¯çŸ¥ï¼Œ<code>fstream</code>ç±»çš„å¯¹è±¡é»˜è®¤å¯è¯»ä¹Ÿå¯å†™ã€‚</p><div class="note note-danger">            <p>åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œç¨‹åºå‘˜ä¸ºäº†ä¿è¯å®‰å…¨æ€§ï¼Œä¼š<strong>å®ç°ifstreamå’Œofstream</strong>çš„åˆ†ç¦»ã€‚åœ¨<code>ifstream</code>çš„æƒ…å†µä¸‹ï¼Œå°±ä¸å¯ä»¥ä½¿ç”¨<code>out</code>æ¨¡å¼äº†ï¼Œåè¿‡æ¥ä¹ŸåŒæ ·å¦‚æ­¤ã€‚</p>          </div><h4 id="æ£€æŸ¥æ–‡ä»¶"><a href="#æ£€æŸ¥æ–‡ä»¶" class="headerlink" title="æ£€æŸ¥æ–‡ä»¶"></a>æ£€æŸ¥æ–‡ä»¶</h4><p><strong>åœ¨å¤æ‚ç¨‹åºä¸­</strong>ï¼ŒåŠ å…¥é€‚å½“çš„<strong>æ£€æŸ¥ç‚¹</strong>æ˜¯éå¸¸å¥½çš„ä¹ æƒ¯ï¼Œè¿™ä¹Ÿæœ‰åˆ©äºæˆ‘ä»¬æ£€æŸ¥ä»£ç æ˜¯å¦æœ‰ä¸€äº›éšå¼çš„é”™è¯¯ã€‚ä¾‹å¦‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦<strong>æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«æˆåŠŸæ‰“å¼€å¹¶ä¸”è¢«è¯»å–</strong>ã€‚<code>file.is_open()</code>å°±æ˜¯è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚<code>cerr &lt;&lt; &quot;Error: Failed to open file!&quot; &lt;&lt; endl;</code> è¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯å‘æ ‡å‡†é”™è¯¯æµï¼ˆ<code>cerr</code>ï¼‰è¾“å‡ºä¸€æ¡é”™è¯¯ä¿¡æ¯ï¼Œè¡¨ç¤ºæ–‡ä»¶æ‰“å¼€å¤±è´¥ã€‚æ­¤æ—¶ç¨‹åºä¼šç›´æ¥ç»“æŸã€‚</p><h4 id="æµè¾“å…¥å’Œæµè¾“å‡ºè¿ç®—ç¬¦"><a href="#æµè¾“å…¥å’Œæµè¾“å‡ºè¿ç®—ç¬¦" class="headerlink" title="æµè¾“å…¥å’Œæµè¾“å‡ºè¿ç®—ç¬¦"></a>æµè¾“å…¥å’Œæµè¾“å‡ºè¿ç®—ç¬¦</h4><p><code>file &lt;&lt; dataToWrite;</code> è¿™è¡Œä»£ç çš„ä½œç”¨æ˜¯å°†æ•°æ®ï¼ˆ<code>dataToWrite</code>ï¼‰å†™å…¥åˆ°æ–‡ä»¶æµï¼ˆ<code>file</code>ï¼‰ä¸­ã€‚å®ƒæ˜¯ C++ ä¸­æµæ’å…¥è¿ç®—ç¬¦ï¼ˆ<code>&lt;&lt;</code>ï¼‰çš„å…¸å‹ç”¨æ³•ï¼Œç”¨äºå°†æ•°æ®<strong>è¾“å‡º</strong>åˆ°æ–‡ä»¶ã€‚</p><blockquote><p>ç”¨æ³•å’Œ<code>cout</code>æ²¡ä»€ä¹ˆåŒºåˆ«</p></blockquote><p>åŒç†ï¼Œä½¿ç”¨<code>&gt;&gt;</code>è¿ç®—ç¬¦ï¼Œå¯ä»¥å°†<strong>æ•°æ®è¾“å…¥åˆ°æ–‡ä»¶</strong>ä¸­ã€‚</p><h4 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h4><ul><li>å’Œ<code>cin/cout</code>ä¸€æ ·ï¼Œæ–‡ä»¶çš„è¾“å…¥è¾“å‡ºæµä¹Ÿæ˜¯<strong>å¿½ç•¥ç©ºç™½å­—ç¬¦çš„ï¼</strong>å¦‚æœæœ‰å¿…è¦ä¹Ÿå¯ä»¥å‘ä¸Šæ–‡çš„ç¨‹åºä¸€æ ·ä½¿ç”¨<code>getline()</code>ã€‚</li><li>ASCIIæ–‡ä»¶ä¹Ÿå¯ä»¥å†™å…¥å„ç§æ•°å­—å’Œå­—ç¬¦ä¸²ã€‚</li></ul>          </div><h3 id="Access-to-binary-files"><a href="#Access-to-binary-files" class="headerlink" title="Access to binary files"></a>Access to binary files</h3><p>åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰çš„æ–‡ä»¶è¾“å…¥å’Œè¯»å–éƒ½æ˜¯ä»¥<strong>å­—èŠ‚</strong>ä¸ºåŸºæœ¬å•ä½ï¼Œè¿™ä¸ASCIIçš„è¯»å–æœ‰å¾ˆå¤§çš„ä¸åŒã€‚ï¼ˆ<strong>ASCIIæ–‡ä»¶å¯ä»¥è¯»å–å„ç§ç±»å‹ï¼ŒåŒ…æ‹¬æ•´å‹å’Œæµ®ç‚¹å‹</strong>ï¼‰</p><p>ç”±äºåœ¨å†…å­˜ä¸­ï¼Œ<code>char</code>ç±»å‹çš„æ•°æ®éƒ½åªå 1ä¸ªå­—èŠ‚ï¼Œå› æ­¤ï¼Œåœ¨<strong>äºŒè¿›åˆ¶æ–‡ä»¶</strong>ä¸­ï¼Œè¾“å…¥è¾“å‡ºéƒ½éœ€è¦<strong>å¼ºåˆ¶è½¬æ¢ä¸ºcharç±»å‹æŒ‡é’ˆ</strong>åè¿›è¡Œæ“ä½œã€‚è¿™ä¸€ç‚¹ä¼šåœ¨åé¢çš„ä»£ç ç¤ºä¾‹ä¸­åšè¿›ä¸€æ­¥è§£é‡Šã€‚</p><h4 id="æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶"></a>æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶</h4><p>å¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ<code>fstream</code> æä¾›äº† <code>read</code> å’Œ <code>write</code> æ–¹æ³•ï¼Œç”¨äºç›´æ¥è¯»å†™äºŒè¿›åˆ¶æ•°æ®ã€‚</p><p>ä½¿ç”¨ <code>fstream</code> æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ï¼Œéœ€è¦æŒ‡å®šæ–‡ä»¶æ¨¡å¼ä¸º <code>ios::binary</code>ã€‚<strong>ä½¿ç”¨æ–¹å¼å’ŒASCIIæ–‡ä»¶æ²¡æœ‰åŒºåˆ«</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// æ‰“å¼€äºŒè¿›åˆ¶æ–‡ä»¶ç”¨äºå†™å…¥</span><br>    <span class="hljs-function">fstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;data.bin&quot;</span>, ios::out | ios::binary)</span></span>;<br><br>    <span class="hljs-keyword">if</span> (!file) &#123;<br>        cerr &lt;&lt; <span class="hljs-string">&quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// æ–‡ä»¶æ“ä½œ...</span><br><br>    file.<span class="hljs-built_in">close</span>(); <span class="hljs-comment">// å…³é—­æ–‡ä»¶</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h4 id="å†™å…¥äºŒè¿›åˆ¶æ•°æ®"><a href="#å†™å…¥äºŒè¿›åˆ¶æ•°æ®" class="headerlink" title="å†™å…¥äºŒè¿›åˆ¶æ•°æ®"></a><strong>å†™å…¥äºŒè¿›åˆ¶æ•°æ®</strong></h4><p>ä½¿ç”¨ <code>write</code> æ–¹æ³•å°†äºŒè¿›åˆ¶æ•°æ®å†™å…¥æ–‡ä»¶ã€‚<code>write</code> æ–¹æ³•çš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ostream&amp; <span class="hljs-title">write</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* buffer, streamsize size)</span></span>;<br></code></pre></td></tr></table></figure><ul><li><code>buffer</code>ï¼šæŒ‡å‘è¦å†™å…¥çš„æ•°æ®çš„æŒ‡é’ˆã€‚</li><li><code>size</code>ï¼šè¦å†™å…¥çš„å­—èŠ‚æ•°ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">fstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;data.bin&quot;</span>, ios::out | ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (!file) &#123;<br>        cerr &lt;&lt; <span class="hljs-string">&quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-type">int</span> data[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br>    file.<span class="hljs-built_in">write</span>(<span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">char</span>*&gt;(data), <span class="hljs-built_in">sizeof</span>(data)); <span class="hljs-comment">// å†™å…¥äºŒè¿›åˆ¶æ•°æ®</span><br><br>    file.<span class="hljs-built_in">close</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>reinterpret_cast</code> æ˜¯ C++ ä¸­çš„ä¸€ç§å¼ºåˆ¶ç±»å‹è½¬æ¢æ“ä½œç¬¦ã€‚å®ƒå¯ä»¥å°†ä»»æ„ç±»å‹çš„æŒ‡é’ˆè½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹çš„æŒ‡é’ˆï¼Œè€Œä¸æ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å®é™…æ•°æ®ã€‚å®ƒé€šå¸¸ç”¨äºä½çº§åˆ«çš„å†…å­˜æ“ä½œï¼Œä¾‹å¦‚å°† <code>int*</code> è½¬æ¢ä¸º <code>char*</code>ã€‚åœ¨è¿™é‡Œï¼Œ <code>data</code> çš„æŒ‡é’ˆç±»å‹è¢«è½¬æ¢ä¸º <code>char*</code> ç±»å‹ï¼Œä»¥ä¾¿å¯ä»¥æŒ‰å­—èŠ‚è®¿é—®æ•°æ®ã€‚</p><h4 id="è¯»å–äºŒè¿›åˆ¶æ•°æ®"><a href="#è¯»å–äºŒè¿›åˆ¶æ•°æ®" class="headerlink" title="è¯»å–äºŒè¿›åˆ¶æ•°æ®"></a><strong>è¯»å–äºŒè¿›åˆ¶æ•°æ®</strong></h4><p>ä½¿ç”¨ <code>read</code> æ–¹æ³•ä»äºŒè¿›åˆ¶æ–‡ä»¶ä¸­è¯»å–æ•°æ®ã€‚<code>read</code> æ–¹æ³•çš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">istream&amp; <span class="hljs-title">read</span><span class="hljs-params">(<span class="hljs-type">char</span>* buffer, streamsize size)</span></span>;<br></code></pre></td></tr></table></figure><ul><li><code>buffer</code>ï¼šæŒ‡å‘å­˜å‚¨è¯»å–æ•°æ®çš„ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚</li><li><code>size</code>ï¼šè¦è¯»å–çš„å­—èŠ‚æ•°ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">fstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;data.bin&quot;</span>, ios::in | ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (!file) &#123;<br>        cerr &lt;&lt; <span class="hljs-string">&quot;æ–‡ä»¶æ‰“å¼€å¤±è´¥ï¼&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-type">int</span> data[<span class="hljs-number">5</span>];<br>    file.<span class="hljs-built_in">read</span>(<span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">char</span>*&gt;(data), <span class="hljs-built_in">sizeof</span>(data)); <span class="hljs-comment">// è¯»å–äºŒè¿›åˆ¶æ•°æ®</span><br><br>    <span class="hljs-comment">// è¾“å‡ºè¯»å–çš„æ•°æ®</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; ++i) &#123;<br>        cout &lt;&lt; data[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    cout &lt;&lt; endl;<br><br>    file.<span class="hljs-built_in">close</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="File-Pointer"><a href="#File-Pointer" class="headerlink" title="File Pointer"></a>File Pointer</h3><p>åœ¨ä¸Šæ–‡çš„ä¸¤ç§è®¿é—®æ–¹å¼ä¸­ï¼Œæ— è®ºæ˜¯å¯¹ASCIIæ–‡ä»¶çš„è®¿é—®è¿˜æ˜¯å¯¹äºŒè¿›åˆ¶æ–‡ä»¶çš„è®¿é—®ï¼Œéƒ½æ˜¯<strong>é¡ºåºè®¿é—®</strong>ï¼Œå³æ‰«æä¸€éæ–‡ä»¶è¿›è¡Œå†™å…¥æˆ–è¾“å‡ºç­‰æ“ä½œã€‚ä½†æ˜¯ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ çµæ´»ä¸”é«˜æ•ˆçš„æ–‡ä»¶è®¿é—®æ“ä½œï¼šä¾‹å¦‚<strong>åªæ‰«ææ–‡ä»¶çš„ç‰¹å®šéƒ¨åˆ†</strong>æˆ–è€…<strong>è‡ªå®šä¹‰æ‰«ææ–‡ä»¶çš„é¡ºåº</strong>ã€‚æ¢å¥è¯ï¼Œæˆ‘ä»¬éœ€è¦ç¨‹åºèƒ½å¤Ÿè‡ªä¸»æ§åˆ¶<strong>æ“ä½œä½ç½®çš„ç§»åŠ¨</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦<strong>æ–‡ä»¶æŒ‡é’ˆ</strong>ã€‚</p><p><strong>æ–‡ä»¶æŒ‡é’ˆ</strong>æ˜¯ç”¨äºæ ‡è¯†æ–‡ä»¶ä¸­å½“å‰ä½ç½®çš„ä¸€ä¸ªæ ‡è®°ï¼Œå®ƒæŒ‡ç¤ºäº†ä¸‹ä¸€ä¸ªè¯»å–æˆ–å†™å…¥æ“ä½œå°†ä»æ–‡ä»¶çš„å“ªä¸ªä½ç½®å¼€å§‹ã€‚æ–‡ä»¶æŒ‡é’ˆçš„æ¦‚å¿µåœ¨æ–‡ä»¶æ“ä½œä¸­éå¸¸é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨<strong>éšæœºè®¿é—®æ–‡ä»¶</strong>æ—¶ã€‚</p><p>åœ¨ C++ ä¸­ï¼Œæ–‡ä»¶æŒ‡é’ˆçš„æ“ä½œä¸»è¦é€šè¿‡ä»¥ä¸‹å‡½æ•°å®ç°ï¼š</p><ol><li><strong>ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆ</strong></li></ol><ul><li><p><code>seekg</code>ï¼šç”¨äºè¾“å…¥æµï¼Œç§»åŠ¨è¯»å–æŒ‡é’ˆã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">istream&amp; <span class="hljs-title">seekg</span> <span class="hljs-params">(streampos pos)</span></span>; <span class="hljs-comment">// ç§»åŠ¨åˆ°ç»å¯¹ä½ç½®</span><br><span class="hljs-function">istream&amp; <span class="hljs-title">seekg</span> <span class="hljs-params">(streamoff off, ios_base::seekdir way)</span></span>; <span class="hljs-comment">// ç§»åŠ¨åˆ°ç›¸å¯¹ä½ç½®</span><br></code></pre></td></tr></table></figure></li><li><p><code>seekp</code>ï¼šç”¨äºè¾“å‡ºæµï¼Œç§»åŠ¨å†™å…¥æŒ‡é’ˆã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ostream&amp; <span class="hljs-title">seekp</span> <span class="hljs-params">(streampos pos)</span></span>; <span class="hljs-comment">// ç§»åŠ¨åˆ°ç»å¯¹ä½ç½®</span><br><span class="hljs-function">ostream&amp; <span class="hljs-title">seekp</span> <span class="hljs-params">(streamoff off, ios_base::seekdir way)</span></span>; <span class="hljs-comment">// ç§»åŠ¨åˆ°ç›¸å¯¹ä½ç½®</span><br></code></pre></td></tr></table></figure></li></ul><ol start="2"><li><strong>è·å–æ–‡ä»¶æŒ‡é’ˆä½ç½®</strong></li></ol><ul><li><p><code>tellg</code>ï¼šç”¨äºè¾“å…¥æµï¼Œè¿”å›å½“å‰è¯»å–æŒ‡é’ˆçš„ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">streampos <span class="hljs-title">tellg</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure></li><li><p><code>tellp</code>ï¼šç”¨äºè¾“å‡ºæµï¼Œè¿”å›å½“å‰å†™å…¥æŒ‡é’ˆçš„ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">streampos <span class="hljs-title">tellp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure></li></ul><blockquote><p><code>streampos</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­ç”¨äºè¡¨ç¤º<strong>æµä½ç½®</strong>çš„æ•°æ®ç±»å‹ã€‚å®ƒé€šå¸¸ç”¨äºæ ‡è¯†æ–‡ä»¶æµï¼ˆå¦‚ <code>ifstream</code>ã€<code>ofstream</code> ç­‰ï¼‰ä¸­çš„ä½ç½®ï¼Œä¾‹å¦‚æ–‡ä»¶æŒ‡é’ˆçš„ä½ç½®ã€‚<code>streampos</code> æ˜¯ä¸€ä¸ªä¸å¹³å°ç›¸å…³çš„ç±»å‹ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªæ•´æ•°ç±»å‹ï¼ˆå¦‚ <code>long</code> æˆ– <code>long long</code>ï¼‰ï¼Œç”¨äºè¡¨ç¤ºä»æ–‡ä»¶å¼€å¤´åˆ°æŸä¸ªä½ç½®çš„å­—èŠ‚åç§»é‡ã€‚</p></blockquote><h4 id="seekgå’Œseekp"><a href="#seekgå’Œseekp" class="headerlink" title="seekgå’Œseekp"></a><code>seekg</code>å’Œ<code>seekp</code></h4><p>ä½¿ç”¨ <code>seekg</code> å’Œ <code>seekp</code> å¯ä»¥ç§»åŠ¨æ–‡ä»¶æŒ‡é’ˆï¼Œåˆ†åˆ«ç”¨äºè¯»å–å’Œå†™å…¥æ“ä½œã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">file.<span class="hljs-built_in">seekg</span>(<span class="hljs-number">0</span>, ios::beg); <span class="hljs-comment">// å°†è¯»å–æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´</span><br>file.<span class="hljs-built_in">seekp</span>(<span class="hljs-number">0</span>, ios::end); <span class="hljs-comment">// å°†å†™å…¥æŒ‡é’ˆç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p><code>seekg</code> å’Œ <code>seekp</code> æ˜¯ C++ ä¸­ç”¨äºæ–‡ä»¶æµå®šä½çš„æˆå‘˜å‡½æ•°ï¼Œåˆ†åˆ«ç”¨äºè¾“å…¥æµå’Œè¾“å‡ºæµã€‚å®ƒä»¬å…è®¸ä½ åœ¨æ–‡ä»¶ä¸­ç§»åŠ¨è¯»å–æˆ–å†™å…¥çš„ä½ç½®ã€‚</p><p><code>seekg</code> ç”¨äºè¾“å…¥æµï¼ˆå¦‚ <code>ifstream</code>ï¼‰ï¼Œç”¨äºè®¾ç½®æ–‡ä»¶è¯»å–ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">istream&amp; <span class="hljs-title">seekg</span> <span class="hljs-params">(streampos pos)</span></span>;<br><span class="hljs-function">istream&amp; <span class="hljs-title">seekg</span> <span class="hljs-params">(streamoff off, ios_base::seekdir way)</span></span>;<br></code></pre></td></tr></table></figure><ul><li><code>pos</code>ï¼šç»å¯¹ä½ç½®ï¼Œè¡¨ç¤ºä»æ–‡ä»¶å¼€å¤´åˆ°è¯¥ä½ç½®çš„å­—èŠ‚æ•°ã€‚</li><li><code>off</code>ï¼šåç§»é‡ï¼Œè¡¨ç¤ºç›¸å¯¹äº <code>way</code> çš„å­—èŠ‚æ•°ã€‚</li><li><code>way</code>ï¼šåŸºå‡†ä½ç½®ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š<ul><li><code>ios_base::beg</code>ï¼šæ–‡ä»¶å¼€å¤´ã€‚</li><li><code>ios_base::cur</code>ï¼šå½“å‰ä½ç½®ã€‚</li><li><code>ios_base::end</code>ï¼šæ–‡ä»¶æœ«å°¾ã€‚</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">std::ifstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>, std::ios::in | std::ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (file) &#123;<br>        file.<span class="hljs-built_in">seekg</span>(<span class="hljs-number">10</span>, std::ios::beg); <span class="hljs-comment">// ä»æ–‡ä»¶å¼€å¤´ç§»åŠ¨10ä¸ªå­—èŠ‚</span><br>        <span class="hljs-type">char</span> buffer[<span class="hljs-number">20</span>];<br>        file.<span class="hljs-built_in">read</span>(buffer, <span class="hljs-number">20</span>); <span class="hljs-comment">// è¯»å–20ä¸ªå­—èŠ‚</span><br>        std::cout.<span class="hljs-built_in">write</span>(buffer, <span class="hljs-number">20</span>);<br>        file.<span class="hljs-built_in">close</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>seekp</code> ç”¨äºè¾“å‡ºæµï¼ˆå¦‚ <code>ofstream</code>ï¼‰ï¼Œç”¨äºè®¾ç½®æ–‡ä»¶å†™å…¥ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ostream&amp; <span class="hljs-title">seekp</span> <span class="hljs-params">(streampos pos)</span></span>;<br><span class="hljs-function">ostream&amp; <span class="hljs-title">seekp</span> <span class="hljs-params">(streamoff off, ios_base::seekdir way)</span></span>;<br></code></pre></td></tr></table></figure><ul><li><code>pos</code>ï¼šç»å¯¹ä½ç½®ï¼Œè¡¨ç¤ºä»æ–‡ä»¶å¼€å¤´åˆ°è¯¥ä½ç½®çš„å­—èŠ‚æ•°ã€‚</li><li><code>off</code>ï¼šåç§»é‡ï¼Œè¡¨ç¤ºç›¸å¯¹äº <code>way</code> çš„å­—èŠ‚æ•°ã€‚</li><li><code>way</code>ï¼šåŸºå‡†ä½ç½®ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š<ul><li><code>ios_base::beg</code>ï¼šæ–‡ä»¶å¼€å¤´ã€‚</li><li><code>ios_base::cur</code>ï¼šå½“å‰ä½ç½®ã€‚</li><li><code>ios_base::end</code>ï¼šæ–‡ä»¶æœ«å°¾ã€‚</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">std::ofstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>, std::ios::out | std::ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (file) &#123;<br>        file.<span class="hljs-built_in">seekp</span>(<span class="hljs-number">10</span>, std::ios::beg); <span class="hljs-comment">// ä»æ–‡ä»¶å¼€å¤´ç§»åŠ¨10ä¸ªå­—èŠ‚</span><br>        file.<span class="hljs-built_in">write</span>(<span class="hljs-string">&quot;Hello, World!&quot;</span>, <span class="hljs-number">13</span>); <span class="hljs-comment">// å†™å…¥13ä¸ªå­—èŠ‚</span><br>        file.<span class="hljs-built_in">close</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>          </div><h4 id="tellgå’Œtellp"><a href="#tellgå’Œtellp" class="headerlink" title="tellgå’Œtellp"></a><code>tellg</code>å’Œ<code>tellp</code></h4><p><code>tellp</code> å’Œ <code>tellg</code> æ˜¯ C++ ä¸­ç”¨äºæ–‡ä»¶æµä½ç½®æ“ä½œçš„æˆå‘˜å‡½æ•°ï¼Œåˆ†åˆ«ç”¨äºè¾“å‡ºæµå’Œè¾“å…¥æµã€‚å®ƒä»¬çš„ä½œç”¨æ˜¯è¿”å›å½“å‰æ–‡ä»¶æŒ‡é’ˆçš„ä½ç½®ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚</p><p><code>tellg</code> ç”¨äºè¾“å…¥æµï¼ˆå¦‚ <code>ifstream</code>ï¼‰ï¼Œè¿”å›å½“å‰è¯»å–ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">streampos <span class="hljs-title">tellg</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure><ul><li>è¿”å›ä¸€ä¸ª <code>streampos</code> ç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰è¯»å–ä½ç½®ï¼ˆä»æ–‡ä»¶å¼€å¤´çš„å­—èŠ‚åç§»é‡ï¼‰ã€‚</li><li>å¦‚æœå¤±è´¥ï¼Œè¿”å› <code>-1</code>ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">std::ifstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>, std::ios::in | std::ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (file) &#123;<br>        file.<span class="hljs-built_in">seekg</span>(<span class="hljs-number">10</span>, std::ios::beg); <span class="hljs-comment">// ç§»åŠ¨è¯»å–ä½ç½®åˆ°ç¬¬10å­—èŠ‚</span><br>        std::streampos pos = file.<span class="hljs-built_in">tellg</span>(); <span class="hljs-comment">// è·å–å½“å‰è¯»å–ä½ç½®</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Current read position: &quot;</span> &lt;&lt; pos &lt;&lt; std::endl;<br>        file.<span class="hljs-built_in">close</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>tellp</code> ç”¨äºè¾“å‡ºæµï¼ˆå¦‚ <code>ofstream</code>ï¼‰ï¼Œè¿”å›å½“å‰å†™å…¥ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">streampos <span class="hljs-title">tellp</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure><ul><li>è¿”å›ä¸€ä¸ª <code>streampos</code> ç±»å‹çš„å€¼ï¼Œè¡¨ç¤ºå½“å‰å†™å…¥ä½ç½®ï¼ˆä»æ–‡ä»¶å¼€å¤´çš„å­—èŠ‚åç§»é‡ï¼‰ã€‚</li><li>å¦‚æœå¤±è´¥ï¼Œè¿”å› <code>-1</code>ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">std::ofstream <span class="hljs-title">file</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>, std::ios::out | std::ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (file) &#123;<br>        file.<span class="hljs-built_in">seekp</span>(<span class="hljs-number">20</span>, std::ios::beg); <span class="hljs-comment">// ç§»åŠ¨å†™å…¥ä½ç½®åˆ°ç¬¬20å­—èŠ‚</span><br>        std::streampos pos = file.<span class="hljs-built_in">tellp</span>(); <span class="hljs-comment">// è·å–å½“å‰å†™å…¥ä½ç½®</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Current write position: &quot;</span> &lt;&lt; pos &lt;&lt; std::endl;<br>        file.<span class="hljs-built_in">close</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç»¼åˆç¤ºä¾‹"><a href="#ç»¼åˆç¤ºä¾‹" class="headerlink" title="ç»¼åˆç¤ºä¾‹"></a>ç»¼åˆç¤ºä¾‹</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// å†™å…¥æ•°æ®åˆ°æ–‡ä»¶</span><br>    <span class="hljs-function">std::ofstream <span class="hljs-title">outFile</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>, std::ios::out | std::ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (outFile) &#123;<br>        outFile &lt;&lt; <span class="hljs-string">&quot;Hello, World!&quot;</span>; <span class="hljs-comment">// å†™å…¥å­—ç¬¦ä¸²</span><br>        std::streampos writePos = outFile.<span class="hljs-built_in">tellp</span>(); <span class="hljs-comment">// è·å–å½“å‰å†™å…¥ä½ç½®</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Write position after writing: &quot;</span> &lt;&lt; writePos &lt;&lt; std::endl;<br>        outFile.<span class="hljs-built_in">close</span>();<br>    &#125;<br><br>    <span class="hljs-comment">// è¯»å–æ•°æ®ä»æ–‡ä»¶</span><br>    <span class="hljs-function">std::ifstream <span class="hljs-title">inFile</span><span class="hljs-params">(<span class="hljs-string">&quot;example.txt&quot;</span>, std::ios::in | std::ios::binary)</span></span>;<br>    <span class="hljs-keyword">if</span> (inFile) &#123;<br>        inFile.<span class="hljs-built_in">seekg</span>(<span class="hljs-number">0</span>, std::ios::end); <span class="hljs-comment">// ç§»åŠ¨è¯»å–ä½ç½®åˆ°æ–‡ä»¶æœ«å°¾</span><br>        std::streampos endPos = inFile.<span class="hljs-built_in">tellg</span>(); <span class="hljs-comment">// è·å–æ–‡ä»¶å¤§å°</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;File size: &quot;</span> &lt;&lt; endPos &lt;&lt; <span class="hljs-string">&quot; bytes&quot;</span> &lt;&lt; std::endl;<br><br>        inFile.<span class="hljs-built_in">seekg</span>(<span class="hljs-number">0</span>, std::ios::beg); <span class="hljs-comment">// ç§»åŠ¨è¯»å–ä½ç½®åˆ°æ–‡ä»¶å¼€å¤´</span><br>        <span class="hljs-type">char</span> buffer[<span class="hljs-number">100</span>];<br>        inFile.<span class="hljs-built_in">read</span>(buffer, endPos); <span class="hljs-comment">// è¯»å–æ•´ä¸ªæ–‡ä»¶</span><br>        buffer[endPos] = <span class="hljs-string">&#x27;\0&#x27;</span>; <span class="hljs-comment">// æ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;File content: &quot;</span> &lt;&lt; buffer &lt;&lt; std::endl;<br>        inFile.<span class="hljs-built_in">close</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Stream-based-files"><a href="#Stream-based-files" class="headerlink" title="Stream-based files"></a>Stream-based files</h3><p>è¿™ä¸€éƒ¨åˆ†çš„å†…å®¹ç¬”è€…å°†ä¼šå•ç‹¬æ‹‰å‡ºæ¥æ›´æ–°ä¸€æœŸï¼Œæ•¬è¯·æœŸå¾…ã€‚</p><h2 id="String-based-input-and-output"><a href="#String-based-input-and-output" class="headerlink" title="String-based input and output"></a>String-based input and output</h2><p>åœ¨ C++ ç¼–ç¨‹ä¸­ï¼Œå¤„ç†å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„è½¬æ¢æ˜¯ä¸€é¡¹å¸¸è§çš„ä»»åŠ¡ã€‚</p><p><code>sstream</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼æ¥å¤„ç†å­—ç¬¦ä¸²æµï¼ˆå¯ä»¥åƒå¤„ç†æµä¸€æ ·å¤„ç†å­—ç¬¦ä¸²ï¼‰ã€‚<code>&lt;sstream&gt;</code> å…è®¸ä½ å°†å­—ç¬¦ä¸²å½“ä½œè¾“å…¥&#x2F;è¾“å‡ºæµæ¥ä½¿ç”¨ï¼Œè¿™ä½¿å¾—ä»å­—ç¬¦ä¸²ä¸­è¯»å–æ•°æ®æˆ–å°†æ•°æ®å†™å…¥å­—ç¬¦ä¸²å˜å¾—éå¸¸ç®€å•ã€‚</p><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p><code>sstream</code>æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªå‘½åç©ºé—´ï¼Œå®ƒåŒ…å«äº†å‡ ä¸ªç±»ï¼Œç”¨äºå¤„ç†å­—ç¬¦ä¸²æµï¼Œè¿™äº›ç±»åŒ…æ‹¬ï¼š</p><ul><li><code>istringstream</code>ï¼šç”¨äºä»å­—ç¬¦ä¸²ä¸­è¯»å–æ•°æ®ã€‚</li><li><code>ostringstream</code>ï¼šç”¨äºå°†æ•°æ®å†™å…¥å­—ç¬¦ä¸²ã€‚</li><li><code>stringstream</code>ï¼šæ˜¯<code>istringstream</code>å’Œ<code>ostringstream</code>çš„ç»„åˆï¼Œå¯ä»¥åŒæ—¶è¿›è¡Œè¯»å–å’Œå†™å…¥æ“ä½œã€‚</li></ul><h3 id="Grammar"><a href="#Grammar" class="headerlink" title="Grammar"></a>Grammar</h3><p>ä½¿ç”¨<code>sstream</code>çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-comment">// ä½¿ç”¨istringstream</span><br><span class="hljs-function">std::istringstream <span class="hljs-title">iss</span><span class="hljs-params">(<span class="hljs-string">&quot;some data&quot;</span>)</span></span>;<br><br><span class="hljs-comment">// ä½¿ç”¨ostringstream</span><br>std::ostringstream oss;<br><br><span class="hljs-comment">// ä½¿ç”¨stringstream</span><br>std::stringstream ss;<br></code></pre></td></tr></table></figure><h4 id="ä»å­—ç¬¦ä¸²è¯»å–æ•°æ®"><a href="#ä»å­—ç¬¦ä¸²è¯»å–æ•°æ®" class="headerlink" title="ä»å­—ç¬¦ä¸²è¯»å–æ•°æ®"></a>ä»å­—ç¬¦ä¸²è¯»å–æ•°æ®</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>istringstream</code> ä»å­—ç¬¦ä¸²ä¸­è¯»å–æ•´æ•°å’Œæµ®ç‚¹æ•°çš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>  std::string data = <span class="hljs-string">&quot;10 20.5&quot;</span>;<br>  <span class="hljs-function">std::istringstream <span class="hljs-title">iss</span><span class="hljs-params">(data)</span></span>;<br><br>  <span class="hljs-type">int</span> i;<br>  <span class="hljs-type">double</span> d;<br><br>  iss &gt;&gt; i &gt;&gt; d;<br><br>  std::cout &lt;&lt; <span class="hljs-string">&quot;Integer: &quot;</span> &lt;&lt; i &lt;&lt; std::endl;<br>  std::cout &lt;&lt; <span class="hljs-string">&quot;Double: &quot;</span> &lt;&lt; d &lt;&lt; std::endl;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºç»“æœï¼š</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Integer</span>: <span class="hljs-number">10</span><br><span class="hljs-attribute">Double</span>: <span class="hljs-number">20</span>.<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h4 id="å‘å­—ç¬¦ä¸²å†™å…¥æ•°æ®"><a href="#å‘å­—ç¬¦ä¸²å†™å…¥æ•°æ®" class="headerlink" title="å‘å­—ç¬¦ä¸²å†™å…¥æ•°æ®"></a>å‘å­—ç¬¦ä¸²å†™å…¥æ•°æ®</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>ostringstream</code> å°†æ•°æ®å†™å…¥å­—ç¬¦ä¸²çš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>  std::ostringstream oss;<br>  <span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<br>  <span class="hljs-type">double</span> d = <span class="hljs-number">200.5</span>;<br><br>  oss &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; d;<br><br>  std::string result = oss.<span class="hljs-built_in">str</span>();<br>  std::cout &lt;&lt; <span class="hljs-string">&quot;Resulting string: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºç»“æœï¼š</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Resulting</span> string: <span class="hljs-number">100</span> <span class="hljs-number">200</span>.<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨stringstreamè¿›è¡Œè¯»å†™æ“ä½œ"><a href="#ä½¿ç”¨stringstreamè¿›è¡Œè¯»å†™æ“ä½œ" class="headerlink" title="ä½¿ç”¨stringstreamè¿›è¡Œè¯»å†™æ“ä½œ"></a>ä½¿ç”¨stringstreamè¿›è¡Œè¯»å†™æ“ä½œ</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨ <code>stringstream</code> åŒæ—¶è¿›è¡Œè¯»å–å’Œå†™å…¥æ“ä½œçš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>  std::string data = <span class="hljs-string">&quot;30 40.5&quot;</span>;<br>  <span class="hljs-function">std::stringstream <span class="hljs-title">ss</span><span class="hljs-params">(data)</span></span>;<br><br>  <span class="hljs-type">int</span> i;<br>  <span class="hljs-type">double</span> d;<br><br>  <span class="hljs-comment">// ä»stringstreamè¯»å–æ•°æ®</span><br>  ss &gt;&gt; i &gt;&gt; d;<br><br>  std::cout &lt;&lt; <span class="hljs-string">&quot;Read Integer: &quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot;, Double: &quot;</span> &lt;&lt; d &lt;&lt; std::endl;<br><br>  <span class="hljs-comment">// å‘stringstreamå†™å…¥æ•°æ®</span><br>  ss.<span class="hljs-built_in">str</span>(<span class="hljs-string">&quot;&quot;</span>); <span class="hljs-comment">// æ¸…ç©ºstringstream</span><br>  ss &lt;&lt; <span class="hljs-string">&quot;New data: &quot;</span> &lt;&lt; <span class="hljs-number">50</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; <span class="hljs-number">60.7</span>;<br><br>  std::string newData = ss.<span class="hljs-built_in">str</span>();<br>  <span class="hljs-comment">//ä½¿ç”¨str()æ¥å®ç°å­—ç¬¦ä¸²çš„å†™å…¥ã€‚</span><br>  std::cout &lt;&lt; <span class="hljs-string">&quot;New data string: &quot;</span> &lt;&lt; newData &lt;&lt; std::endl;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºç»“æœï¼š</strong></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Read</span> Integer: <span class="hljs-number">30</span>, Double: <span class="hljs-number">40</span>.<span class="hljs-number">5</span><br><span class="hljs-attribute">New</span> data string: New data: <span class="hljs-number">50</span> <span class="hljs-number">60</span>.<span class="hljs-number">7</span><br></code></pre></td></tr></table></figure><p>ä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    stringstream input;<br>    input&lt;&lt;<span class="hljs-string">&quot;hello world&quot;</span>;<br>    string a,b;<br>    input&gt;&gt;a&gt;&gt;b;<br>    cout&lt;&lt;a&lt;&lt;endl;<br>    cout&lt;&lt;b&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²ä¸­çš„str"><a href="#å­—ç¬¦ä¸²ä¸­çš„str" class="headerlink" title="å­—ç¬¦ä¸²ä¸­çš„str()"></a>å­—ç¬¦ä¸²ä¸­çš„<code>str()</code></h3><p><code>std::stringstream</code> ç±»æä¾›äº†ä¸€ä¸ªåä¸º <code>str</code> çš„æˆå‘˜å‡½æ•°ï¼Œç”¨äº<strong>è·å–å’Œè®¾ç½®æµä¸­çš„å­—ç¬¦ä¸²å†…å®¹</strong>ã€‚è¿™ä¸ªå‡½æ•°æœ‰ä¸¤ä¸ªé‡è½½ç‰ˆæœ¬ï¼Œä¸€ä¸ªæ˜¯æ— å‚çš„ï¼Œç”¨äºè·å–æµä¸­çš„å­—ç¬¦ä¸²å†…å®¹ï¼›å¦ä¸€ä¸ªæ˜¯å¸¦ä¸€ä¸ª <code>std::string</code> å‚æ•°çš„ï¼Œç”¨äºè®¾ç½®æµä¸­çš„å­—ç¬¦ä¸²å†…å®¹ã€‚</p><h5 id="è·å–å­—ç¬¦ä¸²å†…å®¹"><a href="#è·å–å­—ç¬¦ä¸²å†…å®¹" class="headerlink" title="è·å–å­—ç¬¦ä¸²å†…å®¹"></a>è·å–å­—ç¬¦ä¸²å†…å®¹</h5><p>å½“ä½ è°ƒç”¨æ— å‚çš„ <code>str</code> å‡½æ•°æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª <code>std::string</code>ï¼ŒåŒ…å«å½“å‰æµä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::stringstream ss;<br>    ss &lt;&lt; <span class="hljs-string">&quot;Hello, &quot;</span> &lt;&lt; <span class="hljs-string">&quot;world!&quot;</span>;<br>    std::string result = ss.<span class="hljs-built_in">str</span>(); <span class="hljs-comment">// è·å–æµä¸­çš„å†…å®¹</span><br>    std::cout &lt;&lt; result &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º: Hello, world!</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="è®¾ç½®å­—ç¬¦ä¸²å†…å®¹"><a href="#è®¾ç½®å­—ç¬¦ä¸²å†…å®¹" class="headerlink" title="è®¾ç½®å­—ç¬¦ä¸²å†…å®¹"></a>è®¾ç½®å­—ç¬¦ä¸²å†…å®¹</h5><p>å½“ä½ è°ƒç”¨å¸¦ <code>std::string</code> å‚æ•°çš„ <code>str</code> å‡½æ•°æ—¶ï¼Œå®ƒä¼šè®¾ç½®æµçš„å†…å®¹ä¸ºæŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå¹¶æ¸…é™¤ä¹‹å‰çš„å†…å®¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::stringstream ss;<br>    ss &lt;&lt; <span class="hljs-string">&quot;Initial content.&quot;</span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Before: &quot;</span> &lt;&lt; ss.<span class="hljs-built_in">str</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º: Before: Initial content.</span><br><br>    ss.<span class="hljs-built_in">str</span>(<span class="hljs-string">&quot;New content.&quot;</span>); <span class="hljs-comment">// è®¾ç½®æ–°çš„å†…å®¹</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;After: &quot;</span> &lt;&lt; ss.<span class="hljs-built_in">str</span>() &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º: After: New content.</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="ç»“åˆä½¿ç”¨-str-å’Œ-clear-æ–¹æ³•"><a href="#ç»“åˆä½¿ç”¨-str-å’Œ-clear-æ–¹æ³•" class="headerlink" title="ç»“åˆä½¿ç”¨ str å’Œ clear æ–¹æ³•"></a>ç»“åˆä½¿ç”¨ <code>str</code> å’Œ <code>clear</code> æ–¹æ³•</h5><p>åœ¨é‡ç”¨ <code>std::stringstream</code> å¯¹è±¡æ—¶ï¼Œé€šå¸¸ä¼šç»“åˆä½¿ç”¨ <code>str</code> æ–¹æ³•å’Œ <code>clear</code> æ–¹æ³•ã€‚<code>str</code> æ–¹æ³•ç”¨äºè®¾ç½®æ–°çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œè€Œ <code>clear</code> æ–¹æ³•ç”¨äºé‡ç½®æµçš„çŠ¶æ€ï¼ˆä¾‹å¦‚ï¼Œæ¸…é™¤é”™è¯¯æ ‡å¿—ï¼‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::stringstream ss;<br>    ss &lt;&lt; <span class="hljs-string">&quot;123 456&quot;</span>;<br>    <span class="hljs-type">int</span> a, b;<br>    ss &gt;&gt; a &gt;&gt; b;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;a: &quot;</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;, b: &quot;</span> &lt;&lt; b &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º: a: 123, b: 456</span><br><br>    ss.<span class="hljs-built_in">clear</span>(); <span class="hljs-comment">// é‡ç½®æµçš„çŠ¶æ€</span><br>    <span class="hljs-comment">//é‡ç½®æµçš„çŠ¶æ€æ„å‘³ç€æ¸…é™¤æµçš„çŠ¶æ€æ ‡å¿—ï¼ˆå¦‚é”™è¯¯æ ‡å¿—ã€ç»“æŸæ ‡å¿—ç­‰ï¼‰ï¼Œä½†å¹¶ä¸æ”¹å˜æµçš„å†…éƒ¨ç¼“å†²åŒºçš„å†…å®¹ã€‚æ¢å¥è¯è¯´ï¼Œé‡ç½®çŠ¶æ€è®©æµæ¢å¤åˆ°ä¸€ä¸ªå¹²å‡€çš„çŠ¶æ€ï¼Œä½†åŸæœ‰æ•°æ®ä»ç„¶ä¿ç•™ã€‚</span><br>    ss.<span class="hljs-built_in">str</span>(<span class="hljs-string">&quot;&quot;</span>); <span class="hljs-comment">// æ¸…ç©ºæµçš„å†…å®¹</span><br><br>    ss &lt;&lt; <span class="hljs-string">&quot;789 1011&quot;</span>;<br>    ss &gt;&gt; a &gt;&gt; b;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;a: &quot;</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;, b: &quot;</span> &lt;&lt; b &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º: a: 789, b: 1011</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><ul><li><code>str()</code>ï¼šæ— å‚ç‰ˆæœ¬ç”¨äºè·å–æµä¸­çš„å­—ç¬¦ä¸²å†…å®¹ã€‚</li><li><code>str(const std::string &amp;s)</code>ï¼šå¸¦å‚æ•°ç‰ˆæœ¬ç”¨äºè®¾ç½®æµä¸­çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œå¹¶æ¸…é™¤ä¹‹å‰çš„å†…å®¹ã€‚</li></ul><p>é€šè¿‡ä½¿ç”¨ <code>str</code> æ–¹æ³•ï¼Œä½ å¯ä»¥æ–¹ä¾¿åœ°è·å–å’Œè®¾ç½® <code>std::stringstream</code> å¯¹è±¡ä¸­çš„å­—ç¬¦ä¸²å†…å®¹ï¼Œä»è€Œå®ç°çµæ´»çš„å­—ç¬¦ä¸²æ“ä½œã€‚</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><ul><li>åŸºäºæ§åˆ¶å°çš„è¾“å…¥è¾“å‡º</li><li>åŸºäºæ–‡ä»¶çš„è¾“å…¥è¾“å‡º</li><li>åŸºäºå­—ç¬¦ä¸²çš„è¾“å…¥è¾“å‡º</li></ul><blockquote><p>è¿™ä¸€å—çš„çŸ¥è¯†ç¡®å®æ˜¯æœ‰ä¸€ç‚¹å†—æ‚çš„<del>å­¦ä¼šcin&#x2F;coutå…¶å®å°±å¯ä»¥è§£å†³å¤§éƒ¨åˆ†çš„è¾“å…¥è¾“å‡ºé—®é¢˜äº†ã€‚å»ºè®®æœ¬ç« èŠ‚å¯ä»¥åœ¨å®è·µä¸­å­¦ä¹ ï¼Œæ•ˆæœæ›´ä½³</del></p></blockquote><div class="note note-info">            <p><strong>è‡³æ­¤ï¼Œç¬”è€…æœ‰å…³C++è¯­æ³•ä¸“é¢˜çš„æ‰€æœ‰å†…å®¹å…¨éƒ¨æ›´æ–°å®Œæˆå•¦ï¼ï¼ï¼å®Œç»“æ’’èŠ±ï¼ï¼ï¼</strong></p><p>æ¢³ç†ä¸€ä¸‹å¤§æ¦‚æ›´æ–°äº†äº›å•¥ï¼š</p><ul><li>é¢å‘å¯¹è±¡ç¼–ç¨‹â€”â€”C++ Primer Plusä¸“é¢˜<ul><li><a href="https://xiyuanyang-code.github.io/posts/Introduction-to-OOP/">OOPå…¥é—¨</a></li><li><a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">ç±»å’ŒåŠ¨æ€å†…å­˜åˆ†é…</a></li><li><a href="https://xiyuanyang-code.github.io/posts/Class-Inheritance/">ç±»çš„ç»§æ‰¿</a></li><li><a href="https://xiyuanyang-code.github.io/posts/Code-Reuse-in-OOP/">ä»£ç é‡ç”¨å’Œé«˜é˜¶æŠ€å·§</a></li></ul></li><li><a href="https://xiyuanyang-code.github.io/posts/Linked-List-Implementation-Based-on-Structs/">åŸºäºç»“æ„ä½“çš„é“¾è¡¨å®ç°ä»£ç </a></li><li><a href="https://xiyuanyang-code.github.io/posts/Exception-Handling-in-C-plus-plus/">C++ä¸­çš„å¼‚å¸¸å¤„ç†</a></li><li><a href="https://xiyuanyang-code.github.io/posts/Pointers-Arrays-and-Functions/">æ•°ç»„â€”â€”æŒ‡é’ˆâ€”â€”å‡½æ•°</a></li><li><a href="https://xiyuanyang-code.github.io/posts/Input-and-Output-in-C-plus-plus/">C++ä¸­çš„è¾“å…¥è¾“å‡º</a></li></ul><p><strong>åç»­ï¼Œç¬”è€…å°†ä¼šæŠŠæ›´æ–°çš„é‡ç‚¹æ”¾åœ¨æ•°æ®ç»“æ„å’Œç®—æ³•ä»¥åŠPythonè¯­æ³•å’Œä¸“ä¸šåŸºç¡€è¯¾ä¸Šï¼Œæ•¬è¯·æœŸå¾…~</strong></p>          </div><blockquote><p>THE END</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>IO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataStructure-Stack</title>
    <link href="/posts/DataStructure-Stack/"/>
    <url>/posts/DataStructure-Stack/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®ç»“æ„â€”â€”æ ˆ"><a href="#æ•°æ®ç»“æ„â€”â€”æ ˆ" class="headerlink" title="æ•°æ®ç»“æ„â€”â€”æ ˆ"></a>æ•°æ®ç»“æ„â€”â€”æ ˆ</h1><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p><strong>æ ˆï¼ˆStackï¼‰</strong>æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œåœ¨è¿™ç§çº¿æ€§è¡¨ä¸­ï¼Œ<strong>æ’å…¥å’Œåˆ é™¤è¿ç®—é™åˆ¶åœ¨è¡¨çš„æŸä¸€ç«¯è¿›è¡Œ</strong>ã€‚<strong>è¿›è¡Œæ’å…¥å’Œåˆ é™¤ çš„ä¸€æ®µå«æ ˆé¡¶</strong>ï¼Œå¦ä¸€ç«¯ç§°ä¸º<strong>æ ˆåº•</strong>ã€‚</p><p><strong>æ ˆ</strong>çš„æœ€é‡è¦çš„æ€§è´¨æ˜¯**åè¿›å…ˆå‡º(Last in, first out LIFO)**ï¼Œå³ä½äºæ ˆé¡¶çš„å…ƒç´ ç›¸å½“äºå å ä¹ä¸­æœ€ä¸Šé¢çš„äººï¼Œæœ€åå…¥æ ˆä½†æœ€åå‡ºæ ˆã€‚</p><p><img src="https://www.hello-algo.com/chapter_stack_and_queue/stack.assets/stack_operations.png" alt="æ ˆçš„å…ˆå…¥åå‡ºè§„åˆ™ Hello ç®—æ³•"></p><p><strong>æ ˆçš„åŸºæœ¬è®¡ç®—å¦‚ä¸‹ï¼š</strong></p><ul><li>åˆ›å»ºä¸€ä¸ªæ ˆ</li><li>è¿›æ ˆ <code>push()</code></li><li>å‡ºæ ˆ <code>pop()</code></li><li>è¯»å–æ ˆé¡¶å…ƒç´ ä½†ä¸å¼¹å‡º <code>top()</code></li><li>åˆ¤æ–­æ ˆç©º <code>isEmpty()</code></li></ul><h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>é¦–å…ˆå®ç°æ ˆçš„æŠ½è±¡ç±»ï¼š</p><blockquote><p>ç”±äºçº¿æ€§è¡¨çš„æŠ½è±¡ç±»è®¾ç½®äº†è®¸å¤šçº¯è™šå‡½æ•°ï¼Œå¹¶ä¸”æ ˆçš„è®¸å¤šæ“ä½œå®ç°å’Œä¸€èˆ¬çš„çº¿æ€§è¡¨å·®å¼‚è¾ƒå¤§ã€‚å› æ­¤æ­¤å¤„æ— æ³•ç›´æ¥ç»§æ‰¿çº¿æ€§è¡¨çš„æŠ½è±¡åŸºç±»ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Stack</span>() &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span> </span>= <span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ElementType <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> ElementType <span class="hljs-title">top</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//åŒæ ·è®¾ç½®ä¸ºçº¯è™šå‡½æ•°</span><br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="æ ˆçš„é¡ºåºå®ç°ï¼ˆç±»ä¼¼äºæ•°ç»„ï¼‰"><a href="#æ ˆçš„é¡ºåºå®ç°ï¼ˆç±»ä¼¼äºæ•°ç»„ï¼‰" class="headerlink" title="æ ˆçš„é¡ºåºå®ç°ï¼ˆç±»ä¼¼äºæ•°ç»„ï¼‰"></a>æ ˆçš„é¡ºåºå®ç°ï¼ˆç±»ä¼¼äºæ•°ç»„ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Exception.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Stack.h&quot;</span></span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SequentialStack</span> : <span class="hljs-keyword">public</span> Stack&lt;ElementType&gt;<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    ElementType* elementData;<br>    <span class="hljs-comment">//å­˜å‚¨æ ˆå…ƒç´ çš„æ•°ç»„å</span><br>    <span class="hljs-type">int</span> topPosition, totalCapacity;<br>    <span class="hljs-comment">//æ ˆé¡¶åºåˆ—å’Œæ€»å®¹é‡</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">expand</span><span class="hljs-params">()</span></span>;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">SequentialStack</span>(<span class="hljs-type">int</span> size = <span class="hljs-number">10</span>);<br>    ~<span class="hljs-built_in">SequentialStack</span>();<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span></span>;<br>    <span class="hljs-function">ElementType <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function">ElementType <span class="hljs-title">top</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">expand</span>()<br>    <span class="hljs-comment">//ç§æœ‰æˆå‘˜å‡½æ•°</span><br>&#123;<br>    ElementType* TempData = elementData;<br>    totalCapacity *= <span class="hljs-number">2</span>;<span class="hljs-comment">//å°†æ ˆçš„å®¹é‡æ‰©å¤§ä¸¤å€</span><br>    elementData = <span class="hljs-keyword">new</span> ElementType[totalCapacity];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= topPosition; i++)<br>        elementData[i] = TempData[i];<br>    <span class="hljs-keyword">delete</span>[] TempData;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">SequentialStack</span>(<span class="hljs-type">int</span> size)<span class="hljs-comment">//æ„é€ å‡½æ•°</span><br>&#123;<br>    elementData = <span class="hljs-keyword">new</span> ElementType[size];<br>    totalCapacity = size;<br>    topPosition = <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>SequentialStack&lt;ElementType&gt;::~<span class="hljs-built_in">SequentialStack</span>()<span class="hljs-comment">//destructor</span><br>&#123;<br>    <span class="hljs-keyword">delete</span>[] elementData;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">bool</span> SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">empty</span>() <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">return</span> topPosition == <span class="hljs-number">-1</span>;<br>    <span class="hljs-comment">//æ¸…ç©ºæ ˆé¡¶ï¼Œå°†æ ˆé¡¶åºåˆ—è®¾ç½®ä¸ºç‰¹æ®Šçš„-1</span><br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">push</span>(<span class="hljs-type">const</span> ElementType&amp; element)<br>&#123;<br>    <span class="hljs-keyword">if</span> (topPosition == totalCapacity - <span class="hljs-number">1</span>)<br>        <span class="hljs-built_in">expand</span>();<br>    <span class="hljs-comment">//è¯´æ˜å·²ç»å­˜å‚¨ä¸ä¸‹äº†</span><br>    elementData[++topPosition] = element;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">pop</span>()<br>&#123;<br>    <span class="hljs-keyword">if</span> (topPosition == <span class="hljs-number">-1</span>)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">EmptyContainer</span>(<span class="hljs-string">&quot;Error: Stack is already empty&quot;</span>);<br>    <span class="hljs-keyword">return</span> elementData[topPosition--];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">top</span>() <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (topPosition == <span class="hljs-number">-1</span>)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">EmptyContainer</span>(<span class="hljs-string">&quot;Error: Stack is already empty&quot;</span>);<br>    <span class="hljs-keyword">return</span> elementData[topPosition];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialStack&lt;ElementType&gt;::<span class="hljs-built_in">clear</span>()<br>&#123;<br>    topPosition = <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p><code>topPosition</code>ä»£è¡¨æ ˆå½“å‰çš„æ ˆé¡¶åºåˆ—ï¼Œå¦‚æœç°åœ¨æ ˆæœ‰3ä¸ªå…ƒç´ ï¼Œè¿™æ ˆé¡¶åºåˆ—ä¸º2ã€‚ç©ºæ ˆçš„æ ˆé¡¶åºåˆ—ä¸º-1ã€‚</p></blockquote><p>é¡ºåº<strong>æ ˆçš„è¿ç®—å¤æ‚åº¦éå¸¸ä½</strong>ï¼šé™¤äº†è¿›æ ˆæ“ä½œéœ€è¦æ‰©å……çš„ç‰¹æ®Šæƒ…å†µï¼ˆå³è°ƒç”¨<code>expand()</code>å‡½æ•°ï¼‰ï¼Œå…¶ä½™è¿ç®—çš„æ—¶é—´å¤æ‚åº¦å‡ä¸º<code>O(1)</code>ã€‚</p><h3 id="æ ˆçš„é“¾æ¥å®ç°"><a href="#æ ˆçš„é“¾æ¥å®ç°" class="headerlink" title="æ ˆçš„é“¾æ¥å®ç°"></a>æ ˆçš„é“¾æ¥å®ç°</h3><p>åœ¨æ ˆçš„é“¾æ¥å®ç°ä¸­ï¼Œæ ˆé¡¶å…ƒç´ å°±ç›¸å½“äºæ˜¯<strong>å¤´ç»“ç‚¹</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> once</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Exception.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Stack.h&quot;</span></span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedStack</span> : <span class="hljs-keyword">public</span> Stack&lt;ElementType&gt;<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">StackNode</span><br>        <span class="hljs-comment">//å’Œé“¾è¡¨ä¸€æ ·å®šä¹‰èŠ‚ç‚¹</span><br>    &#123;<br>        ElementType data;<br>        StackNode* next;<br>        <span class="hljs-built_in">StackNode</span>() : <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>) &#123;&#125;<br>        <span class="hljs-built_in">StackNode</span>(<span class="hljs-type">const</span> ElementType&amp; _data, StackNode* _next = <span class="hljs-literal">nullptr</span>) : <span class="hljs-built_in">data</span>(_data), <span class="hljs-built_in">next</span>(_next) &#123;&#125;<br>        ~<span class="hljs-built_in">StackNode</span>() &#123;&#125;<br>    &#125;;<br>    StackNode* head;<br>    <span class="hljs-comment">//éœ€è¦ç»´æŠ¤ä¸€ä¸ªæŒ‡é’ˆå§‹ç»ˆæŒ‡å‘å¤´ç»“ç‚¹</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">LinkedStack</span>();<br>    ~<span class="hljs-built_in">LinkedStack</span>();<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span></span>;<br>    <span class="hljs-function">ElementType <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function">ElementType <span class="hljs-title">top</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>LinkedStack&lt;ElementType&gt;::<span class="hljs-built_in">LinkedStack</span>()<br>&#123;<br>    head = <span class="hljs-literal">nullptr</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>LinkedStack&lt;ElementType&gt;::~<span class="hljs-built_in">LinkedStack</span>()<br>&#123;<br>    <span class="hljs-built_in">clear</span>();<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">bool</span> LinkedStack&lt;ElementType&gt;::<span class="hljs-built_in">empty</span>() <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">return</span> head == <span class="hljs-literal">nullptr</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> LinkedStack&lt;ElementType&gt;::<span class="hljs-built_in">push</span>(<span class="hljs-type">const</span> ElementType&amp; element)<br>&#123;<br>    head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">StackNode</span>(element, head);<br>    <span class="hljs-comment">//ä»å³å‘å·¦è¯»ï¼Œä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œå€¼ä¸ºelementï¼ŒæŒ‡å‘çš„èŠ‚ç‚¹æ˜¯å½“å‰headçš„åœ°å€ã€‚</span><br>    <span class="hljs-comment">//ç°åœ¨å°†å®ƒå¯¹headè¿›è¡Œèµ‹å€¼ï¼Œåˆ™headæŒ‡å‘çš„åœ°å€å‘ç”Ÿæ”¹å˜(æŒ‡å‘ç°åœ¨æ–°çš„æ ˆé¡¶å…ƒç´ )ï¼Œè€ŒåŸæ¥çš„æ ˆé¡¶å…ƒç´ å˜æˆäº†head-&gt;nextæ‰€æŒ‡å‘çš„</span><br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType LinkedStack&lt;ElementType&gt;::<span class="hljs-built_in">pop</span>()<br>&#123;<br>    <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">EmptyContainer</span>(<span class="hljs-string">&quot;Error: Stack is already empty&quot;</span>);<br>    StackNode* temp = head;<br>    ElementType value = temp-&gt;data;<br>    head = head-&gt;next;<br>    <span class="hljs-comment">//æ­¤æ—¶headæŒ‡å‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æˆä¸ºæ–°çš„æ ˆé¡¶å…ƒç´ </span><br>    <span class="hljs-keyword">delete</span> temp;<br>    <span class="hljs-keyword">return</span> value;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType LinkedStack&lt;ElementType&gt;::<span class="hljs-built_in">top</span>() <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">EmptyContainer</span>(<span class="hljs-string">&quot;Error: Stack is already empty&quot;</span>);<br>    <span class="hljs-keyword">return</span> head-&gt;data;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> LinkedStack&lt;ElementType&gt;::<span class="hljs-built_in">clear</span>()<br>&#123;<br>    StackNode* temp;<br>    <span class="hljs-keyword">while</span> (head != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        temp = head;<br>        head = head-&gt;next;<br>        <span class="hljs-keyword">delete</span> temp;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ ˆçš„é“¾æ¥å®ç°</strong>åœ¨æ•ˆç‡ä¸Šä¼˜äºæ ˆçš„é¡ºåºå®ç°ï¼Œå› ä¸º<strong>ä¸ç”¨æ‰©å®¹</strong>ï¼Œä¸ç”¨ç»´æŠ¤<code>topPosition</code>ã€‚</p><h2 id="Stack-in-STL"><a href="#Stack-in-STL" class="headerlink" title="Stack in STL"></a>Stack in STL</h2><p>STLä¸­çš„æ ˆæœ‰å››ä¸ªåŸºæœ¬è¿ç®—ï¼š</p><ul><li><code>push</code>ï¼ˆè¿›æ ˆï¼‰</li><li><code>pop</code>ï¼ˆå‡ºæ ˆï¼‰</li><li><code>top</code>ï¼ˆè¿”å›é¦–å…ƒç´ ï¼‰</li><li><code>empty</code>ï¼ˆæ£€æŸ¥æ ˆæ˜¯å¦ä¸ºç©ºï¼‰</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®ä¾‹ä»£ç ï¼Œå±•ç¤ºäº†æ ˆçš„è‹¥å¹²åŸºæœ¬æ“ä½œï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ•´æ•°æ ˆ</span><br>    std::stack&lt;<span class="hljs-type">int</span>&gt; s;<br><br>    <span class="hljs-comment">// å‹å…¥å…ƒç´ </span><br>    s.<span class="hljs-built_in">push</span>(<span class="hljs-number">10</span>);<br>    s.<span class="hljs-built_in">push</span>(<span class="hljs-number">20</span>);<br>    s.<span class="hljs-built_in">push</span>(<span class="hljs-number">30</span>);<br><br>    <span class="hljs-comment">// è·å–æ ˆé¡¶å…ƒç´ </span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;æ ˆé¡¶å…ƒç´ : &quot;</span> &lt;&lt; s.<span class="hljs-built_in">top</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 30</span><br><br>    <span class="hljs-comment">// å¼¹å‡ºæ ˆé¡¶å…ƒç´ </span><br>    s.<span class="hljs-built_in">pop</span>();<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;å¼¹å‡ºåæ ˆé¡¶å…ƒç´ : &quot;</span> &lt;&lt; s.<span class="hljs-built_in">top</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 20</span><br><br>    <span class="hljs-comment">// æ ˆæ˜¯å¦ä¸ºç©º</span><br>    <span class="hljs-keyword">if</span> (!s.<span class="hljs-built_in">empty</span>()) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;æ ˆä¸ä¸ºç©ºï¼Œå…ƒç´ ä¸ªæ•°: &quot;</span> &lt;&lt; s.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 2</span><br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>stack</code> é»˜è®¤ä½¿ç”¨ <code>deque</code> ä½œä¸ºåº•å±‚å®¹å™¨ï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡æ¨¡æ¿å‚æ•°æŒ‡å®šå…¶ä»–å®¹å™¨ï¼Œå¦‚ <code>vector</code> æˆ– <code>list</code>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">std::stack&lt;<span class="hljs-type">int</span>, std::vector&lt;<span class="hljs-type">int</span>&gt;&gt; s;  <span class="hljs-comment">// ä½¿ç”¨ vector ä½œä¸ºåº•å±‚å®¹å™¨</span><br>std::stack&lt;<span class="hljs-type">int</span>, std::list&lt;<span class="hljs-type">int</span>&gt;&gt; s;    <span class="hljs-comment">// ä½¿ç”¨ list ä½œä¸ºåº•å±‚å®¹å™¨ï¼ˆé“¾æ¥æ ˆçš„å®ç°ï¼‰</span><br></code></pre></td></tr></table></figure><blockquote><p><code>deque</code>ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ˜¯ C++ æ ‡å‡†åº“ä¸­æä¾›çš„ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒå¯ä»¥åœ¨ä¸¤ç«¯é«˜æ•ˆåœ°æ’å…¥æˆ–åˆ é™¤å…ƒç´ ã€‚å®ƒçš„åå­— <code>deque</code> æ˜¯ â€œdouble-ended queueâ€ çš„ç¼©å†™ï¼Œè¡¨ç¤ºå®ƒæ”¯æŒåœ¨é˜Ÿåˆ—çš„ä¸¤ç«¯è¿›è¡Œæ“ä½œã€‚æˆ‘ä»¬åœ¨ä¸‹ä¸€è®²ä»‹ç»é˜Ÿåˆ—çš„æ—¶å€™ä¼šè¯¦ç»†ä»‹ç»<code>deque</code>çš„ç”¨æ³•ã€‚</p></blockquote><h2 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h2><h3 id="Recursive-cleaning"><a href="#Recursive-cleaning" class="headerlink" title="Recursive cleaning"></a>Recursive cleaning</h3><h4 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h4><p>æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨<strong>é€’å½’</strong>ï¼ˆå‡½æ•°åµŒå¥—å‡½æ•°ï¼‰çš„æ–¹æ³•è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ï¼Œé€’å½’ä¼šæ¶ˆè€—<strong>å¤§é‡çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚</strong>ä¸ºä»€ä¹ˆï¼Ÿä¸‹é¢æˆ‘ä»¬å…ˆæ¥è¯¦ç»†åœ°ä»å†…å­˜è§†è§’è§£é‡Šä¸€ä¸‹é€’å½’çš„äº§ç”Ÿæœºç†ã€‚</p><p>åœ¨å†…å­˜ç®¡ç†ä¸­ï¼Œæ‰€è°“çš„â€œæ ˆâ€å†…å­˜ï¼ˆstack memoryï¼‰å°±æ˜¯<strong>æ ˆ</strong>çš„æ“ä½œæ¨¡å¼ç›¸ä¼¼ï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™è¿›è¡Œåˆ†é…å’Œå›æ”¶ã€‚æ ˆå†…å­˜ï¼ˆstack memoryï¼‰ä¸»è¦ç”¨äº<strong>å­˜å‚¨å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€å‡½æ•°è°ƒç”¨çš„è¿”å›åœ°å€</strong>ç­‰æ•°æ®ã€‚å®ƒçš„åˆ†é…å’Œå›æ”¶éå¸¸è¿…é€Ÿï¼Œé€šå¸¸æ˜¯ç”±æ“ä½œç³»ç»Ÿè‡ªåŠ¨ç®¡ç†çš„ã€‚æ ˆå†…å­˜çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li><strong>åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰</strong>ï¼šæ ˆå†…å­˜çš„åˆ†é…å’Œå›æ”¶éµå¾ªâ€œåè¿›å…ˆå‡ºâ€çš„è§„åˆ™ï¼Œæœ€è¿‘å‹å…¥æ ˆçš„æ•°æ®ä¼šæœ€å…ˆè¢«å¼¹å‡ºï¼Œè¿™ä¸æ ˆæ•°æ®ç»“æ„çš„æ“ä½œæ¨¡å¼ä¸€è‡´ã€‚</li><li><strong>è‡ªåŠ¨ç®¡ç†</strong>ï¼šæ ˆå†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œé€šå¸¸æ˜¯å‡½æ•°çš„è°ƒç”¨å’Œè¿”å›è¿‡ç¨‹ä¸­ï¼Œæ ˆå¸§ï¼ˆstack frameï¼‰çš„åˆ›å»ºå’Œé”€æ¯ã€‚</li><li><strong>ç©ºé—´æœ‰é™</strong>ï¼šæ ˆçš„å¤§å°é€šå¸¸æ˜¯å›ºå®šçš„ï¼Œè¶…è¿‡é™åˆ¶æ—¶ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼ˆstack overflowï¼‰ã€‚</li></ul><p><img src="/posts/DataStructure-Stack/Recursion.png" alt="Recursion"></p><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„æƒ…å†µï¼Œ<strong>å‡½æ•°çš„åµŒå¥—è°ƒç”¨</strong>ã€‚åœ¨<code>main</code>å‡½æ•°ä¸­ï¼Œå‡½æ•°è°ƒç”¨<code>max</code>å‡½æ•°ï¼Œåœ¨<code>max</code>å‡½æ•°ä¸­ï¼Œå‡½æ•°è°ƒç”¨<code>p</code>å‡½æ•°ï¼Œå½¢æˆäº†å‡½æ•°è°ƒç”¨çš„ä¸€ç§<strong>ä¸‰å±‚åµŒå¥—</strong>ã€‚ä¸Šæ–‡è®²è¿‡ï¼Œ<strong>å‡½æ•°ä½“å†…éƒ¨çš„å±€éƒ¨å˜é‡</strong>é€šå¸¸æ˜¯å­˜å‚¨åœ¨æ ˆå†…å­˜ä¸Šçš„ã€‚è¿™äº›å±€éƒ¨å˜é‡åœ¨å‡½æ•°è°ƒç”¨æ—¶è¢«åˆ›å»ºï¼Œå¹¶åœ¨å‡½æ•°è¿”å›æ—¶è‡ªåŠ¨é”€æ¯ï¼ˆå…·ä½“çš„è¿‡ç¨‹å¦‚ä¸Šå›¾å³ä¾§æ‰€æ¼”ç¤ºï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‡½æ•°åµŒå¥—çš„å±‚æ•°å˜å¤šæ—¶ï¼Œç³»ç»Ÿæ‰§è¡Œè¿™ä¸€ä¸ªè¿‡ç¨‹æ‰€éœ€çš„<strong>æœ€å¤§æ ˆå†…å­˜</strong>ä¼šä¸æ–­é€’å¢ã€‚</p><p>å›åˆ°é€’å½’çš„ä¾‹å­ï¼Œå½“é€’å½’å±‚æ•°å¢å¤šæ—¶ï¼Œåœ¨<strong>æ ˆå†…å­˜</strong>ä¸Šçš„<strong>æ ˆå¸§ç©ºé—´</strong>ä¼šä¸æ–­å˜å¤§ï¼ˆå› ä¸ºä¸Šä¸€çº§çš„å‡½æ•°æ²¡æœ‰è¿”å›å¯¹åº”çš„å€¼ï¼Œå‡½æ•°çš„è°ƒç”¨æ²¡æœ‰ç»“æŸï¼Œæ‰€æœ‰æ ˆå†…å­˜ä¸Šä¼šä¸€ç›´ä¿ç•™ç€å‡½æ•°çš„ä¸Šä¸‹æ–‡ï¼‰ã€‚<strong>è¿™ä¼šå¸¦æ¥æå¤§çš„å†…å­˜æ¶ˆè€—ï¼ï¼ï¼</strong></p><blockquote><p>ç›®å‰ä¸€äº›ç¼–è¯‘å™¨å¯¹<strong>å°¾é€’å½’</strong>ä¼˜åŒ–å¯ä»¥ä¸ä¿ç•™ä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯å¯¹äºæ²¡æœ‰å°¾é€’å½’çš„æƒ…å†µï¼ˆä¾‹å¦‚å›æº¯ç®—æ³•ï¼‰ï¼Œåˆ™æ ˆå†…å­˜çš„ä½æ•ˆä½¿ç”¨æ˜¯<strong>é€’å½’</strong>ä¸å¾—ä¸é¢å¯¹çš„é—®é¢˜ã€‚</p></blockquote><p><img src="https://www.hello-algo.com/chapter_computational_complexity/iteration_and_recursion.assets/recursion_sum_depth.png" alt="é€’å½’è°ƒç”¨æ·±åº¦ Hello ç®—æ³•"></p><h4 id="Using-Stack-instead-of-Recursion"><a href="#Using-Stack-instead-of-Recursion" class="headerlink" title="Using Stack instead of Recursion"></a>Using Stack instead of Recursion</h4><p>ä¸‹é¢çœ‹ä¸€ä¸ªç¨‹åºå®ä¾‹ï¼šæˆ‘ä»¬éœ€è¦æ‰“å°æ­£æ•´æ•°çš„å€¼ï¼š</p><blockquote><p>æ²¡äº‹æ‰¾äº‹åšçš„ç¨‹åºï¼ˆä¹ï¼‰</p></blockquote><p>å¦‚æœä½¿ç”¨é€’å½’å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(num&lt;<span class="hljs-number">10</span>)&#123;<br>        cout&lt;&lt;num;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-built_in">print</span>(num/<span class="hljs-number">10</span>);  <span class="hljs-comment">//Recursion</span><br>        cout&lt;&lt;num%<span class="hljs-number">10</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> N;cin&gt;&gt;N;<br>    <span class="hljs-built_in">print</span>(N);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªé€’å½’å®ç°æœ¬èº«è¾ƒä¸ºç®€å•ï¼Œä½†æ˜¯å½“é€’å½’æ·±åº¦è¾ƒå¤§æ—¶ï¼Œè¯¥ç®—æ³•å¯¹<strong>æ ˆå†…å­˜çš„åˆ©ç”¨ç‡</strong>éå¸¸ä½ï¼Œä¾‹å¦‚ï¼Œç³»ç»Ÿä¼šåœ¨æ ˆå†…å­˜ä¸Šåˆ†é…<strong>æ ˆå¸§</strong>ï¼Œå³ä¸ºæ¯ä¸€å±‚å‡½æ•°å­˜å‚¨å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›åœ°å€ç­‰ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬åªå¸Œæœ›å­˜å‚¨ä¸€ä¸ªå€¼ï¼</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥<strong>ä»å†…å­˜çš„è§†è§’ä¼˜åŒ–é€’å½’ç®—æ³•</strong>ã€‚ä½¿ç”¨æ ˆæ¶ˆé™¤é€’å½’å°±æ˜¯ç¨‹åºå‘˜<strong>è‡ªå·±æ¨¡æ‹Ÿå‡½æ•°çš„è°ƒç”¨</strong>ï¼Œè‡ªå·±ç»´æŠ¤ä¸€ä¸ª<strong>æ ˆ</strong>æ¥å­˜å‚¨ç›®æ ‡å€¼ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> num)</span></span>&#123;<br>    stack&lt;<span class="hljs-type">int</span>&gt; s;<br>    <span class="hljs-type">int</span> tmp;<br>    <span class="hljs-type">int</span> maxsize=<span class="hljs-number">0</span>;<br>    s.<span class="hljs-built_in">push</span>(num);<br>    maxsize++;<br>    <span class="hljs-keyword">while</span>(!s.<span class="hljs-built_in">empty</span>())&#123;<br>        <span class="hljs-keyword">if</span>(s.<span class="hljs-built_in">top</span>()&gt;<span class="hljs-number">9</span>)&#123;<br>            tmp=s.<span class="hljs-built_in">top</span>();<br>            s.<span class="hljs-built_in">pop</span>();<br>            s.<span class="hljs-built_in">push</span>(tmp%<span class="hljs-number">10</span>);<br>            s.<span class="hljs-built_in">push</span>(tmp/<span class="hljs-number">10</span>);<br>            maxsize=<span class="hljs-built_in">max</span>(maxsize,<span class="hljs-built_in">int</span>(s.<span class="hljs-built_in">size</span>()));<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            cout&lt;&lt;s.<span class="hljs-built_in">top</span>();<br>            s.<span class="hljs-built_in">pop</span>();<br>        &#125;<br>    &#125;<br>    cout&lt;&lt;endl&lt;&lt;<span class="hljs-string">&quot;The maxsize of the stack: &quot;</span>&lt;&lt;maxsize&lt;&lt;endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> N;cin&gt;&gt;N;<br>    <span class="hljs-built_in">print</span>(N);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-number">1234567</span><br><span class="hljs-number">1234567</span><br>The maxsize of the stack: <span class="hljs-number">7</span><br></code></pre></td></tr></table></figure><p><strong>ä»å†…å­˜è§†è§’æ¥æ¯”è¾ƒä¸¤è€…çš„å·®å¼‚ï¼š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span></span>&#123;<br>    cout&lt;&lt;&amp;num&lt;&lt;endl;<br>    <span class="hljs-keyword">if</span>(num&lt;<span class="hljs-number">10</span>)&#123;<br>        cout&lt;&lt;num;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-built_in">print</span>(num/<span class="hljs-number">10</span>);<br>        cout&lt;&lt;num%<span class="hljs-number">10</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> N;cin&gt;&gt;N;<br>    <span class="hljs-built_in">print</span>(N);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-number">1234567</span><br><span class="hljs-number">0</span>x61fdf0<br><span class="hljs-number">0</span>x61fdc0<br><span class="hljs-number">0</span>x61fd90<br><span class="hljs-number">0</span>x61fd60<br><span class="hljs-number">0</span>x61fd30<br><span class="hljs-number">0</span>x61fd00<br><span class="hljs-number">0</span>x61fcd0<br><span class="hljs-number">1234567</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ<strong>å‡½æ•°çš„é€’å½’æ·±åº¦ä¸º7</strong>ï¼Œ<strong>è‡ªå®šä¹‰çš„æ ˆçš„å†…å­˜æœ€å¤§å€¼ä¹Ÿä¸º7</strong>ã€‚ä½†æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œä»…å‡½æ•°è°ƒç”¨å°±ç”¨äº†288bytesï¼Œè€Œæ ˆçš„å†…å­˜ä»…ä»…åªæ˜¯224bytesã€‚ï¼ˆä¼°ç®—ï¼‰</p><blockquote><p>è™½ç„¶ç›¸å·®åªæ˜¯å‡ ä¸ªå­—èŠ‚çš„å·®è·ï¼Œä½†æ˜¯<strong>ä¸€æ—¦é€’å½’æ·±åº¦å˜å¤§ä¸”æ•°æ®ç±»å‹æœ¬èº«æ‰€å å†…å­˜æ•°å˜å¤š</strong>ï¼Œè¿™ä¸ªå¼€é”€å°†ä¼šå¤§å¤§çš„å¢é•¿ã€‚</p></blockquote><h3 id="æ‹¬å·é…å¯¹"><a href="#æ‹¬å·é…å¯¹" class="headerlink" title="æ‹¬å·é…å¯¹"></a>æ‹¬å·é…å¯¹</h3><p>åœ¨æ•²ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¼šé‡åˆ°è¿‡<strong>æ‹¬å·å¤ªå¤šæˆ–è€…æ‹¬å·ä¸åŒ¹é…</strong>çš„æƒ…å†µã€‚ç¼–è¯‘å™¨éœ€è¦æ£€æŸ¥<strong>æ‹¬å·åŒ¹é…</strong>çš„æƒ…å†µï¼Œå¹¶åœ¨å‘ç°å¼‚å¸¸æ—¶åŠæ—¶åœ°æŠ¥é”™ã€‚ä½†æ˜¯ï¼Œæ‹¬å·å…·æœ‰å¤šç§ç±»å‹ï¼š<code>()``[]``&#123;&#125;</code>ï¼Œå¹¶ä¸”æœ‰äº›ç›¸äº’åŒ¹é…çš„æ‹¬å·ä¹‹é—´çš„é—´éš”éå¸¸é¥è¿œã€‚æˆ‘ä»¬èƒ½å¤Ÿä»…åœ¨<strong>ä¸€æ¬¡æ‰«æçš„è¿‡ç¨‹ä¸­</strong>å®Œæˆå¯¹æ‹¬å·é…å¯¹çš„æ£€æŸ¥ï¼Ÿ</p><p>ä¸‹é¢ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬å°†<code>([&#123;</code>ç§°ä¸ºå¼€æ‹¬å·ï¼Œå°†<code>)]&#125;</code>ç§°ä¸ºé—­æ‹¬å·ã€‚</p><p>è¿™ä¸ªé—®é¢˜ä½¿ç”¨<strong>æ ˆ</strong>ï¼Œå¯ä»¥å¾ˆé«˜æ•ˆåœ°è§£å†³ã€‚åŸºæœ¬æ€è·¯æ˜¯ï¼š<strong>é‡åˆ°é—­æ‹¬å·æ—¶ï¼Œå°†ä¸æœ€è¿‘é‡åˆ°çš„ä¸”å°šæœªè¢«åŒ¹é…çš„å¼€æ‹¬å·è¿›è¡ŒåŒ¹é…ã€‚</strong></p><blockquote><p>â€œ<strong>æœ€è¿‘é‡åˆ°çš„</strong>çš„æ‹¬å·â€å’Œ<strong>æ ˆ</strong>çš„LIFOç‰¹æ€§ä¸è°‹è€Œåˆï¼</p></blockquote><p>ç¡®å®šåŸºæœ¬ç®—æ³•çš„æ€æƒ³åï¼Œæˆ‘ä»¬æ¥ç»†åˆ†åˆ°æ¯ä¸€ä¸ªæ­¥éª¤çš„å®ç°ï¼š</p><div class="note note-primary">            <ul><li>åˆ›å»ºä¸€ä¸ªæ ˆæ¥ç»´æŠ¤æ‹¬å·çš„å­˜å‚¨ã€‚ï¼ˆæ›´å…·ä½“æ¥è¯´ï¼š<strong>ç»´æŠ¤å¼€æ‹¬å·çš„å­˜å‚¨</strong>ï¼‰</li><li>å¦‚æœè¯»å–åˆ°ä¸€ä¸ªå¼€æ‹¬å·ï¼Œè¿›æ ˆã€‚<ul><li>å› ä¸º<strong>åŒ¹é…å·¥ä½œæ˜¯ä¾æ®é—­æ‹¬å·æ¥è¿›è¡Œçš„ï¼Œæ‰€ä»¥å¼€æ‹¬å·è¿›æ ˆçš„æ—¶å€™ä¸éœ€è¦é¢å¤–çš„æ“ä½œã€‚</strong></li></ul></li><li>å¦‚æœè¯»å–åˆ°ä¸€ä¸ªé—­æ‹¬å·ï¼Œåˆ™ä¸æ ˆé¡¶çš„å¼€æ‹¬å·è¿›è¡ŒåŒ¹é…ã€‚ï¼ˆä½äºæ ˆé¡¶çš„å¼€æ‹¬å·å°±æ˜¯æœ€è¿‘é‡åˆ°çš„ä¸”å°šæœªè¢«åŒ¹é…çš„å¼€æ‹¬å·ï¼‰<ul><li>å¦‚æœåŒ¹é…æˆåŠŸï¼Œé‚£ä¹ˆè¿™ä¸€å¯¹æ‹¬å·åŒ¹é…æˆåŠŸï¼Œå°†å¼€æ‹¬å·å¼¹å‡ºæ ˆã€‚</li><li><strong>å¦‚æœåŒ¹é…å¤±è´¥ï¼Œè¯´æ˜æ— æ³•åŒ¹é…ã€‚ï¼ˆä¾‹å¦‚<code>[{(}]</code>)ï¼Œç›´æ¥<code>return false</code>ã€‚</strong></li><li>å¦‚æœæ­¤æ—¶æ ˆå·²ç©ºï¼Œåˆ™è¯´æ˜ä¸åŒ¹é…ã€‚ï¼ˆé—­æ‹¬å·çš„æ•°é‡å¤šäºå¼€æ‹¬å·çš„æ•°é‡ï¼‰</li></ul></li><li>å®Œæˆæ‰€æœ‰çš„æ‰«æåï¼Œè‹¥æ ˆéç©ºï¼Œåˆ™è¯´æ˜å¼€æ‹¬å·çš„æ•°é‡å¤šäºé—­æ‹¬å·çš„æ•°é‡ã€‚åŒ¹é…å¤±è´¥ã€‚</li></ul>          </div><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">judgethemarkers</span><span class="hljs-params">(string s)</span></span>&#123;<br>    stack&lt;<span class="hljs-type">char</span>&gt; themarker;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> ch:s)&#123;<br>        <span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;(&#x27;</span>||ch==<span class="hljs-string">&#x27;[&#x27;</span>||ch==<span class="hljs-string">&#x27;&#123;&#x27;</span>)&#123;<br>            themarker.<span class="hljs-built_in">push</span>(ch);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">if</span>(themarker.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            <span class="hljs-type">char</span> check=themarker.<span class="hljs-built_in">top</span>();<br>            <span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;]&#x27;</span>&amp;&amp;check==<span class="hljs-string">&#x27;[&#x27;</span>) themarker.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;)&#x27;</span>&amp;&amp;check==<span class="hljs-string">&#x27;(&#x27;</span>) themarker.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;&#125;&#x27;</span>&amp;&amp;check==<span class="hljs-string">&#x27;&#123;&#x27;</span>) themarker.<span class="hljs-built_in">pop</span>();<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!themarker.<span class="hljs-built_in">empty</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string s;<br>    cin&gt;&gt;s;<br>    cout&lt;&lt;(<span class="hljs-built_in">judgethemarkers</span>(s)?<span class="hljs-string">&quot;Successful&quot;</span>:<span class="hljs-string">&quot;Unsuccessful&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæ ˆçš„æ‰«æåŠŸèƒ½å·²ç»å®Œå…¨å®ç°ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šç»†èŠ‚éœ€è¦è¢«ä¼˜åŒ–ï¼š</p><ul><li>å½“æ‹¬å·å‡ºç°åœ¨<strong>å­—ç¬¦ä¸²ï¼Œå­—ç¬¦å¸¸é‡ï¼Œæ³¨é‡Š</strong>ä¸­æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ‹¬å·è¢«ç»Ÿè®¡ã€‚</li><li>å®ç°æ›´é«˜çº§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å®šä½åˆ°å…·ä½“å“ªä¸ªä½ç½®çš„æ‹¬å·åŒ¹é…å‡ºç°é—®é¢˜ã€‚</li></ul><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å®ç°ä¸€ä¸ªæ›´åŠ å¤æ‚çš„<code>balance</code>ç±»ï¼Œä½œä¸ºä¸€ä¸ªæ£€æŸ¥æ–‡ä»¶ä¸­ä»£ç æ‹¬å·åŒ¹é…çš„å·¥å…·ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;fstream&gt;</span>  <span class="hljs-comment">// for file input handling</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">balance</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    ifstream fin;      <span class="hljs-comment">// File stream to be checked</span><br>    <span class="hljs-type">int</span> currentLine;   <span class="hljs-comment">// Current line being processed</span><br>    <span class="hljs-type">int</span> Errors;        <span class="hljs-comment">// Count of errors found</span><br><br>    <span class="hljs-comment">// Structure representing a symbol and its line number</span><br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Symbol</span> &#123;<br>        <span class="hljs-type">char</span> Token;     <span class="hljs-comment">// Character token (e.g., braces, parentheses)</span><br>        <span class="hljs-type">int</span> TheLine;    <span class="hljs-comment">// Line number where the token is found</span><br>    &#125;;<br><br>    <span class="hljs-comment">// Enum for comment types</span><br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">CommentType</span> &#123;<br>        SlashSlash,     <span class="hljs-comment">// C++ style comment (//)</span><br>        SlashStar       <span class="hljs-comment">// C style comment (/* */)</span><br>    &#125;;<br><br>    <span class="hljs-comment">// Utility functions for CheckBalance</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">CheckMatch</span><span class="hljs-params">(<span class="hljs-type">char</span> Symb1, <span class="hljs-type">char</span> Symb2, <span class="hljs-type">int</span> Line1, <span class="hljs-type">int</span> Line2)</span></span>; <span class="hljs-comment">// Check if two symbols match (e.g., &#x27;(&#x27; and &#x27;)&#x27;)</span><br>    <span class="hljs-function"><span class="hljs-type">char</span> <span class="hljs-title">GetNextSymbol</span><span class="hljs-params">()</span></span>;          <span class="hljs-comment">// Get the next valid symbol from the input</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">PutBackChar</span><span class="hljs-params">(<span class="hljs-type">char</span> ch)</span></span>;     <span class="hljs-comment">// Push back a character to the input stream</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SkipComment</span><span class="hljs-params">(<span class="hljs-keyword">enum</span> CommentType type)</span></span>; <span class="hljs-comment">// Skip over comments (C or C++ style)</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">SkipQuote</span><span class="hljs-params">(<span class="hljs-type">char</span> type)</span></span>;     <span class="hljs-comment">// Skip over quoted strings or characters</span><br>    <span class="hljs-function"><span class="hljs-type">char</span> <span class="hljs-title">NextChar</span><span class="hljs-params">()</span></span>;               <span class="hljs-comment">// Get the next character from the input file</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// Constructor: Opens the file for checking</span><br>    <span class="hljs-built_in">balance</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *s);<br><br>    <span class="hljs-comment">// Check if the brackets/parentheses in the file are balanced</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">CheckBalance</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">noFile</span>&#123;&#125;;<span class="hljs-comment">//for the exception</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>é™¤äº†æ„é€ å‡½æ•°ä¹‹å¤–ï¼Œå…¬æœ‰å‡½æ•°åªæœ‰<code>CheckBalance</code>ï¼Œå…¶ä»–å·¥å…·å‡½æ•°å…¨éƒ¨ä¸ºç§æœ‰å‡½æ•°çš„å½¢å¼ï¼Œç”¨æˆ·ä¸éœ€è¦ç›´æ¥è°ƒç”¨ã€‚ï¼ˆ<strong>å¯¹ç”¨æˆ·è€Œè¨€åªæä¾›å”¯ä¸€çš„æ¥å£ï¼Œå¯¹ç¨‹åºå‘˜è€Œè¨€å°†ä¸åŒçš„å­åŠŸèƒ½åœ¨å†…éƒ¨å°è£…ã€‚</strong>ï¼‰</p><blockquote><p>å…·ä½“åŠŸèƒ½çš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œæ•¬è¯·æœŸå¾…åç»­çš„æ›´æ–°~</p></blockquote><h3 id="ç®€å•çš„è®¡ç®—å™¨"><a href="#ç®€å•çš„è®¡ç®—å™¨" class="headerlink" title="ç®€å•çš„è®¡ç®—å™¨"></a>ç®€å•çš„è®¡ç®—å™¨</h3><p><strong>ä¸­ç¼€è¡¨è¾¾å¼</strong>ï¼šç®—æœ¯è¡¨è¾¾å¼æ€»æ˜¯å‡ºç°åœ¨ä¸¤ä¸ªæ“ä½œæ•°ä¹‹é—´ã€‚ä¾‹å¦‚<code>5*(7-2*3)+8/2</code>ã€‚</p><p>æˆ‘ä»¬ä¼¼ä¹æ€»æ˜¯èƒ½å¤Ÿä¸€æ ·çœ‹å‡ºä¸­ç¼€è¡¨è¾¾å¼çš„è¿ç®—ç»“æœï¼ŒçœŸçš„å—ï¼Ÿ</p><p>ä¸å¦¨æ¥çœ‹ä¸‹é¢çš„ä¸­ç¼€è¡¨è¾¾å¼ï¼š<code>( ( ( 3 + 5 * ( 2 - 8 ) ) / ( sin(45) + 2^3 ) ) * ( log(100, 10) - sqrt(16) ) + max(1, 2, 3) % 4 ) ^ 2 + abs( -10 ) * factorial(3) - ( min(5, 10, 15) + ceil(4.3) ) / floor(2.9)</code>ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ–è®¸å°±æœ‰ç‚¹åƒåŠ›äº†ï¼Œä¸ºä»€ä¹ˆï¼Ÿ<strong>å› ä¸ºä¸­ç¼€è¡¨è¾¾å¼çš„è¿ç®—ä¼˜å…ˆçº§å¾€å¾€å¹¶ä¸æ€»æ˜¯ä»å·¦å‘å³</strong>ï¼š</p><ul><li>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æå‰è¿ç®—æ‹¬å·é‡Œé¢çš„å†…å®¹</li><li>æ²¡æœ‰æ‹¬å·æ˜¯ä¸åŒçš„è¿ç®—ç¬¦ä¹Ÿæœ‰ä¸åŒçš„è¿ç®—ä¼˜å…ˆçº§ã€‚</li></ul><p>å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œè¿™ä¸ªä»»åŠ¡æˆ–è®¸æ›´åŠ çš„è‰°å·¨â€”â€”è®¡ç®—æœºæ— æ³•è¯†åˆ«è¾“å…¥é¡ºåºå’Œè®¡ç®—é¡ºåºä¹‹é—´çš„å·®åˆ«ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›æ”¹å†™<strong>ä¸­ç¼€è¡¨è¾¾å¼</strong>ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸º<strong>åç¼€è¡¨è¾¾å¼ï¼ˆé€†æ³¢å…°è¡¨è¾¾å¼ï¼‰</strong>ï¼Œåç¼€è¡¨è¾¾å¼å°†è¿ç®—ç¬¦æ”¾åœ¨è¿ç®—æ•°ä¹‹åï¼Œå¹¶ä¸”è¿ç®—é¡ºåºå’Œé˜…è¯»é¡ºåºä¿æŒä¸€è‡´ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸­ç¼€è¡¨è¾¾å¼<code>5*(7-2*3)+8/2</code>è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼ä¸º<code>5 7 2 3 * - * 8 2 / +</code>ï¼Œè®¡ç®—æœºåœ¨é˜…è¯»åç¼€è¡¨è¾¾å¼æ—¶ï¼Œåªéœ€è¦<strong>ä»å·¦å¾€å³ä¸æ–­è¾“å…¥ï¼Œé‡åˆ°è¿ç®—ç¬¦ï¼Œåˆ™å–ä¹‹å‰çš„ä¸¤ä¸ªè¿ç®—æ•°åšä¹˜æ³•ï¼Œå¹¶å°†è¿ç®—ç»“æœä»£æ›¿è¯¥å­è¡¨è¾¾å¼</strong>ã€‚</p><div class="note note-primary">            <p>å¯¹äºä¸Šé¢çš„ä¾‹å­ï¼Œåç¼€è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå¦‚ä¸‹ï¼š</p><p>æ­¥éª¤ 1ï¼šåˆå§‹åŒ–</p><ul><li>æ ˆï¼š<code>[]</code></li><li>è¾“å…¥ï¼š<code>5 7 2 3 * - * 8 2 / +</code></li></ul><p>æ­¥éª¤ 2ï¼šå¤„ç†æ•°å­— <code>5</code></p><ul><li>å°† <code>5</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5]</code></li><li>è¾“å…¥ï¼š<code>7 2 3 * - * 8 2 / +</code></li></ul><p>æ­¥éª¤ 3ï¼šå¤„ç†æ•°å­— <code>7</code></p><ul><li>å°† <code>7</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 7]</code></li><li>è¾“å…¥ï¼š<code>2 3 * - * 8 2 / +</code></li></ul><p>æ­¥éª¤ 4ï¼šå¤„ç†æ•°å­— <code>2</code></p><ul><li>å°† <code>2</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 7, 2]</code></li><li>è¾“å…¥ï¼š<code>3 * - * 8 2 / +</code></li></ul><p>æ­¥éª¤ 5ï¼šå¤„ç†æ•°å­— <code>3</code></p><ul><li>å°† <code>3</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 7, 2, 3]</code></li><li>è¾“å…¥ï¼š<code>* - * 8 2 / +</code></li></ul><p>æ­¥éª¤ 6ï¼šå¤„ç†è¿ç®—ç¬¦ <code>*</code></p><ul><li>å¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼š<code>3</code> å’Œ <code>2</code>ã€‚</li><li>è®¡ç®—ï¼š<code>2 * 3 = 6</code>ã€‚</li><li>å°†ç»“æœ <code>6</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 7, 6]</code></li><li>è¾“å…¥ï¼š<code>- * 8 2 / +</code></li></ul><p>æ­¥éª¤ 7ï¼šå¤„ç†è¿ç®—ç¬¦ <code>-</code></p><ul><li>å¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼š<code>6</code> å’Œ <code>7</code>ã€‚</li><li>è®¡ç®—ï¼š<code>7 - 6 = 1</code>ã€‚</li><li>å°†ç»“æœ <code>1</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 1]</code></li><li>è¾“å…¥ï¼š<code>* 8 2 / +</code></li></ul><p>æ­¥éª¤ 8ï¼šå¤„ç†è¿ç®—ç¬¦ <code>*</code></p><ul><li>å¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼š<code>1</code> å’Œ <code>5</code>ã€‚</li><li>è®¡ç®—ï¼š<code>5 * 1 = 5</code>ã€‚</li><li>å°†ç»“æœ <code>5</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5]</code></li><li>è¾“å…¥ï¼š<code>8 2 / +</code></li></ul><p>æ­¥éª¤ 9ï¼šå¤„ç†æ•°å­— <code>8</code></p><ul><li>å°† <code>8</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 8]</code></li><li>è¾“å…¥ï¼š<code>2 / +</code></li></ul><p>æ­¥éª¤ 10ï¼šå¤„ç†æ•°å­— <code>2</code></p><ul><li>å°† <code>2</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 8, 2]</code></li><li>è¾“å…¥ï¼š<code>/ +</code></li></ul><p>æ­¥éª¤ 11ï¼šå¤„ç†è¿ç®—ç¬¦ <code>/</code></p><ul><li>å¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼š<code>2</code> å’Œ <code>8</code>ã€‚</li><li>è®¡ç®—ï¼š<code>8 / 2 = 4</code>ã€‚</li><li>å°†ç»“æœ <code>4</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[5, 4]</code></li><li>è¾“å…¥ï¼š<code>+</code></li></ul><p>æ­¥éª¤ 12ï¼šå¤„ç†è¿ç®—ç¬¦ <code>+</code></p><ul><li>å¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼š<code>4</code> å’Œ <code>5</code>ã€‚</li><li>è®¡ç®—ï¼š<code>5 + 4 = 9</code>ã€‚</li><li>å°†ç»“æœ <code>9</code> å‹å…¥æ ˆã€‚</li><li>æ ˆï¼š<code>[9]</code></li><li>è¾“å…¥ï¼š<code>ï¼ˆç©ºï¼‰</code></li></ul>          </div><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†å®ç°ç®€å•è®¡ç®—å™¨çš„åŸºæœ¬æ€è·¯ï¼š</p><ul><li>ç­‰å¾…ç”¨æˆ·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆä¸­ç¼€è¡¨è¾¾å¼ï¼‰ï¼Œå¹¶æ£€æŸ¥åˆæ³•æ€§ã€‚</li><li><strong>å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼</strong>ã€‚</li><li><strong>å¯¹åç¼€è¡¨è¾¾å¼å¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„è¿ç®—ç»“æœ</strong>ã€‚</li></ul><p>å¦‚ä½•å®ç°<strong>ä¸­ç¼€è½¬åç¼€</strong>ï¼Ÿåœ¨è¿™é‡Œæ¯”è¾ƒç¤ºä¾‹ä¸­çš„ä¸­ç¼€è¡¨è¾¾å¼å’Œåç¼€è¡¨è¾¾å¼ï¼šä¸­ç¼€è¡¨è¾¾å¼<code>5*(7-2*3)+8/2</code>è½¬åŒ–ä¸ºåç¼€è¡¨è¾¾å¼ä¸º<code>5 7 2 3 * - * 8 2 / +</code>ï¼Œæˆ‘ä»¬å‘ç°ï¼š</p><ul><li>å¯¹äºè¿ç®—æ•°è€Œè¨€ï¼Œè¿ç®—æ•°ä¹‹é—´çš„é¡ºåºä¿æŒä¸å˜</li><li>è¿ç®—ç¬¦ä¹‹é—´çš„ç›¸å¯¹ä½ç½®å‘ç”Ÿäº†å˜åŒ–<ul><li>å¦‚ä½•æ”¹å˜ï¼Ÿä¾æ®<strong>è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§</strong></li></ul></li></ul><p>åœ¨è¿™é‡Œæˆ‘ä»¬åªå®ç°å››ç§è¿ç®—ï¼šåŠ å‡ã€ä¹˜é™¤ã€ä¹˜æ–¹ã€æ‹¬å·ï¼Œå…¶ä¼˜å…ˆçº§é€’å¢ã€‚å¯¹äºç›¸åŒä¼˜å…ˆçº§çš„æƒ…å†µï¼ŒåŠ å‡å’Œä¹˜é™¤è¿ç®—ç¬¦åˆ<strong>å·¦ç»“åˆ</strong>è§„å¾‹ï¼Œä¹˜æ–¹ä¼˜å…ˆçº§ç¬¦åˆ<strong>å³ç»“åˆ</strong>è§„å¾‹ã€‚æ ¹æ®è¿™ä¸ªè§„å¾‹ï¼Œ æˆ‘ä»¬æ¥åˆ†æ<code>5*(7-2*3)+8/2</code>çš„è¿ç®—è¿‡ç¨‹ã€‚é¦–å…ˆè¿›è¡Œçš„è¿ç®—æ˜¯<code>2*3</code>ï¼Œå› æ­¤åç¼€è¡¨è¾¾å¼ä¸­ä¸€å®šæœ‰ä¸€ä¸ªéƒ¨åˆ†æ˜¯<code>2 3 *</code>,æ¥ä¸‹æ¥æ‰§è¡Œè¿ç®—<code>7-6</code>,å…¶ä¸­6æ˜¯ç¬¬ä¸€æ­¥è¿ç®—ç”Ÿæˆçš„æ“ä½œæ•°ï¼Œå› æ­¤è¿™ä¸€éƒ¨åˆ†å¯ä»¥è¢«æ‰©å†™ä¸º<code>7 2 3 * -</code>ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¯ä»¥å†™å‡ºæœ€åçš„åç¼€è¡¨è¾¾å¼ã€‚</p><p>æ€»ç»“è§„å¾‹ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæˆ‘ä»¬æ€»æ˜¯å…ˆ<strong>äººä¸ºåœ°æ‰¾åˆ°ä¸­ç¼€è¡¨è¾¾å¼çš„ä¼˜å…ˆè¿ç®—çš„éƒ¨åˆ†ï¼Œç„¶åä¸æ–­åœ¨å­—ç¬¦ä¸²çš„ä¸¤ç«¯æ‰©å†™åç¼€è¡¨è¾¾å¼ã€‚</strong>å…³é”®çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•è®©è®¡ç®—æœºç¡®å®š<strong>å“ªä¸ªéƒ¨åˆ†æ˜¯ä¼˜å…ˆè¿ç®—çš„éƒ¨åˆ†ï¼Ÿ</strong></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸å¦¨æ¨¡æ‹Ÿè®¡ç®—æœºï¼Œè®¡ç®—æœºä¼š<strong>æŒ‰ç…§é¡ºåºè¯»å…¥è¡¨è¾¾å¼çš„è¿ç®—æ•°å’Œè¿ç®—ç¬¦</strong>ï¼Œå¦‚æœè¯»å…¥è¿ç®—æ•°ï¼Œå°±åœ¨è¾“å‡ºçš„å­—ç¬¦ä¸²åç›´æ¥æ·»åŠ ã€‚ï¼ˆå› ä¸ºè¿ç®—æ•°ä¸ä¼šæ”¹å˜è¿ç®—é¡ºåºï¼Œè¿ç®—ç¬¦æ‰æ˜¯é‡ç‚¹ï¼ï¼‰å¦‚æœè¯»å…¥è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬<strong>éœ€è¦ç»´æŠ¤ä¸€ä¸ªæ ˆæ¥æ§åˆ¶è¿›å‡ºé¡ºåº</strong>ã€‚</p><div class="note note-primary">            <p><strong>ä½¿ç”¨æ ˆ</strong>çš„æ ¸å¿ƒåŸå› æ˜¯<strong>æ§åˆ¶è¿ç®—ç¬¦è¾“å…¥é¡ºåºå’Œè¾“å‡ºé¡ºåºä¸åŒ</strong>ã€‚</p>          </div><p>åœ¨è¯»å…¥è¿ç®—ç¬¦çš„æ—¶å€™ï¼Œå› ä¸ºä¸ç¡®å®šå…¶æ˜¯å¦èƒ½ç›´æ¥åšè¿ç®—ï¼ˆ<code>5*(7-2*3)+8/2</code>è¯»åˆ°å‡å·åï¼Œæ— æ³•ç¡®å®šæ˜¯å¦è¦æ‰§è¡Œ7-2ï¼Œå› ä¸º2çš„å³è¾¹è¿˜æœ‰ä¸€ä¸ªæœªçŸ¥çš„è¿ç®—ç¬¦ï¼Œæ— æ³•ç¡®å®šä¼˜å…ˆçº§ï¼‰ï¼Œå› æ­¤<strong>è¿ç®—ç¬¦éœ€è¦è¿›æ ˆ</strong>ã€‚</p><p>å¦‚ä½•ç¡®å®šè¿ç®—ç¬¦çš„å‡ºæ ˆé¡ºåºï¼Ÿä¸€æ¡æ™®é€‚è§„å¾‹ï¼š<strong>å¦‚æœå­˜åœ¨æ ˆå†…è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºæˆ–ç­‰äºæ–°è¿›æ ˆçš„è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼ˆä¹˜æ–¹å³ç»“åˆé™¤å¤–ï¼‰</strong>ï¼Œé‚£ä¹ˆè¯´æ˜è¿™äº›è¿ç®—ç¬¦ä¼šå…ˆäºè¿™ä¸ªæ–°è¿›æ ˆçš„è¿ç®—ç¬¦è¢«è¿ç®—ï¼Œå› æ­¤éœ€è¦æŒ‰é¡ºåºå…¨éƒ¨å‡ºæ ˆã€‚</p><blockquote><p>å‡ºæ ˆé¡ºåºå°±ä»£è¡¨ç€è¿ç®—ç¬¦çš„<strong>å®é™…è¢«è¿ç®—é¡ºåº</strong>ï¼</p></blockquote><p>å¯¹äºæ‹¬å·è€Œè¨€ï¼Œ<strong>ç”±äºæ‹¬å·å¹¶ä¸ä¼šå‡ºç°åœ¨åç¼€è¡¨è¾¾å¼ä¸­</strong>ï¼Œå› æ­¤ï¼Œæ‹¬å·åªæ˜¯èµ·åˆ°äº†ä¸€ä¸ªéš”ç¦»çš„ä½œç”¨ï¼Œç›¸å½“äºå¼€é—­æ‹¬å·ä¹‹é—´æ˜¯ä¸€ä¸ªå°çš„è¡¨è¾¾å¼ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å¯ä»¥å½’çº³<strong>ä¸­ç¼€è½¬åç¼€</strong>çš„è¿ç®—æ³•åˆ™ï¼š</p><ul><li>è¿ç®—æ•°ï¼šç«‹å³è¾“å‡º</li><li>å¼€æ‹¬å·ï¼šè¿›æ ˆ</li><li>é—­æ‹¬å·ï¼šä¸è¿›æ ˆï¼ŒåŒæ—¶ä¸æ–­æ¸…æ ˆç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ªå¼€æ‹¬å·ï¼ŒæŠŠè¿™ä¸ªå¼€æ‹¬å·å‡ºæ ˆ</li><li>ä¹˜æ–¹ï¼šè¿›æ ˆï¼ˆ<strong>ä¹˜æ–¹è¿ç®—æ˜¯å³ç»“åˆï¼Œä¸”è¿ç®—çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œæ‰€ä»¥è¯»å…¥ä¹˜æ–¹è‚¯å®šæ— æ³•ç¡®å®šæ˜¯å¦è¦è¿ç®—ï¼Œä¸”æ ˆå†…ä¹Ÿä¸ä¼šæœ‰è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºä¹˜æ–¹</strong>ï¼‰</li><li>ä¹˜é™¤ï¼šè¿›æ ˆä¸”é€€æ ˆç›´åˆ°é‡åˆ°åŠ ï¼Œå‡æˆ–å·¦æ‹¬å·</li><li>åŠ å‡ï¼šå…ˆè¿›æ ˆï¼Œå†é€€æ ˆç›´åˆ°æ ˆä¸ºç©ºæˆ–é‡åˆ°å·¦æ‹¬å·</li><li>è¯»å…¥ç»“æŸåæ¸…æ ˆ</li></ul><p>è¿™å°±æ˜¯ä¸­ç¼€è½¬åç¼€çš„åŸºæœ¬æ“ä½œï¼Œåç»­çš„å®ç°å°±å¾ˆç®€å•äº†ï¼šæŒ‰é¡ºåºæ‰«æåç¼€è¡¨è¾¾å¼ï¼ˆ<strong>åç¼€è¡¨è¾¾å¼æœ¬è´¨ä¸Šä¹Ÿç”¨ä¸€ä¸ªæ ˆæ¥ç»´æŠ¤</strong>ï¼‰è‡³æ­¤ï¼Œæˆ‘ä»¬ä¾¿å®Œæˆäº†<strong>ç®€å•è®¡ç®—å™¨</strong>çš„ç®—æ³•åŸç†çš„æ„æ€ã€‚</p><p>ä¸è¿‡è¿™è¿˜æ²¡æœ‰å®Œï¼Œå› ä¸ºä½¿ç”¨çš„éƒ½æ˜¯æ ˆï¼Œå› æ­¤<strong>è¿™ä¸¤æ­¥æœ¬è´¨ä¸Šå¯ä»¥è¿›è¡Œåˆå¹¶</strong>ï¼Œå³ç»´æŠ¤<strong>è¿ç®—æ•°æ ˆ</strong>å’Œ<strong>è¿ç®—ç¬¦æ ˆ</strong>ï¼Œåœ¨å®ç°ä¸­ç¼€è½¬åç¼€çš„è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦è¿ç®—ç¬¦æ ˆå¼¹å‡ºä¸€ä¸ªè¿ç®—ç¬¦ï¼Œè¿ç®—æ•°æ ˆç«‹åˆ»å¼¹å‡º<strong>ä¸¤ä¸ªè¿ç®—æ•°</strong>ï¼Œå¹¶ä¸”å°†è¿ç®—åçš„è¿ç®—æ•°é‡æ–°å…¥æ ˆã€‚</p><p>æ¥ä¸‹æ¥å°±æ˜¯æ¼«é•¿çš„Codingè¿‡ç¨‹ï¼Œä»¥ä¸‹æ˜¯å®ç°ç®€å•è®¡ç®—å™¨åŠŸèƒ½çš„<code>Cauculate</code>ç±»ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cctype&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sstream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculate</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    string expression;  <span class="hljs-comment">// å­˜å‚¨ç”¨æˆ·è¾“å…¥çš„è¡¨è¾¾å¼</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check_if_available</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// æ£€æŸ¥è¡¨è¾¾å¼æ˜¯å¦åˆæ³•</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Calculate</span>(string input_ = <span class="hljs-string">&quot;No input&quot;</span>) : <span class="hljs-built_in">expression</span>(input_) &#123;<br>        <span class="hljs-comment">// åˆ é™¤ç©ºç™½å­—ç¬¦</span><br>        expression.<span class="hljs-built_in">erase</span>(std::<span class="hljs-built_in">remove_if</span>(expression.<span class="hljs-built_in">begin</span>(), expression.<span class="hljs-built_in">end</span>(), ::isspace), expression.<span class="hljs-built_in">end</span>());<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">calculate_result</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// è®¡ç®—è¡¨è¾¾å¼çš„ç»“æœ</span><br>&#125;;<br><br><span class="hljs-comment">// æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯è¿ç®—ç¬¦</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">bool</span> <span class="hljs-title">check_op</span><span class="hljs-params">(<span class="hljs-type">char</span> ch)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> ch == <span class="hljs-string">&#x27;+&#x27;</span> || ch == <span class="hljs-string">&#x27;-&#x27;</span> || ch == <span class="hljs-string">&#x27;*&#x27;</span> || ch == <span class="hljs-string">&#x27;/&#x27;</span> || ch == <span class="hljs-string">&#x27;^&#x27;</span>;<br>&#125;<br><br><span class="hljs-comment">// æ£€æŸ¥å­—ç¬¦æ˜¯å¦æ˜¯æ‹¬å·</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">bool</span> <span class="hljs-title">check_Parentheses</span><span class="hljs-params">(<span class="hljs-type">char</span> ch)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> ch == <span class="hljs-string">&#x27;(&#x27;</span> || ch == <span class="hljs-string">&#x27;)&#x27;</span>;<br>&#125;<br><br><span class="hljs-comment">// æ ¹æ®è¿ç®—ç¬¦è®¡ç®—ä¸¤ä¸ªæ“ä½œæ•°çš„ç»“æœ</span><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">cal</span><span class="hljs-params">(<span class="hljs-type">char</span> op, <span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b)</span> </span>&#123;<br>    <span class="hljs-keyword">switch</span> (op) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>: <span class="hljs-keyword">return</span> a + b;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>: <span class="hljs-keyword">return</span> a - b;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>: <span class="hljs-keyword">return</span> a * b;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>: <span class="hljs-keyword">return</span> a / b;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;^&#x27;</span>: <span class="hljs-keyword">return</span> <span class="hljs-built_in">pow</span>(a, b);<br>        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <span class="hljs-comment">// é»˜è®¤è¿”å› 0</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// æ‰§è¡Œæ ˆæ“ä½œï¼šå¼¹å‡ºè¿ç®—ç¬¦å’Œæ“ä½œæ•°ï¼Œè®¡ç®—ç»“æœå¹¶å‹å…¥æ ˆä¸­</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Stack_operation</span><span class="hljs-params">(stack&lt;<span class="hljs-type">double</span>&gt;&amp; numstack, stack&lt;<span class="hljs-type">char</span>&gt;&amp; opstack)</span> </span>&#123;<br>    <span class="hljs-type">char</span> op = opstack.<span class="hljs-built_in">top</span>();  <span class="hljs-comment">// å¼¹å‡ºæ ˆé¡¶è¿ç®—ç¬¦</span><br>    opstack.<span class="hljs-built_in">pop</span>();<br>    <span class="hljs-type">double</span> num1 = numstack.<span class="hljs-built_in">top</span>(); numstack.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// å¼¹å‡ºç¬¬ä¸€ä¸ªæ“ä½œæ•°</span><br>    <span class="hljs-type">double</span> num2 = numstack.<span class="hljs-built_in">top</span>(); numstack.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// å¼¹å‡ºç¬¬äºŒä¸ªæ“ä½œæ•°</span><br>    numstack.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">cal</span>(op, num2, num1));  <span class="hljs-comment">// è®¡ç®—ç»“æœå¹¶å‹å…¥æ ˆä¸­</span><br>&#125;<br><br><span class="hljs-comment">// æ£€æŸ¥è¡¨è¾¾å¼æ˜¯å¦åˆæ³•</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Calculate::check_if_available</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (expression == <span class="hljs-string">&quot;No input&quot;</span>) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Please input a string!&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-type">int</span> size = expression.<span class="hljs-built_in">length</span>();<br>    stack&lt;<span class="hljs-type">char</span>&gt; parentheses;  <span class="hljs-comment">// ç”¨äºæ£€æŸ¥æ‹¬å·åŒ¹é…</span><br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>        <span class="hljs-type">char</span> ch = expression[i];<br><br>        <span class="hljs-comment">// æ£€æŸ¥æ‹¬å·</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check_Parentheses</span>(ch)) &#123;<br>            <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>                parentheses.<span class="hljs-built_in">push</span>(<span class="hljs-string">&#x27;(&#x27;</span>);  <span class="hljs-comment">// å·¦æ‹¬å·å…¥æ ˆ</span><br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span> (parentheses.<span class="hljs-built_in">empty</span>() || parentheses.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>                    cout &lt;&lt; <span class="hljs-string">&quot;Parentheses match fault!&quot;</span> &lt;&lt; endl;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>                parentheses.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// å³æ‹¬å·åŒ¹é…æˆåŠŸï¼Œå¼¹å‡ºå·¦æ‹¬å·</span><br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// æ£€æŸ¥è¿ç®—ç¬¦</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check_op</span>(ch)) &#123;<br>            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> || i == size - <span class="hljs-number">1</span>) &#123;<br>                cout &lt;&lt; <span class="hljs-string">&quot;Operation Error!&quot;</span> &lt;&lt; endl;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br><br>            <span class="hljs-type">char</span> prev = expression[i - <span class="hljs-number">1</span>];  <span class="hljs-comment">// è¿ç®—ç¬¦å‰ä¸€ä¸ªå­—ç¬¦</span><br>            <span class="hljs-type">char</span> next = expression[i + <span class="hljs-number">1</span>];  <span class="hljs-comment">// è¿ç®—ç¬¦åä¸€ä¸ªå­—ç¬¦</span><br>            <span class="hljs-keyword">if</span> (!((<span class="hljs-built_in">isdigit</span>(prev) || prev == <span class="hljs-string">&#x27;)&#x27;</span>) &amp;&amp; (<span class="hljs-built_in">isdigit</span>(next) || next == <span class="hljs-string">&#x27;(&#x27;</span>))) &#123;<br>                cout &lt;&lt; <span class="hljs-string">&quot;Operation Error!&quot;</span> &lt;&lt; endl;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// æ£€æŸ¥éæ³•å­—ç¬¦</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isdigit</span>(ch) &amp;&amp; ch != <span class="hljs-string">&#x27;.&#x27;</span>) &#123;<br>            cout &lt;&lt; <span class="hljs-string">&quot;INVALID LETTERS&quot;</span> &lt;&lt; endl;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// æ£€æŸ¥æ‹¬å·æ˜¯å¦å…¨éƒ¨åŒ¹é…</span><br>    <span class="hljs-keyword">if</span> (!parentheses.<span class="hljs-built_in">empty</span>()) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Parentheses match fault!&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-comment">// è®¡ç®—è¡¨è¾¾å¼çš„ç»“æœ</span><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Calculate::calculate_result</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>-&gt;<span class="hljs-built_in">check_if_available</span>()) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Wrong!&quot;</span> &lt;&lt; endl;<br>        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);<br>    &#125;<br><br>    stack&lt;<span class="hljs-type">char</span>&gt; opstack;  <span class="hljs-comment">// è¿ç®—ç¬¦æ ˆ</span><br>    stack&lt;<span class="hljs-type">double</span>&gt; numstack;  <span class="hljs-comment">// æ“ä½œæ•°æ ˆ</span><br>    <span class="hljs-type">int</span> size = expression.<span class="hljs-built_in">length</span>();<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>        <span class="hljs-type">char</span> ch = expression[i];<br><br>        <span class="hljs-comment">// å¤„ç†æ•°å­—å’Œå°æ•°ç‚¹</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isdigit</span>(ch) || ch == <span class="hljs-string">&#x27;.&#x27;</span>) &#123;<br>            stringstream ss;<br>            <span class="hljs-keyword">while</span> (i &lt; size &amp;&amp; (<span class="hljs-built_in">isdigit</span>(expression[i]) || expression[i] == <span class="hljs-string">&#x27;.&#x27;</span>)) &#123;<br>                ss &lt;&lt; expression[i++];  <span class="hljs-comment">// å°†æ•°å­—å’Œå°æ•°ç‚¹æ‹¼æ¥åˆ°å­—ç¬¦ä¸²æµä¸­</span><br>            &#125;<br>            i--;  <span class="hljs-comment">// å›é€€ä¸€æ­¥ï¼Œå› ä¸ºå¤–å±‚å¾ªç¯ä¼šå†å¢åŠ ä¸€æ¬¡ i</span><br>            <span class="hljs-type">double</span> num;<br>            ss &gt;&gt; num;  <span class="hljs-comment">// å°†å­—ç¬¦ä¸²æµè½¬æ¢ä¸ºæµ®ç‚¹æ•°</span><br>            numstack.<span class="hljs-built_in">push</span>(num);  <span class="hljs-comment">// å°†æ•°å­—å‹å…¥æ“ä½œæ•°æ ˆ</span><br>        &#125;<br><br>        <span class="hljs-comment">// å¤„ç†è¿ç®—ç¬¦å’Œæ‹¬å·</span><br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">switch</span> (ch) &#123;<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;(&#x27;</span>:<br>                    opstack.<span class="hljs-built_in">push</span>(ch);  <span class="hljs-comment">// å·¦æ‹¬å·ç›´æ¥å…¥æ ˆ</span><br>                    <span class="hljs-keyword">break</span>;<br><br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;)&#x27;</span>:<br>                    <span class="hljs-comment">// å¼¹å‡ºæ ˆé¡¶è¿ç®—ç¬¦å¹¶è®¡ç®—ï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·</span><br>                    <span class="hljs-keyword">while</span> (!opstack.<span class="hljs-built_in">empty</span>() &amp;&amp; opstack.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>                        <span class="hljs-built_in">Stack_operation</span>(numstack, opstack);<br>                    &#125;<br>                    <span class="hljs-keyword">if</span> (!opstack.<span class="hljs-built_in">empty</span>() &amp;&amp; opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>                        opstack.<span class="hljs-built_in">pop</span>();  <span class="hljs-comment">// å¼¹å‡ºå·¦æ‹¬å·</span><br>                    &#125; <span class="hljs-keyword">else</span> &#123;<br>                        cout &lt;&lt; <span class="hljs-string">&quot;Parentheses match fault!&quot;</span> &lt;&lt; endl;<br>                        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);<br>                    &#125;<br>                    <span class="hljs-keyword">break</span>;<br><br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;^&#x27;</span>:<br>                    <span class="hljs-comment">// ä¹˜æ–¹è¿ç®—ç¬¦ä¼˜å…ˆçº§æœ€é«˜ï¼Œç›´æ¥å…¥æ ˆ</span><br>                    opstack.<span class="hljs-built_in">push</span>(ch);<br>                    <span class="hljs-keyword">break</span>;<br><br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span>:<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;/&#x27;</span>:<br>                    <span class="hljs-comment">// å¤„ç†ä¹˜æ³•å’Œé™¤æ³•è¿ç®—ç¬¦</span><br>                    <span class="hljs-keyword">while</span> (!opstack.<span class="hljs-built_in">empty</span>() &amp;&amp; opstack.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span> &amp;&amp;<br>                        (opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;^&#x27;</span> || opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;*&#x27;</span> || opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;/&#x27;</span>)) &#123;<br>                        <span class="hljs-built_in">Stack_operation</span>(numstack, opstack);<br>                    &#125;<br>                    opstack.<span class="hljs-built_in">push</span>(ch);  <span class="hljs-comment">// å½“å‰è¿ç®—ç¬¦å…¥æ ˆ</span><br>                    <span class="hljs-keyword">break</span>;<br><br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;+&#x27;</span>:<br>                <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span>:<br>                    <span class="hljs-comment">// å¤„ç†åŠ æ³•å’Œå‡æ³•è¿ç®—ç¬¦</span><br>                    <span class="hljs-keyword">while</span> (!opstack.<span class="hljs-built_in">empty</span>() &amp;&amp; opstack.<span class="hljs-built_in">top</span>() != <span class="hljs-string">&#x27;(&#x27;</span> &amp;&amp;<br>                        (opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;^&#x27;</span> || opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;*&#x27;</span> || opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;/&#x27;</span> ||<br>                            opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;+&#x27;</span> || opstack.<span class="hljs-built_in">top</span>() == <span class="hljs-string">&#x27;-&#x27;</span>)) &#123;<br>                        <span class="hljs-built_in">Stack_operation</span>(numstack, opstack);<br>                    &#125;<br>                    opstack.<span class="hljs-built_in">push</span>(ch);  <span class="hljs-comment">// å½“å‰è¿ç®—ç¬¦å…¥æ ˆ</span><br>                    <span class="hljs-keyword">break</span>;<br><br>                <span class="hljs-keyword">default</span>:<br>                    <span class="hljs-comment">// éæ³•å­—ç¬¦ï¼ˆå·²ç»åœ¨ check_if_available ä¸­æ£€æŸ¥è¿‡ï¼Œè¿™é‡Œä¸ä¼šæ‰§è¡Œï¼‰</span><br>                    <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// æ¸…ç©ºæ ˆä¸­å‰©ä½™çš„è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">while</span> (!opstack.<span class="hljs-built_in">empty</span>()) &#123;<br>        <span class="hljs-built_in">Stack_operation</span>(numstack, opstack);<br>    &#125;<br><br>    <span class="hljs-comment">// è¿”å›æœ€ç»ˆç»“æœ</span><br>    <span class="hljs-keyword">return</span> numstack.<span class="hljs-built_in">top</span>();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    string inputstr;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Enter the expression (or &#x27;q&#x27; to quit): &quot;</span> &lt;&lt; endl;<br>        <span class="hljs-built_in">getline</span>(cin, inputstr);<br>        <span class="hljs-keyword">if</span> (inputstr == <span class="hljs-string">&quot;q&quot;</span>) <span class="hljs-keyword">break</span>;<br>        <span class="hljs-function">Calculate <span class="hljs-title">test</span><span class="hljs-params">(inputstr)</span></span>;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Result: &quot;</span> &lt;&lt; test.<span class="hljs-built_in">calculate_result</span>() &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
      <tag>Stack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>DataStructure-LinearList</title>
    <link href="/posts/DataStructure-LinearList/"/>
    <url>/posts/DataStructure-LinearList/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®ç»“æ„â€”â€”çº¿æ€§è¡¨"><a href="#æ•°æ®ç»“æ„â€”â€”çº¿æ€§è¡¨" class="headerlink" title="æ•°æ®ç»“æ„â€”â€”çº¿æ€§è¡¨"></a>æ•°æ®ç»“æ„â€”â€”çº¿æ€§è¡¨</h1><p><a href="https://blog.csdn.net/weixin_73616913/article/details/130185228">å°é¢å›¾ç‰‡å‡ºå¤„</a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>This article introduces the basic data structure of linear tables, including their sequential and linked implementations. At the same time, this paper gives the definitions of the abstract base class of linear tables and the header files and member functions of the derived classes of two linear tables, and finally introduces the linear tables in STL.</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹æ•°æ®ç»“æ„ä¸­ç¬¬ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„ä¸€ç§æ•°æ®ç»“æ„â€”â€”<strong>çº¿æ€§ç»“æ„</strong></p><div class="note note-primary">            <p><strong>å‰ç½®çŸ¥è¯†å›é¡¾</strong></p><p><strong>æ•°æ®ç»“æ„ï¼šå»ºæ¨¡â€”â€”æ±‚è§£ï¼ˆåŸºäºæ•°æ®ç»“æ„çš„ç®—æ³•ï¼‰</strong></p><ul><li>æ•°æ®å…ƒç´ çš„å­˜å‚¨ï¼šå†…ç½®ç±»å‹å’Œç»“æ„ä½“ç±»å‹</li><li>æ•°æ®å…³ç³»çš„<strong>å­˜å‚¨</strong>ï¼š<ul><li>é¡ºåº</li><li>é“¾æ¥</li><li>æ•£åˆ—</li><li>ç´¢å¼•</li></ul></li></ul>          </div><h2 id="çº¿æ€§ç»“æ„"><a href="#çº¿æ€§ç»“æ„" class="headerlink" title="çº¿æ€§ç»“æ„"></a>çº¿æ€§ç»“æ„</h2><p>ç‰¹ç‚¹ï¼šä¸€å¯¹ä¸€ï¼Œæœ‰åº</p><blockquote><p>Definitionï¼š<strong>å…·æœ‰ç›¸åŒç‰¹å¾çš„èŠ‚ç‚¹æ„æˆçš„æœ‰åºåºåˆ—</strong></p></blockquote><p>é¦–èŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹ï¼Œå‰ç»§èŠ‚ç‚¹ï¼Œåç»§ç»“ç‚¹</p><p><strong>åˆ†ç±»</strong>ï¼š</p><ul><li>çº¿æ€§è¡¨ï¼ˆç›¸å¯¹ä½ç½®ï¼‰</li><li>æ—¶é—´æœ‰åºè¡¨ï¼ˆæ—¶é—´å…ˆåï¼‰<ul><li>æ ˆï¼ˆ3ï¼‰</li><li>é˜Ÿåˆ—ï¼ˆ4ï¼‰</li></ul></li><li>é¢‘ç‡æœ‰åºè¡¨ï¼ˆé¢‘ç‡å…ˆåï¼‰</li><li>æ’åºè¡¨ï¼ˆå…³é”®å­—å€¼ Keyï¼‰<ul><li>æ’åº</li></ul></li></ul><h2 id="çº¿æ€§è¡¨"><a href="#çº¿æ€§è¡¨" class="headerlink" title="çº¿æ€§è¡¨"></a>çº¿æ€§è¡¨</h2><p><strong>ä»…æœ‰èŠ‚ç‚¹çš„ç›¸äº’ä½ç½®</strong>æ¥ç¡®å®šèŠ‚ç‚¹çš„å…³ç³»ã€‚0,1,2,3,4,5â€¦ï¼Œn-1,n</p><h3 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h3><ul><li>åˆ›å»ºçº¿æ€§è¡¨</li><li>æ¸…é™¤çº¿æ€§è¡¨</li><li>æ±‚é•¿åº¦</li><li>æ’å…¥èŠ‚ç‚¹ï¼Œåˆ é™¤èŠ‚ç‚¹ï¼Œæœç´¢èŠ‚ç‚¹ï¼šOï¼ˆNï¼‰</li><li>æ‰©å……æ•°ç»„<ul><li>ç”³è¯·ä¸€ä¸ªæ›´å¤§è§„æ¨¡çš„åŠ¨æ€æ•°ç»„</li><li>å°†åŸæ•°ç»„çš„å†…å®¹æ‹·è´åˆ°æ–°çš„åŠ¨æ€æ•°ç»„ä¸Š</li><li>deleteæ‰åŸæ¥çš„æ•°ç»„</li><li>å°†æ–°æ•°ç»„ä½œä¸ºæ–°çš„å­˜å‚¨åŒº</li></ul></li><li>ç´¢å¼•</li><li>æŒ‰åºéå†è®¿é—®</li></ul><h3 id="çº¿æ€§è¡¨çš„å®ç°"><a href="#çº¿æ€§è¡¨çš„å®ç°" class="headerlink" title="çº¿æ€§è¡¨çš„å®ç°"></a>çº¿æ€§è¡¨çš„å®ç°</h3><h4 id="é¡ºåºå®ç°ï¼ˆæ•°ç»„ï¼‰"><a href="#é¡ºåºå®ç°ï¼ˆæ•°ç»„ï¼‰" class="headerlink" title="é¡ºåºå®ç°ï¼ˆæ•°ç»„ï¼‰"></a>é¡ºåºå®ç°ï¼ˆæ•°ç»„ï¼‰</h4><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/array.assets/array_definition.png" alt="æ•°ç»„å®šä¹‰ä¸å­˜å‚¨æ–¹å¼"></p><p><strong>ä½¿ç”¨ç‰©ç†ä½ç½®çš„é‚»æ¥å…³ç³»è¡¨ç¤ºé€»è¾‘çš„é‚»æ¥å…³ç³»</strong></p><p>ä¼˜ç‚¹ï¼š</p><ul><li>æ— éœ€å¢åŠ é¢å¤–çš„å­˜å‚¨ç©ºé—´</li><li>æ–¹ä¾¿è®¿é—®è¡¨ä¸­çš„ä»»æ„èŠ‚ç‚¹</li></ul><p>ç¼ºç‚¹ï¼š<strong>æ’å…¥å’Œåˆ é™¤çš„æ“ä½œæ•ˆç‡ä½ï¼Œç©ºé—´æµªè´¹</strong></p><ul><li>æŒ‡å‘çº¿æ€§è¡¨å…ƒç´ ç±»å‹çš„æŒ‡é’ˆ</li><li>æ•°ç»„è§„æ¨¡ï¼ˆæœ€å¤§çš„å…ƒç´ ä¸ªæ•°ï¼‰</li><li>æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°</li></ul><h4 id="é“¾æ¥å®ç°ï¼ˆé“¾è¡¨-ï¼‰"><a href="#é“¾æ¥å®ç°ï¼ˆé“¾è¡¨-ï¼‰" class="headerlink" title="é“¾æ¥å®ç°ï¼ˆé“¾è¡¨ ï¼‰"></a>é“¾æ¥å®ç°ï¼ˆé“¾è¡¨ ï¼‰</h4><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list.assets/linkedlist_definition.png" alt="é“¾è¡¨å®šä¹‰ä¸å­˜å‚¨æ–¹å¼"></p><ul><li>å•é“¾è¡¨ï¼ŒåŒé“¾è¡¨ï¼Œå¾ªç¯é“¾è¡¨</li><li><strong>å¤´ç»“ç‚¹</strong>ï¼šä¿è¯ä¸ç”¨å¯¹é¦–å…ƒç´ è¿›è¡Œç‰¹æ®Šè®¨è®º</li></ul><h2 id="çº¿æ€§è¡¨çš„ç±»çš„å®ç°"><a href="#çº¿æ€§è¡¨çš„ç±»çš„å®ç°" class="headerlink" title="çº¿æ€§è¡¨çš„ç±»çš„å®ç°"></a>çº¿æ€§è¡¨çš„ç±»çš„å®ç°</h2><ul><li>çº¿æ€§è¡¨çš„æŠ½è±¡ç±»</li><li><strong>é¡ºåºè¡¨ç±»</strong></li><li><strong>é“¾æ¥è¡¨ç±»</strong></li></ul><blockquote><p>å°tipsï¼šä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä»¥ä¸‹çš„ç±»å®ç°éƒ½ä¼šä½¿ç”¨<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>åˆ°<strong>å †</strong>ä¸Šï¼Œä½†å®é™…ä¸Šï¼Œå †çš„å†…å­˜æ›´å®¹æ˜“ç¢ç‰‡åŒ–ï¼Œæ•ˆç‡æ²¡æœ‰æ ˆé«˜</p></blockquote><h3 id="çº¿æ€§è¡¨çš„æŠ½è±¡ç±»"><a href="#çº¿æ€§è¡¨çš„æŠ½è±¡ç±»" class="headerlink" title="çº¿æ€§è¡¨çš„æŠ½è±¡ç±»"></a>çº¿æ€§è¡¨çš„æŠ½è±¡ç±»</h3><p><strong>ç±»æ¨¡æ¿</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">List</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">List</span>() &#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">const</span> ElementType&amp; element)</span> </span>= <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>= <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> ElementType <span class="hljs-title">fetch</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">traverse</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><div class="note note-primary">            <p>æœ‰å…³çº¿æ€§è¡¨æŠ½è±¡åŸºç±»çš„è‹¥å¹²è¯´æ˜ï¼š</p><ul><li><code>=0</code>ä»£è¡¨åœ¨<strong>æŠ½è±¡åŸºç±»</strong>ä¸­å‡½æ•°åœ¨åŸºç±»ä¸­ä¸å®ç°ï¼Œåªåœ¨æ´¾ç”Ÿç±»ä¸­å®ç°ã€‚ï¼ˆè¿™ä¹Ÿç¬¦åˆæŠ½è±¡åŸºç±»çš„è®¾è®¡åŸç†ï¼‰<ul><li><code>=0</code>ä»£è¡¨è¿™æ˜¯æ‰€æœ‰æ´¾ç”Ÿç±»çš„å…±åŒç‰¹å¾ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„æ´¾ç”Ÿç±»ä¸­åˆæœ‰å„è‡ªä¸åŒçš„å®ç°æ–¹å¼</li></ul></li><li><code>const</code>ä»£è¡¨ä¸å¯ä»¥ä¿®æ”¹<strong>æ•°æ®æˆå‘˜</strong></li><li>åœ¨æŠ½è±¡åŸºç±»ä¸­å¹¶æœªå®šä¹‰æ•°æ®æˆå‘˜ï¼Œå› ä¸ºä¸åŒçš„çº¿æ€§è¡¨çš„å®ç°æ–¹å¼ä¸­ï¼ŒèŠ‚ç‚¹çš„å®šä¹‰æ˜¯ä¸åŒçš„ï¼š<ul><li>åœ¨é¡ºåºè¡¨ç±»ä¸­ï¼ŒèŠ‚ç‚¹å°±æ˜¯ç›´æ¥çš„æ•°æ®å­˜å‚¨</li><li>åœ¨é“¾æ¥è¡¨ç±»ä¸­ï¼ŒèŠ‚ç‚¹è¿˜éœ€è¦åŒ…æ‹¬æŒ‡é’ˆï¼ˆå‰é©±æŒ‡é’ˆå’Œåç»§æŒ‡é’ˆï¼‰</li></ul></li></ul>          </div><h3 id="é¡ºåºè¡¨ç±»"><a href="#é¡ºåºè¡¨ç±»" class="headerlink" title="é¡ºåºè¡¨ç±»"></a>é¡ºåºè¡¨ç±»</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Exception.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;List.h&quot;</span></span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SequentialList</span> : <span class="hljs-keyword">public</span> List&lt;ElementType&gt;<br>&#123;<br><span class="hljs-keyword">private</span>:<br>ElementType* elementData;<br><span class="hljs-type">int</span> currentLength, totalCapacity;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">expand</span><span class="hljs-params">()</span></span>;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-built_in">SequentialList</span>(<span class="hljs-type">int</span> size = <span class="hljs-number">10</span>);<br>~<span class="hljs-built_in">SequentialList</span>();<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">capacity</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">const</span> ElementType&amp; element)</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function">ElementType <span class="hljs-title">fetch</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traverse</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function">ElementType <span class="hljs-title">back</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">append</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cancel</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">resize</span><span class="hljs-params">(<span class="hljs-type">int</span> size)</span></span>;<br>ElementType&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index);<br>ElementType&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index) <span class="hljs-type">const</span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//expand the list for a larger memory</span><br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">expand</span>()<br>&#123;<br>ElementType* tempData = elementData;<br>totalCapacity *= <span class="hljs-number">2</span>;<br>elementData = <span class="hljs-keyword">new</span> ElementType[totalCapacity];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; currentLength; i++)<br>elementData[i] = tempData[i];<br><span class="hljs-keyword">delete</span>[] tempData;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//constructor function</span><br>SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">SequentialList</span>(<span class="hljs-type">int</span> size)<br>&#123;<br>currentLength = <span class="hljs-number">0</span>;<br>totalCapacity = size;<br>elementData = <span class="hljs-keyword">new</span> ElementType[size];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//destructor function</span><br>SequentialList&lt;ElementType&gt;::~<span class="hljs-built_in">SequentialList</span>()<br>&#123;<br><span class="hljs-keyword">delete</span>[] elementData;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//clear the list</span><br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">clear</span>()<br>&#123;<br>currentLength = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//the const means the function cannot modify the value of the statics of the object</span><br><span class="hljs-type">int</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">length</span>() <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-keyword">return</span> currentLength;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">int</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">capacity</span>() <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-keyword">return</span> totalCapacity;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//insert the value on a certain index</span><br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">insert</span>(<span class="hljs-type">int</span> index, <span class="hljs-type">const</span> ElementType&amp; element)<br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt; currentLength)<span class="hljs-comment">//the index is INVALID</span><br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br><span class="hljs-keyword">if</span> (currentLength == totalCapacity)<br><span class="hljs-built_in">expand</span>();<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = currentLength; i &gt; index; i--)<br>elementData[i] = elementData[i - <span class="hljs-number">1</span>];<br>    <span class="hljs-comment">//move each element backwards</span><br>elementData[index] = element;<br>currentLength++;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-comment">//delete the element on a certain index</span><br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">remove</span>(<span class="hljs-type">int</span> index)<br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = index; i &lt; currentLength - <span class="hljs-number">1</span>; i++)<br>elementData[i] = elementData[i + <span class="hljs-number">1</span>];<br>currentLength--;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">int</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">find</span>(<span class="hljs-type">const</span> ElementType&amp; element) <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-type">int</span> i;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; currentLength &amp;&amp; elementData[i] != element; i++)<br>;<br>    <span class="hljs-comment">//the loop end if the tarverse ends or the target element has been found</span><br><span class="hljs-keyword">if</span> (i == currentLength)<br><span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> i;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">fetch</span>(<span class="hljs-type">int</span> index) <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br><span class="hljs-keyword">return</span> elementData[index];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">traverse</span>() <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; currentLength; i++)<br>std::cout &lt;&lt; elementData[i] &lt;&lt; <span class="hljs-string">&quot;\t&quot;</span>;<br>std::cout &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">back</span>()<br>    <span class="hljs-comment">//return the last element</span><br>&#123;<br><span class="hljs-keyword">return</span> elementData[currentLength - <span class="hljs-number">1</span>];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">append</span>(<span class="hljs-type">const</span> ElementType&amp; element)<br>&#123;<br><span class="hljs-built_in">insert</span>(currentLength, element);<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">cancel</span>()<br>&#123;<br><span class="hljs-built_in">remove</span>(currentLength - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SequentialList&lt;ElementType&gt;::<span class="hljs-built_in">resize</span>(<span class="hljs-type">int</span> size)<br>&#123;<br><span class="hljs-keyword">if</span> (size &lt;= totalCapacity)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">InvalidModify</span>();<br>ElementType* tempData = elementData;<br>totalCapacity = size;<br>elementData = <span class="hljs-keyword">new</span> ElementType[totalCapacity];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; currentLength; i++)<br>elementData[i] = tempData[i];<br><span class="hljs-keyword">delete</span>[] tempData;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType&amp; SequentialList&lt;ElementType&gt;::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index)<br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br><span class="hljs-keyword">return</span> elementData[index];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType&amp; SequentialList&lt;ElementType&gt;::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> index) <span class="hljs-type">const</span><br>    <span class="hljs-comment">//Operator Overloading with const</span><br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br><span class="hljs-keyword">return</span> elementData[index];<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å•é“¾è¡¨ç±»"><a href="#å•é“¾è¡¨ç±»" class="headerlink" title="å•é“¾è¡¨ç±»"></a>å•é“¾è¡¨ç±»</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Exception.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;List.h&quot;</span></span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SingleLinkedList</span> : <span class="hljs-keyword">public</span> List&lt;ElementType&gt;<br>&#123;<br><span class="hljs-keyword">private</span>:<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span><br>&#123;<br>ElementType data;<br>ListNode* next;<br><span class="hljs-built_in">ListNode</span>() : <span class="hljs-built_in">data</span>(), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>) &#123;&#125;<br><span class="hljs-built_in">ListNode</span>(<span class="hljs-type">const</span> ElementType&amp; _data, ListNode* _next = <span class="hljs-literal">nullptr</span>) : <span class="hljs-built_in">data</span>(_data), <span class="hljs-built_in">next</span>(_next) &#123;&#125;<br>        <span class="hljs-comment">//constructor</span><br>~<span class="hljs-built_in">ListNode</span>() &#123;&#125;<br>        <span class="hljs-comment">//destructor</span><br>&#125;;<br>ListNode* head;<br><span class="hljs-type">int</span> currentLength;<br><span class="hljs-function">ListNode* <span class="hljs-title">place</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> <span class="hljs-type">const</span></span>;<br><br><span class="hljs-keyword">public</span>:<br><span class="hljs-built_in">SingleLinkedList</span>();<br>~<span class="hljs-built_in">SingleLinkedList</span>();<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">const</span> ElementType&amp; element)</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function">ElementType <span class="hljs-title">fetch</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">traverse</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">append</span><span class="hljs-params">(<span class="hljs-type">const</span> ElementType&amp; element)</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">erase</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-keyword">typename</span> SingleLinkedList&lt;ElementType&gt;::ListNode* SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">place</span>(<span class="hljs-type">int</span> index) <span class="hljs-type">const</span><br>&#123;<br>ListNode* p = head;<br><span class="hljs-keyword">while</span> (index &gt;= <span class="hljs-number">0</span>)<br>&#123;<br>index--;<br>p = p-&gt;next;<br>&#125;<br><span class="hljs-keyword">return</span> p;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">SingleLinkedList</span>()<br>&#123;<br>head = <span class="hljs-keyword">new</span> ListNode;<br>currentLength = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>SingleLinkedList&lt;ElementType&gt;::~<span class="hljs-built_in">SingleLinkedList</span>()<br>&#123;<br><span class="hljs-built_in">clear</span>();<br><span class="hljs-keyword">delete</span> head;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">clear</span>()<br>&#123;<br>ListNode* p = head-&gt;next, * q;<br>head-&gt;next = <span class="hljs-literal">nullptr</span>;<br><span class="hljs-keyword">while</span> (p != <span class="hljs-literal">nullptr</span>)<br>&#123;<br>q = p-&gt;next;<br><span class="hljs-keyword">delete</span> p;<br>p = q;<br>&#125;<br>currentLength = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">int</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">length</span>() <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-keyword">return</span> currentLength;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">insert</span>(<span class="hljs-type">int</span> index, <span class="hljs-type">const</span> ElementType&amp; element)<br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt; currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br>ListNode* p = <span class="hljs-built_in">place</span>(index - <span class="hljs-number">1</span>);<br>p-&gt;next = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(element, p-&gt;next);<br>currentLength++;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">remove</span>(<span class="hljs-type">int</span> index)<br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br>ListNode* p = <span class="hljs-built_in">place</span>(index - <span class="hljs-number">1</span>), * q = p-&gt;next;<br>p-&gt;next = q-&gt;next;<br><span class="hljs-keyword">delete</span> q;<br>currentLength--;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">int</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">find</span>(<span class="hljs-type">const</span> ElementType&amp; element) <span class="hljs-type">const</span><br>&#123;<br>ListNode* p = head-&gt;next;<br><span class="hljs-type">int</span> index = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (p != <span class="hljs-literal">nullptr</span> &amp;&amp; p-&gt;data != element)<br>&#123;<br>p = p-&gt;next;<br>index++;<br>&#125;<br><span class="hljs-keyword">if</span> (p == <span class="hljs-literal">nullptr</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> index;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br>ElementType SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">fetch</span>(<span class="hljs-type">int</span> index) <span class="hljs-type">const</span><br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">place</span>(index)-&gt;data;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">traverse</span>() <span class="hljs-type">const</span><br>&#123;<br>ListNode* p = head-&gt;next;<br><span class="hljs-keyword">while</span> (p != <span class="hljs-literal">nullptr</span>)<br>&#123;<br>std::cout &lt;&lt; p-&gt;data &lt;&lt; <span class="hljs-string">&quot;\t&quot;</span>;<br>p = p-&gt;next;<br>&#125;<br>std::cout &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">append</span>(<span class="hljs-type">const</span> ElementType&amp; element)<br>&#123;<br><span class="hljs-built_in">insert</span>(currentLength, element);<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> ElementType&gt;<br><span class="hljs-type">void</span> SingleLinkedList&lt;ElementType&gt;::<span class="hljs-built_in">erase</span>(<span class="hljs-type">int</span> index)<br>&#123;<br><span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= currentLength)<br><span class="hljs-keyword">throw</span> <span class="hljs-built_in">IndexExceed</span>();<br>ListNode* p = <span class="hljs-built_in">place</span>(index - <span class="hljs-number">1</span>), * q = p-&gt;next;<br>ElementType target = q-&gt;data;<br>p-&gt;next = q-&gt;next;<br><span class="hljs-keyword">delete</span> q;<br><span class="hljs-type">int</span> count = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> (p = head; p-&gt;next != <span class="hljs-literal">nullptr</span>;)<br>&#123;<br><span class="hljs-keyword">if</span> (p-&gt;next-&gt;data == target)<br>&#123;<br>q = p-&gt;next;<br>p-&gt;next = q-&gt;next;<br><span class="hljs-keyword">delete</span> q;<br>count++;<br>&#125;<br><span class="hljs-keyword">else</span><br>p = p-&gt;next;<br>&#125;<br>currentLength -= count;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="STLï¼šStandard-Template-Library"><a href="#STLï¼šStandard-Template-Library" class="headerlink" title="STLï¼šStandard Template Library"></a>STLï¼šStandard Template Library</h2><p><strong>æ³›å‹æ€æƒ³</strong>ï¼š</p><ul><li>æŠŠç®—æ³•å’Œæ•°æ®ç±»å‹åˆ†ç¦»ï¼š<strong>æ¨¡ç‰ˆå‡½æ•°</strong></li><li>æŠŠç®—æ³•å’Œå®¹å™¨åˆ†ç¦»ï¼š<strong>STLå’Œè¿­ä»£å™¨</strong></li><li>æŠŠå®¹å™¨å’Œæ•°æ®ç±»å‹åˆ†ç¦»ï¼š<strong>æ¨¡æ¿ç±»</strong></li></ul><p>å®¹å™¨ï¼Œè¿­ä»£å™¨ï¼Œç®—æ³•</p><p><strong>è¿­ä»£å™¨</strong>ï¼šä¸ºæ¯ä¸€ç§å®¹å™¨å®šä¹‰çš„è¡¨ç¤ºå…¶å…ƒç´ ç›¸å¯¹ä½ç½®çš„ç±»å‹ï¼Œè¿­ä»£å™¨å¯¹è±¡ç›¸å½“äºæŒ‡å‘å®¹å™¨ä¸­æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆï¼Œä»–å°†å®¹å™¨ä¸­å¯¹è±¡çš„ä½ç½®ä¿¡æ¯å°è£…äº†èµ·æ¥ã€‚<strong>ä»ä½¿ç”¨è€…çš„è§’åº¦è€Œè¨€ï¼Œå¯ä»¥æŠŠè¿­ä»£å™¨å½“ä½œä¸€ç§æŠ½è±¡çš„æŒ‡é’ˆã€‚</strong></p><p>æ¯ä¸ªå®¹å™¨æä¾›ä¸¤ç§è¿­ä»£å™¨ï¼Œ<code>const</code>å’Œé<code>const</code></p><div class="note note-info">            <p><strong>è¡¥å……çŸ¥è¯†ç‚¹ï¼šè¿­ä»£å™¨ä¸­é‡è½½çš„å¸¸è§è¿ç®—ç¬¦</strong></p><p>åœ¨ C++ ä¸­ï¼Œè¿­ä»£å™¨é€šå¸¸ä¼šé‡è½½ä¸€ç»„è¿ç®—ç¬¦ï¼Œä»¥ä¾¿åƒæŒ‡é’ˆä¸€æ ·ä½¿ç”¨å®ƒä»¬ã€‚è¿™äº›è¿ç®—ç¬¦ä½¿å¾—è¿­ä»£å™¨èƒ½å¤Ÿåœ¨å®¹å™¨ä¸­è¿›è¡Œéå†ã€ç´¢å¼•ä»¥åŠä¿®æ”¹æ•°æ®ã€‚å…·ä½“æ¥è¯´ï¼Œå¸¸è§çš„è¿­ä»£å™¨ä¼šé‡è½½ä»¥ä¸‹è¿ç®—ç¬¦ï¼š</p><ol><li><strong>è§£å¼•ç”¨è¿ç®—ç¬¦ <code>\*</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šè®¿é—®è¿­ä»£å™¨å½“å‰æŒ‡å‘çš„å…ƒç´ ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 1ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ </span><br></code></pre></td></tr></table></figure></li></ul><ol start="2"><li><strong>ç®­å¤´è¿ç®—ç¬¦ <code>-&gt;</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šé€šè¿‡è¿­ä»£å™¨è®¿é—®æŒ‡å‘å¯¹è±¡çš„æˆå‘˜ï¼ˆé€‚ç”¨äºæŒ‡å‘å¯¹è±¡çš„è¿­ä»£å™¨ï¼Œå¦‚ <code>std::map</code>ã€<code>std::unordered_map</code> ç­‰ï¼‰ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt; v = &#123;&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br>std::cout &lt;&lt; it-&gt;first &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; it-&gt;second;  <span class="hljs-comment">// è¾“å‡º 1, 2</span><br></code></pre></td></tr></table></figure></li></ul><ol start="3"><li><strong>å‰ç½®é€’å¢è¿ç®—ç¬¦ <code>++</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šå°†è¿­ä»£å™¨å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼ŒæŒ‡å‘å®¹å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br>++it;  <span class="hljs-comment">// å°†è¿­ä»£å™¨ç§»åŠ¨åˆ°ç¬¬äºŒä¸ªå…ƒç´ </span><br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 2</span><br></code></pre></td></tr></table></figure></li></ul><ol start="4"><li><strong>åç½®é€’å¢è¿ç®—ç¬¦ <code>++</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šä¸å‰ç½®é€’å¢è¿ç®—ç¬¦ç±»ä¼¼ï¼Œä½†å®ƒä¼šè¿”å›ç§»åŠ¨å‰çš„è¿­ä»£å™¨ï¼Œé€šå¸¸ç”¨äºèµ‹å€¼æ“ä½œä¸­ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br><span class="hljs-keyword">auto</span> it_copy = it++;  <span class="hljs-comment">// it_copy æ˜¯ç§»åŠ¨å‰çš„è¿­ä»£å™¨ï¼Œit ä¼šå‘å‰ç§»åŠ¨</span><br>std::cout &lt;&lt; *it_copy;  <span class="hljs-comment">// è¾“å‡º 1</span><br>std::cout &lt;&lt; *it;       <span class="hljs-comment">// è¾“å‡º 2</span><br></code></pre></td></tr></table></figure></li></ul><ol start="5"><li><strong>å‰ç½®é€’å‡è¿ç®—ç¬¦ <code>--</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šå°†è¿­ä»£å™¨å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼ŒæŒ‡å‘å®¹å™¨ä¸­çš„å‰ä¸€ä¸ªå…ƒç´ ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">end</span>();<br>--it;  <span class="hljs-comment">// å°†è¿­ä»£å™¨ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´ </span><br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 4</span><br></code></pre></td></tr></table></figure></li></ul><ol start="6"><li><strong>åç½®é€’å‡è¿ç®—ç¬¦ <code>--</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šä¸å‰ç½®é€’å‡è¿ç®—ç¬¦ç±»ä¼¼ï¼Œä½†å®ƒä¼šè¿”å›ç§»åŠ¨å‰çš„è¿­ä»£å™¨ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">end</span>();<br><span class="hljs-keyword">auto</span> it_copy = it--;  <span class="hljs-comment">// it_copy æ˜¯ç§»åŠ¨å‰çš„è¿­ä»£å™¨ï¼Œit ä¼šå‘åç§»åŠ¨</span><br>std::cout &lt;&lt; *it_copy;  <span class="hljs-comment">// è¾“å‡º 4</span><br>std::cout &lt;&lt; *it;       <span class="hljs-comment">// è¾“å‡º 3</span><br></code></pre></td></tr></table></figure></li></ul><ol start="7"><li><strong>æ¯”è¾ƒè¿ç®—ç¬¦ <code>==</code> å’Œ <code>!=</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šæ¯”è¾ƒä¸¤ä¸ªè¿­ä»£å™¨æ˜¯å¦ç›¸ç­‰ã€‚å¯¹äºå®¹å™¨ä¸­çš„å…ƒç´ ï¼Œè¿­ä»£å™¨ <code>==</code> è¡¨ç¤ºå®ƒä»¬æŒ‡å‘åŒä¸€ä¸ªä½ç½®ï¼Œ<code>!=</code> è¡¨ç¤ºå®ƒä»¬æŒ‡å‘ä¸åŒçš„ä½ç½®ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it1 = v.<span class="hljs-built_in">begin</span>();<br><span class="hljs-keyword">auto</span> it2 = v.<span class="hljs-built_in">begin</span>();<br><span class="hljs-keyword">auto</span> it3 = v.<span class="hljs-built_in">end</span>();<br><br>std::cout &lt;&lt; (it1 == it2);  <span class="hljs-comment">// è¾“å‡º 1 (true)</span><br>std::cout &lt;&lt; (it1 != it3);  <span class="hljs-comment">// è¾“å‡º 1 (true)</span><br></code></pre></td></tr></table></figure></li></ul><ol start="8"><li><strong>åŠ æ³•è¿ç®—ç¬¦ <code>+</code>ï¼ˆæŸäº›è¿­ä»£å™¨ï¼‰</strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šå…è®¸è¿­ä»£å™¨è·³è¿‡å¤šä¸ªå…ƒç´ ï¼Œé€šå¸¸è¿”å›ä¸€ä¸ªæ–°çš„è¿­ä»£å™¨ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br>it = it + <span class="hljs-number">2</span>;  <span class="hljs-comment">// è·³è¿‡ä¸¤ä¸ªå…ƒç´ ï¼ŒæŒ‡å‘ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 3</span><br></code></pre></td></tr></table></figure></li></ul><ol start="9"><li><strong>å‡æ³•è¿ç®—ç¬¦ <code>-</code>ï¼ˆæŸäº›è¿­ä»£å™¨ï¼‰</strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šå…è®¸è¿­ä»£å™¨å‘å›è·³è¿‡å¤šä¸ªå…ƒç´ ã€‚</p></li><li><p>ç¤ºä¾‹</p><p>ï¼ˆå¯¹äºéšæœºè®¿é—®è¿­ä»£å™¨ï¼Œå¦‚ <code>std::vector</code>ï¼‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">end</span>();<br>it = it - <span class="hljs-number">2</span>;  <span class="hljs-comment">// å‘å›è·³è¿‡ä¸¤ä¸ªå…ƒç´ ï¼ŒæŒ‡å‘ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 3</span><br></code></pre></td></tr></table></figure></li></ul><ol start="10"><li><strong>åŠ æ³•èµ‹å€¼è¿ç®—ç¬¦ <code>+=</code> å’Œ å‡æ³•èµ‹å€¼è¿ç®—ç¬¦ <code>-=</code></strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šä½¿è¿­ä»£å™¨å‘å‰æˆ–å‘åç§»åŠ¨æŒ‡å®šçš„æ­¥æ•°ã€‚</p></li><li><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br>it += <span class="hljs-number">2</span>;  <span class="hljs-comment">// å‘å‰ç§»åŠ¨ä¸¤ä¸ªä½ç½®ï¼ŒæŒ‡å‘ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 3</span><br>it -= <span class="hljs-number">1</span>;  <span class="hljs-comment">// å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®</span><br>std::cout &lt;&lt; *it;  <span class="hljs-comment">// è¾“å‡º 2</span><br></code></pre></td></tr></table></figure></li></ul><ol start="11"><li><strong>ä¸‹æ ‡è¿ç®—ç¬¦ <code>[]</code>ï¼ˆé€‚ç”¨äºéšæœºè®¿é—®è¿­ä»£å™¨ï¼‰</strong></li></ol><ul><li><p><strong>ä½œç”¨</strong>ï¼šé€šè¿‡ä¸‹æ ‡è®¿é—®è¿­ä»£å™¨å½“å‰æ‰€æŒ‡å‘çš„å…ƒç´ ã€‚</p></li><li><p>ç¤ºä¾‹</p><p>ï¼ˆå¯¹äºéšæœºè®¿é—®è¿­ä»£å™¨ï¼Œå¦‚ <code>std::vector</code>ï¼‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br><span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>();<br>std::cout &lt;&lt; it[<span class="hljs-number">2</span>];  <span class="hljs-comment">// è¾“å‡º 3</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>æ³¨æ„ï¼š8,9,10,11ä¸€èˆ¬é€‚ç”¨äºéšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆæ”¯æŒä»»æ„ä½ç½®çš„è·³è·ƒè®¿é—®å’Œç›´æ¥è·³è½¬ï¼Œå› æ­¤å¯ä»¥å®ç°é«˜æ•ˆçš„å‰åç§»åŠ¨ï¼‰ï¼Œå¯¹åº”çš„å®¹å™¨æœ‰çº¿æ€§å®¹å™¨ï¼Œå¦‚ <code>std::vector</code>ã€<code>std::deque</code>ã€<code>std::array</code> å’Œ <code>std::string</code><strong>ï¼Œè€Œ</strong><code>std::set</code></strong> å’Œ **<code>std::map</code>**ï¼ˆä»¥åŠå®ƒä»¬çš„ <code>unordered</code> ç‰ˆæœ¬ï¼‰ï¼Œè¿™äº›å®¹å™¨çš„è¿­ä»£å™¨ä¹Ÿä¸æ”¯æŒéšæœºè®¿é—®ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸æ˜¯åŸºäºæ ‘æˆ–å“ˆå¸Œè¡¨çš„ç»“æ„ã€‚</p>          </div><h3 id="STLä¸­çš„çº¿æ€§è¡¨"><a href="#STLä¸­çš„çº¿æ€§è¡¨" class="headerlink" title="STLä¸­çš„çº¿æ€§è¡¨"></a>STLä¸­çš„çº¿æ€§è¡¨</h3><p>åœ¨ C++ æ ‡å‡†åº“ä¸­ï¼Œ<code>std::vector</code> å’Œ <code>std::list</code> æ˜¯ä¸¤ä¸ªå¸¸ç”¨çš„å®¹å™¨ç±»ï¼Œå®ƒä»¬åˆ†åˆ«ä»£è¡¨åŠ¨æ€æ•°ç»„å’ŒåŒå‘é“¾è¡¨ã€‚è™½ç„¶å®ƒä»¬éƒ½å®ç°äº† <code>std::container</code> çš„æ¥å£ï¼Œä½†å®ƒä»¬çš„å†…éƒ¨ç»“æ„å’Œé€‚ç”¨åœºæ™¯ä¸åŒï¼Œå› æ­¤æä¾›çš„åº“å‡½æ•°ä¹Ÿæœ‰æ‰€ä¸åŒã€‚</p><h4 id="1-std-vector-ç±»çš„å¸¸è§åº“å‡½æ•°"><a href="#1-std-vector-ç±»çš„å¸¸è§åº“å‡½æ•°" class="headerlink" title="1. std::vector ç±»çš„å¸¸è§åº“å‡½æ•°"></a>1. <code>std::vector</code> ç±»çš„å¸¸è§åº“å‡½æ•°</h4><p><code>std::vector</code> æ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œæ”¯æŒéšæœºè®¿é—®ã€‚å®ƒéå¸¸é€‚åˆç”¨æ¥å­˜å‚¨éœ€è¦é¢‘ç¹éšæœºè®¿é—®çš„æ•°æ®ã€‚å¸¸è§çš„æˆå‘˜å‡½æ•°åŒ…æ‹¬ï¼š</p><h5 id="1-1-æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ"><a href="#1-1-æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ" class="headerlink" title="1.1 æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ"></a>1.1 æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ</h5><ul><li>**<code>vector()</code>**ï¼šé»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ <code>vector</code>ã€‚</li><li>**<code>vector(n)</code>**ï¼šæ„é€ ä¸€ä¸ªåŒ…å« <code>n</code> ä¸ªé»˜è®¤å€¼çš„ <code>vector</code>ã€‚</li><li>**<code>vector(n, value)</code>**ï¼šæ„é€ ä¸€ä¸ªåŒ…å« <code>n</code> ä¸ªå€¼ä¸º <code>value</code> çš„ <code>vector</code>ã€‚</li><li>**<code>vector(begin, end)</code>**ï¼šä½¿ç”¨èŒƒå›´ <code>[begin, end)</code> çš„å…ƒç´ æ¥æ„é€  <code>vector</code>ã€‚</li><li>**<code>operator=</code>**ï¼šèµ‹å€¼æ“ä½œç¬¦ï¼Œç”¨äºå°†ä¸€ä¸ª <code>vector</code> èµ‹å€¼ç»™å¦ä¸€ä¸ªã€‚</li></ul><h5 id="1-2-å…ƒç´ è®¿é—®"><a href="#1-2-å…ƒç´ è®¿é—®" class="headerlink" title="1.2 å…ƒç´ è®¿é—®"></a>1.2 å…ƒç´ è®¿é—®</h5><ul><li>**<code>operator[]</code>**ï¼šé€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ ã€‚</li><li>**<code>at()</code>**ï¼šé€šè¿‡ä¸‹æ ‡è®¿é—®å…ƒç´ ï¼Œä½†ä¼šè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ã€‚</li><li>**<code>front()</code>**ï¼šè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>back()</code>**ï¼šè¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>data()</code>**ï¼šè¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</li></ul><h5 id="1-3-å®¹é‡æ“ä½œ"><a href="#1-3-å®¹é‡æ“ä½œ" class="headerlink" title="1.3 å®¹é‡æ“ä½œ"></a>1.3 å®¹é‡æ“ä½œ</h5><ul><li>**<code>size()</code>**ï¼šè¿”å› <code>vector</code> ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</li><li>**<code>capacity()</code>**ï¼šè¿”å› <code>vector</code> çš„å®¹é‡ï¼ˆå³ <code>vector</code> å¯ä»¥å­˜å‚¨çš„æœ€å¤§å…ƒç´ ä¸ªæ•°ï¼Œä¸ä¸€å®šç­‰äº <code>size()</code>ï¼‰ã€‚</li><li>**<code>empty()</code>**ï¼šæ£€æŸ¥ <code>vector</code> æ˜¯å¦ä¸ºç©ºã€‚</li><li>**<code>reserve()</code>**ï¼šé¢„ç•™è‡³å°‘å¯ä»¥å®¹çº³ <code>n</code> ä¸ªå…ƒç´ çš„ç©ºé—´ã€‚</li><li>**<code>shrink_to_fit()</code>**ï¼šè¯·æ±‚å‡å°‘ <code>vector</code> çš„å®¹é‡ï¼Œä½¿å…¶å°½å¯èƒ½æ¥è¿‘ <code>size()</code>ï¼Œä½†ä¸ä¿è¯ç«‹å³ç”Ÿæ•ˆã€‚</li></ul><h5 id="1-4-ä¿®æ”¹æ“ä½œ"><a href="#1-4-ä¿®æ”¹æ“ä½œ" class="headerlink" title="1.4 ä¿®æ”¹æ“ä½œ"></a>1.4 ä¿®æ”¹æ“ä½œ</h5><ul><li>**<code>push_back()</code>**ï¼šåœ¨ <code>vector</code> çš„æœ«å°¾æ·»åŠ å…ƒç´ ã€‚</li><li>**<code>pop_back()</code>**ï¼šåˆ é™¤ <code>vector</code> ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>insert()</code>**ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ ã€‚</li><li>**<code>erase()</code>**ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</li><li>**<code>clear()</code>**ï¼šåˆ é™¤ <code>vector</code> ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</li></ul><h5 id="1-5-è¿­ä»£å™¨å’Œç®—æ³•"><a href="#1-5-è¿­ä»£å™¨å’Œç®—æ³•" class="headerlink" title="1.5 è¿­ä»£å™¨å’Œç®—æ³•"></a>1.5 è¿­ä»£å™¨å’Œç®—æ³•</h5><ul><li>**<code>begin()</code>**ï¼šè¿”å›æŒ‡å‘ <code>vector</code> ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li>**<code>end()</code>**ï¼šè¿”å›æŒ‡å‘ <code>vector</code> æœ«å°¾å…ƒç´ ä¹‹åä½ç½®çš„è¿­ä»£å™¨ã€‚</li><li>**<code>rbegin()</code>**ï¼šè¿”å›æŒ‡å‘ <code>vector</code> æœ€åä¸€ä¸ªå…ƒç´ çš„åå‘è¿­ä»£å™¨ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123;<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>&#125;;<br><br>    <span class="hljs-comment">// ä½¿ç”¨åå‘è¿­ä»£å™¨è¿›è¡Œéå†</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">rbegin</span>(); it != v.<span class="hljs-built_in">rend</span>(); ++it) &#123;<br>        std::cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;  <span class="hljs-comment">// è¾“å‡º: 50 40 30 20 10</span><br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><ul><li>**<code>rend()</code>**ï¼šè¿”å›æŒ‡å‘ <code>vector</code> ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰çš„åå‘è¿­ä»£å™¨ã€‚</li></ul><h5 id="1-6-å…¶ä»–æ“ä½œ"><a href="#1-6-å…¶ä»–æ“ä½œ" class="headerlink" title="1.6 å…¶ä»–æ“ä½œ"></a>1.6 å…¶ä»–æ“ä½œ</h5><ul><li>**<code>swap()</code>**ï¼šäº¤æ¢ä¸¤ä¸ª <code>vector</code> çš„å†…å®¹ã€‚</li><li>**<code>resize()</code>**ï¼šæ”¹å˜ <code>vector</code> çš„å¤§å°ï¼Œå¦‚æœæ–°å¤§å°å¤§äºå½“å‰å¤§å°ï¼Œæ–°å¢çš„å…ƒç´ ä¼šç”¨é»˜è®¤å€¼åˆå§‹åŒ–ã€‚</li><li>**<code>emplace_back()</code>**ï¼šåœ¨ <code>vector</code> æœ«å°¾æ„é€ ä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>emplace()</code>**ï¼šåœ¨æŒ‡å®šä½ç½®æ„é€ ä¸€ä¸ªå…ƒç´ ã€‚</li></ul><h3 id="2-std-list-ç±»çš„å¸¸è§åº“å‡½æ•°"><a href="#2-std-list-ç±»çš„å¸¸è§åº“å‡½æ•°" class="headerlink" title="2. std::list ç±»çš„å¸¸è§åº“å‡½æ•°"></a>2. <code>std::list</code> ç±»çš„å¸¸è§åº“å‡½æ•°</h3><p><code>std::list</code> æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨å®¹å™¨ï¼Œé€‚åˆç”¨æ¥æ‰§è¡Œå¤§é‡çš„æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ç”±äºæ˜¯é“¾è¡¨ç»“æ„ï¼Œ<code>std::list</code> ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œåªèƒ½è¿›è¡Œé¡ºåºè®¿é—®ã€‚å¸¸è§çš„æˆå‘˜å‡½æ•°åŒ…æ‹¬ï¼š</p><h5 id="2-1-æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ"><a href="#2-1-æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ" class="headerlink" title="2.1 æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ"></a>2.1 æ„é€ å‡½æ•°å’Œèµ‹å€¼æ“ä½œ</h5><ul><li>**<code>list()</code>**ï¼šé»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ <code>list</code>ã€‚</li><li>**<code>list(n)</code>**ï¼šæ„é€ ä¸€ä¸ªåŒ…å« <code>n</code> ä¸ªé»˜è®¤å€¼çš„ <code>list</code>ã€‚</li><li>**<code>list(n, value)</code>**ï¼šæ„é€ ä¸€ä¸ªåŒ…å« <code>n</code> ä¸ªå€¼ä¸º <code>value</code> çš„ <code>list</code>ã€‚</li><li>**<code>list(begin, end)</code>**ï¼šä½¿ç”¨èŒƒå›´ <code>[begin, end)</code> çš„å…ƒç´ æ¥æ„é€  <code>list</code>ã€‚</li><li>**<code>operator=</code>**ï¼šèµ‹å€¼æ“ä½œç¬¦ï¼Œç”¨äºå°†ä¸€ä¸ª <code>list</code> èµ‹å€¼ç»™å¦ä¸€ä¸ªã€‚</li></ul><h5 id="2-2-å…ƒç´ è®¿é—®"><a href="#2-2-å…ƒç´ è®¿é—®" class="headerlink" title="2.2 å…ƒç´ è®¿é—®"></a>2.2 å…ƒç´ è®¿é—®</h5><ul><li>**<code>front()</code>**ï¼šè¿”å› <code>list</code> ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>back()</code>**ï¼šè¿”å› <code>list</code> ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li></ul><h5 id="2-3-å®¹é‡æ“ä½œ"><a href="#2-3-å®¹é‡æ“ä½œ" class="headerlink" title="2.3 å®¹é‡æ“ä½œ"></a>2.3 å®¹é‡æ“ä½œ</h5><ul><li>**<code>size()</code>**ï¼šè¿”å› <code>list</code> ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</li><li>**<code>empty()</code>**ï¼šæ£€æŸ¥ <code>list</code> æ˜¯å¦ä¸ºç©ºã€‚</li></ul><h5 id="2-4-ä¿®æ”¹æ“ä½œ"><a href="#2-4-ä¿®æ”¹æ“ä½œ" class="headerlink" title="2.4 ä¿®æ”¹æ“ä½œ"></a>2.4 ä¿®æ”¹æ“ä½œ</h5><ul><li>**<code>push_front()</code>**ï¼šå°†å…ƒç´ æ·»åŠ åˆ° <code>list</code> çš„å‰é¢ã€‚</li><li>**<code>push_back()</code>**ï¼šå°†å…ƒç´ æ·»åŠ åˆ° <code>list</code> çš„æœ«å°¾ã€‚</li><li>**<code>pop_front()</code>**ï¼šåˆ é™¤ <code>list</code> ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>pop_back()</code>**ï¼šåˆ é™¤ <code>list</code> ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>insert()</code>**ï¼šåœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚</li><li>**<code>erase()</code>**ï¼šåˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</li><li>**<code>remove()</code>**ï¼šåˆ é™¤æ‰€æœ‰ç­‰äºæŒ‡å®šå€¼çš„å…ƒç´ ã€‚</li><li>**<code>clear()</code>**ï¼šåˆ é™¤ <code>list</code> ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</li></ul><h5 id="2-5-è¿­ä»£å™¨å’Œç®—æ³•"><a href="#2-5-è¿­ä»£å™¨å’Œç®—æ³•" class="headerlink" title="2.5 è¿­ä»£å™¨å’Œç®—æ³•"></a>2.5 è¿­ä»£å™¨å’Œç®—æ³•</h5><ul><li>**<code>begin()</code>**ï¼šè¿”å›æŒ‡å‘ <code>list</code> ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li>**<code>end()</code>**ï¼šè¿”å›æŒ‡å‘ <code>list</code> æœ«å°¾å…ƒç´ ä¹‹åä½ç½®çš„è¿­ä»£å™¨ã€‚</li><li>**<code>rbegin()</code>**ï¼šè¿”å›æŒ‡å‘ <code>list</code> æœ€åä¸€ä¸ªå…ƒç´ çš„åå‘è¿­ä»£å™¨ã€‚</li><li>**<code>rend()</code>**ï¼šè¿”å›æŒ‡å‘ <code>list</code> ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰çš„åå‘è¿­ä»£å™¨ã€‚</li></ul><h5 id="2-6-å…¶ä»–æ“ä½œ"><a href="#2-6-å…¶ä»–æ“ä½œ" class="headerlink" title="2.6 å…¶ä»–æ“ä½œ"></a>2.6 å…¶ä»–æ“ä½œ</h5><ul><li>**<code>swap()</code>**ï¼šäº¤æ¢ä¸¤ä¸ª <code>list</code> çš„å†…å®¹ã€‚</li><li>**<code>resize()</code>**ï¼šæ”¹å˜ <code>list</code> çš„å¤§å°ã€‚å¦‚æœæ–°å¤§å°å¤§äºå½“å‰å¤§å°ï¼Œæ–°å¢çš„å…ƒç´ ä¼šä½¿ç”¨é»˜è®¤å€¼åˆå§‹åŒ–ã€‚</li><li>**<code>unique()</code>**ï¼šåˆ é™¤ <code>list</code> ä¸­ç›¸é‚»çš„é‡å¤å…ƒç´ ã€‚</li></ul><h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h3><table><thead><tr><th>æ“ä½œ</th><th><code>std::vector</code></th><th><code>std::list</code></th></tr></thead><tbody><tr><td><strong>æ„é€ å‡½æ•°</strong></td><td><code>vector()</code>, <code>vector(n)</code>, <code>vector(n, value)</code></td><td><code>list()</code>, <code>list(n)</code>, <code>list(n, value)</code></td></tr><tr><td><strong>è®¿é—®å…ƒç´ </strong></td><td><code>operator[]</code>, <code>at()</code>, <code>front()</code>, <code>back()</code></td><td><code>front()</code>, <code>back()</code></td></tr><tr><td><strong>å®¹é‡æ“ä½œ</strong></td><td><code>size()</code>, <code>capacity()</code>, <code>reserve()</code>, <code>shrink_to_fit()</code></td><td><code>size()</code>, <code>empty()</code></td></tr><tr><td><strong>ä¿®æ”¹æ“ä½œ</strong></td><td><code>push_back()</code>, <code>pop_back()</code>, <code>insert()</code>, <code>erase()</code>, <code>clear()</code></td><td><code>push_front()</code>, <code>push_back()</code>, <code>pop_front()</code>, <code>pop_back()</code>, <code>insert()</code>, <code>erase()</code>, <code>clear()</code></td></tr><tr><td><strong>è¿­ä»£å™¨æ“ä½œ</strong></td><td><code>begin()</code>, <code>end()</code>, <code>rbegin()</code>, <code>rend()</code></td><td><code>begin()</code>, <code>end()</code>, <code>rbegin()</code>, <code>rend()</code></td></tr><tr><td><strong>å…¶ä»–æ“ä½œ</strong></td><td><code>resize()</code>, <code>swap()</code>, <code>emplace_back()</code>, <code>emplace()</code></td><td><code>swap()</code>, <code>resize()</code>, <code>unique()</code>, <code>remove()</code></td></tr></tbody></table><ul><li><strong><code>std::vector</code></strong> é€‚åˆé¢‘ç¹çš„éšæœºè®¿é—®æ“ä½œå’Œéœ€è¦åŠ¨æ€æ‰©å±•å¤§å°çš„åœºæ™¯ï¼Œä½†åœ¨æ’å…¥æˆ–åˆ é™¤æ“ä½œä¸Šå¯èƒ½æ•ˆç‡è¾ƒä½ã€‚</li><li><strong><code>std::list</code></strong> é€‚åˆéœ€è¦é¢‘ç¹æ’å…¥å’Œåˆ é™¤æ“ä½œçš„åœºæ™¯ï¼Œå°¤å…¶æ˜¯åœ¨å®¹å™¨ä¸­é—´çš„ä½ç½®ï¼Œè™½ç„¶å…¶è®¿é—®é€Ÿåº¦è¾ƒæ…¢ã€‚</li></ul><p>é€‰æ‹©ä½¿ç”¨å“ªä¸ªå®¹å™¨ï¼Œå–å†³äºåº”ç”¨åœºæ™¯çš„éœ€æ±‚ï¼šå¦‚æœéœ€è¦é«˜æ•ˆçš„éšæœºè®¿é—®ï¼Œä½¿ç”¨ <code>std::vector</code>ï¼›å¦‚æœéœ€è¦é¢‘ç¹åœ°åœ¨å®¹å™¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œä½¿ç”¨ <code>std::list</code>ã€‚</p><div class="note note-info">            <p><strong>è¡¥å……çŸ¥è¯†ï¼šå†…å­˜å’Œç¼“å­˜ï¼šä»ç¡¬ä»¶è§†è§’çœ‹æ•°æ®ç»“æ„çš„é€‰æ‹©</strong></p><blockquote><p>ä»¥ä¸‹å†…å®¹æ•´ç†è‡ªã€ŠHello ç®—æ³•ã€‹</p></blockquote><p>é¦–å…ˆæŠ›å‡ºè§‚ç‚¹ï¼š<strong>ç‰©ç†ç»“æ„åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå†³å®šäº†ç¨‹åºå¯¹å†…å­˜å’Œç¼“å­˜çš„ä½¿ç”¨æ•ˆç‡ã€‚</strong></p><ul><li>è®¡ç®—æœºå­˜å‚¨è®¾å¤‡</li></ul><p>è®¡ç®—æœºä¸­åŒ…æ‹¬ä¸‰ç§ç±»å‹çš„å­˜å‚¨è®¾å¤‡ï¼šç¡¬ç›˜ï¼ˆhard diskï¼‰ã€å†…å­˜ï¼ˆrandom-access memory, RAMï¼‰ã€ç¼“å­˜ï¼ˆcache memoryï¼‰ã€‚è¡¨ 4-2 å±•ç¤ºäº†å®ƒä»¬åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­çš„ä¸åŒè§’è‰²å’Œæ€§èƒ½ç‰¹ç‚¹ã€‚</p><p><a href="https://www.hello-algo.com/chapter_array_and_linkedlist/ram_and_cache/">è¡¨ 4-2  è®¡ç®—æœºçš„å­˜å‚¨è®¾å¤‡</a></p><table><thead><tr><th align="left"></th><th align="left">ç¡¬ç›˜</th><th align="left">å†…å­˜</th><th align="left">ç¼“å­˜</th></tr></thead><tbody><tr><td align="left">ç”¨é€”</td><td align="left">é•¿æœŸå­˜å‚¨æ•°æ®ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€ç¨‹åºã€æ–‡ä»¶ç­‰</td><td align="left"><strong>ä¸´æ—¶å­˜å‚¨å½“å‰è¿è¡Œçš„ç¨‹åºå’Œæ­£åœ¨å¤„ç†çš„æ•°æ®</strong></td><td align="left"><strong>å­˜å‚¨ç»å¸¸è®¿é—®çš„æ•°æ®å’ŒæŒ‡ä»¤ï¼Œå‡å°‘ CPU è®¿é—®å†…å­˜çš„æ¬¡æ•°</strong></td></tr><tr><td align="left">æ˜“å¤±æ€§</td><td align="left">æ–­ç”µåæ•°æ®ä¸ä¼šä¸¢å¤±</td><td align="left">æ–­ç”µåæ•°æ®ä¼šä¸¢å¤±</td><td align="left">æ–­ç”µåæ•°æ®ä¼šä¸¢å¤±</td></tr><tr><td align="left">å®¹é‡</td><td align="left">è¾ƒå¤§ï¼ŒTB çº§åˆ«</td><td align="left">è¾ƒå°ï¼ŒGB çº§åˆ«</td><td align="left">éå¸¸å°ï¼ŒMB çº§åˆ«</td></tr><tr><td align="left">é€Ÿåº¦</td><td align="left">è¾ƒæ…¢ï¼Œå‡ ç™¾åˆ°å‡ åƒ MB&#x2F;s</td><td align="left">è¾ƒå¿«ï¼Œå‡ å GB&#x2F;s</td><td align="left">éå¸¸å¿«ï¼Œå‡ ååˆ°å‡ ç™¾ GB&#x2F;s</td></tr><tr><td align="left">ä»·æ ¼</td><td align="left">è¾ƒä¾¿å®œï¼Œå‡ æ¯›åˆ°å‡ å…ƒ &#x2F; GB</td><td align="left">è¾ƒè´µï¼Œå‡ ååˆ°å‡ ç™¾å…ƒ &#x2F; GB</td><td align="left">éå¸¸è´µï¼Œéš CPU æ‰“åŒ…è®¡ä»·</td></tr></tbody></table><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/ram_and_cache.assets/storage_pyramid.png" alt="è®¡ç®—æœºå­˜å‚¨ç³»ç»Ÿ Helloç®—æ³•"></p><p><strong>è®¡ç®—æœºçš„å­˜å‚¨å±‚æ¬¡ç»“æ„ä½“ç°äº†åœ¨é€Ÿåº¦ï¼Œå®¹é‡å’Œæˆæœ¬ä¸‰è€…ä¹‹é—´çš„ç²¾å¦™å¹³è¡¡</strong>ã€‚</p><ul><li>æ•°æ®ç»“æ„çš„<strong>å†…å­˜æ•ˆç‡</strong></li></ul><p>åœ¨ä¸Šæ–‡æˆ‘ä»¬å·²ç»æ¯”è¾ƒè¿‡æ•°ç»„å’Œé“¾è¡¨åœ¨å†…å­˜è§’åº¦çš„ä¼˜ç¼ºç‚¹ï¼š</p><ol><li>æ•°ç»„å…ƒç´ åœ¨å†…å­˜ä¸Šæ’åˆ—ç´§å¯†ï¼Œä½†æ˜¯éœ€è¦ä¸€æ•´å—å†…å­˜è¿›è¡Œå­˜å‚¨ã€‚æŸ¥æ‰¾æ•ˆç‡é«˜ä½†æ’å…¥ï¼Œåˆ é™¤æ•ˆç‡ä½ã€‚</li><li>é“¾è¡¨å…ƒç´ åœ¨å†…å­˜ä¸Šåˆ†æ•£æ’å¸ƒï¼Œä½†éœ€è¦é¢å¤–å‚¨å­˜æŒ‡é’ˆçš„å€¼ã€‚æ’å…¥ã€åˆ é™¤æ•ˆç‡é«˜ä½†éå†æ•ˆç‡ä½ã€‚<ul><li><strong>é“¾è¡¨</strong>è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¼Šç«¯ï¼šå¦‚æœåœ¨é“¾è¡¨ä¸­é¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤ï¼Œä¼šå¯¼è‡´<strong>å†…å­˜çš„ç¢ç‰‡åŒ–</strong>ï¼Œæ˜¯å†…å­˜çš„ä½¿ç”¨æ•ˆç‡é™ä½ã€‚</li></ul></li></ol><ul><li>æ•°æ®ç»“æ„çš„<strong>ç¼“å­˜æ•ˆç‡</strong>ï¼ˆAdditionalï¼‰</li></ul><p>ç¼“å­˜è™½ç„¶åœ¨ç©ºé—´å®¹é‡ä¸Šè¿œå°äºå†…å­˜ï¼Œä½†å®ƒæ¯”å†…å­˜å¿«å¾—å¤šï¼Œåœ¨ç¨‹åºæ‰§è¡Œé€Ÿåº¦ä¸Šèµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚ç”±äºç¼“å­˜çš„å®¹é‡æœ‰é™ï¼Œåªèƒ½å­˜å‚¨ä¸€å°éƒ¨åˆ†é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼Œå› æ­¤å½“ CPU å°è¯•è®¿é—®çš„æ•°æ®ä¸åœ¨ç¼“å­˜ä¸­æ—¶ï¼Œå°±ä¼šå‘ç”Ÿç¼“å­˜æœªå‘½ä¸­ï¼ˆcache missï¼‰ï¼Œæ­¤æ—¶ CPU ä¸å¾—ä¸ä»é€Ÿåº¦è¾ƒæ…¢çš„å†…å­˜ä¸­åŠ è½½æ‰€éœ€æ•°æ®ã€‚</p><p>æ˜¾ç„¶ï¼Œ<strong>â€œç¼“å­˜æœªå‘½ä¸­â€è¶Šå°‘ï¼ŒCPU è¯»å†™æ•°æ®çš„æ•ˆç‡å°±è¶Šé«˜</strong>ï¼Œç¨‹åºæ€§èƒ½ä¹Ÿå°±è¶Šå¥½ã€‚æˆ‘ä»¬å°† CPU ä»ç¼“å­˜ä¸­æˆåŠŸè·å–æ•°æ®çš„æ¯”ä¾‹ç§°ä¸ºç¼“å­˜å‘½ä¸­ç‡ï¼ˆcache hit rateï¼‰ï¼Œè¿™ä¸ªæŒ‡æ ‡é€šå¸¸ç”¨æ¥è¡¡é‡ç¼“å­˜æ•ˆç‡ã€‚</p><p>å®é™…ä¸Šï¼Œ<strong>æ•°ç»„å’Œé“¾è¡¨å¯¹ç¼“å­˜çš„åˆ©ç”¨æ•ˆç‡æ˜¯ä¸åŒçš„</strong>ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ã€‚</p><ul><li><strong>å ç”¨ç©ºé—´</strong>ï¼šé“¾è¡¨å…ƒç´ æ¯”æ•°ç»„å…ƒç´ å ç”¨ç©ºé—´æ›´å¤šï¼Œå¯¼è‡´ç¼“å­˜ä¸­å®¹çº³çš„æœ‰æ•ˆæ•°æ®é‡æ›´å°‘ã€‚</li><li><strong>ç¼“å­˜è¡Œ</strong>ï¼šé“¾è¡¨æ•°æ®åˆ†æ•£åœ¨å†…å­˜å„å¤„ï¼Œè€Œç¼“å­˜æ˜¯â€œæŒ‰è¡ŒåŠ è½½â€çš„ï¼Œå› æ­¤åŠ è½½åˆ°æ— æ•ˆæ•°æ®çš„æ¯”ä¾‹æ›´é«˜ã€‚</li><li><strong>é¢„å–æœºåˆ¶</strong>ï¼šæ•°ç»„æ¯”é“¾è¡¨çš„æ•°æ®è®¿é—®æ¨¡å¼æ›´å…·â€œå¯é¢„æµ‹æ€§â€ï¼Œå³ç³»ç»Ÿæ›´å®¹æ˜“çŒœå‡ºå³å°†è¢«åŠ è½½çš„æ•°æ®ã€‚</li><li><strong>ç©ºé—´å±€éƒ¨æ€§</strong>ï¼šæ•°ç»„è¢«å­˜å‚¨åœ¨é›†ä¸­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œå› æ­¤è¢«åŠ è½½æ•°æ®é™„è¿‘çš„æ•°æ®æ›´æœ‰å¯èƒ½å³å°†è¢«è®¿é—®ã€‚</li></ul><p>æ€»ä½“è€Œè¨€ï¼Œ<strong>æ•°ç»„å…·æœ‰æ›´é«˜çš„ç¼“å­˜å‘½ä¸­ç‡ï¼Œå› æ­¤å®ƒåœ¨æ“ä½œæ•ˆç‡ä¸Šé€šå¸¸ä¼˜äºé“¾è¡¨</strong>ã€‚è¿™ä½¿å¾—åœ¨è§£å†³ç®—æ³•é—®é¢˜æ—¶ï¼ŒåŸºäºæ•°ç»„å®ç°çš„æ•°æ®ç»“æ„å¾€å¾€æ›´å—æ¬¢è¿ã€‚</p>          </div><h2 id="çº¿æ€§è¡¨çš„åº”ç”¨"><a href="#çº¿æ€§è¡¨çš„åº”ç”¨" class="headerlink" title="çº¿æ€§è¡¨çš„åº”ç”¨"></a>çº¿æ€§è¡¨çš„åº”ç”¨</h2><h3 id="å¤§æ•´æ•°å¤„ç†"><a href="#å¤§æ•´æ•°å¤„ç†" class="headerlink" title="å¤§æ•´æ•°å¤„ç†"></a>å¤§æ•´æ•°å¤„ç†</h3><h3 id="å¤šé¡¹å¼æ±‚å’Œ"><a href="#å¤šé¡¹å¼æ±‚å’Œ" class="headerlink" title="å¤šé¡¹å¼æ±‚å’Œ"></a>å¤šé¡¹å¼æ±‚å’Œ</h3><h3 id="çº¦ç‘Ÿå¤«ç¯é—®é¢˜"><a href="#çº¦ç‘Ÿå¤«ç¯é—®é¢˜" class="headerlink" title="çº¦ç‘Ÿå¤«ç¯é—®é¢˜"></a>çº¦ç‘Ÿå¤«ç¯é—®é¢˜</h3><h3 id="åŠ¨æ€å†…å­˜ç®¡ç†"><a href="#åŠ¨æ€å†…å­˜ç®¡ç†" class="headerlink" title="åŠ¨æ€å†…å­˜ç®¡ç†"></a>åŠ¨æ€å†…å­˜ç®¡ç†</h3>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
      <tag>Linear List</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Data-Structure-Tutorial</title>
    <link href="/posts/Data-Structure-Tutorial/"/>
    <url>/posts/Data-Structure-Tutorial/</url>
    
    <content type="html"><![CDATA[<h1 id="Data-Structure-Tutorial"><a href="#Data-Structure-Tutorial" class="headerlink" title="Data Structure Tutorial"></a>Data Structure Tutorial</h1><p>åœ¨æœ¬æ–‡å°†è¦ç³»ç»Ÿæ¢³ç†ä¹‹åç¬”è€…å°†è¦å­¦ä¹ çš„æ•°æ®ç»“æ„çš„å†…å®¹ï¼Œè¿™æ˜¯ç¬”è€…<strong>é‡åˆ°çš„ç¬¬ä¸€é—¨éš¾åº¦è¾ƒå¤§ä¸”è¾ƒä¸ºé‡è¦çš„ä¸“ä¸šè¯¾ç¨‹</strong>ï¼Œå°†æˆä¸ºç¬”è€…2025å¹´çš„æ›´æ–°é‡ç‚¹ä¹‹ä¸€ã€‚</p><h2 id="Before-Reading"><a href="#Before-Reading" class="headerlink" title="Before Reading"></a>Before Reading</h2><p>åœ¨é˜…è¯»è¿™ä¸€ç³»åˆ—åšå®¢ä¹‹å‰ï¼Œä½ éœ€è¦æŒæ¡ä»¥ä¸‹çŸ¥è¯†ï¼š</p><ul><li>C++çš„åŸºæœ¬è¯­æ³•ï¼ˆNecessaryï¼ï¼‰<ul><li><strong>é¢å‘è¿‡ç¨‹</strong></li><li><strong>é¢å‘å¯¹è±¡</strong></li></ul></li><li>Pythonçš„åŸºæœ¬è¯­æ³•ï¼ˆOptionalï¼‰</li><li>æŒæ¡ä¸€äº›åŸºæœ¬çš„å…³äºç®—æ³•çš„åŸºç¡€çŸ¥è¯†<ul><li>é€’å½’ç®—æ³•</li><li>è¿­ä»£ç®—æ³•</li><li><strong>STLçš„ä¸€äº›åŸºæœ¬çŸ¥è¯†</strong>ï¼ˆä¼šä½¿ç”¨ä¸€äº›åŸºæœ¬çš„æ¥å£ï¼‰</li></ul></li></ul><h2 id="å‚è€ƒæ•™æ"><a href="#å‚è€ƒæ•™æ" class="headerlink" title="å‚è€ƒæ•™æ"></a>å‚è€ƒæ•™æ</h2><ul><li>å…¥é—¨æ•™æï¼š<a href="https://www.hello-algo.com/">Hello ç®—æ³•</a><ul><li>éå¸¸ç»å…¸ä¸”ä¼˜è´¨çš„ä¸€æœ¬æ•™æï¼Œæœ‰åœ¨çº¿å­¦ä¹ çš„ç½‘ç«™ï¼Œå¹¶ä¸”å¼€æºäº†ä¹¦ä¸­æ‰€æœ‰ä»£ç ç¤ºä¾‹ã€‚</li><li>å†…å®¹ç›¸å¯¹è¾ƒå°‘ï¼Œä½†æ˜¯éƒ½æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ï¼Œéå¸¸é€‚åˆæ–°æ‰‹çš„å¿«é€Ÿå…¥é—¨ï¼Œ<strong>åœ¨ä¸€è½®è¿‡åå†æ·±å…¥å­¦ä¹ ä¸€äº›æ›´æ·±å…¥çš„çŸ¥è¯†</strong>ã€‚</li></ul></li><li>ä¸»åŠ›æ•™æï¼š<strong>ã€Šæ•°æ®ç»“æ„ï¼šæ€æƒ³ä¸å®ç°ã€‹â€”â€”ç¿æ…§ç‰ï¼Œä¿å‹‡</strong><ul><li>ç»å…¸æ•™æï¼</li><li>ä½†æ˜¯æ•™æçš„éš¾åº¦è¾ƒå¤§ï¼Œæ˜¯ç¬”è€…ä¸‹å­¦æœŸä¸Šè¯¾çš„æ•™æï¼Œä¹Ÿä¼šä½œä¸ºæ›´æ–°çš„é‡ç‚¹ã€‚</li></ul></li><li>å…¶ä»–å‚è€ƒæ•™æï¼š<ul><li>å›¾è§£ç®—æ³•ï¼ˆ<strong>å¯è§†åŒ–åšçš„å¾ˆå¥½</strong>ï¼‰</li><li><strong>ã€Šå¤§è¯æ•°æ®ç»“æ„ã€‹</strong></li><li><strong>ã€Šæ•°æ®ç»“æ„å’Œç®—æ³•åˆ†æâ€”â€”Cè¯­è¨€æè¿°ã€‹</strong></li></ul></li></ul><blockquote><p><strong>æ³¨ï¼šç¤ºä¾‹ä»£ç ä¸»è¦éƒ½ä»¥C++æˆ–è€…Pythonä»£ç ç»™å‡ºã€‚</strong></p></blockquote><p>æ›´æ–°å†…å®¹</p><ul><li>å¯¼è®ºï¼ˆåœ¨æœ¬ç¯‡å‘è¡¨ä¹‹å‰å·²ç»æ›´æ–°ï¼‰<ul><li>æ•°æ®ç»“æ„å’Œç®—æ³•</li><li>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œç©ºé—´å¤æ‚åº¦</li></ul></li><li>çº¿æ€§ç»“æ„<ul><li>çº¿æ€§è¡¨<ul><li>çº¿æ€§è¡¨çš„é¡ºåºå®ç°ï¼ˆæ•°ç»„ï¼‰</li><li>çº¿æ€§è¡¨çš„é“¾æ¥å®ç°ï¼ˆé“¾è¡¨ï¼‰</li></ul></li><li>æ ˆ</li><li>é˜Ÿåˆ—</li><li>å­—ç¬¦ä¸²</li></ul></li><li>æ ‘çŠ¶ç»“æ„<ul><li>äºŒå‰æ ‘</li><li>å“ˆå¤«æ›¼æ ‘</li><li>ä¼˜å…ˆçº§é˜Ÿåˆ—</li></ul></li><li>é›†åˆç»“æ„<ul><li>é›†åˆä¸é™æ€æŸ¥æ‰¾è¡¨</li><li>åŠ¨æ€æŸ¥æ‰¾è¡¨<ul><li>äºŒå‰æŸ¥æ‰¾æ ‘</li><li>AVLæ ‘</li><li>çº¢é»‘æ ‘</li><li>AAæ ‘</li><li>ä¼¸å±•æ ‘</li><li>æ•£åˆ—è¡¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰</li></ul></li><li><strong>ç®—æ³•åº”ç”¨ï¼šæ’åº</strong><ul><li>æ’å…¥æ’åº</li><li>é€‰æ‹©æ’åº</li><li>äº¤æ¢æ’åº</li><li>å½’å¹¶æ’åº</li><li>åŸºæ•°æ’åº</li><li>å¤–éƒ¨æŸ¥æ‰¾å’Œæ’åº<ul><li>Bæ ‘</li><li>B+æ ‘</li></ul></li></ul></li></ul></li><li>å›¾çŠ¶ç»“æ„<ul><li>å›¾</li><li>æœ€å°ç”Ÿæˆæ ‘</li><li><strong>ç®—æ³•åº”ç”¨é—®é¢˜ï¼šæœ€çŸ­è·¯å¾„é—®é¢˜</strong></li></ul></li><li>ç®—æ³•è®¾è®¡åŸºç¡€<ul><li>æšä¸¾æ³•</li><li>è´ªå©ªæ³•</li><li>åˆ†æ²»æ³•</li><li>åŠ¨æ€è§„åˆ’</li><li>å›æº¯æ³•</li><li>éšæœºç®—æ³•</li></ul></li></ul><p><img src="/posts/Data-Structure-Tutorial/1.png" alt="å›¾ç‰‡æ¥æºäºç½‘ç»œ"></p><blockquote><p>ç¬”è€…åœ¨è¿™ä¸ªå­¦æœŸæœŸæœ«å‘¨ä¼šæœ‰ä¸€åœº<strong>ä¸‹å­¦æœŸæ•°æ®ç»“æ„</strong>çš„æ‹”é«˜é€‰æ‹”æµ‹è¯•ğŸ˜…ğŸ˜…ğŸ˜…çœŸæ˜¯æ— è¯­äº†ï¼Œå¸Œæœ›èƒ½è¿‡å§ã€‚Anywayï¼Œä¸å„ä½å…±å‹‰ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Data Structure</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CMake-Tutorial-Episode2</title>
    <link href="/posts/CMake-tutorial-episode2/"/>
    <url>/posts/CMake-tutorial-episode2/</url>
    
    <content type="html"><![CDATA[<h3 id="CMake-ç¼–è¯‘å¤šæ–‡ä»¶-C-ç¨‹åºï¼šé¡¹ç›®æŒ‡å—"><a href="#CMake-ç¼–è¯‘å¤šæ–‡ä»¶-C-ç¨‹åºï¼šé¡¹ç›®æŒ‡å—" class="headerlink" title="CMake ç¼–è¯‘å¤šæ–‡ä»¶ C++ ç¨‹åºï¼šé¡¹ç›®æŒ‡å—"></a>CMake ç¼–è¯‘å¤šæ–‡ä»¶ C++ ç¨‹åºï¼šé¡¹ç›®æŒ‡å—</h3><p>æœ¬æŒ‡å—å°†å¸®åŠ©ä½ ä½¿ç”¨ CMake æ„å»ºä¸€ä¸ªåŒ…å«å¤šä¸ª <code>.cpp</code> æ–‡ä»¶çš„ C++ é¡¹ç›®ã€‚æˆ‘ä»¬å°†é€æ­¥ä»‹ç»å¦‚ä½•é…ç½® <code>CMakeLists.txt</code> æ–‡ä»¶ï¼Œä»¥åŠå¦‚ä½•ç®¡ç†é¡¹ç›®ä¸­çš„æºæ–‡ä»¶å’Œå¤´æ–‡ä»¶ã€‚</p><hr><h3 id="1-é¡¹ç›®ç»“æ„"><a href="#1-é¡¹ç›®ç»“æ„" class="headerlink" title="1. é¡¹ç›®ç»“æ„"></a>1. é¡¹ç›®ç»“æ„</h3><p>å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹é¡¹ç›®ç»“æ„ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cmake">/<span class="hljs-keyword">project</span><br>  â”œâ”€â”€ CMakeLists.txt      <span class="hljs-comment"># é¡¹ç›®æ ¹ç›®å½•çš„ CMake é…ç½®æ–‡ä»¶</span><br>  â”œâ”€â”€ src/                <span class="hljs-comment"># æºä»£ç æ–‡ä»¶å¤¹</span><br>  â”‚   â”œâ”€â”€ main.cpp        <span class="hljs-comment"># ä¸»ç¨‹åºæ–‡ä»¶</span><br>  â”‚   â”œâ”€â”€ foo.cpp         <span class="hljs-comment"># å…¶ä»–æºæ–‡ä»¶</span><br>  â”‚   â””â”€â”€ bar.cpp         <span class="hljs-comment"># å…¶ä»–æºæ–‡ä»¶</span><br>  â”œâ”€â”€ <span class="hljs-keyword">include</span>/            <span class="hljs-comment"># å¤´æ–‡ä»¶æ–‡ä»¶å¤¹</span><br>  â”‚   â”œâ”€â”€ foo.h           <span class="hljs-comment"># foo çš„å¤´æ–‡ä»¶</span><br>  â”‚   â””â”€â”€ bar.h           <span class="hljs-comment"># bar çš„å¤´æ–‡ä»¶</span><br>  â””â”€â”€ CMakeLists.txt      <span class="hljs-comment"># src å­ç›®å½•ä¸­çš„ CMake é…ç½®æ–‡ä»¶</span><br></code></pre></td></tr></table></figure><h3 id="2-åˆ›å»º-CMake-é…ç½®æ–‡ä»¶"><a href="#2-åˆ›å»º-CMake-é…ç½®æ–‡ä»¶" class="headerlink" title="2. åˆ›å»º CMake é…ç½®æ–‡ä»¶"></a>2. åˆ›å»º CMake é…ç½®æ–‡ä»¶</h3><h4 id="2-1-æ ¹ç›®å½•çš„-CMakeLists-txt"><a href="#2-1-æ ¹ç›®å½•çš„-CMakeLists-txt" class="headerlink" title="2.1 æ ¹ç›®å½•çš„ CMakeLists.txt"></a>2.1 æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code></h4><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>CMakeLists.txt</code> æ–‡ä»¶ï¼Œé…ç½®å…¨å±€è®¾ç½®å’Œæ·»åŠ å­ç›®å½•ã€‚</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># è®¾ç½® CMake æœ€ä½ç‰ˆæœ¬è¦æ±‚</span><br><span class="hljs-keyword">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.10</span>)<br><br><span class="hljs-comment"># è®¾ç½®é¡¹ç›®åç§°</span><br><span class="hljs-keyword">project</span>(MyMultiFileProject)<br><br><span class="hljs-comment"># è®¾ç½® C++ æ ‡å‡†</span><br><span class="hljs-keyword">set</span>(CMAKE_CXX_STANDARD <span class="hljs-number">11</span>)<br><br><span class="hljs-comment"># æ·»åŠ  src ç›®å½•ä½œä¸ºå­ç›®å½•</span><br><span class="hljs-keyword">add_subdirectory</span>(src)<br></code></pre></td></tr></table></figure><h4 id="2-2-src-CMakeLists-txt"><a href="#2-2-src-CMakeLists-txt" class="headerlink" title="2.2 src/CMakeLists.txt"></a>2.2 <code>src/CMakeLists.txt</code></h4><p>åœ¨ <code>src/</code> ç›®å½•ä¸‹åˆ›å»ºå¦ä¸€ä¸ª <code>CMakeLists.txt</code> æ–‡ä»¶ï¼Œç”¨äºé…ç½®æºæ–‡ä»¶çš„ç¼–è¯‘è§„åˆ™ã€‚</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># æŸ¥æ‰¾ src ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰ .cpp æ–‡ä»¶</span><br><span class="hljs-keyword">file</span>(GLOB_RECURSE SOURCES <span class="hljs-string">&quot;*.cpp&quot;</span>)<br><br><span class="hljs-comment"># åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="hljs-keyword">add_executable</span>(MyExecutable <span class="hljs-variable">$&#123;SOURCES&#125;</span>)<br><br><span class="hljs-comment"># è®¾ç½®å¤´æ–‡ä»¶æœç´¢è·¯å¾„</span><br><span class="hljs-keyword">target_include_directories</span>(MyExecutable PRIVATE ../<span class="hljs-keyword">include</span>)<br></code></pre></td></tr></table></figure><ul><li><code>file(GLOB_RECURSE ...)</code>ï¼šé€’å½’æŸ¥æ‰¾ <code>src/</code> ç›®å½•åŠå…¶å­ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.cpp</code> æ–‡ä»¶ã€‚</li><li><code>add_executable(MyExecutable $&#123;SOURCES&#125;)</code>ï¼šå°†æ‰€æœ‰ <code>.cpp</code> æ–‡ä»¶ç¼–è¯‘æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ <code>MyExecutable</code>ã€‚</li><li><code>target_include_directories(MyExecutable PRIVATE ../include)</code>ï¼šè®¾ç½® <code>MyExecutable</code> å¯æ‰§è¡Œæ–‡ä»¶çš„å¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼ŒæŒ‡å‘é¡¹ç›®çš„ <code>include/</code> ç›®å½•ã€‚</li></ul><h3 id="3-è‡ªåŠ¨æŸ¥æ‰¾æºæ–‡ä»¶"><a href="#3-è‡ªåŠ¨æŸ¥æ‰¾æºæ–‡ä»¶" class="headerlink" title="3. è‡ªåŠ¨æŸ¥æ‰¾æºæ–‡ä»¶"></a>3. è‡ªåŠ¨æŸ¥æ‰¾æºæ–‡ä»¶</h3><p>å¦‚æœæºæ–‡ä»¶æ•°é‡è¾ƒå¤šï¼Œæ‰‹åŠ¨åˆ—å‡ºæ¯ä¸ªæºæ–‡ä»¶å¯èƒ½æ¯”è¾ƒéº»çƒ¦ã€‚å¯ä»¥ä½¿ç”¨ <code>file(GLOB ...)</code> æˆ– <code>file(GLOB_RECURSE ...)</code> è‡ªåŠ¨æŸ¥æ‰¾ <code>.cpp</code> æ–‡ä»¶ã€‚</p><h4 id="3-1-æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„-cpp-æ–‡ä»¶"><a href="#3-1-æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„-cpp-æ–‡ä»¶" class="headerlink" title="3.1 æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„ .cpp æ–‡ä»¶"></a>3.1 æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„ <code>.cpp</code> æ–‡ä»¶</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">file</span>(GLOB SOURCES <span class="hljs-string">&quot;*.cpp&quot;</span>)<br></code></pre></td></tr></table></figure><p><code>file(GLOB ...)</code> ä¼šæŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ <code>.cpp</code> æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ° <code>SOURCES</code> å˜é‡ä¸­ã€‚</p><h4 id="3-2-æŸ¥æ‰¾å­ç›®å½•ä¸­çš„-cpp-æ–‡ä»¶"><a href="#3-2-æŸ¥æ‰¾å­ç›®å½•ä¸­çš„-cpp-æ–‡ä»¶" class="headerlink" title="3.2 æŸ¥æ‰¾å­ç›®å½•ä¸­çš„ .cpp æ–‡ä»¶"></a>3.2 æŸ¥æ‰¾å­ç›®å½•ä¸­çš„ <code>.cpp</code> æ–‡ä»¶</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">file</span>(GLOB_RECURSE SOURCES <span class="hljs-string">&quot;*.cpp&quot;</span>)<br></code></pre></td></tr></table></figure><p><code>file(GLOB_RECURSE ...)</code> ä¼šé€’å½’åœ°æŸ¥æ‰¾æŒ‡å®šç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ä¸­çš„ <code>.cpp</code> æ–‡ä»¶ã€‚</p><h3 id="4-æ„å»ºå’Œç¼–è¯‘"><a href="#4-æ„å»ºå’Œç¼–è¯‘" class="headerlink" title="4. æ„å»ºå’Œç¼–è¯‘"></a>4. æ„å»ºå’Œç¼–è¯‘</h3><h4 id="4-1-ç”Ÿæˆæ„å»ºç›®å½•"><a href="#4-1-ç”Ÿæˆæ„å»ºç›®å½•" class="headerlink" title="4.1 ç”Ÿæˆæ„å»ºç›®å½•"></a>4.1 ç”Ÿæˆæ„å»ºç›®å½•</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>build</code> ç›®å½•ï¼Œå¹¶è¿›å…¥è¯¥ç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> build<br><span class="hljs-built_in">cd</span> build<br></code></pre></td></tr></table></figure><h4 id="4-2-è¿è¡Œ-CMake-é…ç½®"><a href="#4-2-è¿è¡Œ-CMake-é…ç½®" class="headerlink" title="4.2 è¿è¡Œ CMake é…ç½®"></a>4.2 è¿è¡Œ CMake é…ç½®</h4><p>åœ¨ <code>build</code> ç›®å½•ä¸­è¿è¡Œ CMakeï¼ŒæŒ‡å®šé¡¹ç›®çš„æ ¹ç›®å½•ä½œä¸ºæºç›®å½•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">cmake ..<br></code></pre></td></tr></table></figure><p>è¿™å°†é…ç½®é¡¹ç›®å¹¶ç”Ÿæˆé€‚åˆä½ å¹³å°çš„æ„å»ºç³»ç»Ÿã€‚</p><h4 id="4-3-ç¼–è¯‘é¡¹ç›®"><a href="#4-3-ç¼–è¯‘é¡¹ç›®" class="headerlink" title="4.3 ç¼–è¯‘é¡¹ç›®"></a>4.3 ç¼–è¯‘é¡¹ç›®</h4><p>ä½¿ç”¨ CMake ç”Ÿæˆçš„æ„å»ºç³»ç»Ÿæ¥ç¼–è¯‘é¡¹ç›®ã€‚å¦‚æœä½ ä½¿ç”¨ Makefilesï¼Œå¯ä»¥è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">make<br></code></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨å…¶ä»–æ„å»ºç³»ç»Ÿï¼ˆå¦‚ Visual Studioï¼‰ï¼Œå¯ä»¥ç›´æ¥åœ¨ IDE ä¸­è¿›è¡Œç¼–è¯‘ã€‚</p><h4 id="4-4-è¿è¡Œç¨‹åº"><a href="#4-4-è¿è¡Œç¨‹åº" class="headerlink" title="4.4 è¿è¡Œç¨‹åº"></a>4.4 è¿è¡Œç¨‹åº</h4><p>ç¼–è¯‘å®Œæˆåï¼Œä½ å¯ä»¥åœ¨ <code>build</code> ç›®å½•ä¸­æ‰¾åˆ°ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ <code>MyExecutable</code>ï¼Œç„¶åè¿è¡Œå®ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./MyExecutable<br></code></pre></td></tr></table></figure><h3 id="5-å¤„ç†å¤§å‹é¡¹ç›®ç»“æ„"><a href="#5-å¤„ç†å¤§å‹é¡¹ç›®ç»“æ„" class="headerlink" title="5. å¤„ç†å¤§å‹é¡¹ç›®ç»“æ„"></a>5. å¤„ç†å¤§å‹é¡¹ç›®ç»“æ„</h3><p>å¯¹äºå¤§å‹é¡¹ç›®ï¼Œä½ å¯èƒ½ä¼šå°†æºæ–‡ä»¶å’Œå¤´æ–‡ä»¶æ‹†åˆ†æˆå¤šä¸ªå­ç›®å½•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>add_subdirectory()</code> å°†å„ä¸ªå­ç›®å½•åŒ…å«è¿›æ¥ï¼Œæ¯ä¸ªå­ç›®å½•éƒ½å¯ä»¥æœ‰è‡ªå·±çš„ <code>CMakeLists.txt</code> æ–‡ä»¶ã€‚</p><h4 id="ç¤ºä¾‹ï¼šå­ç›®å½•ç»“æ„"><a href="#ç¤ºä¾‹ï¼šå­ç›®å½•ç»“æ„" class="headerlink" title="ç¤ºä¾‹ï¼šå­ç›®å½•ç»“æ„"></a>ç¤ºä¾‹ï¼šå­ç›®å½•ç»“æ„</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">/project<br>  â”œâ”€â”€ CMakeLists<span class="hljs-selector-class">.txt</span><br>  â”œâ”€â”€ <span class="hljs-attribute">src</span>/<br>  â”‚   â”œâ”€â”€ CMakeLists<span class="hljs-selector-class">.txt</span><br>  â”‚   â”œâ”€â”€ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.cpp</span><br>  â”‚   â”œâ”€â”€ foo<span class="hljs-selector-class">.cpp</span><br>  â”‚   â””â”€â”€ bar<span class="hljs-selector-class">.cpp</span><br>  â””â”€â”€ include/<br>      â”œâ”€â”€ foo<span class="hljs-selector-class">.h</span><br>      â””â”€â”€ bar.h<br></code></pre></td></tr></table></figure><p>æ ¹ç›®å½•çš„ <code>CMakeLists.txt</code> æ–‡ä»¶ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-keyword">cmake_minimum_required</span>(VERSION <span class="hljs-number">3.10</span>)<br><br><span class="hljs-keyword">project</span>(MyMultiFileProject)<br><br><span class="hljs-keyword">set</span>(CMAKE_CXX_STANDARD <span class="hljs-number">11</span>)<br><br><span class="hljs-comment"># æ·»åŠ  src å­ç›®å½•</span><br><span class="hljs-keyword">add_subdirectory</span>(src)<br></code></pre></td></tr></table></figure><p><code>src/CMakeLists.txt</code> æ–‡ä»¶ï¼š</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cmake"><span class="hljs-comment"># æŸ¥æ‰¾ src ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰ .cpp æ–‡ä»¶</span><br><span class="hljs-keyword">file</span>(GLOB_RECURSE SOURCES <span class="hljs-string">&quot;*.cpp&quot;</span>)<br><br><span class="hljs-comment"># åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶</span><br><span class="hljs-keyword">add_executable</span>(MyExecutable <span class="hljs-variable">$&#123;SOURCES&#125;</span>)<br><br><span class="hljs-comment"># è®¾ç½®å¤´æ–‡ä»¶æœç´¢è·¯å¾„</span><br><span class="hljs-keyword">target_include_directories</span>(MyExecutable PRIVATE ../<span class="hljs-keyword">include</span>)<br></code></pre></td></tr></table></figure><h3 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h3><p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ CMake ç®¡ç†å¤šæºæ–‡ä»¶çš„ C++ é¡¹ç›®ï¼š</p><ol><li>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>CMakeLists.txt</code> æ–‡ä»¶ï¼Œé…ç½®å…¨å±€é¡¹ç›®è®¾ç½®ã€‚</li><li>åœ¨ <code>src/</code> ç›®å½•åˆ›å»ºå­ç›®å½•çš„ <code>CMakeLists.txt</code> æ–‡ä»¶ï¼Œè‡ªåŠ¨æŸ¥æ‰¾ <code>.cpp</code> æ–‡ä»¶ã€‚</li><li>ä½¿ç”¨ <code>file(GLOB ...)</code> æˆ– <code>file(GLOB_RECURSE ...)</code> è‡ªåŠ¨æŸ¥æ‰¾æºæ–‡ä»¶ã€‚</li><li>é…ç½®å¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼Œç¡®ä¿ç¨‹åºèƒ½æ‰¾åˆ°å¿…è¦çš„å¤´æ–‡ä»¶ã€‚</li><li>ä½¿ç”¨ <code>cmake</code> å’Œ <code>make</code> å‘½ä»¤æ„å»ºé¡¹ç›®ï¼Œå¹¶ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</li></ol><p>è¿™æ ·ï¼Œä½ å°±èƒ½é«˜æ•ˆåœ°ç®¡ç†å’Œæ„å»ºå¤šä¸ªæºæ–‡ä»¶çš„ C++ é¡¹ç›®ï¼ŒåŒæ—¶ä¹Ÿèƒ½ç¡®ä¿é¡¹ç›®ç»“æ„æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>tutorial</tag>
      
      <tag>CMake</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>CMake-Tutorial1</title>
    <link href="/posts/CMake-tutorial1/"/>
    <url>/posts/CMake-tutorial1/</url>
    
    <content type="html"><![CDATA[<h1 id="CMake-tutorial-episode1"><a href="#CMake-tutorial-episode1" class="headerlink" title="CMake-tutorial-episode1"></a>CMake-tutorial-episode1</h1><h2 id="Building-a-cpp-project"><a href="#Building-a-cpp-project" class="headerlink" title="Building a cpp project"></a>Building a cpp project</h2><p>åœ¨ä¹‹å‰çš„C++ç¨‹åºä¸­ï¼Œç»å¤§éƒ¨åˆ†éƒ½æ˜¯ä»¥<strong>å•ä¸ªCppæ–‡ä»¶</strong>å‘ˆç°çš„ã€‚å…·ä½“åˆ°ç¼–è¯‘å™¨ï¼Œç¼–è¯‘å™¨å¯¹æºä»£ç ï¼ˆ<strong>Cpp</strong>æ–‡ä»¶ï¼‰è¿›è¡Œç¼–è¯‘ï¼Œç”Ÿæˆä¸­é—´ç›®æ ‡æ–‡ä»¶ï¼ˆ**.obj**ï¼‰ï¼Œå†ç”±é“¾æ¥å™¨å°†ä¸­é—´ç›®æ ‡æ–‡ä»¶ä¸ä¸€äº›ä¼šä½¿ç”¨åˆ°çš„åº“æ–‡ä»¶é“¾æ¥åœ¨ä¸€èµ·ï¼Œæœ€ç»ˆå½¢æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Bash">g++ your_file_name.cpp -o your_executable_name.exe<br>./your_executable_name.exe<br></code></pre></td></tr></table></figure><blockquote><p>ä¸Šé¢ä¸¤è¡Œä»£ç æ˜¯åœ¨Bashï¼ˆå‘½ä»¤è¡Œï¼‰ä¸­ç¼–è¯‘C++ç¨‹åºçš„å‘½ä»¤è¡Œä»£ç ã€‚</p></blockquote><p>ä½†æ˜¯ï¼Œéšç€ç¨‹åºä½“é‡çš„è†¨èƒ€ï¼Œæˆ‘ä»¬è¶Šæ¥è¶Šéš¾æŠŠæ‰€æœ‰çš„å‡½æ•°æ”¾åœ¨ä¸€ä¸ªcppæ–‡ä»¶ä¸­ï¼Œè¿™æ ·å¯¹åç»­ä»£ç çš„ä¿®æ”¹ï¼Œè°ƒè¯•ç­‰å·¥ä½œéƒ½å¢æ·»äº†è´Ÿæ‹…ã€‚å› æ­¤ï¼Œ<strong>æ¨¡å—åŒ–å¼€å‘</strong>æ˜¯C++ä¸­å¿…ä¸å¯å°‘çš„ä¸€ä¸ªéƒ¨åˆ†ï¼</p><h3 id="æ¨¡å—åŒ–å¼€å‘"><a href="#æ¨¡å—åŒ–å¼€å‘" class="headerlink" title="æ¨¡å—åŒ–å¼€å‘"></a>æ¨¡å—åŒ–å¼€å‘</h3><p>æ¨¡å—åŒ–æ˜¯ä¸€ç§å°†å¤æ‚ç³»ç»Ÿåˆ†è§£ä¸ºå¯æ›´å¥½ç®¡ç†çš„æ¨¡å—çš„æ–¹å¼</p><ul><li>æ¨¡å—åŒ–å¼€å‘å°±æ˜¯å°è£…å®ç°ç»†èŠ‚ï¼Œæä¾›æ¨¡å—ä½¿ç”¨æ¥å£ï¼Œæ¨¡å—å½¼æ­¤ä¹‹é—´äº’ä¸å½±å“ï¼Œæ¯ä¸ªæ¨¡å—å®ç°æŸä¸€ç‰¹å®šçš„åŠŸèƒ½</li><li>æœ€å¤§åŒ–ä»£ç é‡ç”¨ï¼Œä»¥æœ€å°‘çš„æ¨¡å—ã€é›¶éƒ¨ä»¶ï¼Œæ›´å¿«é€Ÿåœ°æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚</li><li>åŸåˆ™ï¼š<strong>æ¨¡å—å†…ç´§è€¦åˆï¼Œæ¨¡å—é—´æ¾è€¦åˆ</strong></li></ul><p>åœ¨C++çš„æ¨¡å—åŒ–å¼€å‘ä¸­ï¼Œä¸»è¦æœ‰ä¸¤å±‚å«ä¹‰ï¼š</p><ul><li>åŠŸèƒ½æ¨¡å—åŒ–</li><li>ä»£ç æ¨¡å—åŒ–</li></ul><p>å¯¹äºåŠŸèƒ½æ¨¡å—åŒ–ï¼Œ<strong>ç¨‹åºå¯ä»¥æ‹†è§£æˆè‹¥å¹²ä¸ªå­åŠŸèƒ½</strong>ï¼ˆä¾‹å¦‚åœ¨ä¸€ä¸ªå­¦ç”Ÿæˆç»©çš„ç»Ÿè®¡è¡¨ä¸­ï¼Œå¯ä»¥æ‹†è§£ä¸ºï¼šä¿®æ”¹ã€æŸ¥æ‰¾ã€æ’åºç­‰å­åŠŸèƒ½ï¼‰ï¼Œå°†æ¯ä¸ªå­åŠŸèƒ½çš„ä»£ç å®ç°åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ã€‚</p><p>å¯¹äºä»£ç æ¨¡å—åŒ–ï¼Œ<strong>æ˜¯æŒ‡å¯¹äºæ¯ä¸€ä¸ªå…·ä½“çš„å­åŠŸèƒ½</strong>ï¼Œå…¶å†…éƒ¨æœ‰è‹¥å¹²ä¸ªè‡ªå®šä¹‰çš„å‡½æ•°å®ç°ï¼Œæˆ‘ä»¬éœ€è¦å°†<strong>å‡½æ•°çš„å£°æ˜ã€å‡½æ•°çš„å®šä¹‰ã€å‡½æ•°çš„è°ƒç”¨</strong>ä¸‰è€…åˆ†ç¦»å¼€æ¥ï¼Œåˆ†åˆ«æ”¾åœ¨ä¸åŒçš„å¤´æ–‡ä»¶æˆ–è€…æºä»£ç æ–‡ä»¶ä¸­ã€‚</p><h3 id="Usageï¼š"><a href="#Usageï¼š" class="headerlink" title="Usageï¼š"></a>Usageï¼š</h3><h4 id="â‘ å…¨å±€å˜é‡æˆ–è€…æšä¸¾å®šä¹‰"><a href="#â‘ å…¨å±€å˜é‡æˆ–è€…æšä¸¾å®šä¹‰" class="headerlink" title="â‘ å…¨å±€å˜é‡æˆ–è€…æšä¸¾å®šä¹‰"></a>â‘ å…¨å±€å˜é‡æˆ–è€…æšä¸¾å®šä¹‰</h4><p>è¿™ä¸ªéƒ¨åˆ†å¾€å¾€æ˜¯æ‰€æœ‰å­åŠŸèƒ½éƒ½ä¼šä½¿ç”¨åˆ°çš„ï¼Œæˆ‘ä»¬é¦–å…ˆè¿›è¡Œå®šä¹‰ã€‚</p><div class="note note-danger">            <p><strong>æ³¨æ„ï¼šè°¨æ…ä½¿ç”¨å…¨å±€å˜é‡ï¼ï¼ï¼åœ¨å¤šæ–‡ä»¶å¼€å‘ä¸­ï¼Œå…¨å±€å˜é‡å¯ä»¥è¢«ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ä¸­çš„ä»»ä½•ä¸€ä¸ªå‡½æ•°è°ƒç”¨å¹¶ä¸”ä¿®æ”¹ï¼ï¼ï¼å®‰å…¨æ€§ä½å¹¶ä¸”ä¼šäº§ç”Ÿå¾ˆå¤šå¥‡æ€ªçš„é”™è¯¯ï¼</strong></p><p>å¯ä»¥åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨<strong>é™æ€å…¨å±€å˜é‡</strong>ï¼Œè¿™æ ·å¯ä»¥è®©å…¶ä»–æ–‡ä»¶ä¸­çš„å‡½æ•°æ— æ³•ä½¿ç”¨è¯¥å˜é‡ã€‚</p><p>å› æ­¤ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œç¬”è€…æ¨èåªå®šä¹‰ä¸€äº›æšä¸¾å˜é‡æˆ–è€…å˜é‡çš„åˆ«åï¼Œå®å®šä¹‰ç­‰ã€‚</p>          </div><h4 id="â‘¡å­åŠŸèƒ½æ¨¡å—çš„å®ç°"><a href="#â‘¡å­åŠŸèƒ½æ¨¡å—çš„å®ç°" class="headerlink" title="â‘¡å­åŠŸèƒ½æ¨¡å—çš„å®ç°"></a>â‘¡å­åŠŸèƒ½æ¨¡å—çš„å®ç°</h4><p>è¿™ä¸ªéƒ¨åˆ†ä¸»è¦è¦è§£å†³ä¸¤ä»¶äº‹ï¼š<strong>å‡½æ•°çš„å£°æ˜å’Œå‡½æ•°çš„å®šä¹‰</strong>ã€‚å‡½æ•°çš„å£°æ˜åœ¨<strong>å¤´æ–‡ä»¶(.h)<strong>ä¸­å®ç°ï¼Œè€Œå‡½æ•°çš„å®šä¹‰åœ¨</strong>æºä»£ç æ–‡ä»¶(.cpp)<strong>ä¸­å®ç°ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è¦æ±‚</strong>åœ¨ä¸€ä¸ªå­æ¨¡å—å°±åªæœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”è¦æ±‚åŒåã€‚</strong></p><blockquote><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªå­æ¨¡å—å®ç°â€œè¾“å‡ºâ€çš„å­åŠŸèƒ½ï¼Œå†…æ¶µå„ç§å„æ ·åŒ…å«è¾“å‡ºçš„å‡½æ•°ï¼Œè¿™å¤´æ–‡ä»¶å¯ä»¥å®šä¹‰ä¸º<code>Output.h</code>ï¼Œæºä»£ç æ–‡ä»¶å¯ä»¥å®šä¹‰ä¸º<code>Output.cpp</code>ã€‚</p></blockquote><div class="note note-info">            <p><strong>ä¸ºä»€ä¹ˆè¦æŠŠå‡½æ•°çš„å£°æ˜å’Œè°ƒç”¨åˆ†ç¦»å¼€æ¥ï¼Ÿ</strong></p><p>å¦‚æœè¯»è€…çœ‹è¿‡ç¬”è€…å¯¹ã€ŠC++ Primer Plusã€‹çš„æ›´æ–°çš„è¯ï¼Œä¼šå‘ç°å…¶ä¹¦ä¸­é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ‰€æœ‰ç¨‹åºéƒ½æ˜¯<strong>ä¸¥æ ¼å°†å‡½æ•°å®šä¹‰ï¼Œå‡½æ•°å£°æ˜å’Œå‡½æ•°çš„è°ƒç”¨åˆ†ç¦»å¼€æ¥</strong>ï¼Œè¿™æ ·åšç¡®å®ä¼šæ›´éº»çƒ¦ï¼Œä½†ä¼šæœ‰å¦‚ä¸‹çš„å¥½å¤„ï¼š</p><ol><li><p><strong>æé«˜ä»£ç ç»„ç»‡æ€§</strong></p><ul><li><p><strong>å‡½æ•°å£°æ˜</strong>ï¼ˆé€šå¸¸åœ¨å¤´æ–‡ä»¶ä¸­ï¼‰æä¾›äº†å‡½æ•°çš„æ¥å£ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡½æ•°åç§°ã€å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹ã€‚è¿™è®©å…¶ä»–æ¨¡å—å¯ä»¥çŸ¥é“å¦‚ä½•è°ƒç”¨è¯¥å‡½æ•°ï¼Œä½†ä¸éœ€è¦äº†è§£å‡½æ•°çš„å®ç°ç»†èŠ‚ã€‚</p></li><li><p><strong>å‡½æ•°å®šä¹‰</strong>ï¼ˆé€šå¸¸åœ¨æºæ–‡ä»¶ä¸­ï¼‰åŒ…å«äº†å‡½æ•°çš„å…·ä½“å®ç°ï¼Œèƒ½å¤Ÿé¿å…æš´éœ²å†…éƒ¨ç»†èŠ‚ã€‚è¿™æ ·å…¶ä»–æ¨¡å—åªéœ€è¦çŸ¥é“å‡½æ•°çš„å£°æ˜ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå…¶å…·ä½“å®ç°ã€‚</p></li></ul></li><li><p><strong>åŠ é€Ÿç¼–è¯‘è¿‡ç¨‹</strong></p><ul><li><p>å¦‚æœå°†å‡½æ•°å£°æ˜å’Œå®šä¹‰éƒ½æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œæ¯æ¬¡ç¼–è¯‘æ—¶éƒ½éœ€è¦é‡æ–°ç¼–è¯‘å®ç°éƒ¨åˆ†ï¼Œè€Œå£°æ˜é€šå¸¸æ˜¯ä¸€ä¸ªæ¥å£çš„çº¦å®šï¼Œä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚å°†å£°æ˜å’Œå®šä¹‰åˆ†ç¦»åï¼Œå¤´æ–‡ä»¶ï¼ˆå£°æ˜éƒ¨åˆ†ï¼‰å¯ä»¥è¢«å¤šä¸ªæºæ–‡ä»¶å…±äº«ï¼Œè€Œæºæ–‡ä»¶ï¼ˆå®šä¹‰éƒ¨åˆ†ï¼‰åˆ™å¯ä»¥ç‹¬ç«‹è¿›è¡Œç¼–è¯‘ï¼Œå‡å°‘ç¼–è¯‘æ—¶é—´ã€‚</p></li><li><p>ä¿®æ”¹ä¸€ä¸ªå‡½æ•°çš„å®ç°æ—¶ï¼Œåªæœ‰æºæ–‡ä»¶éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œå…¶ä»–ä¾èµ–è¯¥å‡½æ•°å£°æ˜çš„æºæ–‡ä»¶ä¸éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œæå‡äº†ä»£ç çš„ç¼–è¯‘æ•ˆç‡ã€‚</p></li></ul></li><li><p><strong>ä»£ç é‡ç”¨</strong></p><ul><li>åˆ†ç¦»å£°æ˜å’Œå®šä¹‰åï¼Œå¯ä»¥æ–¹ä¾¿åœ°å°†å‡½æ•°å£°æ˜æ”¾å…¥ä¸€ä¸ªå…¬å…±çš„å¤´æ–‡ä»¶ï¼Œä¾›å…¶ä»–é¡¹ç›®æˆ–æ¨¡å—å¤ç”¨ï¼Œè€Œå®ç°éƒ¨åˆ†å¯ä»¥æ”¾åœ¨ä¸åŒçš„æºæ–‡ä»¶ä¸­ã€‚è¿™æ ·ï¼Œå¼€å‘è€…å¯ä»¥é‡ç”¨å·²æœ‰çš„å‡½æ•°å®ç°è€Œä¸éœ€è¦é‡å¤ç¼–å†™ç›¸åŒçš„ä»£ç ã€‚</li></ul></li><li><p><strong>å¢å¼ºå°è£…æ€§</strong></p><ul><li>æŠŠå‡½æ•°å£°æ˜æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå®šä¹‰æ”¾åœ¨æºæ–‡ä»¶ä¸­ï¼Œå¯ä»¥éšè—å‡½æ•°çš„å®ç°ç»†èŠ‚ï¼Œæä¾›æ›´å¼ºçš„å°è£…æ€§ã€‚è¿™æ ·å¯ä»¥é¿å…å‡½æ•°çš„å®ç°ç»†èŠ‚æ³„æ¼ç»™è°ƒç”¨è€…ï¼Œç¡®ä¿æ¨¡å—çš„å†…èšæ€§å’Œç‹¬ç«‹æ€§ã€‚</li></ul></li><li><p><strong>é¿å…é‡å¤å®šä¹‰</strong></p><ul><li>å¦‚æœå‡½æ•°å£°æ˜å’Œå®šä¹‰æ··åˆåœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ªæ–‡ä»¶è¢«å¤šä¸ªæºæ–‡ä»¶åŒ…å«ï¼Œé‚£ä¹ˆå°±å¯èƒ½å¯¼è‡´å‡½æ•°çš„é‡å¤å®šä¹‰é”™è¯¯ã€‚å°†å£°æ˜å’Œå®šä¹‰åˆ†ç¦»åï¼Œä½¿ç”¨ <code>#ifndef</code>ã€<code>#define</code> ç­‰é¢„å¤„ç†æŒ‡ä»¤æ¥é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šæ¬¡åŒ…å«ï¼Œä»è€Œé¿å…è¿™ç§é”™è¯¯ã€‚</li></ul></li><li><p><strong>æ¥å£ä¸å®ç°åˆ†ç¦»</strong></p><ul><li>åˆ†ç¦»å‡½æ•°å£°æ˜å’Œå®šä¹‰ç¬¦åˆâ€œæ¥å£ä¸å®ç°åˆ†ç¦»â€çš„è®¾è®¡åŸåˆ™ã€‚è¿™æ ·å¯ä»¥è®©è°ƒç”¨è€…å…³æ³¨å‡½æ•°çš„åŠŸèƒ½ï¼ˆé€šè¿‡æ¥å£ï¼‰è€Œä¸éœ€è¦å…³æ³¨å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œæé«˜æ¨¡å—çš„ç‹¬ç«‹æ€§å’Œçµæ´»æ€§ã€‚å¦‚æœæ¥å£å‘ç”Ÿæ”¹å˜ï¼Œå‡½æ•°å®ç°å¯ä»¥ä¿æŒä¸å˜ï¼Œåä¹‹äº¦ç„¶ã€‚</li></ul></li></ol>          </div><p><strong>æ³¨æ„ä½¿ç”¨é¢„ç¼–è¯‘å‘½ä»¤ï¼Œé˜²æ­¢åŒä¸€ä¸ªå¤´æ–‡ä»¶è¢«é‡å¤å®šä¹‰ã€‚</strong></p><p><img src="/posts/CMake-tutorial1/multicompiling.png" alt="Several Optional Structures"></p><p>ä¸Šå›¾æ˜¯ä¸‰ç§å¯é€‰çš„æºä»£ç æ”¾ç½®æ–¹å¼ã€‚åœ¨æ¥ä¸‹æ¥çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬å°†é»˜è®¤é€‰æ‹©ç¬¬ä¸‰ç§ã€‚ï¼ˆä¹Ÿæ˜¯ç›¸å¯¹æœ€å¤æ‚çš„ä¸€ç§ï¼‰</p><h2 id="What-is-CMake"><a href="#What-is-CMake" class="headerlink" title="What is CMake"></a>What is CMake</h2><p>ä¸Šæ–‡æˆ‘ä»¬äº†è§£äº†C++çš„<strong>æ¨¡å—åŒ–å¼€å‘</strong>çš„æ ¸å¿ƒæ€æƒ³ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜äºŸéœ€è¢«è§£å†³ï¼š</p><p><strong>å¦‚ä½•è®©ç¼–è¯‘å™¨ç¼–è¯‘é‚£ä¹ˆå¤šçš„æ–‡ä»¶å¹¶æœ€åç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Ÿ</strong></p><p>ç¬¬ä¸€ç§æ–¹æ³•æ˜¯æ‰‹åŠ¨è¾“å…¥å„ç§å‘½ä»¤è¡Œï¼Œè®©ç¨‹åºæŒ‰ç…§é¡ºåºä¸€ä¸ªä¸€ä¸ªè¢«ç¼–è¯‘ï¼Œæœ€åmainå‡½æ•°è¢«ç¼–è¯‘ï¼Œç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚ä½†è¿™ç§æ–¹æ³•æ— ç–‘æ˜¯åŠå…¶ç¹ççš„ï¼Œå› ä¸ºæ¯ä¸€æ¬¡ç¼–è¯‘éƒ½éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨è¾“å…¥ï¼Œå¤§å¤§é™ä½äº†å¼€å‘çš„æ•ˆç‡ã€‚</p><p>ä¸€ç§å¯è¡Œçš„æ–¹æ³•å°±æ˜¯è‡ªå·±å†™ä¸€ä¸ª<strong>è„šæœ¬æ–‡ä»¶</strong>ï¼Œè®©ç¨‹åº<strong>è‡ªåŠ¨åŒ–</strong>åœ°æŒ‰é¡ºåºç¼–è¯‘å¯¹åº”çš„å¤´æ–‡ä»¶å’Œæºä»£ç æ–‡ä»¶ã€‚ä½†æ˜¯è¿˜æœ‰å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œä½ ä¸æƒ³<strong>æ¯å†™ä¸€ä¸ªæ–°çš„ç¨‹åºå°±é‡æ–°å…ˆå†™ä¸€éè„šæœ¬</strong>ï¼ŒåŒæ—¶ä½ å¸Œæœ›ä½ çš„è„šæœ¬èƒ½å¤Ÿåœ¨<strong>å…¨å¹³å°è¿è¡Œï¼ˆLinuxï¼ŒWindowsï¼ŒmacOSï¼‰</strong>ã€‚</p><p>åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œ<strong>CMake</strong>è¯ç”Ÿäº†ã€‚</p><p>CMake æ˜¯ä¸ªä¸€ä¸ªå¼€æºçš„è·¨å¹³å°è‡ªåŠ¨åŒ–å»ºæ„ç³»ç»Ÿï¼Œç”¨æ¥ç®¡ç†è½¯ä»¶å»ºç½®çš„ç¨‹åºï¼Œå¹¶ä¸ä¾èµ–äºæŸç‰¹å®šç¼–è¯‘å™¨ï¼Œå¹¶å¯æ”¯æŒå¤šå±‚ç›®å½•ã€å¤šä¸ªåº”ç”¨ç¨‹åºä¸å¤šä¸ªå‡½æ•°åº“ã€‚</p><p>CMake é€šè¿‡ä½¿ç”¨ç®€å•çš„é…ç½®æ–‡ä»¶ CMakeLists.txtï¼Œè‡ªåŠ¨ç”Ÿæˆä¸åŒå¹³å°çš„æ„å»ºæ–‡ä»¶ï¼ˆå¦‚ Makefileã€Ninja æ„å»ºæ–‡ä»¶ã€Visual Studio å·¥ç¨‹æ–‡ä»¶ç­‰ï¼‰ï¼Œç®€åŒ–äº†é¡¹ç›®çš„ç¼–è¯‘å’Œæ„å»ºè¿‡ç¨‹ã€‚</p><p>CMake æœ¬èº«ä¸æ˜¯æ„å»ºå·¥å…·ï¼Œè€Œæ˜¯ç”Ÿæˆæ„å»ºç³»ç»Ÿçš„å·¥å…·ï¼Œå®ƒç”Ÿæˆçš„æ„å»ºç³»ç»Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼–è¯‘å™¨å’Œå·¥å…·é“¾ã€‚</p><h2 id="The-Basic-Usage-of-CMake"><a href="#The-Basic-Usage-of-CMake" class="headerlink" title="The Basic Usage of CMake"></a>The Basic Usage of CMake</h2><p><a href="https://blog.csdn.net/weiwei9363/article/details/109290252">æ¨èä¸€ç¯‡å†™çš„å¾ˆå¥½çš„åšå®¢</a></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥ <strong>IDE CLion</strong>ä¸ºä¾‹ï¼Œä»‹ç»åœ¨<strong>CLion</strong>ä¸­å¦‚ä½•ä½¿ç”¨CMakeæ„å»ºå·¥ç¨‹æ–‡ä»¶ã€‚</p><blockquote><p>CLionçš„ä½¿ç”¨å¯è‡ªè¡ŒæŸ¥è¯¢ï¼Œæ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨çš„C++å¼€å‘å·¥å…·ã€‚</p></blockquote><p>åœ¨æ‰“å¼€ä¸€ä¸ªæ–°é¡¹ç›®çš„æ—¶å€™ï¼ˆC++ Executableï¼‰ï¼Œä½ åº”è¯¥ä¼šå¾—åˆ°å¦‚ä¸‹çš„ç•Œé¢ï¼š</p><p><img src="/posts/CMake-tutorial1/1.png" alt="Opening a new project"></p><p>æˆ‘ä»¬ä¼šå‘ç°ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªCMakeList.txtçš„æ–‡æœ¬æ–‡ä»¶ï¼Œ<strong>è¿™å°±æ˜¯ä¸Šæ–‡æåˆ°çš„è‡ªåŠ¨åŒ–ç¼–è¯‘çš„è„šæœ¬</strong>ã€‚</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs makefile">cmake_minimum_required(VERSION 3.30)<br><br>project(untitled)<br><br>set(CMAKE_CXX_STANDARD 20)<br><br>add_executable(untitled main.cpp)<br><br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥é€è¡Œè§£é‡Šè¿™å››è¡Œä»£ç ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs makefile">cmake_minimum_required(VERSION 3.30)<br></code></pre></td></tr></table></figure><p>è§„å®šäº†CMakeçš„æœ€ä½ç‰ˆæœ¬ï¼Œè¿™é‡ŒCLionè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€ä¿®æ”¹ã€‚</p><blockquote><p>å¦‚æœä½ æ˜¯ç›´æ¥å®‰è£…äº†CMakeï¼Œåˆ™éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶å¹¶å°†å†…å®¹è¾“å…¥ï¼Œè¿˜æ˜¯æœ‰ä¸€ç‚¹å·¥ä½œé‡çš„ï¼Œå»ºè®®æ–°æ‰‹å…ˆä½¿ç”¨CLionç†Ÿæ‚‰CMakeçš„åŸºæœ¬æ“ä½œã€‚</p></blockquote><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs makefile">project(untitled)<br></code></pre></td></tr></table></figure><p>è¿™è¡Œä»£ç å®šä¹‰äº† CMake é¡¹ç›®çš„åç§°ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¡¹ç›®åæ˜¯ <code>untitled</code>ã€‚<code>project()</code> å‘½ä»¤æ˜¯ç”¨æ¥åˆå§‹åŒ– CMake é¡¹ç›®ï¼Œå¹¶ä¸ºåç»­çš„æ„å»ºè®¾ç½®ä¸€äº›åŸºæœ¬çš„é¡¹ç›®å±æ€§ï¼ˆå¦‚åç§°ã€ç‰ˆæœ¬ç­‰ï¼‰</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs makefile">set(CMAKE_CXX_STANDARD 20)<br></code></pre></td></tr></table></figure><p>è¿™è¡Œä»£ç è®¾ç½®äº† C++ ç¼–è¯‘æ ‡å‡†ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>CMAKE_CXX_STANDARD 20</code> è¡¨ç¤ºå°† C++ æ ‡å‡†è®¾ä¸º C++20ã€‚CMake ä¼šç¡®ä¿ç¼–è¯‘å™¨ä½¿ç”¨ç¬¦åˆ C++20 æ ‡å‡†çš„ç‰¹æ€§å’Œè¯­æ³•æ¥ç¼–è¯‘æºä»£ç ã€‚</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs makefile">add_executable(untitled main.cpp)<br></code></pre></td></tr></table></figure><p>è¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚<code>add_executable()</code> å‘½ä»¤å‘Šè¯‰ CMake å°†æºæ–‡ä»¶ï¼ˆæ­¤å¤„æ˜¯ <code>main.cpp</code>ï¼‰ç¼–è¯‘å¹¶é“¾æ¥æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚å¯æ‰§è¡Œæ–‡ä»¶çš„åç§°æ˜¯ <code>untitled</code>ï¼Œå³ç¼–è¯‘åç”Ÿæˆçš„ç¨‹åºæ–‡ä»¶åå°†æ˜¯ <code>untitled</code>ã€‚</p><p>åœ¨ç‚¹å‡»CLionçš„<code>Build</code>åï¼Œæ‰¾åˆ°æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ï¼Œåœ¨æ–‡ä»¶å¤¹<code>cmake-build-debug</code>ä¸­åº”è¯¥ä¼šç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¯´æ˜ç¨‹åºå·²ç»ç¼–è¯‘å®Œæˆã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>CMake</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pointers-Arrays-and-Functions</title>
    <link href="/posts/Pointers-Arrays-and-Functions/"/>
    <url>/posts/Pointers-Arrays-and-Functions/</url>
    
    <content type="html"><![CDATA[<h1 id="å‡½æ•°ã€æ•°ç»„å’ŒæŒ‡é’ˆ"><a href="#å‡½æ•°ã€æ•°ç»„å’ŒæŒ‡é’ˆ" class="headerlink" title="å‡½æ•°ã€æ•°ç»„å’ŒæŒ‡é’ˆ"></a>å‡½æ•°ã€æ•°ç»„å’ŒæŒ‡é’ˆ</h1><p>å°é¢æ¥æºï¼š<a href="https://knowyourmeme.com/photos/2214241-two-soyjaks-pointing">Pointers</a></p><blockquote><p>å¯¹ä¸èµ·çœŸçš„å¤ªå¥½ç¬‘äº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p></blockquote><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>åœ¨C++ä¸­ï¼Œå‡½æ•°ï¼Œæ•°ç»„å’ŒæŒ‡é’ˆæ˜¯ä¸‰ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œä»–ä»¬æ˜¯C++å®ç°è®¸å¤šé«˜çº§åŠŸèƒ½ï¼ˆä¾‹å¦‚STLï¼ŒOOPï¼‰çš„åŸºçŸ³ã€‚åŒæ—¶ï¼Œè¿™ä¸‰è€…ä¹‹é—´åˆæœ‰ç€å¯†ä¸å¯åˆ†çš„è”ç³»ã€‚æœ¬æ–‡å°†ä¸»è¦ä»<strong>æŒ‡é’ˆ</strong>çš„è§’åº¦å‡ºå‘ï¼Œæ·±å…¥æ¢ç©¶<strong>å†…å­˜</strong>çš„æœ¬è´¨ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šæ¢å¯»ä¸€äº›æŒ‡é’ˆçš„é«˜çº§åŠŸèƒ½ã€‚</p><blockquote><p>In C++, functions, arrays, and pointers are three essential concepts that serve as the cornerstone for implementing many advanced features, such as the Standard Template Library (STL) and Object-Oriented Programming (OOP). At the same time, these three elements are intricately interconnected. This article will primarily focus on <strong>pointers</strong>, delving deep into the essence of <strong>memory</strong> and, based on this foundation, exploring some advanced functionalities of pointers.</p></blockquote><h2 id="Before-the-article-begins"><a href="#Before-the-article-begins" class="headerlink" title="Before the article begins"></a>Before the article begins</h2><p>åœ¨æ–‡ç« å¼€å§‹å‰ï¼Œè¯·åŠ¡å¿…ç¡®ä¿ä½ å·²ç»æŒæ¡äº†<strong>æŒ‡é’ˆï¼Œæ•°ç»„ï¼Œå‡½æ•°ä¸‰è€…åˆ†åˆ«çš„åŸºæœ¬ç”¨æ³•å’Œä¸€äº›åˆæ­¥çš„å†…å­˜ç®¡ç†çš„çŸ¥è¯†</strong>ã€‚æœ¬æ–‡å¯¹ç›¸å…³åŸºç¡€ä»£ç ä¸å†è¿‡å¤šèµ˜è¿°ã€‚</p><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul><li>Pointers and Memories</li><li>Types of Pointers matters</li><li>Array of an Pointer and Pointer of an array</li><li>Rvalue</li><li>parameters in the main function</li><li>Lambda expression</li><li>Smart Pointer</li></ul><h2 id="Pointers-and-Memories"><a href="#Pointers-and-Memories" class="headerlink" title="Pointers and Memories"></a>Pointers and Memories</h2><p>åœ¨è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†ä»å†…å­˜çš„è§†è§’é‡æ–°è®¤è¯†æŒ‡é’ˆã€‚</p><p><strong>å†…å­˜æ˜¯ä»€ä¹ˆï¼Ÿ</strong>é€šä¿—æ¥è¯´ï¼Œå†…å­˜å°±æ˜¯è®¡ç®—æœº<strong>å­˜å‚¨æ•°æ®çš„åœ°æ–¹</strong>ï¼ˆè¿™ä¸ªå®šä¹‰éå¸¸çš„ä¸ä¸¥è°¨ï¼Œç”šè‡³æ˜¯ä¸€æ´¾èƒ¡è¨€ã€‚ä½†æ˜¯è¿™ç¯‡æ–‡ç« ä¸ä¼šæ¶‰åŠç¡¬ä»¶çš„å¤ªå¤šçŸ¥è¯†ï¼Œå¤§å®¶åªè¦è®¤è¯†åˆ°è¿™ä¸€æ­¥å°±è¡Œäº†ï¼‰ã€‚ç¬¬äºŒä¸ªé—®é¢˜ï¼Œ<strong>å¦‚ä½•å­˜å‚¨æ•°æ®ï¼Ÿ</strong>æˆ‘ä»¬çŸ¥é“ï¼Œæ•°æ®å­˜å‚¨çš„æœ€å°å•å…ƒæ˜¯<strong>ä½ï¼ˆbitï¼‰</strong>ï¼Œä»£è¡¨ä¸€ä¸ªäºŒè¿›åˆ¶ä½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¼šæŠŠå†…å­˜è¿›è¡Œ<strong>ç¼–ç </strong>ï¼Œæ¯ä¸€ä¸ªbitéƒ½ä¼šæ‹¿åˆ°è‡ªå·±çš„ç¼–å·ï¼Œä»£è¡¨è‡ªå·±çš„å…·ä½“ä½ç½®ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> a=<span class="hljs-number">100</span>;<br>    <span class="hljs-type">int</span> *p=&amp;a;<br>    cout&lt;&lt;p;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¾“å‡ºç»“æœï¼š0x61fe14(å˜é‡açš„å€¼ï¼Œå˜é‡açš„å†…å­˜å—ç¬¬ä¸€ä¸ªbitçš„ç¼–å·ï¼ŒæŒ‡é’ˆpæ‰€å‚¨å­˜çš„å€¼)</span><br></code></pre></td></tr></table></figure><blockquote><p>å†…å­˜çš„ç¡¬ä»¶çŸ¥è¯†æœ‰å…´è¶£çš„å¯ä»¥çœ‹è¿™ç¯‡ <a href="https://blog.csdn.net/hellojoy/article/details/102933809">åšå®¢</a>ï¼Œè®²çš„æ¯”è¾ƒæ¸…æ¥šã€‚</p></blockquote><p>æ¥ä¸‹æ¥ï¼Œå›åˆ°æŒ‡é’ˆã€‚æŒ‡é’ˆå­˜å‚¨äº†ä¸€ä¸ª<strong>å˜é‡</strong>çš„<strong>åœ°å€ï¼ˆå†…å­˜ï¼‰</strong>ï¼Œè¿™æ˜¯æŒ‡é’ˆçš„åŠŸèƒ½ã€‚ä½†æ˜¯ï¼ŒæŒ‡é’ˆæœ¬èº«å…¶å®<strong>ä¹Ÿæ˜¯ä¸€ç§å˜é‡</strong>ï¼Œåœ¨å†…å­˜ä¸­æœ‰ç›¸å¯¹åº”çš„åœ°å€ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨64ä½çš„ç³»ç»Ÿä¸Šï¼ŒæŒ‡é’ˆåœ¨å†…å­˜ä¸­å <strong>8ä¸ªå­—èŠ‚ï¼ˆ64bitï¼‰</strong>ï¼Œåœ¨å¤§å°ä¸Šå’Œ<code>unsigned long long</code>ç±»å‹æ˜¯ä¸€æ ·çš„ã€‚ï¼ˆä¸è¿‡æŒ‡é’ˆçš„å€¼æ˜¯åå…­è¿›åˆ¶çš„å­˜å‚¨æ–¹å¼ï¼‰</p><div class="note note-success">            <p><strong>å› æ­¤ï¼ŒæŒ‡é’ˆä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼å’Œintï¼Œdoubleï¼Œcharç­‰ç­‰ä¸€æ ·ï¼Œåœ¨å†…å­˜ä¸­å ä¸€å®šç©ºé—´ï¼Œå¹¶ä¸”å‚¨å­˜å¯¹åº”çš„å€¼ã€‚ï¼ˆåªä¸è¿‡æŒ‡é’ˆå‚¨å­˜çš„å€¼å°±æ˜¯å†…å­˜çš„ç¼–å·ç½¢äº†ï¼‰</strong></p>          </div><h2 id="Types-of-pointers-matters"><a href="#Types-of-pointers-matters" class="headerlink" title="Types of pointers matters"></a>Types of pointers matters</h2><p>æŒ‡é’ˆæœ‰ç€<strong>è§£å¼•ç”¨</strong>çš„æ“ä½œï¼Œè¿™æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä»£ç ç¤ºèŒƒï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> num=<span class="hljs-number">4758843763784</span>;<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span>* p1=&amp;num;<br>    <span class="hljs-type">int</span>* p2=(<span class="hljs-type">int</span>*)p1;<br>    <span class="hljs-type">double</span>* p3=(<span class="hljs-type">double</span>*)p1;<br>    <span class="hljs-type">char</span>* p4=(<span class="hljs-type">char</span>*)p2;<br>    <span class="hljs-type">float</span>* p5=(<span class="hljs-type">float</span>*)p1;<br>    <span class="hljs-comment">//å¯¹æŒ‡é’ˆè¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢</span><br>    cout&lt;&lt;<span class="hljs-string">&quot;the size of each pointers:&quot;</span>&lt;&lt;endl;<br>    cout&lt;&lt;<span class="hljs-built_in">sizeof</span>(p1)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;<span class="hljs-built_in">sizeof</span>(p2)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;<span class="hljs-built_in">sizeof</span>(p3)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;<span class="hljs-built_in">sizeof</span>(p4)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;<span class="hljs-built_in">sizeof</span>(p5)&lt;&lt;endl;<br>    cout&lt;&lt;<span class="hljs-string">&quot;The memory:&quot;</span>&lt;&lt;endl;<br>    cout&lt;&lt;p1&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;p2&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;p3&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;(<span class="hljs-type">void</span>*)p4&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;p5&lt;&lt;endl;<br>    <span class="hljs-comment">//å¼ºåˆ¶ç±»å‹è½¬æ¢å­—ç¬¦æŒ‡é’ˆï¼Œå¦åˆ™ä¼šè¾“å‡ºå®é™…å­—ç¬¦çš„å€¼ã€‚</span><br>    cout&lt;&lt;<span class="hljs-string">&quot;Dereferencing Various Pointers&quot;</span>&lt;&lt;endl;<br>    cout&lt;&lt;*p1&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;*p2&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;*p3&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;*p4&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;*p5&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">the</span> size of each pointers:<br><span class="hljs-attribute">8</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span> <span class="hljs-number">8</span><br><span class="hljs-attribute">The</span> memory:<br><span class="hljs-attribute">0x61fdf0</span> <span class="hljs-number">0</span>x61fdf0 <span class="hljs-number">0</span>x61fdf0 <span class="hljs-number">0</span>x61fdf0 <span class="hljs-number">0</span>x61fdf0<br><span class="hljs-attribute">Dereferencing</span> Various Pointers<br><span class="hljs-attribute">4758843763784</span> <span class="hljs-number">19999816</span> <span class="hljs-number">2</span>.<span class="hljs-number">35118</span>e-<span class="hljs-number">311</span> H <span class="hljs-number">3</span>.<span class="hljs-number">25415</span>e-<span class="hljs-number">38</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªä»£ç å‘Šè¯‰äº†æˆ‘ä»¬ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æŒ‡é’ˆåœ¨å†…å­˜ä¸­å­˜å‚¨çš„å¤§å°å’Œ<strong>æŒ‡é’ˆæŒ‡å‘æ•°æ®ç±»å‹çš„å¤§å°æ— å…³</strong>ã€‚ï¼ˆè¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œç¨åä¼šè§£é‡Šï¼‰</li><li><strong>æŒ‡å‘ä¸åŒæ•°æ®ç±»å‹çš„æŒ‡é’ˆï¼Œå¯¹äºåŒä¸€å—å†…å­˜è§£å¼•ç”¨æ‰€å¾—åˆ°çš„æ˜¯å®Œå…¨ä¸åŒçš„å€¼</strong>ï¼</li></ul><p>æ¢å¥è¯è¯´ï¼ŒæŒ‡é’ˆçš„ç±»å‹ä¸ä¼šæ”¹å˜æŒ‡é’ˆåœ¨å†…å­˜ä¸­çš„å­˜å‚¨å’ŒæŒ‡é’ˆçš„å€¼ï¼Œåªä¼šå½±å“æŒ‡é’ˆåœ¨<strong>è§£å¼•ç”¨æ—¶</strong>å¯¹å†…å­˜çš„è§£é‡Šï¼ˆå³å¦‚ä½•å°†0&#x2F;1çš„æ¯”ç‰¹ä½è½¬æ¢æˆæœ‰æ•ˆæ•°æ®ï¼‰ã€‚</p><p>å› æ­¤ï¼Œ<strong>Types of pointers mattersï¼</strong>å®é™…ä¸Šï¼Œå¦‚æœä¸è¿›è¡Œå¼ºåˆ¶ç±»å‹çš„è½¬æ¢ï¼Œç¼–è¯‘å™¨é¢å¯¹ä¸åŒ¹é…çš„æŒ‡é’ˆç±»å‹çš„æ—¶å€™ä¹Ÿä¼šæŠ¥é”™ã€‚</p><p>ä»¥ä¸Šä¸¤ä¸ªç« èŠ‚æ˜¯å¯¹æŒ‡é’ˆå’Œå†…å­˜ä¸€äº›åŸºç¡€çŸ¥è¯†çš„å›é¡¾ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»<strong>æ•°ç»„ï¼ŒæŒ‡é’ˆå’Œå‡½æ•°</strong>ä¸‰è€…åœ¨C++ä¸­ä¸€äº›é«˜çº§çš„æ“ä½œã€‚</p><h2 id="Advanced-Technique-1-Array-of-pointers-and-Pointer-to-an-array"><a href="#Advanced-Technique-1-Array-of-pointers-and-Pointer-to-an-array" class="headerlink" title="Advanced Technique 1  Array of pointers and Pointer to an array"></a>Advanced Technique 1  Array of pointers and Pointer to an array</h2><p><strong>Definition</strong></p><p>æ•°ç»„æŒ‡é’ˆï¼šæ•°ç»„æŒ‡é’ˆæ˜¯<strong>æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</strong>ã€‚</p><p>æŒ‡é’ˆæ•°ç»„ï¼šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯<strong>æŒ‡é’ˆ</strong>ã€‚</p><p>å®šä¹‰è¿˜æ˜¯éå¸¸ç›´ç™½çš„ï¼Œ<strong>æ•°ç»„æŒ‡é’ˆæ˜¯æŒ‡é’ˆï¼ŒæŒ‡é’ˆæ•°ç»„æ˜¯æ•°ç»„ã€‚</strong></p><p><strong>Usage</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">int</span> (*ptr)[size];<br><span class="hljs-comment">//å£°æ˜ä¸€ä¸ªæ•°ç»„æŒ‡é’ˆ</span><br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> *ptr[size];<br><span class="hljs-comment">//å£°æ˜ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„</span><br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>åœ¨ C++ ä¸­ï¼Œ<code>*</code> è¿ç®—ç¬¦ç”¨äºå£°æ˜æŒ‡é’ˆï¼Œè€Œ <code>[]</code> è¿ç®—ç¬¦ç”¨äºå£°æ˜æ•°ç»„ã€‚å› ä¸º<strong>è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ä¸åŒ</strong>ï¼ˆ<code>[]</code> è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äº<code>*</code> è¿ç®—ç¬¦ï¼‰ï¼Œç›´æ¥å†™ <code>*ptr[size]</code> ä¼šè®©ç¼–è¯‘å™¨ç†è§£ä¸ºå£°æ˜ä¸€ä¸ªæ•°ç»„ <code>ptr</code>ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>type</code> çš„æŒ‡é’ˆï¼Œè€Œä¸æ˜¯å£°æ˜ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆã€‚</p>          </div><p><strong>ä½¿ç”¨æ–¹æ³•</strong></p><p>å¦‚æœæ˜¯æ•°ç»„æŒ‡é’ˆï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;;<br>    <span class="hljs-built_in">int</span> (*ptr)[<span class="hljs-number">3</span>] = &amp;arr;  <span class="hljs-comment">// ptr æ˜¯æŒ‡å‘åŒ…å« 3 ä¸ªæ•´æ•°çš„æ•°ç»„çš„æŒ‡é’ˆ</span><br><br>    <span class="hljs-comment">// è®¿é—®æ•°ç»„å…ƒç´ </span><br>    std::cout &lt;&lt; (*ptr)[<span class="hljs-number">0</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 1</span><br>    std::cout &lt;&lt; (*ptr)[<span class="hljs-number">1</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 2</span><br>    std::cout &lt;&lt; (*ptr)[<span class="hljs-number">2</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 3</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>ptr</code> æ˜¯æŒ‡å‘ä¸€ä¸ªåŒ…å« 3 ä¸ªæ•´æ•°çš„æ•°ç»„çš„æŒ‡é’ˆã€‚å¯ä»¥é€šè¿‡ <code>(*ptr)[i]</code> çš„æ–¹å¼æ¥è®¿é—®æ•°ç»„å…ƒç´ ã€‚</p><p>å¦‚æœæ˜¯æŒ‡é’ˆæ•°ç»„ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">1</span>, b = <span class="hljs-number">2</span>, c = <span class="hljs-number">3</span>;<br>    <span class="hljs-type">int</span> *ptr[<span class="hljs-number">3</span>];  <span class="hljs-comment">// ptr æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼ŒåŒ…å« 3 ä¸ªæŒ‡å‘æ•´æ•°çš„æŒ‡é’ˆ</span><br><br>    ptr[<span class="hljs-number">0</span>] = &amp;a;<br>    ptr[<span class="hljs-number">1</span>] = &amp;b;<br>    ptr[<span class="hljs-number">2</span>] = &amp;c;<br><br>    <span class="hljs-comment">// è®¿é—®æ•°ç»„å…ƒç´ </span><br>    std::cout &lt;&lt; *ptr[<span class="hljs-number">0</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 1</span><br>    std::cout &lt;&lt; *ptr[<span class="hljs-number">1</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 2</span><br>    std::cout &lt;&lt; *ptr[<span class="hljs-number">2</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 3</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>ptr</code> æ˜¯ä¸€ä¸ªåŒ…å« 3 ä¸ªæŒ‡é’ˆçš„æ•°ç»„ï¼Œæ¯ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸åŒçš„æ•´æ•°å˜é‡ã€‚é€šè¿‡ <code>*ptr[i]</code> å¯ä»¥è®¿é—®æŒ‡é’ˆæ‰€æŒ‡å‘çš„å€¼ã€‚</p><p><strong>Applications</strong></p><p><strong>æ•°ç»„æŒ‡é’ˆå’ŒæŒ‡é’ˆæ•°ç»„éƒ½å¯ä»¥ç”¨æ¥æ“ä½œäºŒç»´æ•°ç»„</strong>ã€‚</p><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªäºŒç»´æ•°ç»„ <code>arr[3][4]</code>ï¼Œå®ƒæœ‰ 3 è¡Œ 4 åˆ—ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥ä½¿ç”¨æŒ‡é’ˆæ¥è®¿é—®å®ƒã€‚</p><p>ä½¿ç”¨æ•°ç»„æŒ‡é’ˆï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">int</span> (*ptr)[<span class="hljs-number">4</span>] = arr;  <span class="hljs-comment">// ptr æ˜¯æŒ‡å‘æ•°ç»„ä¸­æ¯ä¸€è¡Œçš„æŒ‡é’ˆ</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>ptr</code> æ˜¯æŒ‡å‘æ•°ç»„ä¸­æ¯ä¸€è¡Œçš„æŒ‡é’ˆã€‚ä½ å¯ä»¥é€šè¿‡ <code>ptr[i]</code> æ¥è®¿é—®ç¬¬ <code>i</code> è¡Œçš„æ•°æ®ã€‚</p><p>ä½¿ç”¨æŒ‡é’ˆæ•°ç»„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> *ptr[<span class="hljs-number">3</span>];  <span class="hljs-comment">// ptr æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼ŒåŒ…å« 3 ä¸ªæŒ‡å‘æ•´æ•°çš„æŒ‡é’ˆ</span><br>ptr[<span class="hljs-number">0</span>] = arr[<span class="hljs-number">0</span>];  <span class="hljs-comment">// ptr[0] æŒ‡å‘ arr çš„ç¬¬ä¸€è¡Œ</span><br>ptr[<span class="hljs-number">1</span>] = arr[<span class="hljs-number">1</span>];  <span class="hljs-comment">// ptr[1] æŒ‡å‘ arr çš„ç¬¬äºŒè¡Œ</span><br>ptr[<span class="hljs-number">2</span>] = arr[<span class="hljs-number">2</span>];  <span class="hljs-comment">// ptr[2] æŒ‡å‘ arr çš„ç¬¬ä¸‰è¡Œ</span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>ptr</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘æ•°ç»„è¡Œçš„æŒ‡é’ˆã€‚ä½ å¯ä»¥é€šè¿‡ <code>ptr[i][j]</code> æ¥è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ ã€‚</p><div class="note note-warning">            <p><strong>ä½¿ç”¨äºŒçº§æŒ‡é’ˆä¸å¯ä»¥ç›´æ¥æŒ‡å‘ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼ï¼ˆå› ä¸ºç±»å‹å¹¶ä¸åŒ¹é…ï¼‰</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> ** testptr=<span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>][<span class="hljs-number">5</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    testptr=a;  <span class="hljs-comment">//INVALID!</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">ä¼šæŠ¥é”™ï¼š</span><br><span class="hljs-comment">testcode_1.cpp: In function &#x27;int main()&#x27;:</span><br><span class="hljs-comment">testcode_1.cpp:40:13: error: cannot convert &#x27;int [5][5]&#x27; to &#x27;int**&#x27; in assignment</span><br><span class="hljs-comment">     testptr=a;</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> ** testptr=<span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-built_in">int</span> (*testptr2)[<span class="hljs-number">5</span>]=<span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-type">int</span> a[<span class="hljs-number">5</span>][<span class="hljs-number">5</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    testptr2=a;<br>    cout&lt;&lt;*testptr2&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;**testptr2;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œï¼š</span><br><span class="hljs-comment">è¾“å‡ºç»“æœï¼š0x61fd90 0</span><br><span class="hljs-comment">è§£é‡Šï¼š*testptr2ä»£è¡¨æ•°ç»„æŒ‡é’ˆçš„é¦–å…ƒç´ çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªæŒ‡å‘intçš„æŒ‡é’ˆï¼Œå†è§£å¼•ç”¨ä¸€æ¬¡æ‰å¾—åˆ°a[0][0]çš„å€¼ã€‚</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å¯ä»¥ä½¿ç”¨<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>çš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥è®©ä¸€ä¸ªäºŒçº§æŒ‡é’ˆä¸äºŒç»´æ•°ç»„ç›¸å…³è”ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> rows = <span class="hljs-number">3</span>;<br>    <span class="hljs-type">int</span> cols = <span class="hljs-number">4</span>;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ new åŠ¨æ€åˆ†é…äºŒç»´æ•°ç»„</span><br>    <span class="hljs-type">int</span> **arr = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>*[rows];  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æŒ‡å‘ä¸€è¡Œ</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; rows; i++) &#123;<br>        arr[i] = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[cols];  <span class="hljs-comment">// æ¯ä¸€è¡Œåˆ†é… cols ä¸ª int</span><br>    &#125;<br><br>    <span class="hljs-comment">// ç»™äºŒç»´æ•°ç»„èµ‹å€¼</span><br>    arr[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    arr[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">2</span>;<br>    arr[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">3</span>;<br>    arr[<span class="hljs-number">0</span>][<span class="hljs-number">3</span>] = <span class="hljs-number">4</span>;<br><br>    arr[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">5</span>;<br>    arr[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">6</span>;<br>    arr[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">7</span>;<br>    arr[<span class="hljs-number">1</span>][<span class="hljs-number">3</span>] = <span class="hljs-number">8</span>;<br><br>    arr[<span class="hljs-number">2</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">9</span>;<br>    arr[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">10</span>;<br>    arr[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>] = <span class="hljs-number">11</span>;<br>    arr[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] = <span class="hljs-number">12</span>;<br><br>    <span class="hljs-comment">// ä½¿ç”¨äºŒçº§æŒ‡é’ˆè®¿é—®å…ƒç´ </span><br>    std::cout &lt;&lt; arr[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 1</span><br>    std::cout &lt;&lt; arr[<span class="hljs-number">1</span>][<span class="hljs-number">2</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 7</span><br>    std::cout &lt;&lt; arr[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 12</span><br><br>    <span class="hljs-comment">// é‡Šæ”¾å†…å­˜</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; rows; i++) &#123;<br>        <span class="hljs-keyword">delete</span>[] arr[i];  <span class="hljs-comment">// é‡Šæ”¾æ¯è¡Œçš„å†…å­˜</span><br>    &#125;<br>    <span class="hljs-keyword">delete</span>[] arr;  <span class="hljs-comment">// é‡Šæ”¾æŒ‡é’ˆæ•°ç»„</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>          </div><h2 id="Advanced-Technique-2-Rvalue"><a href="#Advanced-Technique-2-Rvalue" class="headerlink" title="Advanced Technique 2 Rvalue"></a>Advanced Technique 2 Rvalue</h2><p><strong>å·¦å€¼ï¼ˆLvalueï¼‰</strong>ï¼šå¯ä»¥è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡çš„å†…å­˜ä½ç½®ï¼Œå¹¶ä¸”å¯ä»¥è·å–å…¶åœ°å€ã€‚é€šå¸¸æ˜¯å˜é‡ã€å¯¹è±¡æˆ–æ•°ç»„å…ƒç´ ã€‚</p><p><strong>å³å€¼ï¼ˆRvalueï¼‰</strong>ï¼šé€šå¸¸æ˜¯ä¸´æ—¶å¯¹è±¡ã€å­—é¢å€¼æˆ–è¡¨è¾¾å¼çš„ç»“æœã€‚å³å€¼ä¸èƒ½è·å–åœ°å€ï¼Œä»£è¡¨çš„æ˜¯ä¸€ä¸ªä¸å†éœ€è¦çš„å€¼ã€‚</p><p>ä¾‹å¦‚åœ¨<code>x=y+z</code>è¿™ä¸ªè¡¨è¾¾å¼ä¸­ï¼Œx,y,zéƒ½æ˜¯å˜é‡ï¼ˆå·¦å€¼ï¼‰ï¼Œåœ¨å†…å­˜ä¸­æœ‰å¯¹åº”çš„ç©ºé—´ï¼Œå¯ä»¥è¿›è¡Œå–å€è¿ç®—ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¼šå…ˆè®¡ç®—<code>y+z</code>çš„å€¼ï¼ˆ<strong>è¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯å³å€¼</strong>ï¼‰ï¼Œå°†è¿™ä¸ªå€¼èµ‹ç»™xåï¼Œy+zçš„ç»“æœå°±æ¶ˆå¤±äº†ã€‚</p><p>C++3 ä¸­å¼•ç”¨ç±»å‹çš„å˜é‡åªèƒ½æ˜¯å·¦å€¼ï¼Œé™¤éå£°æ˜çš„æ˜¯ const çš„å¼•ç”¨ï¼Œå› è€Œç§°ä¹‹ä¸ºå·¦å€¼å¼•ç”¨ã€‚è€ŒC++11 å¼•å…¥äº†å³å€¼å¼•ç”¨ã€‚å³å€¼å¼•ç”¨ä»¥<code>&amp;&amp;</code>æ¥è¡¨ç¤ºï¼Œå®ƒçš„åˆå€¼åªèƒ½æ˜¯ä¸€ä¸ªå°†è¦è¢«é”€æ¯çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> x = <span class="hljs-number">10</span>; <br><span class="hljs-type">int</span> &amp;&amp;y = x + <span class="hljs-number">9</span>; <br><span class="hljs-type">int</span> &amp;&amp;z = <span class="hljs-number">8</span> * <span class="hljs-number">9</span> % <span class="hljs-number">4</span>;<br></code></pre></td></tr></table></figure><p>ç”±äº<strong>å³å€¼å¼•ç”¨åªèƒ½ç»‘å®šåˆ°ä¸´æ—¶å¯¹è±¡</strong>ï¼Œå³è¯¥å¯¹è±¡å°†è¦è¢«é”€æ¯ï¼Œè¿™æ„å‘³ç€<strong>å³å€¼å¼•ç”¨çš„å˜é‡å¯ä»¥æ¥ç®¡æ‰€å¼•ç”¨çš„å¯¹è±¡çš„èµ„æº</strong>ã€‚å®šä¹‰ y å’Œ z æ—¶éƒ½æ²¡æœ‰åˆ†é…ç©ºé—´ï¼Œè€Œæ˜¯æ¥ç®¡äº†å­˜å‚¨å³è¾¹è¡¨è¾¾å¼è®¡ç®—ç»“æœçš„ä¸´æ—¶å˜é‡çš„ç©ºé—´ã€‚ y æ¥ç®¡äº†å­˜æ”¾ x+9 ç»“æœå€¼çš„ä¸´æ—¶å˜é‡çš„ç©ºé—´ã€‚ z æ¥ç®¡äº†å­˜æ”¾ 8 * 9 % 4 ç»“æœå€¼çš„ä¸´æ—¶å˜é‡çš„ç©ºé—´ã€‚ </p><blockquote><p>å³å€¼å¼•ç”¨ç›¸å½“äºç»™ä¸€ä¸ªå³å°†è¦æ¶ˆäº¡çš„å€¼ç»­äº†ä¸€å£å‘½è®©ä»–ä¸€ç›´å­˜åœ¨ã€‚</p></blockquote><p>é€šè¿‡å³å€¼å¼•ç”¨ï¼ŒC++ èƒ½å¤Ÿå®ç°<strong>ç§»åŠ¨è¯­ä¹‰</strong>ï¼Œå³å½“å¯¹è±¡çš„èµ„æºä¸å†éœ€è¦æ—¶ï¼Œå¯ä»¥ç›´æ¥å°†èµ„æºâ€œç§»åŠ¨â€åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ˜‚è´µçš„æ‹·è´æ“ä½œã€‚ä¾‹å¦‚ï¼Œ<code>std::vector</code>å’Œ<code>std::string</code>ç­‰å®¹å™¨ç±»ä¼šåˆ©ç”¨å³å€¼å¼•ç”¨æ¥é¿å…ä¸å¿…è¦çš„å†…å­˜åˆ†é…å’Œæ•°æ®å¤åˆ¶ã€‚</p><p><strong>ç§»åŠ¨è¯­ä¹‰çš„æ ¸å¿ƒæ€æƒ³æ˜¯é¿å…ä¸å¿…è¦çš„æ‹·è´</strong>ã€‚ä¾‹å¦‚ï¼Œå½“æˆ‘ä»¬å°†ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä¼ é€’ç»™å®¹å™¨æ—¶ï¼Œå®¹å™¨å¯ä»¥é€šè¿‡ç§»åŠ¨æ„é€ è€Œä¸æ˜¯æ‹·è´æ„é€ æ¥è·å–è¯¥å¯¹è±¡çš„èµ„æºã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LargeObject</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">int</span>* data;<br>    <br>    <span class="hljs-built_in">LargeObject</span>(<span class="hljs-type">int</span> value) : <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(value)) &#123;&#125;<br>    ~<span class="hljs-built_in">LargeObject</span>() &#123; <span class="hljs-keyword">delete</span> data; &#125;<br>    <br>    <span class="hljs-comment">// ç§»åŠ¨æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">LargeObject</span>(LargeObject&amp;&amp; other) <span class="hljs-keyword">noexcept</span> : <span class="hljs-built_in">data</span>(other.data) &#123;<br>        other.data = <span class="hljs-literal">nullptr</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦</span><br>    LargeObject&amp; <span class="hljs-keyword">operator</span>=(LargeObject&amp;&amp; other) <span class="hljs-keyword">noexcept</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;other) &#123;<br>            <span class="hljs-keyword">delete</span> data;<br>            data = other.data;<br>            other.data = <span class="hljs-literal">nullptr</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    vector&lt;LargeObject&gt; vec;<br>    vec.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">LargeObject</span>(<span class="hljs-number">42</span>));  <span class="hljs-comment">// ç§»åŠ¨æ„é€ è€Œéæ‹·è´æ„é€ </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>ç®€å•æ¥è¯´ï¼Œèµ‹å€¼æ„é€ å‡½æ•°æ˜¯å°†å¯¹è±¡çš„æ‰€æœ‰å€¼æ‹·è´ä¸€ä»½èµ‹ç»™ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ˆæ— è®ºæ˜¯æµ…æ‹·è´è¿˜æ˜¯æ·±æ‹·è´ï¼‰ï¼Œå¦‚æœæˆ‘åªæ˜¯å¸Œæœ›å®ç°å€¼çš„ç§»åŠ¨ï¼Œæˆ‘è¿˜éœ€è¦å°†åŸæ¥çš„å¯¹è±¡åˆ é™¤ï¼Œè¿™æ ·çš„æ•ˆç‡ååˆ†ä½ä¸‹ã€‚æœ‰äº†ç§»åŠ¨è¯­ä¹‰ï¼ˆç§»åŠ¨æ„é€ å‡½æ•°ï¼‰ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥å®ç°<strong>ä¸æ‹·è´ç›´æ¥å®ç°å€¼çš„è½¬ç§»</strong>ã€‚</p></blockquote><div class="note note-primary">            <h3 id="constå¼•ç”¨å’Œå³å€¼å¼•ç”¨çš„åŒºåˆ«"><a href="#constå¼•ç”¨å’Œå³å€¼å¼•ç”¨çš„åŒºåˆ«" class="headerlink" title="constå¼•ç”¨å’Œå³å€¼å¼•ç”¨çš„åŒºåˆ«"></a><code>const</code>å¼•ç”¨å’Œå³å€¼å¼•ç”¨çš„åŒºåˆ«</h3><p><strong>ä»€ä¹ˆæ˜¯ <code>const</code> å¼•ç”¨ï¼Ÿ</strong></p><p><code>const</code> å¼•ç”¨æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ï¼Œå®ƒå…è®¸<strong>ä½ é€šè¿‡å¼•ç”¨æ¥è®¿é—®å¯¹è±¡ï¼Œä½†ä¸å…è®¸ä¿®æ”¹å¯¹è±¡çš„å€¼</strong>ã€‚é€šè¿‡ <code>const</code> å¼•ç”¨ï¼Œä½ å¯ä»¥<strong>é¿å…å¤åˆ¶å¯¹è±¡ï¼ŒåŒæ—¶ç¡®ä¿å¼•ç”¨çš„å¯¹è±¡ä¸ä¼šè¢«ä¿®æ”¹</strong>ã€‚è¿™é€šå¸¸ç”¨äºä¼ é€’å¤§å¯¹è±¡æˆ–éœ€è¦ç¡®ä¿æ•°æ®ä¸è¢«ä¿®æ”¹çš„åœºåˆã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">const</span> Type&amp; ref = object;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„ <code>const Type&amp;</code> è¡¨ç¤ºä¸€ä¸ªå¸¸é‡å¼•ç”¨ï¼Œ<code>object</code> å¯ä»¥æ˜¯å·¦å€¼æˆ–å³å€¼ã€‚</p><blockquote><p><code>const</code>å¼•ç”¨ç»å¸¸å‡ºç°åœ¨å‡½æ•°å‚æ•°çš„ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œå³ä¿è¯äº†<strong>é«˜æ•ˆ</strong>ï¼Œåˆä¿è¯äº†å®‰å…¨æ€§ã€‚</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printValue</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">int</span>&amp; value)</span> </span>&#123;<br>    std::cout &lt;&lt; value &lt;&lt; std::endl;  <span class="hljs-comment">// ä¸èƒ½ä¿®æ”¹ valueï¼Œå› ä¸ºå®ƒæ˜¯ const å¼•ç”¨</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> x = <span class="hljs-number">10</span>;<br>    <span class="hljs-built_in">printValue</span>(x);  <span class="hljs-comment">// ä¼ é€’å·¦å€¼</span><br>    <span class="hljs-built_in">printValue</span>(<span class="hljs-number">20</span>); <span class="hljs-comment">// ä¼ é€’å³å€¼</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong><code>const</code> å¼•ç”¨ä¸å³å€¼å¼•ç”¨çš„åŒºåˆ«ï¼š</strong></p><ol><li><strong><code>const</code> å¼•ç”¨</strong>ï¼š</li></ol><ul><li><strong>å…è®¸ç»‘å®šå·¦å€¼å’Œå³å€¼</strong>ï¼š<code>const</code> å¼•ç”¨å¯ä»¥<strong>ç»‘å®šåˆ°å·¦å€¼æˆ–å³å€¼ã€‚å¯¹äºå³å€¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†å…¶å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œä¿è¯åœ¨å‡½æ•°ä¸­å¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ã€‚</strong>å½“æˆ‘ä»¬å¸Œæœ›é€šè¿‡å¼•ç”¨ä¼ é€’ä¸€ä¸ªå³å€¼å¹¶å»¶é•¿å…¶ç”Ÿå‘½å‘¨æœŸæ—¶ã€‚é€šè¿‡ <code>const</code> å¼•ç”¨ç»‘å®šåˆ°å³å€¼ï¼Œå¯ä»¥é¿å…ä¸å¿…è¦çš„æ‹·è´ï¼ŒåŒæ—¶åˆä¸ä¼šä¿®æ”¹è¯¥å¯¹è±¡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">processConstRef</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; vec)</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Size of vector (const ref): &quot;</span> &lt;&lt; vec.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br>    <span class="hljs-comment">// vec.push_back(4); // é”™è¯¯ï¼ä¸èƒ½ä¿®æ”¹ const å¼•ç”¨ç»‘å®šçš„å¯¹è±¡</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå³å€¼ï¼ˆä¸´æ—¶å¯¹è±¡ï¼‰</span><br>    <span class="hljs-built_in">processConstRef</span>(std::vector&lt;<span class="hljs-type">int</span>&gt;&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;);  <span class="hljs-comment">// è¿™é‡Œä¼ é€’çš„æ˜¯ä¸€ä¸ªå³å€¼</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¾“å‡ºï¼šSize of vector (const ref): 3</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p><code>std::vector&lt;int&gt;{1, 2, 3}</code> æ˜¯ä¸€ä¸ª <strong>å³å€¼</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ã€‚æˆ‘ä»¬é€šè¿‡ <code>const std::vector&lt;int&gt;&amp;</code> å°†å³å€¼ä¼ é€’ç»™ <code>processConstRef</code> å‡½æ•°ï¼Œ<code>const</code> ç¡®ä¿äº†æˆ‘ä»¬åœ¨å‡½æ•°å†…éƒ¨ä¸èƒ½ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ã€‚åœ¨ <code>processConstRef</code> ä¸­ï¼Œ<code>vec</code> æ˜¯ä¸€ä¸ª <strong><code>const</code> å¼•ç”¨</strong>ï¼Œå®ƒç»‘å®šåˆ°è¿™ä¸ªä¸´æ—¶å¯¹è±¡ä¸Šï¼Œå¹¶å»¶é•¿äº†è¿™ä¸ªä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™æ ·ï¼Œç›´åˆ° <code>processConstRef</code> å‡½æ•°ç»“æŸï¼Œå³å€¼æ‰ä¼šè¢«é”€æ¯ã€‚</p><blockquote><p>å¦‚æœåˆ é™¤constå…³é”®è¯ï¼Œä¼šæœ‰æŠ¥é”™ï¼š<code>cannot bind non-const lvalue reference of type &#39;std::vector&lt;int&gt;&amp;&#39; to an rvalue of type &#39;std::vector&lt;int&gt;&#39;</code></p></blockquote><ol start="2"><li><strong>å³å€¼å¼•ç”¨ï¼ˆ<code>Type&amp;&amp;</code>ï¼‰</strong>ï¼š</li></ol><ul><li><strong>åªèƒ½ç»‘å®šåˆ°å³å€¼</strong>ï¼šå³å€¼å¼•ç”¨æ˜¯ C++11 å¼•å…¥çš„ï¼Œå®ƒä¸»è¦ç”¨äºâ€œç§»åŠ¨è¯­ä¹‰â€ï¼Œåªèƒ½ç»‘å®šåˆ°å³å€¼ï¼ˆä¾‹å¦‚ä¸´æ—¶å¯¹è±¡ã€å‡½æ•°è¿”å›å€¼ç­‰ï¼‰ã€‚</li><li><strong>å…è®¸ç§»åŠ¨èµ„æº</strong>ï¼šå³å€¼å¼•ç”¨å…è®¸è½¬ç§»å¯¹è±¡çš„èµ„æºï¼Œé¿å…ä¸å¿…è¦çš„å¤åˆ¶ï¼ˆä¾‹å¦‚é€šè¿‡ <code>std::move</code>ï¼‰ï¼Œæé«˜æ€§èƒ½ã€‚</li><li><strong>å¯ä»¥ä¿®æ”¹åŸå¯¹è±¡</strong>ï¼šé€šè¿‡å³å€¼å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹è¢«ç§»åŠ¨çš„å¯¹è±¡ï¼ˆä¾‹å¦‚ï¼Œç½®ä¸ºç©ºï¼‰ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;utility&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">processConstRef</span><span class="hljs-params">(<span class="hljs-type">const</span> std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; vec)</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Size of vector (const ref): &quot;</span> &lt;&lt; vec.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br>    <span class="hljs-comment">// vec.push_back(4); // é”™è¯¯ï¼ä¸èƒ½ä¿®æ”¹ const å¼•ç”¨ç»‘å®šçš„å¯¹è±¡</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">processRvalueRef</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt;&amp;&amp; vec)</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Size of vector (rvalue ref): &quot;</span> &lt;&lt; vec.<span class="hljs-built_in">size</span>() &lt;&lt; std::endl;<br>    vec.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">4</span>);  <span class="hljs-comment">// å¯ä»¥ä¿®æ”¹ vecï¼Œå› ä¸ºå®ƒæ˜¯å³å€¼å¼•ç”¨</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; vec1 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ const å¼•ç”¨</span><br>    <span class="hljs-built_in">processConstRef</span>(vec1);  <span class="hljs-comment">// ä¼ é€’å·¦å€¼</span><br><br>    <span class="hljs-comment">// ä½¿ç”¨å³å€¼å¼•ç”¨</span><br>    <span class="hljs-built_in">processRvalueRef</span>(std::<span class="hljs-built_in">move</span>(vec1));  <span class="hljs-comment">// ä¼ é€’å³å€¼ï¼Œvec1 èµ„æºè¢«â€œç§»åŠ¨â€</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;vec1 size after move: &quot;</span> &lt;&lt; vec<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// vec1 ç°åœ¨ä¸ºç©º</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">Size of vector (const ref): 3</span><br><span class="hljs-comment">Size of vector (rvalue ref): 3</span><br><span class="hljs-comment">vec1 size after move: 0</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><ol><li><strong><code>const&amp;</code> å¼•ç”¨</strong>ï¼š<code>processConstRef</code> å‡½æ•°ä½¿ç”¨äº† <code>const</code> å¼•ç”¨ï¼Œå®ƒå¯ä»¥æ¥æ”¶å·¦å€¼æˆ–å³å€¼ï¼Œä½†æ— æ³•ä¿®æ”¹ <code>vec</code> çš„å†…å®¹ã€‚</li><li><strong>å³å€¼å¼•ç”¨ï¼ˆ<code>&amp;&amp;</code>ï¼‰</strong>ï¼š<code>processRvalueRef</code> å‡½æ•°ä½¿ç”¨äº†å³å€¼å¼•ç”¨ï¼Œå®ƒåªèƒ½æ¥æ”¶å³å€¼ï¼Œå¹¶ä¸”**å¯ä»¥ä¿®æ”¹ <code>vec</code>**ï¼ˆåœ¨æœ¬ä¾‹ä¸­å°±æ˜¯å°†æ•°æ®â€œç§»åŠ¨â€åˆ° <code>processRvalueRef</code>ï¼Œå¹¶ä¸”é€šè¿‡ <code>push_back</code> æ·»åŠ æ•°æ®ï¼‰ã€‚</li></ol><p><strong>æ€»ç»“ä¸€ä¸‹ï¼Œconstå¼•ç”¨å’Œå³å€¼å¼•ç”¨éƒ½å¯ä»¥ç»‘å®šåˆ°å³å€¼ä¸Šï¼Œä½†æ˜¯ä¸¤è€…çš„å…·ä½“åŠŸèƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼šconstå¼•ç”¨é‡ç‚¹åœ¨<code>const</code>ä¸Šï¼Œè€Œå³å€¼å¼•ç”¨ä¸»è¦åœ¨ç§»åŠ¨è¯­ä¹‰ç­‰æ–¹é¢æä¾›äº†æ›´é«˜çš„æ•ˆç‡ï¼ˆé¿å…äº†ä¸å¿…è¦çš„å¤åˆ¶è¿‡ç¨‹ï¼‰ã€‚</strong></p>          </div><h2 id="Advanced-Technique-3-parameters-in-the-main-function"><a href="#Advanced-Technique-3-parameters-in-the-main-function" class="headerlink" title="Advanced Technique 3 parameters in the main function"></a>Advanced Technique 3 parameters in the main function</h2><p>åœ¨æˆ‘ä»¬ä¹‹å‰å†™çš„C++ç¨‹åºä¸­ï¼Œmainå‡½æ•°æ˜¯<strong>æ²¡æœ‰å‚æ•°ä¸”è¿”å›å€¼ä¸º0</strong>çš„ï¼Œç¨‹åºèƒ½å¤Ÿæ­£å¸¸é€€å‡ºã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cout&lt;&lt;<span class="hljs-string">&quot;Hello world&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">//å¦‚æœæ›´æ”¹ä¸ºreturn 1,é‚£ä¹ˆç¨‹åºä»èƒ½è¿è¡Œï¼Œä½†æ˜¯ä¼šæ˜¾ç¤ºå¼‚å¸¸é€€å‡ºã€‚</span><br></code></pre></td></tr></table></figure><p><strong>å¸¦å‚æ•°çš„ <code>main</code> å‡½æ•°</strong>ï¼šå®ƒæ¥å—å‘½ä»¤è¡Œå‚æ•°ï¼Œå…è®¸ç¨‹åºåœ¨å¯åŠ¨æ—¶æ¥æ”¶å¤–éƒ¨è¾“å…¥ã€‚è¿™ç§å½¢å¼åœ¨å¤„ç†ç”¨æˆ·è¾“å…¥æˆ–å‘½ä»¤è¡Œå‚æ•°æ—¶éå¸¸æœ‰ç”¨ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span> </span>&#123;<br>    <span class="hljs-comment">// ç¨‹åºä»£ç </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><ol><li>**<code>argc</code>**ï¼š<code>argc</code> æ˜¯ <strong>argument count</strong>ï¼ˆå‚æ•°è®¡æ•°ï¼‰çš„ç¼©å†™ï¼Œè¡¨ç¤ºä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ã€‚å®ƒçš„å€¼è‡³å°‘ä¸º 1ï¼Œå› ä¸ºç¨‹åºåç§°æœ¬èº«ä¹Ÿç®—ä½œä¸€ä¸ªå‚æ•°ã€‚</li><li>**<code>argv</code>**ï¼š<code>argv</code> æ˜¯ <strong>argument vector</strong>ï¼ˆå‚æ•°å‘é‡ï¼‰çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘å­—ç¬¦æŒ‡é’ˆæ•°ç»„çš„æŒ‡é’ˆï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼ˆå­—ç¬¦ä¸²ï¼‰ã€‚<code>argv[0]</code> é€šå¸¸æ˜¯ç¨‹åºçš„åç§°ï¼Œ<code>argv[1]</code>ã€<code>argv[2]</code> ç­‰ä¾æ¬¡æ˜¯ä¼ é€’ç»™ç¨‹åºçš„å…¶ä»–å‚æ•°ã€‚</li></ol><p>ä¾‹å¦‚ä¸‹é¢çš„ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span>* argv[])</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;ç¨‹åºåç§°: &quot;</span> &lt;&lt; argv[<span class="hljs-number">0</span>] &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;ä¼ é€’çš„å‚æ•°ä¸ªæ•°: &quot;</span> &lt;&lt; argc - <span class="hljs-number">1</span> &lt;&lt; endl;  <span class="hljs-comment">// ä¸ç®—ç¨‹åºåç§°</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;ä¼ é€’çš„å‚æ•°: &quot;</span>;<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; argc; ++i) &#123;  <span class="hljs-comment">// ä»1å¼€å§‹ï¼Œè·³è¿‡ç¨‹åºåç§°</span><br>        cout &lt;&lt; argv[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    cout &lt;&lt; endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><ul><li>**<code>argv[0]</code>**ï¼šç¨‹åºåç§°ï¼Œé€šå¸¸æ˜¯æ‰§è¡Œç¨‹åºæ—¶ç»™å‡ºçš„æ–‡ä»¶åï¼ˆä¾‹å¦‚ <code>&quot;./my_program&quot;</code>ï¼‰ã€‚</li><li>**<code>argv[1]</code>ã€<code>argv[2]</code>**ï¼šè¿™äº›æ˜¯ç”¨æˆ·ä¼ é€’ç»™ç¨‹åºçš„é¢å¤–å‘½ä»¤è¡Œå‚æ•°ã€‚</li><li>**<code>argc</code>**ï¼šå‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ã€‚å¯¹äºä¸Šè¿°ç¨‹åºï¼Œ<code>argc</code> è‡³å°‘ä¸º 1ï¼Œå› ä¸º <code>argv[0]</code> æ˜¯ç¨‹åºåç§°ã€‚</li></ul><p><strong>ç¼–è¯‘ä¸è¿è¡Œ</strong>ï¼š</p><p>å‡è®¾ç¨‹åºçš„æ–‡ä»¶åä¸º <code>program.cpp</code>ï¼Œä½ å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼ç¼–è¯‘å’Œè¿è¡Œå®ƒï¼š</p><ol><li><p>ç¼–è¯‘ç¨‹åºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Bash">g++ program.cpp -o program<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œç¨‹åºï¼Œå¹¶ä¼ é€’ä¸€äº›å‘½ä»¤è¡Œå‚æ•°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./program arg1 arg2 arg3<br></code></pre></td></tr></table></figure><p>è¾“å‡ºå°†æ˜¯ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">ç¨‹åºåç§°: ./program</span><br><span class="hljs-section">ä¼ é€’çš„å‚æ•°ä¸ªæ•°: 3</span><br><span class="hljs-section">ä¼ é€’çš„å‚æ•°: arg1 arg2 arg3</span><br></code></pre></td></tr></table></figure></li></ol><blockquote><p>åœ¨ä¸€äº›ç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨ä¸­ï¼Œå¸¦å‚æ•°çš„mainå‡½æ•°æ˜¯éå¸¸å¼ºå¤§çš„ã€‚</p></blockquote><h2 id="Advanced-Technique-4-Function-Pointer"><a href="#Advanced-Technique-4-Function-Pointer" class="headerlink" title="Advanced Technique 4 Function Pointer"></a>Advanced Technique 4 Function Pointer</h2><div class="note note-info">            <p><strong>é—®é¢˜å¼•å…¥ï¼šå‡½æ•°åœ¨å†…å­˜ä¸­æœ‰è‡ªå·±çš„åœ°å€ï¼Ÿ</strong></p><p><strong>å‡½æ•°åœ¨å†…å­˜ä¸­æ˜¯æœ‰åœ°å€çš„</strong>ã€‚æ¯ä¸ªå‡½æ•°åœ¨ç¨‹åºåŠ è½½åˆ°å†…å­˜æ—¶ï¼Œéƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„å†…å­˜åœ°å€ï¼Œé€šå¸¸è¿™ä¸ªåœ°å€æ˜¯æŒ‡å‘å‡½æ•°ä»£ç å¼€å§‹ä½ç½®çš„åœ°å€ã€‚åœ¨ C++ ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<strong>å‡½æ•°æŒ‡é’ˆ</strong>æ¥è·å–è¿™ä¸ªåœ°å€ï¼Œä»è€Œé—´æ¥åœ°è®¿é—®å’Œè°ƒç”¨å‡½æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myFunction</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Hello, this is myFunction!&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; (<span class="hljs-type">void</span>*)myFunction &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡ºå‡½æ•°çš„åœ°å€</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>å‡½æ•°å</strong>å’Œæ•°ç»„åç±»ä¼¼ï¼Œä»£è¡¨äº†å‡½æ•°åœ¨å†…å­˜ä¸­çš„åœ°å€ã€‚</p><blockquote><p>è¿™é‡Œç”¨åˆ°<code>(void*)</code>è¿›è¡ŒæŒ‡é’ˆçš„å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› ä¸ºå‡½æ•°æŒ‡é’ˆåœ¨coutä¸­ä¼šè¢«éšå¼è½¬æ¢æˆå¸ƒå°”å€¼ï¼ˆå³è¾“å‡º1ï¼‰ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myFunction</span><span class="hljs-params">()</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Hello, this is myFunction!&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// è·å–å‡½æ•°çš„åœ°å€ï¼Œå¹¶å°†å…¶èµ‹ç»™ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ</span><br>    <span class="hljs-built_in">void</span> (*funcPtr)() = myFunction;<br><br>    <span class="hljs-comment">// é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</span><br>    <span class="hljs-built_in">funcPtr</span>();  <span class="hljs-comment">// ç­‰åŒäº myFunction()</span><br>    <br>    <span class="hljs-comment">// è¾“å‡ºå‡½æ•°çš„å†…å­˜åœ°å€</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Function address: &quot;</span> &lt;&lt; (<span class="hljs-type">void</span>*)funcPtr &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¾“å‡ºï¼š</span><br><span class="hljs-comment">Hello, this is myFunction!</span><br><span class="hljs-comment">Function address: 0x401550</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>funcPtr</code> æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>myFunction</code> å‡½æ•°çš„æŒ‡é’ˆã€‚<code>funcPtr</code> å­˜å‚¨äº† <code>myFunction</code> å‡½æ•°çš„å†…å­˜åœ°å€ã€‚é€šè¿‡è¿™ä¸ªæŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨å‡½æ•°ã€‚</p><ul><li><strong>å‡½æ•°å</strong>æœ¬èº«åœ¨ C++ ä¸­æ˜¯ä¸€ä¸ª<strong>å¸¸é‡æŒ‡é’ˆ</strong>ï¼ŒæŒ‡å‘å‡½æ•°çš„å†…å­˜åœ°å€ã€‚ä¾‹å¦‚ï¼Œ<code>myFunction</code> å°±ä»£è¡¨äº† <code>myFunction</code> å‡½æ•°çš„åœ°å€ã€‚</li><li>é€šè¿‡ <code>(void*)funcPtr</code> å¯ä»¥å°†å‡½æ•°æŒ‡é’ˆè½¬ä¸º <code>void*</code> ç±»å‹ï¼Œè¿›è€Œæ‰“å°å‡ºå‡½æ•°çš„å†…å­˜åœ°å€ã€‚</li></ul>          </div><p>åœ¨ C++ ä¸­ï¼Œ<strong>å‡½æ•°æŒ‡é’ˆ</strong>ï¼ˆFunction Pointerï¼‰æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡ï¼Œç±»ä¼¼äºæŒ‡å‘æ™®é€šæ•°æ®ç±»å‹çš„æŒ‡é’ˆã€‚é€šè¿‡å‡½æ•°æŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€åœ°è°ƒç”¨å‡½æ•°ï¼Œè€Œä¸éœ€è¦ç›´æ¥è°ƒç”¨å®ƒä»¬çš„åç§°ã€‚å‡½æ•°æŒ‡é’ˆåœ¨å®ç°å›è°ƒæœºåˆ¶ã€äº‹ä»¶é©±åŠ¨ç¼–ç¨‹ã€ä»¥åŠæŸäº›è®¾è®¡æ¨¡å¼ï¼ˆå¦‚ç­–ç•¥æ¨¡å¼ï¼‰æ—¶éå¸¸æœ‰ç”¨ã€‚</p><ol><li><strong>å‡½æ•°æŒ‡é’ˆçš„å£°æ˜</strong></li></ol><p>å‡½æ•°æŒ‡é’ˆçš„å£°æ˜éœ€è¦æŒ‡å®šå‡½æ•°çš„è¿”å›ç±»å‹ã€å‚æ•°ç±»å‹ä»¥åŠæŒ‡é’ˆæœ¬èº«çš„ç±»å‹ã€‚å£°æ˜çš„å½¢å¼ä¸å‡½æ•°çš„å£°æ˜å¾ˆç›¸ä¼¼ï¼Œå…³é”®åœ¨äºæŒ‡é’ˆçš„ç¬¦å· <code>*</code> å’Œ <code>&amp;</code> çš„ä½¿ç”¨ã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ªè¿”å› <code>int</code> ç±»å‹ï¼Œå‚æ•°ä¸º <code>int</code> å’Œ <code>float</code> çš„å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">my_function</span><span class="hljs-params">(<span class="hljs-type">int</span>, <span class="hljs-type">float</span>)</span></span>;<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼ŒæŒ‡å‘è¯¥å‡½æ•°çš„å‡½æ•°æŒ‡é’ˆåº”è¯¥è¿™æ ·å£°æ˜ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">int</span> (*func_ptr)(<span class="hljs-type">int</span>, <span class="hljs-type">float</span>);<br></code></pre></td></tr></table></figure><ul><li><code>int (*func_ptr)(int, float)</code>ï¼šè¡¨ç¤º <code>func_ptr</code> æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆï¼Œå‡½æ•°çš„è¿”å›ç±»å‹æ˜¯ <code>int</code>ï¼Œå‚æ•°ç±»å‹æ˜¯ <code>int</code> å’Œ <code>float</code>ã€‚</li><li><code>(*func_ptr)</code> è¡¨ç¤º <code>func_ptr</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘çš„å†…å®¹æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</li></ul><ol start="2"><li><strong>å‡½æ•°æŒ‡é’ˆçš„åˆå§‹åŒ–</strong></li></ol><p>å‡½æ•°æŒ‡é’ˆå¯ä»¥é€šè¿‡å°†å®ƒæŒ‡å‘æŸä¸ªå…·ä½“çš„å‡½æ•°æ¥åˆå§‹åŒ–ã€‚ä½ å¯ä»¥å°†å‡½æ•°åèµ‹ç»™å‡½æ•°æŒ‡é’ˆï¼Œå› ä¸ºå‡½æ•°åæœ¬èº«å°±æ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">my_function</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">float</span> b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> a + b;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">int</span> (*func_ptr)(<span class="hljs-type">int</span>, <span class="hljs-type">float</span>);  <span class="hljs-comment">// å‡½æ•°æŒ‡é’ˆå£°æ˜</span><br>    func_ptr = my_function;       <span class="hljs-comment">// åˆå§‹åŒ–æŒ‡é’ˆï¼ŒæŒ‡å‘ my_function</span><br><br>    <span class="hljs-comment">// é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</span><br>    <span class="hljs-type">int</span> result = <span class="hljs-built_in">func_ptr</span>(<span class="hljs-number">5</span>, <span class="hljs-number">3.2</span>); <span class="hljs-comment">// ç­‰ä»·äº my_function(5, 3.2)</span><br>    std::cout &lt;&lt; result &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 8</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>func_ptr</code> æ˜¯ä¸€ä¸ªæŒ‡å‘ <code>my_function</code> å‡½æ•°çš„æŒ‡é’ˆã€‚é€šè¿‡ <code>func_ptr</code> è°ƒç”¨å‡½æ•°ï¼ŒåŠŸèƒ½ä¸ç›´æ¥è°ƒç”¨ <code>my_function</code> ä¸€æ ·ã€‚</p><ol start="3"><li><strong>é€šè¿‡å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</strong></li></ol><p>ä¸€æ—¦å‡½æ•°æŒ‡é’ˆè¢«æ­£ç¡®åˆå§‹åŒ–ï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æŒ‡é’ˆæ¥è°ƒç”¨å‡½æ•°ã€‚é€šè¿‡ <code>*</code> è§£å¼•ç”¨å‡½æ•°æŒ‡é’ˆï¼Œç„¶åä¼ é€’å‚æ•°æ¥è°ƒç”¨ç›®æ ‡å‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">int</span> (*func_ptr)(<span class="hljs-type">int</span>, <span class="hljs-type">float</span>);  <span class="hljs-comment">// å‡½æ•°æŒ‡é’ˆå£°æ˜</span><br>func_ptr = my_function;       <span class="hljs-comment">// å‡½æ•°æŒ‡é’ˆåˆå§‹åŒ–</span><br><br><span class="hljs-comment">// ä½¿ç”¨å‡½æ•°æŒ‡é’ˆè°ƒç”¨å‡½æ•°</span><br><span class="hljs-type">int</span> result = (*func_ptr)(<span class="hljs-number">10</span>, <span class="hljs-number">5.5</span>);  <span class="hljs-comment">// ç­‰åŒäº my_function(10, 5.5)</span><br>std::cout &lt;&lt; <span class="hljs-string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;<br></code></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ <code>func_ptr(10, 5.5)</code> æ¥è°ƒç”¨å‡½æ•°ï¼Œå› ä¸º <code>func_ptr</code> æœ¬èº«å°±ä»£è¡¨äº†ä¸€ä¸ªå‡½æ•°ã€‚</p><ol start="4"><li><strong>å‡½æ•°æŒ‡é’ˆæ•°ç»„</strong></li></ol><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæŒ‡å‘å¤šä¸ªå‡½æ•°çš„æ•°ç»„ã€‚è¿™æ ·çš„æ•°ç»„å…è®¸ä½ æ ¹æ®ç´¢å¼•åŠ¨æ€é€‰æ‹©ä¸åŒçš„å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a + b; &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">subtract</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a - b; &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">multiply</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a * b; &#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºå‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ æ˜¯æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</span><br>    <span class="hljs-built_in">int</span> (*operations[<span class="hljs-number">3</span>])(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>) = &#123;add, subtract, multiply&#125;;<br><br>    <span class="hljs-comment">// åŠ¨æ€è°ƒç”¨ä¸åŒçš„æ“ä½œ</span><br>    <span class="hljs-type">int</span> x = <span class="hljs-number">5</span>, y = <span class="hljs-number">3</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Add: &quot;</span> &lt;&lt; operations[<span class="hljs-number">0</span>](x, y) &lt;&lt; endl;        <span class="hljs-comment">// add(5, 3)</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Subtract: &quot;</span> &lt;&lt; operations[<span class="hljs-number">1</span>](x, y) &lt;&lt; endl;   <span class="hljs-comment">// subtract(5, 3)</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Multiply: &quot;</span> &lt;&lt; operations[<span class="hljs-number">2</span>](x, y) &lt;&lt; endl;   <span class="hljs-comment">// multiply(5, 3)</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>operations</code> æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æŒ‡å‘ä¸€ä¸ªå‡½æ•°ã€‚ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„çš„ç´¢å¼•æ¥é€‰æ‹©è¦è°ƒç”¨çš„å‡½æ•°ã€‚</p><blockquote><p>å¯ä»¥ç”¨äºèœå•é€‰æ‹©ã€‚</p></blockquote><div class="note note-warning">            <p>æ³¨æ„ï¼Œå‡½æ•°æŒ‡é’ˆæ•°ç»„è¦æ±‚<strong>æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼å’Œç‰¹å¾è¡¨éƒ½è¦ç›¸åŒï¼</strong></p><ul><li>ä¾‹å¦‚ï¼Œå¦‚æœä¿®æ”¹addå‡½æ•°ä¸º<code>int add(int a, double b) { return a + b; }</code>ï¼Œä¼šäº§ç”ŸæŠ¥é”™ï¼š<code>invalid conversion from &#39;int (*)(int, double)&#39; to &#39;int (*)(int, int)&#39; [-fpermissive]</code></li><li>ä¿®æ”¹<code>int add(int a) { return a; }</code>ï¼Œä¼šäº§ç”ŸæŠ¥é”™ï¼š<code>invalid conversion from &#39;int (*)(int)&#39; to &#39;int (*)(int, int)&#39; [-fpermissive]</code></li><li>ä¿®æ”¹<code>double add(int a ,int b) { return a+b; }</code>ï¼Œä¼šäº§ç”ŸæŠ¥é”™ï¼š<code>invalid conversion from &#39;double (*)(int, int)&#39; to &#39;int (*)(int, int)&#39; [-fpermissive]</code><ul><li>ä½ å½“ç„¶å¯ä»¥ç”¨æŒ‡é’ˆçš„<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>æ¥å®ç°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯è¿™åˆä¼šå¸¦æ¥æ›´å¤§çš„éšæ‚£ã€‚</li></ul></li></ul>          </div><ol start="5"><li><strong>ä½œä¸ºå‡½æ•°å‚æ•°çš„å‡½æ•°æŒ‡é’ˆ</strong></li></ol><p>å‡½æ•°æŒ‡é’ˆå¸¸å¸¸ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚è¿™æ˜¯ä¸€ç§å…¸å‹çš„<strong>å›è°ƒæœºåˆ¶</strong>ã€‚</p><p>ç¤ºä¾‹ï¼š<strong>å›è°ƒå‡½æ•°</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå‡½æ•°ç±»å‹</span><br><span class="hljs-keyword">using</span> FuncPtr = <span class="hljs-built_in">void</span>(*)(<span class="hljs-type">int</span>);  <span class="hljs-comment">// å‡½æ•°æŒ‡é’ˆç±»å‹ï¼ŒæŒ‡å‘æ¥å— int å‚æ•°å¹¶è¿”å› void çš„å‡½æ•°</span><br><br><span class="hljs-comment">// å‡½æ•° 1</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print_square</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Square: &quot;</span> &lt;&lt; x * x &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-comment">// å‡½æ•° 2</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print_cube</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Cube: &quot;</span> &lt;&lt; x * x * x &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-comment">// ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆä½œä¸ºå‚æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">process_number</span><span class="hljs-params">(<span class="hljs-type">int</span> num, FuncPtr callback)</span> </span>&#123;<br>    <span class="hljs-built_in">callback</span>(num);  <span class="hljs-comment">// è°ƒç”¨å›è°ƒå‡½æ•°</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> num = <span class="hljs-number">5</span>;<br>    <br>    <span class="hljs-comment">// ä½¿ç”¨ä¸åŒçš„å›è°ƒå‡½æ•°</span><br>    <span class="hljs-built_in">process_number</span>(num, print_square);  <span class="hljs-comment">// è°ƒç”¨ print_square</span><br>    <span class="hljs-built_in">process_number</span>(num, print_cube);    <span class="hljs-comment">// è°ƒç”¨ print_cube</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>process_number</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆ <code>callback</code>ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªæ¥å— <code>int</code> å‚æ•°å¹¶è¿”å› <code>void</code> çš„å‡½æ•°ã€‚ä½ å¯ä»¥ä¼ é€’ä¸åŒçš„å‡½æ•°æ¥å¤„ç†åŒä¸€ä¸ªæ•°å­—ï¼Œè¿™æ ·å°±å®ç°äº†åŠ¨æ€çš„è¡Œä¸ºã€‚</p><p>ä¸¾ä¸ªå®é™…çš„ä¾‹å­ï¼š<strong>å‡½æ•°æŒ‡é’ˆå’Œå†’æ³¡æ’åº</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">sort</span><span class="hljs-params">(T a[],<span class="hljs-type">int</span> size,<span class="hljs-type">bool</span>(*f)(T,T))</span> </span>&#123;<br>    <span class="hljs-type">bool</span> flag;<br>    <span class="hljs-type">int</span> i,j;<br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;size;++i) &#123;<br>        flag=<span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>;j&lt;size-i<span class="hljs-number">-1</span>;++j) &#123;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">f</span>(a[j],a[j<span class="hljs-number">+1</span>])) &#123;<br>                T temp=a[j];<br>                a[j]=a[j<span class="hljs-number">+1</span>];<br>                a[j<span class="hljs-number">+1</span>]=temp;<br>                flag=<span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!flag)<span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">increaseInt</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> x&gt;y;&#125;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">decreaseInt</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> x&lt;y;&#125;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">increaseString</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* x,<span class="hljs-type">const</span> <span class="hljs-type">char</span>* y)</span></span>&#123;<span class="hljs-keyword">return</span> <span class="hljs-built_in">strcmp</span>(x,y)&gt;<span class="hljs-number">0</span>;&#125;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">decreaseString</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* x,<span class="hljs-type">const</span> <span class="hljs-type">char</span>* y)</span></span>&#123;<span class="hljs-keyword">return</span> <span class="hljs-built_in">strcmp</span>(x,y)&lt;<span class="hljs-number">0</span>;&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> a[]=&#123;<span class="hljs-number">92</span>,<span class="hljs-number">73</span>,<span class="hljs-number">36</span>,<span class="hljs-number">63</span>,<span class="hljs-number">13</span>&#125;;<br>    <span class="hljs-type">const</span> <span class="hljs-type">char</span>*b[]=&#123;<span class="hljs-string">&quot;hsc&quot;</span>,<span class="hljs-string">&quot;cbs&quot;</span>,<span class="hljs-string">&quot;abx&quot;</span>,<span class="hljs-string">&quot;bcj&quot;</span>&#125;;<br>    <span class="hljs-comment">//cout&lt;&lt;strcmp(b[1],b[2]);</span><br>    <span class="hljs-built_in">sort</span>&lt;<span class="hljs-type">int</span>&gt;(a,<span class="hljs-number">5</span>,increaseInt);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++) cout&lt;&lt;a[i]&lt;&lt;<span class="hljs-string">&quot;\t&quot;</span>;<br>    cout&lt;&lt;endl;<br>    <span class="hljs-built_in">sort</span>&lt;<span class="hljs-type">const</span> <span class="hljs-type">char</span>*&gt;(b,<span class="hljs-number">4</span>,decreaseString);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">4</span>;i++) cout&lt;&lt;b[i]&lt;&lt;<span class="hljs-string">&quot;\t&quot;</span>;<br>    cout&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¾“å‡ºç»“æœ:</span><br><span class="hljs-comment">13      36      63      73      92</span><br><span class="hljs-comment">hsc     cbs     bcj     abx</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p><code>bool(*f)(T,T))</code>å°±æ˜¯å‡½æ•°æŒ‡é’ˆä½œä¸ºå‡½æ•°å‚æ•°çš„ç”¨æ³•ï¼ˆ<strong>å›è°ƒå‡½æ•°</strong>ï¼‰ã€‚ç±»ä¼¼äº<code>sort</code>å‡½æ•°çš„<code>compare</code>å‡½æ•°ä¸€æ ·ï¼Œåœ¨å†’æ³¡æ’åºç®—æ³•ä¸­ï¼Œæ­é…ä¸åŒçš„<code>bool(*f)(T,T))</code>å¯ä»¥å®ç°è‡ªå®šä¹‰çš„æ’åºé¡ºåºã€‚</p><ol start="6"><li><strong>å‡½æ•°æŒ‡é’ˆå’Œ <code>const</code> ä¿®é¥°ç¬¦</strong></li></ol><p>å¦‚æœä½ æƒ³ç¡®ä¿å‡½æ•°æŒ‡é’ˆæŒ‡å‘çš„å‡½æ•°ä¸è¢«ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ <code>const</code> ä¿®é¥°ç¬¦ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a + b; &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">subtract</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123; <span class="hljs-keyword">return</span> a - b; &#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå¸¸é‡å‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸ä¿®æ”¹å‡½æ•°çš„å‡½æ•°</span><br>    <span class="hljs-built_in">int</span> (*<span class="hljs-type">const</span> func_ptr)(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>) = add;<br>    <br>    <span class="hljs-comment">// func_ptr = subtract;  // é”™è¯¯ï¼Œä¸èƒ½æ”¹å˜æŒ‡é’ˆçš„å€¼</span><br>    <span class="hljs-type">int</span> result = <span class="hljs-built_in">func_ptr</span>(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>);  <span class="hljs-comment">// æ­£ç¡®ï¼Œè°ƒç”¨ add</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; endl;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œ<code>func_ptr</code> æ˜¯ä¸€ä¸ªå¸¸é‡å‡½æ•°æŒ‡é’ˆï¼Œæ„å‘³ç€å®ƒä¸€æ—¦æŒ‡å‘ <code>add</code> å‡½æ•°ï¼Œå°±ä¸èƒ½å†æ”¹å˜æŒ‡å‘å…¶ä»–å‡½æ•°ã€‚</p><h2 id="Advanced-Technique-5-Lambda-expression"><a href="#Advanced-Technique-5-Lambda-expression" class="headerlink" title="Advanced Technique 5 Lambda expression"></a>Advanced Technique 5 Lambda expression</h2><p>C++ ä¸­çš„ <strong>Lambda è¡¨è¾¾å¼</strong> æ˜¯ä¸€ç§è½»é‡çº§çš„åŒ¿åå‡½æ•°ï¼Œå®ƒå…è®¸åœ¨ä»£ç ä¸­å®šä¹‰å’Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè€Œä¸éœ€è¦äº‹å…ˆä¸ºå…¶å‘½åã€‚Lambda è¡¨è¾¾å¼ä½¿å¾— C++ ä»£ç æ›´åŠ ç®€æ´å’Œçµæ´»ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦ä¸´æ—¶ä¼ é€’å‡½æ•°ä½œä¸ºå‚æ•°æ—¶éå¸¸æœ‰ç”¨ã€‚</p><p>C++11 å¼•å…¥äº† Lambda è¡¨è¾¾å¼ï¼ŒåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[æ•è·åˆ—è¡¨](å‚æ•°åˆ—è¡¨) -&gt; è¿”å›ç±»å‹ &#123; å‡½æ•°ä½“ &#125;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­å„éƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><strong>æ•è·åˆ—è¡¨</strong>ï¼ˆCapture listï¼‰ï¼šæŒ‡å®š Lambda è¡¨è¾¾å¼è®¿é—®å¤–éƒ¨å˜é‡çš„æ–¹å¼ã€‚æ•è·åˆ—è¡¨å…è®¸ Lambda è¡¨è¾¾å¼â€œæ•è·â€<strong>å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡</strong>ï¼Œå¹¶å¯ä»¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨è¿™äº›å˜é‡ã€‚</li><li><strong>å‚æ•°åˆ—è¡¨</strong>ï¼ˆParameter listï¼‰ï¼šæŒ‡å®š Lambda è¡¨è¾¾å¼çš„è¾“å…¥å‚æ•°ï¼Œç±»ä¼¼äºæ™®é€šå‡½æ•°çš„å‚æ•°ã€‚</li><li><strong>è¿”å›ç±»å‹</strong>ï¼ˆReturn typeï¼‰ï¼šæŒ‡å®š Lambda è¡¨è¾¾å¼çš„è¿”å›ç±»å‹ï¼Œå¯ä»¥çœç•¥ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®è¿”å›å€¼æ¨å¯¼ç±»å‹ã€‚</li><li><strong>å‡½æ•°ä½“</strong>ï¼ˆFunction bodyï¼‰ï¼šLambda è¡¨è¾¾å¼çš„å®é™…ä»£ç ï¼ŒåŒ…å«æ‰§è¡Œçš„è¯­å¥ã€‚</li></ul><ol><li><strong>æ•è·åˆ—è¡¨ï¼ˆCapture Listï¼‰</strong></li></ol><p>æ•è·åˆ—è¡¨å®šä¹‰äº† Lambda è¡¨è¾¾å¼å¦‚ä½•è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ã€‚æ•è·æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p>æŒ‰å€¼æ•è·ï¼šæ•è·å¤–éƒ¨å˜é‡çš„å‰¯æœ¬</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[x] &#123; std::cout &lt;&lt; x; &#125;  <span class="hljs-comment">// æ•è· x çš„å‰¯æœ¬</span><br></code></pre></td></tr></table></figure></li><li><p>æŒ‰å¼•ç”¨æ•è·ï¼šæ•è·å¤–éƒ¨å˜é‡çš„å¼•ç”¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[&amp;x] &#123; x = <span class="hljs-number">10</span>; &#125;  <span class="hljs-comment">// æ•è· x çš„å¼•ç”¨ï¼Œå…è®¸ä¿®æ”¹ x</span><br></code></pre></td></tr></table></figure></li><li><p>æ•è·æ‰€æœ‰å˜é‡æŒ‰å€¼ï¼šæ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„å‰¯æœ¬</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[=] &#123; std::cout &lt;&lt; x &lt;&lt; y; &#125;  <span class="hljs-comment">// æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„å‰¯æœ¬</span><br></code></pre></td></tr></table></figure></li><li><p>æ•è·æ‰€æœ‰å˜é‡æŒ‰å¼•ç”¨ï¼šæ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„å¼•ç”¨</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[&amp;] &#123; x = <span class="hljs-number">10</span>; y = <span class="hljs-number">20</span>; &#125;  <span class="hljs-comment">// æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡çš„å¼•ç”¨</span><br></code></pre></td></tr></table></figure></li><li><p>æŒ‰å€¼å’Œå¼•ç”¨æ··åˆæ•è·ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[=, &amp;x] &#123; x = <span class="hljs-number">10</span>; &#125;  <span class="hljs-comment">// æ•è·æ‰€æœ‰å¤–éƒ¨å˜é‡æŒ‰å€¼ï¼Œx æŒ‰å¼•ç”¨</span><br></code></pre></td></tr></table></figure></li></ul><ol start="2"><li><strong>å‚æ•°åˆ—è¡¨</strong></li></ol><p>Lambda è¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨ä¸æ™®é€šå‡½æ•°ç±»ä¼¼ï¼Œå¯ä»¥å®šä¹‰è¾“å…¥å‚æ•°ã€‚å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œå‚æ•°åˆ—è¡¨å¯ä»¥çœç•¥ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[]() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Hello, World!&quot;</span> &lt;&lt; std::endl; &#125;<br></code></pre></td></tr></table></figure><ol start="3"><li><strong>è¿”å›ç±»å‹</strong></li></ol><p><strong>Lambda è¡¨è¾¾å¼çš„è¿”å›ç±»å‹é€šå¸¸å¯ä»¥çœç•¥</strong>ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®å‡½æ•°ä½“ä¸­çš„è¿”å›è¯­å¥æ¨å¯¼å‡ºè¿”å›ç±»å‹ã€‚å¦‚æœéœ€è¦æ˜¾å¼æŒ‡å®šè¿”å›ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨ <code>-&gt;</code> è¯­æ³•ã€‚</p><blockquote><p>è¿™æ€ä¹ˆé‚£ä¹ˆåƒpythonçš„è¯­æ³•ï¼Ÿï¼Ÿï¼Ÿ</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">auto</span> lambda = []() -&gt; <span class="hljs-type">int</span> &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>; &#125;;<br>std::cout &lt;&lt; <span class="hljs-built_in">lambda</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 42</span><br></code></pre></td></tr></table></figure><ol start="4"><li><strong>Lambda è¡¨è¾¾å¼çš„å®é™…ä¾‹å­</strong></li></ol><ul><li>æŒ‰å€¼æ•è·</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> x = <span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">auto</span> lambda = [x]() &#123; cout &lt;&lt; <span class="hljs-string">&quot;x = &quot;</span> &lt;&lt; x &lt;&lt; endl; &#125;;<br>    <span class="hljs-built_in">lambda</span>();  <span class="hljs-comment">// è¾“å‡º: x = 5</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„ Lambda æ•è·äº†å˜é‡ <code>x</code> çš„å€¼ï¼Œå¹¶è¾“å‡ºå®ƒã€‚</p><ul><li>æŒ‰å¼•ç”¨æ•è·</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> x = <span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">auto</span> lambda = [&amp;x]() &#123; x = <span class="hljs-number">10</span>; &#125;;  <span class="hljs-comment">// æ•è· x çš„å¼•ç”¨</span><br>    <span class="hljs-built_in">lambda</span>();<br>    cout &lt;&lt; <span class="hljs-string">&quot;x = &quot;</span> &lt;&lt; x &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º: x = 10</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç é€šè¿‡æŒ‰å¼•ç”¨æ•è·ï¼ŒLambda è¡¨è¾¾å¼èƒ½å¤Ÿä¿®æ”¹å¤–éƒ¨å˜é‡ <code>x</code>ã€‚</p><ul><li>å¸¦å‚æ•°çš„ Lambda</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">auto</span> add = [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) &#123; <span class="hljs-keyword">return</span> a + b; &#125;;<br>    cout &lt;&lt; <span class="hljs-built_in">add</span>(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>) &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º: 8</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰ä¸¤ä¸ªæ•´å‹å‚æ•°çš„ Lambda è¡¨è¾¾å¼ï¼Œç”¨äºè®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œã€‚</p><ol start="5"><li><strong>Lambda è¡¨è¾¾å¼çš„é«˜çº§ç”¨æ³•</strong></li></ol><ul><li>Lambda <strong>è¡¨è¾¾å¼ä½œä¸ºå‚æ•°</strong></li></ul><p>Lambda è¡¨è¾¾å¼å¸¸ç”¨äº STL ç®—æ³•ä¸­ä½œä¸ºå‚æ•°ï¼Œå°¤å…¶æ˜¯åƒ <code>std::sort</code> è¿™æ ·çš„å‡½æ•°ï¼Œå®ƒå…è®¸ä½ æä¾›è‡ªå®šä¹‰çš„æ’åºè§„åˆ™ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; vec = &#123;<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>&#125;;<br>    <br>    <span class="hljs-comment">// ä½¿ç”¨ Lambda è¡¨è¾¾å¼è‡ªå®šä¹‰æ’åºè§„åˆ™</span><br>    <span class="hljs-built_in">sort</span>(vec.<span class="hljs-built_in">begin</span>(), vec.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) &#123; <span class="hljs-keyword">return</span> a &gt; b; &#125;);<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> val : vec) &#123;<br>        cout &lt;&lt; val &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;  <span class="hljs-comment">// è¾“å‡º: 5 4 3 2 1</span><br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒLambda è¡¨è¾¾å¼ <code>[ ]</code> ç”¨äºæŒ‡å®šæ’åºçš„æ¯”è¾ƒè§„åˆ™ã€‚</p><ul><li><strong>ä½¿ç”¨ <code>mutable</code> ä¿®æ”¹æ•è·å˜é‡</strong></li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•è·çš„å˜é‡åœ¨ Lambda ä¸­æ˜¯ <strong>å¸¸é‡</strong>ï¼Œä¸èƒ½ä¿®æ”¹ã€‚å¦‚æœä½ éœ€è¦åœ¨ Lambda å†…éƒ¨ä¿®æ”¹æ•è·çš„å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨ <code>mutable</code> å…³é”®å­—ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> x = <span class="hljs-number">5</span>;<br>    <span class="hljs-keyword">auto</span> lambda = [x]() <span class="hljs-keyword">mutable</span> &#123; x = <span class="hljs-number">10</span>; cout &lt;&lt; <span class="hljs-string">&quot;x inside lambda: &quot;</span> &lt;&lt; x &lt;&lt; endl; &#125;;<br>    <span class="hljs-built_in">lambda</span>();<br>    cout &lt;&lt; <span class="hljs-string">&quot;x outside lambda: &quot;</span> &lt;&lt; x &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º: x outside lambda: 5</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>mutable</code> åï¼Œæ•è·çš„å˜é‡ <code>x</code> åœ¨ Lambda å†…éƒ¨å˜æˆå¯ä¿®æ”¹çš„å‰¯æœ¬ï¼Œä½†æ˜¯å¤–éƒ¨çš„ <code>x</code> ä¸ä¼šå—åˆ°å½±å“ã€‚</p><ul><li><strong>è¿”å› Lambda è¡¨è¾¾å¼</strong></li></ul><p><strong>Lambda è¡¨è¾¾å¼ä¹Ÿå¯ä»¥è¿”å› Lambda</strong>ã€‚ä¾‹å¦‚ï¼Œè¿”å›ä¸€ä¸ªæ ¹æ®è¾“å…¥å‚æ•°å˜åŒ–çš„ Lambdaï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">createAdder</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> [x](<span class="hljs-type">int</span> y) &#123; <span class="hljs-keyword">return</span> x + y; &#125;;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">auto</span> add5 = <span class="hljs-built_in">createAdder</span>(<span class="hljs-number">5</span>);<br>    <span class="hljs-comment">//åœ¨è¿™é‡Œadd5æ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆï¼Œç›¸å½“äºcreateAdderçš„è¿”å›å€¼ï¼Œå¯ä»¥ç»§ç»­è¿›è¡Œæ“ä½œã€‚</span><br>    cout &lt;&lt; <span class="hljs-built_in">add5</span>(<span class="hljs-number">10</span>) &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º: 15</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>createAdder</code> è¿”å›ä¸€ä¸ª Lambda è¡¨è¾¾å¼ï¼Œå®ƒä¼šå°†ä¼ å…¥çš„ <code>x</code> ä¸æ¯æ¬¡è°ƒç”¨æ—¶ä¼ å…¥çš„ <code>y</code> ç›¸åŠ ã€‚</p><ol start="6"><li><strong>æ€»ç»“</strong></li></ol><ul><li><strong>Lambda è¡¨è¾¾å¼</strong> æ˜¯ C++ ä¸­ä¸€ç§è½»é‡çº§çš„åŒ¿åå‡½æ•°ï¼Œå¯ä»¥æ•è·å¤–éƒ¨å˜é‡å¹¶åœ¨å±€éƒ¨ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨ã€‚</li><li>æ•è·æ–¹å¼æœ‰æŒ‰å€¼æ•è·ã€æŒ‰å¼•ç”¨æ•è·ã€æŒ‰å€¼æˆ–æŒ‰å¼•ç”¨æ··åˆæ•è·ç­‰ã€‚</li><li>Lambda è¡¨è¾¾å¼å¯ä»¥å¸¦æœ‰å‚æ•°å’Œè¿”å›ç±»å‹ï¼Œå¯ä»¥é€šè¿‡ <code>mutable</code> å…³é”®å­—ä¿®æ”¹æ•è·çš„å¤–éƒ¨å˜é‡ã€‚</li><li>Lambda è¡¨è¾¾å¼å¸¸ç”¨äº STL ç®—æ³•ã€å›è°ƒå‡½æ•°ã€äº‹ä»¶å¤„ç†ç­‰åœºæ™¯ï¼Œæä¾›äº†æ›´é«˜çš„çµæ´»æ€§å’Œä»£ç ç®€æ´æ€§ã€‚</li></ul><h2 id="Advanced-Technique-6-Smart-Pointer"><a href="#Advanced-Technique-6-Smart-Pointer" class="headerlink" title="Advanced Technique 6 Smart Pointer"></a>Advanced Technique 6 Smart Pointer</h2><p>åœ¨ä¹‹å‰çš„å­¦ä¹ è¿‡ç¨‹ä¸­æˆ‘ä»¬çŸ¥é“ï¼Œä½¿ç”¨<code>new</code>å‘½ä»¤åŠ¨æ€åˆ†é…å†…å­˜ï¼Œéœ€è¦æ‰‹åŠ¨<code>delete</code>æ¥é‡Šæ”¾åˆ†é…åœ¨<strong>å †</strong>çš„å†…å­˜ï¼Œå¦åˆ™ä¼šå‘ç”Ÿä¸¥é‡çš„å†…å­˜æ³„æ¼ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚åœ¨C++98ä¸­ï¼Œ**å¼•å…¥äº†<code>auto_ptr</code>ï¼Œæ¥è‡ªåŠ¨å®ç°å†…å­˜å›æ”¶çš„åŠŸèƒ½ï¼ˆæ‰€ä»¥è¢«ç§°ä½œæ™ºèƒ½æŒ‡é’ˆï¼‰ã€‚ä½†æ˜¯ï¼Œåœ¨C++11çš„æ–°æ ‡å‡†ä¸­ï¼Œ<code>auto_ptr</code>è¢«æ‘’å¼ƒï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸‰ç§æ–°çš„æ™ºèƒ½æŒ‡é’ˆï¼š<code>unique_ptr</code>,<code>shared_ptr</code>,<code>weak_ptr</code>**ã€‚</p><h3 id="ä¸ºä»€ä¹ˆéœ€è¦æ™ºèƒ½æŒ‡é’ˆ"><a href="#ä¸ºä»€ä¹ˆéœ€è¦æ™ºèƒ½æŒ‡é’ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆéœ€è¦æ™ºèƒ½æŒ‡é’ˆ"></a>ä¸ºä»€ä¹ˆéœ€è¦æ™ºèƒ½æŒ‡é’ˆ</h3><p>â€‹æˆ‘ä»¬å¸Œæœ›æ™ºèƒ½æŒ‡é’ˆèƒ½å¤Ÿåœ¨ç¨‹åºç»ˆæ­¢æ—¶<strong>è‡ªåŠ¨å›æ”¶ä¸ºæŒ‡é’ˆæ‰€åˆ†é…çš„å†…å­˜è€Œéæ‰‹åŠ¨åˆ é™¤</strong>ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cassert&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">testfunction</span><span class="hljs-params">(string &amp;str,<span class="hljs-type">int</span> n)</span></span>&#123;<br>    str=<span class="hljs-string">&quot;Hello world&quot;</span>;<br>    string *pd=<span class="hljs-keyword">new</span> <span class="hljs-built_in">string</span>(str);<br>    <span class="hljs-built_in">assert</span>(n==<span class="hljs-number">0</span>);<br>    pd=&amp;str;<br>    cout&lt;&lt;pd&lt;&lt;endl;<br>    cout&lt;&lt;*pd&lt;&lt;endl;<br>    cout&lt;&lt;&amp;str&lt;&lt;endl&lt;&lt;str&lt;&lt;endl;<br>    <span class="hljs-keyword">delete</span> pd;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string str;<br>    <span class="hljs-built_in">testfunction</span>(str,<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs x86asm"><span class="hljs-number">0x61fd20</span><br>Hello world<br><span class="hljs-number">0x61fd20</span><br>Hello world<br></code></pre></td></tr></table></figure><p>â€‹æˆ‘ä»¬ä¸éš¾å‘ç°<strong>æ‰‹åŠ¨åˆ é™¤å†…å­˜æ˜¯ä¸€ä»¶æ•ˆç‡ååˆ†ä½ä¸‹çš„äº‹æƒ…ï¼</strong>ï¼Œå¦‚æœæˆ‘æ²¡æœ‰æ­£ç¡®çš„é€šè¿‡<code>assert</code>æ–­è¨€ï¼Œæˆ‘å°±ä¸ä¼šæ‰§è¡Œ<code>delete</code>è¯­å¥å®ç°å†…å­˜çš„å›æ”¶ã€‚å› æ­¤ï¼Œ<strong>æˆ‘ä»¬å¸Œæœ›pdæŒ‡é’ˆæœ‰ç€æ›´å¼ºå¤§çš„åŠŸèƒ½â€”â€”åœ¨ç¨‹åºç»ˆæ­¢æ—¶è‡ªåŠ¨å›æ”¶</strong>ã€‚å¦‚ä½•åœ¨ç±»ä¸­å®ç°å¯¹è±¡çš„å›æ”¶ä¸é”€æ¯ï¼Ÿ<strong>ææ„å‡½æ•°ï¼</strong></p><blockquote><p><code>auto_ptr</code>çš„ç±»å®šä¹‰(ç¡®å®æ˜¯æœ‰ææ„å‡½æ•°çš„ï¼)</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _Tp&gt;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">auto_ptr</span><br>    &#123;<br>    <span class="hljs-keyword">private</span>:<br>      _Tp* _M_ptr;<br>        <span class="hljs-comment">//å£°æ˜äº†ä¸€ä¸ªç§æœ‰æˆå‘˜å˜é‡ _M_ptrï¼Œå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘æ¨¡æ¿ç±»å‹ _Tp çš„æŒ‡é’ˆï¼Œç”¨äºå­˜å‚¨ auto_ptr ç®¡ç†çš„å¯¹è±¡çš„åœ°å€</span><br>    <span class="hljs-keyword">public</span>:<br>      <span class="hljs-comment">/// The pointed-to type.</span><br>      <span class="hljs-keyword">typedef</span> _Tp element_type;<br>      <span class="hljs-comment">//å®šä¹‰äº†ä¸€ä¸ªç±»å‹åˆ«å element_typeï¼Œå®ƒæ˜¯ _Tp çš„åŒä¹‰è¯ï¼Œç”¨äºè¡¨ç¤º auto_ptr æ‰€ç®¡ç†çš„å¯¹è±¡ç±»å‹ã€‚</span><br>      <span class="hljs-function"><span class="hljs-keyword">explicit</span></span><br><span class="hljs-function">      <span class="hljs-title">auto_ptr</span><span class="hljs-params">(element_type* __p = <span class="hljs-number">0</span>)</span> <span class="hljs-title">throw</span><span class="hljs-params">()</span> : _M_ptr(__p) &#123;</span> &#125;<br>      <span class="hljs-comment">/*</span><br><span class="hljs-comment">        è¿™æ˜¯ auto_ptr çš„æ„é€ å‡½æ•°ï¼š</span><br><span class="hljs-comment">          explicit å…³é”®å­—æ„å‘³ç€è¿™ä¸ªæ„é€ å‡½æ•°ä¸èƒ½ç”¨äºéšå¼ç±»å‹è½¬æ¢ã€‚</span><br><span class="hljs-comment">          æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªæŒ‡å‘ element_type ç±»å‹çš„æŒ‡é’ˆ  __p ä½œä¸ºå‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 0ï¼ˆå³ NULLï¼‰ã€‚</span><br><span class="hljs-comment">          throw() è¡¨ç¤ºè¿™ä¸ªæ„é€ å‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆåœ¨C++98ä¸­ï¼Œå¼‚å¸¸è§„èŒƒå·²å¼ƒç”¨ï¼‰ã€‚</span><br><span class="hljs-comment">          æ„é€ å‡½æ•°ä½“é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨å°†ä¼ å…¥çš„æŒ‡é’ˆèµ‹å€¼ç»™ _M_ptr</span><br><span class="hljs-comment">          </span><br><span class="hljs-comment">      */</span><br>      ~<span class="hljs-built_in">auto_ptr</span>() &#123; <span class="hljs-keyword">delete</span> _M_ptr; &#125;<br>        <span class="hljs-comment">//å½“ auto_ptr å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œææ„å‡½æ•°è¢«è°ƒç”¨ã€‚</span><br>        <span class="hljs-comment">//å®ƒä½¿ç”¨ delete æ¥é‡Šæ”¾ _M_ptr æ‰€æŒ‡å‘çš„å†…å­˜ï¼Œä»è€Œè‡ªåŠ¨ç®¡ç†èµ„æºã€‚</span><br>      <span class="hljs-comment">//other members.............</span><br>    &#125;;<br></code></pre></td></tr></table></figure><h3 id="auto-ptr"><a href="#auto-ptr" class="headerlink" title="auto_ptr"></a><code>auto_ptr</code></h3><p>â€‹è¿™å°±æ˜¯<code>auto_ptr</code>çš„åŸºæœ¬æ€æƒ³ï¼Œ<strong>é€šè¿‡ææ„å‡½æ•°åœ¨æŒ‡é’ˆç»“æŸå…¶ç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™è‡ªåŠ¨é‡Šæ”¾å†…å­˜</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-function">auto_ptr&lt;<span class="hljs-type">double</span>&gt; <span class="hljs-title">pd</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">double</span>)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ™ºèƒ½æŒ‡é’ˆå’Œæ™®é€šçš„åŠ¨æ€å†…å­˜åˆ†é…åœ¨ä½¿ç”¨ä¸Šè¿˜æœ‰å“ªäº›å·®å¼‚ï¼Ÿ</strong>è¯·çœ‹ä¸‹é¢çš„ä¸¤ç»„ç¨‹åºçš„å¯¹æ¯”ï¼šåœ¨ç¨‹åºä¸­å®ç°äº†ç›¸åŒçš„<code>MyClass</code>ç±»ï¼ŒåŒ…å«æ•°æ®æˆå‘˜<code>value</code>ä»¥åŠå¯¹åº”çš„æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°å’Œ<code>showMessage()</code>å‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Cpp"><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span>  <span class="hljs-comment">// å¼•å…¥ auto_ptr éœ€è¦çš„å¤´æ–‡ä»¶</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>    <span class="hljs-type">int</span> value;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> n):<span class="hljs-built_in">value</span>(n)&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass constructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    ~<span class="hljs-built_in">MyClass</span>() &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass destructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showMessage</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from MyClass!&quot;</span> &lt;&lt; std::endl;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;The value is&quot;</span>&lt;&lt;value&lt;&lt;std::endl;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demonotAutoPtr</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass* ptr1=<span class="hljs-keyword">new</span> <span class="hljs-built_in">MyClass</span>(<span class="hljs-number">4</span>);<br>    ptr1-&gt;<span class="hljs-built_in">showMessage</span>();<br>    MyClass *ptr2;<br>    ptr2=ptr1;<br>    ptr2-&gt;<span class="hljs-built_in">showMessage</span>();<br>    ptr1-&gt;<span class="hljs-built_in">showMessage</span>();<br>    <span class="hljs-keyword">delete</span> ptr1;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">demonotAutoPtr</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">MyClass constructor</span><br><span class="hljs-comment">Hello from MyClass!</span><br><span class="hljs-comment">The value is4</span><br><span class="hljs-comment">Hello from MyClass!</span><br><span class="hljs-comment">The value is4</span><br><span class="hljs-comment">Hello from MyClass!</span><br><span class="hljs-comment">The value is4</span><br><span class="hljs-comment">MyClass destructor</span><br><span class="hljs-comment">(è¿™é‡Œç¨‹åºæ­£å¸¸è¿è¡Œå¹¶ä¸”æ­£å¸¸é€€å‡º)</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span>  <span class="hljs-comment">// å¼•å…¥ auto_ptr éœ€è¦çš„å¤´æ–‡ä»¶</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>    <span class="hljs-type">int</span> value;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> n):<span class="hljs-built_in">value</span>(n)&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass constructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    ~<span class="hljs-built_in">MyClass</span>() &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass destructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showMessage</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from MyClass!&quot;</span> &lt;&lt; std::endl;<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;The value is&quot;</span>&lt;&lt;value&lt;&lt;std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demoAutoPtr</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª auto_ptrï¼Œå¹¶åˆå§‹åŒ–ä¸ºæŒ‡å‘åŠ¨æ€åˆ†é…çš„ MyClass å¯¹è±¡</span><br>    <span class="hljs-function">std::auto_ptr&lt;MyClass&gt; <span class="hljs-title">ptr1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> MyClass(<span class="hljs-number">4</span>))</span></span>;<br>    ptr1-&gt;<span class="hljs-built_in">showMessage</span>();  <span class="hljs-comment">// ä½¿ç”¨ auto_ptr æŒ‡å‘çš„å¯¹è±¡</span><br><br>    <span class="hljs-comment">// å°† ptr1 è½¬ç§»ç»™ ptr2ï¼Œè¿™æ · ptr1 å˜ä¸ºç©ºï¼Œptr2 æ‹¥æœ‰ MyClass çš„æ‰€æœ‰æƒ</span><br>    std::auto_ptr&lt;MyClass&gt; ptr2 = ptr1;<br>    <span class="hljs-comment">// æ­¤æ—¶ ptr1 ä¸å†æŒæœ‰å¯¹è±¡ï¼Œåªæœ‰ ptr2 æ‹¥æœ‰ MyClass å¯¹è±¡</span><br>    ptr2-&gt;<span class="hljs-built_in">showMessage</span>();<br>    ptr1-&gt;<span class="hljs-built_in">showMessage</span>();<br>    <span class="hljs-comment">// ptr2 ä¼šåœ¨è¶…å‡ºä½œç”¨åŸŸæ—¶è‡ªåŠ¨é”€æ¯ï¼Œå¹¶è°ƒç”¨ MyClass çš„ææ„å‡½æ•°</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">demoAutoPtr</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">MyClass constructor</span><br><span class="hljs-comment">Hello from MyClass!</span><br><span class="hljs-comment">The value is 4</span><br><span class="hljs-comment">Hello from MyClass!</span><br><span class="hljs-comment">The value is 4</span><br><span class="hljs-comment">Hello from MyClass!</span><br><span class="hljs-comment">The value is</span><br><span class="hljs-comment">(æœ€åç¨‹åºä¼šå¼‚å¸¸é€€å‡º)</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><p>é€šè¿‡å¯¹æ¯”å¯ä»¥å‘ç°ï¼Œä¸¤è€…å”¯ä¸€çš„ä¸åŒæ˜¯åœ¨å‡½æ•°<code>demoAutoPtr()</code>ä¸­ä¸€ä¸ªä½¿ç”¨<strong>åŠ¨æ€å†…å­˜</strong>ï¼Œå¦ä¸€ä¸ªä½¿ç”¨<strong>æ™ºèƒ½æŒ‡é’ˆ</strong>ã€‚ä¸¤è€…å®ç°çš„æ“ä½œéƒ½æ˜¯ä¸€æ ·çš„ï¼Œåˆ›å»º<code>ptr1</code>åå°†<code>ptr1</code>çš„å€¼è½¬ç§»ç»™<code>ptr2</code>ã€‚ä½†æ˜¯ç¨‹åºåœ¨æœ€åè°ƒç”¨<code>ptr1-&gt;showMessage();</code>è¿™æ¡è¯­å¥çš„æ—¶å€™å‡ºç°äº†å·®å¼‚ï¼š<strong>åŸºäºåŠ¨æ€å†…å­˜å®ç°çš„æŒ‡é’ˆä¿ç•™çš„åŸæ¥çš„valueå€¼ï¼Œä½†æ˜¯åŸºäºæ™ºèƒ½æŒ‡é’ˆå®ç°çš„æŒ‡é’ˆåœ¨æ­¤å¤„valueå€¼ä¸¢å¤±äº†ï¼Œå¯¼è‡´ç¨‹åºçš„å¼‚å¸¸ç»ˆæ­¢ã€‚</strong></p><p>åœ¨ <code>auto_ptr</code> çš„èµ‹å€¼æ“ä½œä¸­ï¼Œèµ„æºçš„æ‰€æœ‰æƒè¢«è½¬ç§»ç»™äº†ç›®æ ‡ <code>auto_ptr</code>ï¼Œè€Œæº <code>auto_ptr</code> è¢«ç½®ä¸ºç©ºã€‚å…·ä½“æ¥è¯´ï¼Œè¿™ç§è¡Œä¸ºæ˜¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°çš„ï¼š</p><ol><li>å½“ä½ å°†ä¸€ä¸ª <code>auto_ptr</code> èµ‹å€¼ç»™å¦ä¸€ä¸ª <code>auto_ptr</code> æ—¶ï¼Œæºå¯¹è±¡çš„æŒ‡é’ˆä¼šè¢«è½¬ç§»åˆ°ç›®æ ‡å¯¹è±¡ï¼Œè€Œæºå¯¹è±¡çš„æŒ‡é’ˆåˆ™è¢«ç½®ä¸º <code>nullptr</code>ã€‚è¿™ç§è¡Œä¸ºæ˜¯é€šè¿‡â€œ<strong>è½¬ç§»æ‰€æœ‰æƒ</strong>â€æ¥é¿å…å¤šæ¬¡åˆ é™¤ç›¸åŒçš„èµ„æºã€‚</li><li>è¿™ç§è½¬ç§»çš„ç›®çš„æ˜¯ç¡®ä¿åŠ¨æ€åˆ†é…çš„å†…å­˜åœ¨ç¨‹åºç»“æŸæ—¶è¢«é‡Šæ”¾ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰è¿›è¡Œæ‰€æœ‰æƒè½¬ç§»ï¼Œå¯èƒ½ä¼šå‘ç”Ÿ<strong>åŒé‡åˆ é™¤</strong>çš„é”™è¯¯ã€‚</li></ol><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨æ™ºèƒ½æŒ‡é’ˆçš„ä½¿ç”¨ä¸Šï¼Œä»…ä»…ä¾é <code>auto_ptr</code>ä¼¼ä¹æ˜¯ä¸å¤Ÿçš„ï¼šä¸Šæ–‡çš„<strong>è½¬ç§»æ‰€æœ‰æƒ</strong>çš„ç‰¹æ€§ç¡®å®èƒ½å¤Ÿé¿å…å†…å­˜æ³„æ¼çš„é—®é¢˜å‡ºç°ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰æ—¶ä¹Ÿéœ€è¦è¿›è¡Œ<strong>æŒ‡é’ˆæ‹·è´</strong>çš„æ“ä½œã€‚å®é™…ä¸Šï¼Œåœ¨C++çš„æ–°æ ‡å‡†ä¸­ï¼Œ**<code>auto_ptr</code>å·²ç»è¢«å¼ƒç”¨**ï¼Œä¸»è¦æœ‰ä»¥ä¸‹åŸå› ï¼š</p><ol><li><p><strong>ä¸å®‰å…¨çš„è½¬ç§»è¯­ä¹‰</strong>ï¼š <code>auto_ptr</code> åœ¨èµ‹å€¼æˆ–ä¼ é€’ç»™å¦ä¸€ä¸ª <code>auto_ptr</code> æ—¶ï¼Œè¿›è¡Œçš„æ˜¯â€œ<strong>æµ…æ‹·è´</strong>â€ï¼Œå³å°†æŒ‡é’ˆè½¬ç§»åˆ°å¦ä¸€ä¸ª <code>auto_ptr</code>ï¼Œå¹¶å°†åŸæ¥çš„ <code>auto_ptr</code> è®¾ç½®ä¸º <code>nullptr</code>ã€‚è¿™ç§è¡Œä¸ºä¼šå¯¼è‡´æ½œåœ¨çš„èµ„æºç®¡ç†é—®é¢˜ï¼Œå°¤å…¶æ˜¯å¤šä¸ª <code>auto_ptr</code> ç®¡ç†åŒä¸€å†…å­˜æ—¶ï¼Œå®¹æ˜“å‘ç”Ÿé‡å¤é‡Šæ”¾å†…å­˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">auto_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">10</span>))</span></span>;<br>auto_ptr&lt;<span class="hljs-type">int</span>&gt; p2 = p1;  <span class="hljs-comment">// ç°åœ¨ p1 ä¸ºç©ºï¼Œp2 æ‹¥æœ‰è¯¥å†…å­˜</span><br>std::cout &lt;&lt; *p2 &lt;&lt; std::endl;  <span class="hljs-comment">// p2 ä»ç„¶æœ‰æ•ˆï¼Œä½† p1 ä¸å†æŒæœ‰è¯¥å†…å­˜</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ä¸ä¸€è‡´çš„æ‰€æœ‰æƒè¯­ä¹‰</strong>ï¼š <code>auto_ptr</code> çš„æ‰€æœ‰æƒè¯­ä¹‰æ¯”è¾ƒæ¨¡ç³Šã€‚å®ƒä½¿å¾—ä¼ é€’å’Œè¿”å›æŒ‡é’ˆæ—¶ï¼Œæ‰€æœ‰æƒçš„è½¬ç§»æ¯”è¾ƒä¸ç›´è§‚ï¼Œå®¹æ˜“é€ æˆå†…å­˜ç®¡ç†çš„æ··ä¹±ã€‚</p></li><li><p><strong>ä¸æ”¯æŒç§»åŠ¨è¯­ä¹‰</strong>ï¼š <code>auto_ptr</code> ä¸æ”¯æŒç°ä»£ C++ ä¸­å¼•å…¥çš„â€œç§»åŠ¨è¯­ä¹‰â€ã€‚C++11 å¼•å…¥äº† <code>std::move</code> å’Œ <code>std::unique_ptr</code>ï¼Œä½¿å¾—å¯ä»¥å®‰å…¨é«˜æ•ˆåœ°è½¬ç§»æ‰€æœ‰æƒï¼Œè€Œæ— éœ€æ‹…å¿ƒæ„å¤–çš„å¤åˆ¶å’Œåˆ é™¤ã€‚</p></li></ol><h3 id="other-smart-pointers"><a href="#other-smart-pointers" class="headerlink" title="other smart pointers"></a>other smart pointers</h3><p>ç°ä»£ C++ ä¸­æœ‰<strong>ä¸‰ç§å¸¸è§çš„æ™ºèƒ½æŒ‡é’ˆ</strong>ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p><ol><li><strong><code>std::unique_ptr</code><strong>ï¼šç”¨äºè¡¨ç¤º</strong>ç‹¬å æ‰€æœ‰æƒ</strong>ã€‚æ¯ä¸ª <code>unique_ptr</code> åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼Œå½“å®ƒè¶…å‡ºä½œç”¨åŸŸæ—¶ä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚</li><li><strong><code>std::shared_ptr</code><strong>ï¼šç”¨äºè¡¨ç¤º</strong>å…±äº«æ‰€æœ‰æƒ</strong>ã€‚å¤šä¸ª <code>shared_ptr</code> å¯ä»¥å…±äº«åŒä¸€å—èµ„æºï¼Œå½“æ‰€æœ‰æŒ‡å‘è¯¥èµ„æºçš„ <code>shared_ptr</code> éƒ½è¢«é”€æ¯æ—¶ï¼Œèµ„æºæ‰ä¼šè¢«é‡Šæ”¾ã€‚</li><li>**<code>std::weak_ptr</code>**ï¼šç”¨äºè¡¨ç¤ºå¯¹æŸä¸ªèµ„æºçš„â€œéæ‹¥æœ‰â€å¼•ç”¨ã€‚å®ƒä¸ä¼šå½±å“èµ„æºçš„ç”Ÿå‘½å‘¨æœŸï¼Œä½†å¯ä»¥ç”¨æ¥è§‚å¯Ÿ <code>shared_ptr</code> æ‰€ç®¡ç†çš„å¯¹è±¡ï¼Œé¿å…å¾ªç¯å¼•ç”¨ã€‚</li></ol><blockquote><p>æ™ºèƒ½æŒ‡é’ˆçš„å…³é”®åœ¨äºå¯¹<strong>å†…å­˜åœ°å€çš„æ‰€æœ‰æƒ</strong>è¿›è¡Œè‡ªåŠ¨ç®¡ç†ã€‚</p></blockquote><h4 id="1-std-unique-ptr"><a href="#1-std-unique-ptr" class="headerlink" title="1. std::unique_ptr"></a>1. <strong><code>std::unique_ptr</code></strong></h4><p><code>std::unique_ptr</code> æ˜¯ C++11 å¼•å…¥çš„ï¼Œé€‚ç”¨äºç¡®ä¿èµ„æºçš„ç‹¬å æ‰€æœ‰æƒã€‚<strong>ä¸€ä¸ª <code>unique_ptr</code> ä¸èƒ½è¢«å¤åˆ¶ï¼Œåªèƒ½è¢«ç§»åŠ¨</strong>ã€‚</p><div class="note note-info">            <p><strong>å°±ç›¸å½“äºåŸæ¥çš„<code>auto_ptr</code>ä¸€æ ·ã€‚</strong></p>          </div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass constructor&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass destructor&quot;</span> &lt;&lt; std::endl; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showMessage</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from MyClass!&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demoUniquePtr</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª unique_ptrï¼ŒæŒ‡å‘ MyClass å¯¹è±¡</span><br>    std::unique_ptr&lt;MyClass&gt; ptr1 = std::<span class="hljs-built_in">make_unique</span>&lt;MyClass&gt;();<br>    ptr1-&gt;<span class="hljs-built_in">showMessage</span>();<br><br>    <span class="hljs-comment">// è½¬ç§»æ‰€æœ‰æƒ</span><br>    std::unique_ptr&lt;MyClass&gt; ptr2 = std::<span class="hljs-built_in">move</span>(ptr1);  <span class="hljs-comment">// è¿™é‡Œå‘ç”Ÿäº†æ‰€æœ‰æƒçš„è½¬ç§»</span><br>    <span class="hljs-keyword">if</span> (!ptr1) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;ptr1 is now empty (nullptr)&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    ptr2-&gt;<span class="hljs-built_in">showMessage</span>();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">demoUniquePtr</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs delphi">MyClass <span class="hljs-function"><span class="hljs-keyword">constructor</span></span><br><span class="hljs-function"><span class="hljs-title">Hello</span> <span class="hljs-title">from</span> <span class="hljs-title">MyClass</span>!</span><br><span class="hljs-function"><span class="hljs-title">ptr1</span> <span class="hljs-title">is</span> <span class="hljs-title">now</span> <span class="hljs-title">empty</span> <span class="hljs-params">(nullptr)</span></span><br><span class="hljs-function"><span class="hljs-title">Hello</span> <span class="hljs-title">from</span> <span class="hljs-title">MyClass</span>!</span><br><span class="hljs-function"><span class="hljs-title">MyClass</span> <span class="hljs-title">destructor</span></span><br></code></pre></td></tr></table></figure><h4 id="2-std-shared-ptr"><a href="#2-std-shared-ptr" class="headerlink" title="2. std::shared_ptr"></a>2. <strong><code>std::shared_ptr</code></strong></h4><p><code>std::shared_ptr</code> æ˜¯ C++11 å¼•å…¥çš„ï¼Œç”¨äºè¡¨ç¤ºå…±äº«æ‰€æœ‰æƒã€‚<strong>å¤šä¸ª <code>shared_ptr</code> å¯ä»¥åŒæ—¶ç®¡ç†ä¸€ä¸ªèµ„æº</strong>ï¼Œèµ„æºåªæœ‰åœ¨æ‰€æœ‰ <code>shared_ptr</code> è¢«é”€æ¯æ—¶æ‰ä¼šé‡Šæ”¾ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>    <span class="hljs-type">int</span> value;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> n):<span class="hljs-built_in">value</span>(n) &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass constructor&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass destructor&quot;</span> &lt;&lt; std::endl; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showMessage</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from MyClass!&quot;</span> &lt;&lt; std::endl; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showValue</span><span class="hljs-params">()</span></span>&#123; std::cout&lt;&lt;<span class="hljs-string">&quot;the value: &quot;</span>&lt;&lt;value&lt;&lt;std::endl;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">modifyValue</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123; value=n;&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demoSharedPtr</span><span class="hljs-params">()</span> </span>&#123;<br>    std::shared_ptr&lt;MyClass&gt; ptr1 = std::<span class="hljs-built_in">make_shared</span>&lt;MyClass&gt;(<span class="hljs-number">4</span>);<br>    ptr1-&gt;<span class="hljs-built_in">showMessage</span>();<br><br>    <span class="hljs-comment">// åˆ›å»ºç¬¬äºŒä¸ª shared_ptrï¼ŒæŒ‡å‘åŒä¸€èµ„æº</span><br>    std::shared_ptr&lt;MyClass&gt; ptr2 = ptr1;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Use count: &quot;</span> &lt;&lt; ptr<span class="hljs-number">1.</span><span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡ºå…±äº«è®¡æ•°</span><br><br>    ptr1-&gt;<span class="hljs-built_in">showValue</span>();<br>    ptr2-&gt;<span class="hljs-built_in">showValue</span>();<br>    <br>    ptr1-&gt;<span class="hljs-built_in">modifyValue</span>(<span class="hljs-number">3</span>);<br>    ptr2-&gt;<span class="hljs-built_in">showValue</span>();<br><br>    ptr2-&gt;<span class="hljs-built_in">modifyValue</span>(<span class="hljs-number">2</span>);<br>    ptr1-&gt;<span class="hljs-built_in">showValue</span>();<br>    <span class="hljs-comment">// ptr2 å’Œ ptr1 éƒ½æŒ‡å‘åŒä¸€å¯¹è±¡ï¼Œèµ„æºä¸ä¼šè¢«é‡Šæ”¾ç›´åˆ°ä¸¤ä¸ªéƒ½è¶…å‡ºä½œç”¨åŸŸ</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">demoSharedPtr</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs powershell">MyClass constructor<br>Hello from MyClass!<br>Use count: <span class="hljs-number">2</span><br>the value: <span class="hljs-number">4</span><br>the value: <span class="hljs-number">4</span><br>the value: <span class="hljs-number">3</span><br>the value: <span class="hljs-number">2</span><br>MyClass destructor<br></code></pre></td></tr></table></figure><h4 id="3-std-weak-ptr"><a href="#3-std-weak-ptr" class="headerlink" title="3. std::weak_ptr"></a>3. <strong><code>std::weak_ptr</code></strong></h4><p><code>std::weak_ptr</code> æ˜¯ C++11 å¼•å…¥çš„ï¼Œé€šå¸¸ä¸ <code>shared_ptr</code> é…åˆä½¿ç”¨ï¼Œç”¨æ¥è§‚å¯Ÿç”± <code>shared_ptr</code> ç®¡ç†çš„å¯¹è±¡ã€‚<code>weak_ptr</code> ä¸å¢åŠ å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œå› æ­¤<strong>å®ƒä¸ä¼šå½±å“å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</p><blockquote><p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œ<code>shared_ptr</code> ä¹‹é—´å¯èƒ½ä¼šç›¸äº’å¼•ç”¨ï¼Œå¯¼è‡´å¼•ç”¨è®¡æ•°æ°¸è¿œä¸ä¸ºé›¶ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨ <code>weak_ptr</code> æ¥é¿å…è¿™ç§å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p></blockquote><p>æƒ³è±¡ä½ æœ‰ä¸€ä¸ª <code>shared_ptr</code> ç®¡ç†çš„å¯¹è±¡ <code>A</code>ï¼ŒåŒæ—¶ï¼Œä½ æœ‰å¦ä¸€ä¸ªå¯¹è±¡ <code>B</code>ï¼Œå®ƒæƒ³å¼•ç”¨ <code>A</code>ï¼Œä½†ä¸æƒ³å¹²æ‰° <code>A</code> çš„ç”Ÿå‘½å‘¨æœŸã€‚ä½ å°±å¯ä»¥ç”¨ <code>weak_ptr</code> æ¥è§‚å¯Ÿ <code>A</code> æ˜¯å¦å­˜åœ¨ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span>  <span class="hljs-comment">// å¼•å…¥ shared_ptr å’Œ weak_ptr</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass constructor&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass destructor&quot;</span> &lt;&lt; std::endl; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showMessage</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Hello from MyClass!&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">demoWeakPtr</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª shared_ptrï¼ŒæŒ‡å‘ MyClass å¯¹è±¡</span><br>    std::shared_ptr&lt;MyClass&gt; ptr1 = std::<span class="hljs-built_in">make_shared</span>&lt;MyClass&gt;();<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Use count before weak_ptr: &quot;</span> &lt;&lt; ptr<span class="hljs-number">1.</span><span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª weak_ptrï¼ŒæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œä½†ä¸å¢åŠ å¼•ç”¨è®¡æ•°</span><br>    std::weak_ptr&lt;MyClass&gt; weakPtr = ptr1;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ weak_ptr æ—¶ï¼Œæˆ‘ä»¬éœ€è¦â€œé”å®šâ€å®ƒï¼Œæ£€æŸ¥å®ƒæ˜¯å¦ä»ç„¶æœ‰æ•ˆ</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span> sharedPtr = weakPtr.<span class="hljs-built_in">lock</span>()) &#123;  <span class="hljs-comment">// lock() æ–¹æ³•è¿”å›ä¸€ä¸ª shared_ptrï¼Œå¦‚æœå¯¹è±¡ä»ç„¶å­˜åœ¨</span><br>        sharedPtr-&gt;<span class="hljs-built_in">showMessage</span>();  <span class="hljs-comment">// å¦‚æœ weak_ptr æŒ‡å‘çš„å¯¹è±¡ä»ç„¶å­˜åœ¨ï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒ</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Object is no longer available&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// é‡Šæ”¾ ptr1ï¼ŒMyClass å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å˜ä¸º 0ï¼Œå¯¹è±¡ä¼šè¢«é”€æ¯</span><br>    ptr<span class="hljs-number">1.</span><span class="hljs-built_in">reset</span>();  <span class="hljs-comment">// é‡Šæ”¾ ptr1 æŒ‡å‘çš„å¯¹è±¡</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Use count after reset: &quot;</span> &lt;&lt; weakPtr.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// å°è¯•å†æ¬¡é”å®š weak_ptr</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">auto</span> sharedPtr = weakPtr.<span class="hljs-built_in">lock</span>()) &#123;<br>        sharedPtr-&gt;<span class="hljs-built_in">showMessage</span>();<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Object is no longer available&quot;</span> &lt;&lt; std::endl;  <span class="hljs-comment">// æ­¤æ—¶å¯¹è±¡å·²ç»è¢«é”€æ¯</span><br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">demoWeakPtr</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs delphi">MyClass <span class="hljs-function"><span class="hljs-keyword">constructor</span></span><br><span class="hljs-function"><span class="hljs-title">Use</span> <span class="hljs-title">count</span> <span class="hljs-title">before</span> <span class="hljs-title">weak_ptr</span>:</span> <span class="hljs-number">1</span><br>Hello from MyClass!<br>Use count after reset: <span class="hljs-number">0</span><br><span class="hljs-keyword">Object</span> <span class="hljs-keyword">is</span> no longer available<br>MyClass <span class="hljs-function"><span class="hljs-keyword">destructor</span></span><br></code></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul><li>**<code>std::unique_ptr</code>**ï¼šè¡¨ç¤ºç‹¬å æ‰€æœ‰æƒï¼Œåªèƒ½è½¬ç§»æ‰€æœ‰æƒï¼Œä¸æ”¯æŒæ‹·è´ã€‚å¸¸ç”¨äºèµ„æºçš„ç‹¬å ç®¡ç†ã€‚</li><li>**<code>std::shared_ptr</code>**ï¼šè¡¨ç¤ºå…±äº«æ‰€æœ‰æƒï¼Œå¤šä¸ª <code>shared_ptr</code> å¯ä»¥å…±åŒæ‹¥æœ‰ä¸€ä¸ªèµ„æºï¼Œç›´åˆ°æœ€åä¸€ä¸ª <code>shared_ptr</code> è¢«é”€æ¯ï¼Œèµ„æºæ‰ä¼šè¢«é‡Šæ”¾ã€‚</li><li>**<code>std::weak_ptr</code>**ï¼šä¸å¢åŠ å¼•ç”¨è®¡æ•°ï¼Œä»…ç”¨äºè§‚å¯Ÿç”± <code>shared_ptr</code> ç®¡ç†çš„å¯¹è±¡ï¼Œé˜²æ­¢å‡ºç°å¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>pointers</tag>
      
      <tag>functions</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Exception-Handling-in-C-Plus-Plus</title>
    <link href="/posts/Exception-Handling-in-C-plus-plus/"/>
    <url>/posts/Exception-Handling-in-C-plus-plus/</url>
    
    <content type="html"><![CDATA[<h1 id="C-Primer-Plus-Tutorial-15"><a href="#C-Primer-Plus-Tutorial-15" class="headerlink" title="C++ Primer Plus Tutorial-15"></a>C++ Primer Plus Tutorial-15</h1><center><p style="color: red;"><b><font size=6.5>Chapter 15 Exception Handling</font></b></p></center><center><p style="color: red;"><b><font size=6.5>C++ä¸­çš„å¼‚å¸¸å¤„ç†</font></b></p></center><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p><a href="https://xiyuanyang-code.github.io/posts/C-Primer-Plus-tutorial/">C++ Primer Plus Tutorial</a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><blockquote><p>åœ¨åŸä¹¦çš„15.1èŠ‚ä»‹ç»äº†å‹å…ƒç±»å‡½æ•°çš„é«˜é˜¶ç”¨æ³•ï¼ŒåŒ…æ‹¬å…¶ä»–å‹å…ƒå…³ç³»å’Œå…±åŒå‹å…ƒã€‚</p><p>åœ¨åŸä¹¦çš„15.2èŠ‚ä»‹ç»äº†åµŒå¥—ç±»çš„é«˜çº§ç”¨æ³•ã€‚</p><p>å¯¹äºåˆšåˆšå…¥é—¨C++çš„æœ¬ç§‘ç”Ÿè€Œè¨€ï¼Œè¿™ä¸¤éƒ¨åˆ†å†…å®¹ç¬”è€…åœ¨æ­¤ä¸å±•å¼€å™è¿°ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨C++çš„ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ¨¡å—ï¼Œä¹Ÿæ˜¯â€œ++â€çš„éƒ¨åˆ†â€”â€”<strong>C++çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</strong>ã€‚</p></blockquote><p>This article mainly introduces the exception handling mechanism introduced in C++, which includes <code>throw</code> (throwing exceptions), <code>try</code> (exception handling), and <code>catch</code> (catching exceptions), as well as some advanced techniques for exception handling.</p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œæœ‰æ—¶ä¼šé‡åˆ°<strong>ç¨‹åºå¼‚å¸¸ç»ˆæ­¢</strong>çš„æƒ…æ™¯ï¼Œä¾‹å¦‚ç”¨æˆ·è¿›è¡Œäº†éæ³•è¾“å…¥å¯¼è‡´æ•°æ®æ— æ³•æ­£å¸¸è¯»å–ï¼Œå°è¯•æ‰“å¼€ä¸€ä¸ªä¸å¯ç”¨çš„æ–‡ä»¶ï¼Œå¯¹å†…å­˜ç®¡ç†ä¸å½“ï¼ˆç”³è¯·è¿‡å¤šçš„å†…å­˜ï¼Œå†…å­˜æ³„æ¼ï¼‰ç­‰ç­‰ã€‚è€ŒC++ä¸­çš„å¼‚å¸¸å¤„ç†ï¼ˆException Handlingï¼‰æä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œä½¿ç¨‹åºåœ¨è¿è¡Œæ—¶èƒ½å¤Ÿ<strong>ä¼˜é›…</strong>åœ°å¤„ç†é”™è¯¯ã€‚é€šè¿‡å¼‚å¸¸å¤„ç†ï¼Œç¨‹åºå¯ä»¥æ£€æµ‹å¹¶å“åº”ä¸åŒç±»å‹çš„è¿è¡Œæ—¶é”™è¯¯ï¼Œè€Œ<strong>æ— éœ€ä¸­æ–­æ­£å¸¸çš„ç¨‹åºæµç¨‹</strong>ã€‚C++ä¸­çš„å¼‚å¸¸å¤„ç†åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼š<strong>throw</strong>ã€<strong>try</strong> å’Œ <strong>catch</strong>ã€‚</p><blockquote><p>ä½•ä¸º<strong>ä¼˜é›…</strong>ï¼Ÿå¼‚å¸¸å¤„ç†ä½¿ç¨‹åºèƒ½å¤Ÿåœ¨é‡åˆ°é”™è¯¯æ—¶è·³è½¬åˆ°é€‚å½“çš„é”™è¯¯å¤„ç†ä»£ç ï¼Œç¨‹åºçš„æ§åˆ¶æµä¸ä¼šç›´æ¥ç»ˆæ­¢è€Œæ˜¯è½¬ç§»åˆ°ä¸“é—¨ç”¨æ¥å¤„ç†å¼‚å¸¸çš„åœ°æ–¹ã€‚ä½†æ˜¯å¦‚æœä¸ä½¿ç”¨å¼‚å¸¸å¤„ç†ï¼Œç¨‹åºä¼šç›´æ¥å´©æºƒæˆ–è€…æŒ‚èµ·ã€‚</p></blockquote><p>è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ç¨‹åºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> a=<span class="hljs-number">2</span>;<br>    <span class="hljs-type">int</span> b[]=&#123;<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:b)&#123;<br>        cout&lt;&lt;<span class="hljs-built_in">double</span>(a)/num&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">0</span>.<span class="hljs-number">4</span><br><span class="hljs-attribute">0</span>.<span class="hljs-number">5</span><br><span class="hljs-attribute">0</span>.<span class="hljs-number">666667</span><br><span class="hljs-attribute">1</span><br><span class="hljs-attribute">2</span><br><span class="hljs-attribute">inf</span><br></code></pre></td></tr></table></figure><p>ç¨‹åºåœ¨numçš„å€¼ï¼ˆåˆ†æ¯ï¼‰ä¸º0æ˜¯è¾“å‡ºäº†<code>inf</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ— ç©·å¤§çš„ç‰¹æ®Šæµ®ç‚¹æ•°å€¼ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œåœ¨æ­¤å¤„ç¨‹åºä¸ä¼šå¼‚å¸¸ç»ˆæ­¢ï¼Œä½†æ˜¯ä¸€æ—¦<code>inf</code>ä¼šè¢«ç”¨åœ¨åç»­çš„å¤æ‚çš„ç¨‹åºè®¡ç®—ä¸­ï¼Œä¾¿ä¼šäº§ç”Ÿéå¸¸ä¸¥é‡çš„åæœï¼Œä¹Ÿä¸ºåç»­çš„Debugè¿‡ç¨‹å¢åŠ äº†è´Ÿæ‹…ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å¼•å…¥ä¸€ç§<strong>å¼‚å¸¸å¤„ç†çš„æœºåˆ¶</strong>ï¼Œæ¥ä¸“é—¨ç”¨æ¥å¤„ç†ç»™ç§å„æ ·çš„å¼‚å¸¸æƒ…å†µï¼Œä½¿æˆ‘ä»¬çš„ç¨‹åºæ›´åŠ çš„é²æ£’ã€‚</p><h2 id="If-No-Exception-Handlingï¼Ÿ"><a href="#If-No-Exception-Handlingï¼Ÿ" class="headerlink" title="If No Exception Handlingï¼Ÿ"></a>If No Exception Handlingï¼Ÿ</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä»‹ç»ä¸¤ç§<strong>ä¸éœ€è¦ä½¿ç”¨å¼‚å¸¸å¤„ç†æœºåˆ¶çš„æ–¹æ³•æ¥ç»ˆæ­¢ç¨‹åº</strong>ã€‚</p><h3 id="Abort"><a href="#Abort" class="headerlink" title="Abort"></a>Abort</h3><p><code>abort()</code> å‡½æ•°æ˜¯ C&#x2F;C++ ä¸­ç”¨äºç»ˆæ­¢ç¨‹åºæ‰§è¡Œçš„ä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°ã€‚å®ƒé€šå¸¸ç”¨äºç¨‹åºé‡åˆ°ä¸¥é‡é”™è¯¯æ—¶ï¼Œå¼ºåˆ¶ç»ˆæ­¢ç¨‹åºå¹¶äº§ç”Ÿå¼‚å¸¸çš„é€€å‡ºçŠ¶æ€ã€‚è¯¥å‡½æ•°ä¼šç«‹å³åœæ­¢ç¨‹åºçš„æ‰§è¡Œï¼Œå¹¶ä¸”ä¸ä¼šè¿›è¡Œä»»ä½•æ¸…ç†æ“ä½œï¼ˆå¦‚è°ƒç”¨ææ„å‡½æ•°æˆ–æ‰§è¡Œ <code>atexit()</code> æ³¨å†Œçš„å‡½æ•°ç­‰ï¼‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdlib&gt;</span>  <span class="hljs-comment">// åŒ…å« abort å‡½æ•°</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Program started.&quot;</span> &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// ç”±äºæŸç§æ¡ä»¶ä¸æ»¡è¶³ï¼Œè°ƒç”¨ abort ç»ˆæ­¢ç¨‹åº</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;An error occurred, aborting program.&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-built_in">abort</span>();  <span class="hljs-comment">// å¼ºåˆ¶ç»ˆæ­¢ç¨‹åº</span><br><br>    <span class="hljs-comment">// è¿™è¡Œä»£ç ä¸ä¼šè¢«æ‰§è¡Œ</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;This will not be printed.&quot;</span> &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä¸¥æ ¼æ¥è¯´ï¼Œè¿™å¹¶ä¸èƒ½èƒ½ç®—ä¸€ç§å¼‚å¸¸å¤„ç†çš„æœºåˆ¶ï¼Œæ¯•ç«Ÿæ²¡æœ‰äººæƒ³é€šè¿‡<strong>å¼ºåˆ¶é€€å‡º</strong>çš„æ–¹æ³•ç»ˆæ­¢è‡ªå·±çš„ç¨‹åºã€‚ï¼ˆè€Œä¸”è¿™ä¼šå¸¦æ¥éå¸¸å¤šçš„éšæ‚£ï¼Œä¾‹å¦‚<strong>åŠ¨æ€åˆ†é…çš„å†…å­˜æ²¡æœ‰è¢«æ¸…é™¤ç­‰</strong>ï¼‰</p><p><img src="/posts/Exception-Handling-in-C-plus-plus/abort.png" alt="åœ¨IDEä¸­ï¼Œè¿™ä»è¢«è§†ä¸ºç¨‹åºçš„å¼‚å¸¸é€€å‡º"></p><h3 id="ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼"><a href="#ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼" class="headerlink" title="ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼"></a>ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼</h3><p>ä¸€ç§æ¯”å¼‚å¸¸ç»ˆæ­¢æ›´çµæ´»çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼æ¥æŒ‡å‡ºé—®é¢˜ã€‚ä¾‹å¦‚ï¼Œ <code>ostream</code> ç±»çš„ getï¼ˆ voidï¼‰æˆå‘˜é€šå¸¸è¿”å›ä¸‹ä¸€ä¸ªè¾“å…¥å­—ç¬¦çš„ ASCII ç ï¼Œä½†åˆ°è¾¾æ–‡ä»¶å°¾æ—¶ï¼Œå°†è¿”å›ç‰¹æ®Šå€¼ EOFã€‚å¯¹ hmean( )æ¥è¯´ï¼Œè¿™ç§æ–¹æ³•ä¸ç®¡ç”¨ã€‚ä»»ä½•æ•°å€¼éƒ½æ˜¯æœ‰æ•ˆçš„è¿”å›å€¼ï¼Œå› æ­¤ä¸å­˜åœ¨å¯ç”¨äºæŒ‡å‡ºé—®é¢˜çš„ç‰¹æ®Šå€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä½¿ç”¨æŒ‡é’ˆå‚æ•°æˆ–å¼•ç”¨å‚æ•°æ¥å°†å€¼è¿”å›ç»™è°ƒç”¨ç¨‹åºï¼Œå¹¶ä½¿ç”¨å‡½æ•°çš„è¿”å›å€¼æ¥æŒ‡å‡ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚<strong>istream æ—é‡è½½&gt;&gt;è¿ç®—ç¬¦ä½¿ç”¨äº†è¿™ç§æŠ€æœ¯çš„å˜ä½“ã€‚é€šè¿‡å‘ŠçŸ¥è°ƒç”¨ç¨‹åºæ˜¯æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†</strong>ï¼Œä½¿å¾—ç¨‹åºå¯ä»¥é‡‡å–é™¤å¼‚å¸¸ç»ˆæ­¢ç¨‹åºä¹‹å¤–çš„å…¶ä»–æªæ–½ã€‚ç¨‹åºæ¸…å• 15.8 æ˜¯ä¸€ä¸ªé‡‡ç”¨è¿™ç§æ–¹å¼çš„ç¤ºä¾‹ï¼Œå®ƒå°† hmean( )çš„è¿”å›å€¼é‡æ–°å®šä¹‰ä¸º boolï¼Œè®©è¿”å›å€¼æŒ‡å‡ºæˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ï¼Œå¦å¤–è¿˜ç»™è¯¥å‡½æ•°å¢åŠ äº†ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºæä¾›ç­”æ¡ˆã€‚  </p><blockquote><p>é€šä¿—æ¥è¯´ï¼Œåœ¨æµè¾“å…¥çš„æ—¶å€™ï¼Œå¦‚æœè¿›è¡Œéæ³•è¾“å…¥ä¼šç›´æ¥å‘ŠçŸ¥è°ƒç”¨ç¨‹åºæ˜¯å¦è°ƒç”¨æˆåŠŸï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>while(cin&gt;&gt;a)</code>çš„ç»“æ„ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//error2.cpp -- returning an error code</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cfloat&gt;</span>  <span class="hljs-comment">// (or float.h) for DBL_MAX</span></span><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hmean</span><span class="hljs-params">(<span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b, <span class="hljs-type">double</span> * ans)</span></span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">double</span> x, y, z;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Enter two numbers: &quot;</span>;<br>    <span class="hljs-keyword">while</span> (std::cin &gt;&gt; x &gt;&gt; y)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">hmean</span>(x,y,&amp;z))<br>            <span class="hljs-comment">//è¿™é‡Œå°†å‡½æ•°çš„è¿”å›å€¼è®¾ç½®ä¸ºå¸ƒå°”å€¼ï¼Œç”¨æ¥åˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œè€Œå°†è¿ç®—çš„ç»“æœé€šè¿‡æŒ‡é’ˆçš„æ–¹å¼å‚¨å­˜ã€‚</span><br>            std::cout &lt;&lt; <span class="hljs-string">&quot;Harmonic mean of &quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; and &quot;</span> &lt;&lt; y<br>                &lt;&lt; <span class="hljs-string">&quot; is &quot;</span> &lt;&lt; z &lt;&lt; std::endl;<br>        <span class="hljs-keyword">else</span><br>            std::cout &lt;&lt; <span class="hljs-string">&quot;One value should not be the negative &quot;</span><br>                &lt;&lt; <span class="hljs-string">&quot;of the other - try again.\n&quot;</span>;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Enter next set of numbers &lt;q to quit&gt;: &quot;</span>;<br>    &#125;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Bye!\n&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">hmean</span><span class="hljs-params">(<span class="hljs-type">double</span> a, <span class="hljs-type">double</span> b, <span class="hljs-type">double</span> * ans)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (a == -b)<br>    &#123;<br>        *ans = DBL_MAX;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        *ans = <span class="hljs-number">2.0</span> * a * b / (a + b);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="Exception-Handling"><a href="#Exception-Handling" class="headerlink" title="Exception Handling"></a>Exception Handling</h2><p>é¦–å…ˆè§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä¸Šæ–‡ä¸¤ç§å¼‚å¸¸å¤„ç†çš„æ–¹æ³•æœ‰ä»€ä¹ˆå±€é™æ€§ï¼Ÿ</p><p><code>Abort()</code>ä¸å¿…å¤šè¯´ï¼Œæ²¡æœ‰ç¨‹åºå‘˜å¸Œæœ›åœ¨ç¨‹åºä¸­ä½¿ç”¨è¿™ä¸ªä¸‘é™‹çš„ä¸œè¥¿ï¼Œé‚£<code>è¿”å›å€¼</code>å‘¢ï¼Ÿè¿™ç¡®å®æ˜¯ä¸€ç§æ–¹æ³•ï¼Œä½†è¿™ç§æ–¹æ³•çš„æœ¬è´¨è¿˜æ˜¯<strong>if-elseå¤§æ³•è¿›è¡Œåˆ†ç±»è®¨è®º</strong>ï¼Œå¦‚æœåˆ¤æ–­é”™è¯¯çš„æƒ…å†µå°±è¿›è¡Œç‰¹æ®Šçš„å¤„ç†ï¼Œä¼šå¢åŠ ç¨‹åºçš„å¤æ‚æ€§ã€‚ï¼ˆä½ ä¹Ÿä¸å¸Œæœ›è‡ªå·±çš„ç¨‹åºæ»¡çœ¼æœ›è¿‡å»å…¨æ˜¯ç”¨æ¥if-elseå¤„ç†å¼‚å¸¸æƒ…å†µçš„ä»£ç å—å§ï¼‰</p><p>ä¸è¿‡å€¼å¾—åº†å¹¸çš„æ—¶ï¼Œç¬¬äºŒç§æ–¹æ³•ç»™äº†æˆ‘ä»¬ä¸€ç§æ€è·¯ï¼Œå³<strong>å¼‚å¸¸å¤„ç†å¯ä»¥è·³è½¬ç¨‹åºçš„æ§åˆ¶æµåˆ°ä¸€ä¸ªç‰¹æ®Šçš„åœ°æ–¹ï¼Œåœ¨é‚£ä¸ªåœ°æ–¹æˆ‘ä»¬ä¸“é—¨æ¥å¤„ç†é”™è¯¯</strong>ï¼Œè¿™æ ·å³å¯ä»¥ä¿è¯ç¨‹åºçš„æ§åˆ¶æµä¸ä¼š<strong>å¼‚å¸¸ä¸­æ–­ï¼ˆåƒ<code>abort()</code>ä¸€æ ·ï¼‰</strong>ï¼Œä¹Ÿæ— éœ€ä½¿ç”¨if-elseå¤§æ³•ï¼Œæ˜¯ç¨‹åºæ›´åŠ çš„ç®€æ´ã€‚</p><p>è¿™å°±æ˜¯å¼‚å¸¸å¤„ç†çš„æœ€åŸºæœ¬æ€è·¯ï¼š<strong>æä¾›äº†ä¸€ç§å°†ç¨‹åºçš„æ§åˆ¶æƒä»ä¸€ä¸ªéƒ¨åˆ†ä¼ é€’åˆ°å¦ä¸€ä¸ªéƒ¨åˆ†çš„é€”å¾„</strong>ã€‚</p><div class="note note-primary">            <p>ä»å¦ä¸€ä¸ªè§’åº¦æ¥è¯´ï¼Œå¼‚å¸¸å¤„ç†å°±åƒæ˜¯ä¸€ä¸ª<strong>è¸¢çš®çƒ</strong>çš„è¿‡ç¨‹ï¼ŒçŸ›ç›¾ä¸Šäº¤ï¼Œè®©å‡½æ•°åœ¨å‘ç°è‡ªå·±æ— æ³•å¤„ç†çš„é”™è¯¯æ—¶<strong>æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</strong>ï¼Œå¸Œæœ›ä»–çš„è°ƒç”¨è€…èƒ½å¤Ÿå¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œ<strong>å°†å¼‚å¸¸æ£€æµ‹å’Œå¼‚å¸¸å¤„ç†åˆ†å¼€ï¼Œå°†å¼‚å¸¸å¤„ç†å’Œè§£å†³é—®é¢˜çš„ä¸»é€»è¾‘åˆ†å¼€ï¼Œæ›´åŠ çš„æ¸…æ™°</strong>ã€‚</p>          </div><p>C++ä¸­çš„å¼‚å¸¸å¤„ç†åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼š<strong>throw</strong>ã€<strong>try</strong> å’Œ <strong>catch</strong>ã€‚</p><h3 id="ç¤ºä¾‹ç¨‹åº"><a href="#ç¤ºä¾‹ç¨‹åº" class="headerlink" title="ç¤ºä¾‹ç¨‹åº"></a>ç¤ºä¾‹ç¨‹åº</h3><ol><li><strong>throw</strong>ï¼šç”¨äº<strong>æŠ›å‡ºå¼‚å¸¸</strong>ã€‚å¯ä»¥æŠ›å‡ºä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œé€šå¸¸æ˜¯ç±»çš„å®ä¾‹ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯åŸå§‹æ•°æ®ç±»å‹ã€‚</li><li><strong>try</strong>ï¼šç”¨æ¥å®šä¹‰å¼‚å¸¸æ£€æµ‹çš„ä»£ç å—ã€‚tryå—ä¸­çš„ä»£ç ä¼šè¢«æ‰§è¡Œï¼Œè‹¥å‡ºç°å¼‚å¸¸ï¼Œç¨‹åºä¼šè·³è½¬åˆ°ç›¸åº”çš„catchå—å¤„ç†å¼‚å¸¸ã€‚</li><li><strong>catch</strong>ï¼šç”¨äºæ•è·å’Œå¤„ç†å¼‚å¸¸ã€‚æ¯ä¸ªcatchå—å¯¹åº”ä¸€ä¸ªç‰¹å®šç±»å‹çš„å¼‚å¸¸ï¼Œå¯ä»¥æ ¹æ®å¼‚å¸¸ç±»å‹è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span> <span class="hljs-comment">// å¼•å…¥æ ‡å‡†å¼‚å¸¸å¤´æ–‡ä»¶</span></span><br><br><span class="hljs-comment">// ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œç”¨æ¥æ¼”ç¤ºå¼‚å¸¸å¤„ç†</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">divide</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸</span><br>        <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">&quot;Division by zero is not allowed&quot;</span>);<br>    &#125;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Result: &quot;</span> &lt;&lt; a / b &lt;&lt; std::endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-built_in">divide</span>(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>);  <span class="hljs-comment">// è¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸</span><br>    &#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::invalid_argument&amp; e) &#123;<br>        <span class="hljs-comment">// æ•è·å¹¶å¤„ç†å¼‚å¸¸</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Error: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<code>Division by zero is not allowed</code></p><blockquote><p>å¦‚æœå°†ç¬¬15è¡Œä»£ç ä¿®æ”¹ä¸ºï¼š<code>divide(10, 1);</code>è¾“å‡ºï¼š<code>Result: 10</code></p></blockquote><h4 id="ä»£ç è§£æ"><a href="#ä»£ç è§£æ" class="headerlink" title="ä»£ç è§£æ"></a>ä»£ç è§£æ</h4><ol><li>**throw std::invalid_argument(â€œâ€¦â€)**ï¼šå¦‚æœé™¤æ•°ä¸º0ï¼ŒæŠ›å‡ºä¸€ä¸ª<code>std::invalid_argument</code>ç±»å‹çš„å¼‚å¸¸ï¼Œå¸¦æœ‰é”™è¯¯ä¿¡æ¯ã€‚</li><li><strong>try-catch</strong>ï¼šåœ¨<code>main()</code>å‡½æ•°ä¸­ï¼Œè°ƒç”¨<code>divide()</code>æ—¶ä½¿ç”¨äº†<code>try</code>å—ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼ˆä¾‹å¦‚é™¤æ•°ä¸º0ï¼‰ï¼Œä¼šè·³è½¬åˆ°ç›¸åº”çš„<code>catch</code>å—å¤„ç†å¼‚å¸¸ã€‚</li><li>**catch (const std::invalid_argument&amp; e)**ï¼šæ•è·å¼‚å¸¸å¹¶å¤„ç†ï¼Œ<code>e.what()</code>è¿”å›å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ã€‚</li></ol><h2 id="Throw-å¼‚å¸¸æŠ›å‡º"><a href="#Throw-å¼‚å¸¸æŠ›å‡º" class="headerlink" title="Throw å¼‚å¸¸æŠ›å‡º"></a>Throw å¼‚å¸¸æŠ›å‡º</h2><p>å¦‚æœç¨‹åºå‘ç”Ÿäº†å¼‚å¸¸ï¼Œç¨‹åºå¸Œæœ›å°†é”™è¯¯ä¿¡æ¯å‘é€åˆ°æ›´å¤§çš„ç¯å¢ƒä¸­ã€‚ï¼ˆè½¬ç§»ç¨‹åºçš„æ§åˆ¶æƒï¼‰è¿™å°±æ˜¯<strong>throw</strong>è¯­å¥ï¼ˆå¼‚å¸¸æŠ›å‡ºè¯­å¥ï¼‰ï¼Œå®ƒçš„åŠŸèƒ½å°†ä¸€ä¸ª<strong>æ“ä½œæ•°</strong>æŠ›å‡ºåˆ°â€œæ›´å¤§çš„ç¯å¢ƒâ€ï¼ˆå³<strong>è·³å‡ºå½“å‰çš„ç¨‹åºå—</strong>ï¼‰</p><p>è¿˜æ˜¯ä»¥é™¤æ•°ä¸å¯ä»¥ä¸º0ä¸ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">divv</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(y==<span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">throw</span>(y);<br>    &#125;<br>    <span class="hljs-keyword">return</span> x/y;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cout&lt;&lt;<span class="hljs-built_in">divv</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)&lt;&lt;endl;<br>    cout&lt;&lt;<span class="hljs-built_in">divv</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);<br>    cout&lt;&lt;<span class="hljs-built_in">divv</span>(<span class="hljs-number">0</span>,<span class="hljs-number">3</span>)&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><p><img src="/posts/Exception-Handling-in-C-plus-plus/throw.png" alt="Throw"></p><p>å¾ˆä¸å¹¸çš„æ˜¯ï¼Œè¿™é‡Œç¨‹åºä»ç„¶æ˜¯å¼‚å¸¸ç»ˆæ­¢çš„ï¼Œç¨‹åºçš„æ§åˆ¶æµè¢«ç›´æ¥åˆ‡æ–­ï¼Œæˆ‘ä»¬æƒ³è¦ç¨‹åºæ‰§è¡Œçš„ç¬¬ä¸‰æ¡è¯­å¥ <code>cout&lt;&lt;divv(0,3)&lt;&lt;endl</code>å¹¶æ²¡æœ‰æ‰§è¡Œã€‚å› ä¸ºthrowåªæ˜¯<strong>æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸</strong>ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å®šä¹‰å¯¹æ‰€æŠ›å‡ºå¼‚å¸¸çš„åç»­å¤„ç†æ–¹æ³•ã€‚Anywayï¼Œæˆ‘ä»¬æˆåŠŸè¿ˆå‡ºäº†å¼‚å¸¸å¤„ç†çš„ç¬¬ä¸€æ­¥ï¼</p><p>åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œ<strong>æ“ä½œæ•°</strong>å°±æ˜¯è¢«æŠ›å‡ºçš„intå€¼<code>y</code>ã€‚å¼‚å¸¸æŠ›å‡ºè¯­å¥çš„ä¸€èˆ¬å½¢å¼ä¸º<code>throw &lt;æ“ä½œæ•°&gt;</code>ã€‚<strong>throwå¯¹åº”çš„æ“ä½œæ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼Œå¯ä»¥æ˜¯åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„ç±»å’Œå¯¹è±¡ï¼ˆå¼‚å¸¸å¯¹è±¡ï¼‰</strong>ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¦‚ä½•è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»å’Œå¼‚å¸¸å¯¹è±¡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Divide_by_zero</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Divide_by_zero</span>():<span class="hljs-built_in">message</span>(<span class="hljs-string">&quot;attempted to divide by zero&quot;</span>)&#123;<br>            cout&lt;&lt;message&lt;&lt;endl;<br>        &#125;<br>        <span class="hljs-comment">//æ„é€ å‡½æ•°</span><br>        <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">what</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>            <span class="hljs-keyword">return</span> message;<br>        &#125;<br>        <span class="hljs-comment">//whatæ–¹æ³•æ¥è°ƒç”¨ç§æœ‰æ•°æ®æˆå‘˜message</span><br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-type">const</span> <span class="hljs-type">char</span>* message;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">divv</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(y==<span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">Divide_by_zero</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> x/y;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    cout&lt;&lt;<span class="hljs-built_in">divv</span>(<span class="hljs-number">14</span>,<span class="hljs-number">2</span>)&lt;&lt;endl;<br>    cout&lt;&lt;<span class="hljs-built_in">divv</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);<br>    cout&lt;&lt;<span class="hljs-built_in">divv</span>(<span class="hljs-number">6</span>,<span class="hljs-number">3</span>)&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs smali">è¾“å‡ºç¤ºä¾‹ï¼š<br>7<br>attempted to divide by zero<br>terminate called after throwing an<span class="hljs-built_in"> instance </span>of &#x27;Divide_by_zero&#x27;<br></code></pre></td></tr></table></figure><p>åœ¨è¾“å‡ºä¸­ï¼Œå‡ºç°äº†<code>message</code>çš„å†…å®¹ï¼Œè¯´æ˜è¯­å¥ <code>throw Divide_by_zero()</code>é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª<code>throw Divide_by_zero()</code>ç±»çš„ä¸´æ—¶å¯¹è±¡ï¼Œè°ƒç”¨äº†å…¶æ„é€ å‡½æ•°ï¼Œç„¶åæŠ›å‡ºè¿™ä¸ªä¸´æ—¶å¯¹è±¡ï¼ˆè¾“å‡ºçš„ç¬¬ä¸‰è¡Œï¼‰ã€‚</p><blockquote><p>è¿™é‡Œæ²¡æœ‰æ„é€ æ˜¾å¼çš„ææ„å‡½æ•°ï¼Œå› ä¸ºé»˜è®¤çš„ææ„å‡½æ•°å°±ä¼šé”€æ¯æˆå‘˜messageã€‚</p></blockquote><h2 id="Try-Catch-å¼‚å¸¸æ•è·"><a href="#Try-Catch-å¼‚å¸¸æ•è·" class="headerlink" title="Try-Catch å¼‚å¸¸æ•è·"></a>Try-Catch å¼‚å¸¸æ•è·</h2><h3 id="å¼‚å¸¸æŠ›å‡ºåçš„æ§åˆ¶æƒé—®é¢˜"><a href="#å¼‚å¸¸æŠ›å‡ºåçš„æ§åˆ¶æƒé—®é¢˜" class="headerlink" title="å¼‚å¸¸æŠ›å‡ºåçš„æ§åˆ¶æƒé—®é¢˜"></a>å¼‚å¸¸æŠ›å‡ºåçš„æ§åˆ¶æƒé—®é¢˜</h3><p>åœ¨ä¸Šæ–‡æˆ‘ä»¬çŸ¥é“ï¼Œ<strong>ç¨‹åºåœ¨å¼‚å¸¸å¤„ç†åéœ€è¦è¢«æ•è·</strong>ã€‚ä½•ä¸ºæ•è·ï¼Ÿåœ¨å¼€å§‹è¿™ä¸€éƒ¨åˆ†å†…å®¹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆä»‹ç»ä¸€ä¸‹<strong>åœ¨æŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™ï¼Œç¨‹åºçš„æ§åˆ¶æƒå‘ç”Ÿäº†ä»€ä¹ˆã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span> <span class="hljs-comment">// std::runtime_error</span></span><br><br><span class="hljs-comment">// å‡½æ•°AæŠ›å‡ºå¼‚å¸¸</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">functionA</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Inside functionA\n&quot;</span>;<br>    <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;An error occurred in functionA&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">// å‡½æ•°Bè°ƒç”¨å‡½æ•°A</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">functionB</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Inside functionB\n&quot;</span>;<br>    <span class="hljs-built_in">functionA</span>(); <span class="hljs-comment">// è°ƒç”¨æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;FunctionB ends normally\n&quot;</span>;  <span class="hljs-comment">// è¿™è¡Œä¸ä¼šæ‰§è¡Œ</span><br>&#125;<br><br><span class="hljs-comment">// mainå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Inside main\n&quot;</span>;<br>        <span class="hljs-built_in">functionB</span>(); <span class="hljs-comment">// è°ƒç”¨functionB</span><br>    &#125;<br>    <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::runtime_error&amp; e) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Caught exception: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Program ends\n&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs inform7"><span class="hljs-keyword">Inside</span> main<br><span class="hljs-keyword">Inside</span> functionB<br><span class="hljs-keyword">Inside</span> functionA<br>Caught exception: An error occurred in functionA<br>Program ends<br></code></pre></td></tr></table></figure><p>ç›¸ä¿¡è¯»è€…åº”è¯¥ä»åå­—å°±èƒ½çŒœå‡ºæ¥ï¼Œ<code>try</code>å’Œ<code>catch</code>å—å°±æ˜¯ç”¨æ¥<strong>æ•è·throwæŠ›å‡ºçš„å¼‚å¸¸çš„</strong>ï¼Œåœ¨ä¸Šæ–‡ç¨‹åºä¸­ï¼Œä»–ä»¬è¢«è®¾ç½®åœ¨äº†mainå‡½æ•°ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸å½“äºåœ¨mainå‡½æ•°é‡Œé¢<strong>è®¾ä¸‹äº†ä¸€å¼ ç½‘</strong>ï¼Œç”¨æ¥æ•è·ä¸Šæ¸¸å‡½æ•°æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥é‡ç‚¹å…³æ³¨ä¸Šæ¸¸å‡½æ•°ï¼Œè¯»è€…åº”è¯¥ä¸éš¾çœ‹å‡ºï¼Œå‡½æ•°çš„è°ƒç”¨æƒè½¬ç§»æ˜¯å¦‚ä¸‹çš„é¡ºåºï¼ˆåœ¨é‡åˆ°å¼‚å¸¸æƒ…å†µå‰ï¼‰ï¼š<strong>mainå‡½æ•°â†’functionBâ†’functionA</strong>ï¼Œåœ¨functionAä¸­ï¼Œé‡åˆ°å¼‚å¸¸æƒ…å†µè¢«æŠ›å‡ºï¼Œæ­¤æ—¶ï¼Œ<strong>å¼‚å¸¸å°†ä¼šè·³å‡ºå½“å‰çš„ç¨‹åºå—ï¼ˆfunctionAï¼‰ï¼Œè€Œè·³è½¬åˆ°å¤–éƒ¨ï¼Œå³è°ƒç”¨è¯¥å‡½æ•°çš„å‡½æ•°functionB</strong>ã€‚æ¥ä¸‹æ¥ï¼ŒfunctionBæ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œå› æ­¤ï¼Œ<strong>ç¨‹åºè·³å‡ºfunctionBï¼Œå¼‚å¸¸ç»§ç»­ä¼ æ’­</strong>ï¼Œç»ˆäºåœ¨mainå‡½æ•°è¢«æ•è·ã€‚</p><blockquote><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¨‹åºæ²¡æœ‰è¾“å‡º<code>FunctionB ends normally</code>ï¼Œå› ä¸ºå¼‚å¸¸çš„ä¼ æ’­å¯¼è‡´functionBçš„æ‰§è¡Œè¢«å¼‚å¸¸ç»ˆæ­¢äº†ã€‚</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>è¢«æŠ›å‡ºçš„å¼‚å¸¸éœ€è¦è¢«æ•è·</strong>ï¼Œå¦åˆ™å¼‚å¸¸ä¼šåˆ‡æ–­åœ¨å…¶è¢«æ•è·çš„è·¯ä¸Šçš„å‡½æ•°çš„æ­£å¸¸æ‰§è¡Œã€‚</p><p>ä¸¾ä¸€åä¸‰ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹äº†try-catchçš„ä½ç½®ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span> <span class="hljs-comment">// std::runtime_error</span></span><br><br><span class="hljs-comment">// å‡½æ•°AæŠ›å‡ºå¼‚å¸¸</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">functionA</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">try</span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Inside functionA\n&quot;</span>;<br>    <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;An error occurred in functionA&quot;</span>);<br>&#125;<br>    <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::runtime_error&amp; e) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Caught exception2: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// å‡½æ•°Bè°ƒç”¨å‡½æ•°A</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">functionB</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Inside functionB\n&quot;</span>;<br>    <span class="hljs-built_in">functionA</span>(); <span class="hljs-comment">// è°ƒç”¨æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;FunctionB ends normally\n&quot;</span>;  <span class="hljs-comment">// è¿™è¡Œä¸ä¼šæ‰§è¡Œ</span><br>&#125;<br><br><span class="hljs-comment">// mainå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Inside main\n&quot;</span>;<br>        <span class="hljs-built_in">functionB</span>(); <span class="hljs-comment">// è°ƒç”¨functionB</span><br>    &#125;<br>    <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::runtime_error&amp; e) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Caught exception1: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Program ends\n&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">Inside </span>main<br><span class="hljs-keyword">Inside </span>functionB<br><span class="hljs-keyword">Inside </span>functionA<br>Caught exception2: An error occurred in functionA<br>FunctionB ends <span class="hljs-keyword">normally</span><br><span class="hljs-keyword"></span>Program ends<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¼šå‘ç°ï¼Œå¼‚å¸¸åœ¨è¢«å‡½æ•°AæŠ›å‡ºåç›´æ¥è¢«å‡½æ•°Aä¸­çš„<code>try-catch</code>æ•è·ï¼Œæ²¡æœ‰æ‰“æ‰°åˆ°åç»­functionBå’Œmainå‡½æ•°çš„æ­£å¸¸æ‰§è¡Œã€‚</p><h3 id="try-catchåŸºæœ¬è¯­æ³•"><a href="#try-catchåŸºæœ¬è¯­æ³•" class="headerlink" title="try-catchåŸºæœ¬è¯­æ³•"></a>try-catchåŸºæœ¬è¯­æ³•</h3><p><code>try</code>çš„ä½œç”¨æ˜¯é€šçŸ¥ç³»ç»Ÿå¯åŠ¨å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œè¿™æ ·å¯ä»¥ä½¿åœ¨tryä»£ç å—ä¸­çš„æ‰€æœ‰æŠ›å‡ºå¼‚å¸¸éƒ½èƒ½å¤Ÿè¢«æ•è·ã€‚ä¸€æ—¦æ•è·ï¼Œ<strong>åˆ™é€€å‡ºtryå—ï¼Œè·³è¿‡teyå—åé¢çš„è¯­å¥ï¼Œè¿›å…¥tryåé¢çš„å¼‚å¸¸å¤„ç†éƒ¨åˆ†</strong>ã€‚<code>catch</code>å—çš„ä½œç”¨æ˜¯<strong>å¤„ç†æŸç§ç±»å‹å¼‚å¸¸çš„å¼‚å¸¸å¤„ç†å™¨</strong>ã€‚å®ƒä»¬ä¿©å¸¸å¸¸æ­é…ä½¿ç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span>&#123;<br>    <span class="hljs-comment">//å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ä»£ç </span><br>&#125;<br><span class="hljs-built_in">catch</span>(ç±»å‹<span class="hljs-number">1</span> å‚æ•°<span class="hljs-number">1</span>)&#123;<br>    <span class="hljs-comment">//å¤„ç†å¼‚å¸¸çš„ä»£ç 1;</span><br>&#125;<br><span class="hljs-built_in">catch</span>(ç±»å‹<span class="hljs-number">2</span> å‚æ•°<span class="hljs-number">2</span>)&#123;<br>    <span class="hljs-comment">//å¤„ç†å¼‚å¸¸çš„ä»£ç 2;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœtryæ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œ<strong>ä¸ä¼šæ‰§è¡Œä»»ä½•ä¸€æ¡è·Ÿåœ¨å…¶åé¢çš„catchè¯­å¥</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¼‚å¸¸å¤„ç†å»ºç«‹åœ¨å¼‚å¸¸æŠ›å‡ºå’Œå¼‚å¸¸æ•è·çš„åŸºç¡€ä¹‹ä¸Šã€‚</p><p><code>catch</code> å¤„ç†å™¨å®šä¹‰äº†è‡ªå·±å¤„ç†çš„å¼‚å¸¸èŒƒå›´ã€‚<strong>å¼‚å¸¸èŒƒå›´æ˜¯æŒ‰ç±»å‹åŒºåˆ†çš„</strong>ã€‚ <code>catch</code> åœ¨å°æ‹¬å·ä¸­æŒ‡å®šè¦<strong>æ•è·çš„å¼‚å¸¸ç±»å‹ä»¥åŠå‚æ•°</strong>ã€‚å‚æ•°æ˜¯æ‰€æ•è·çš„å¼‚å¸¸ç±»å‹çš„ä¸€ä¸ª<strong>å¯¹è±¡</strong>ï¼Œå³ try å—ä¸­çš„æŸä¸ªè¯­å¥æŠ›å‡ºçš„<strong>å¯¹è±¡</strong>ã€‚catch å¤„ç†å™¨ä¸­çš„å‚æ•°åæ˜¯å¯é€‰çš„ã€‚ å¦‚æœç»™å‡ºäº†å‚æ•°åï¼Œ åˆ™å¯ä»¥åœ¨å¼‚å¸¸å¤„ç†ä»£ç ä¸­å¼•ç”¨è¿™ä¸ªå¼‚å¸¸å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šå‚æ•°åï¼ŒåªæŒ‡å®šåŒ¹é…æŠ›å‡ºå¯¹è±¡çš„ç±»å‹ï¼Œåˆ™ä¿¡æ¯ä¸ä»æŠ›å‡ºç‚¹ä¼ é€’åˆ°å¤„ç†å™¨ä¸­ï¼Œåªæ˜¯æŠŠæ§åˆ¶ä»æŠ›å‡ºç‚¹è½¬åˆ°å¤„ç†å™¨ä¸­ã€‚</p><p>å¦‚æœ try å—ä¸­çš„æŸä¸ªè¯­å¥æŠ›å‡ºäº†å¼‚å¸¸ï¼Œåˆ™è·³å‡º <code>try</code> å—ï¼Œå¼€å§‹å¼‚å¸¸æ•è·ã€‚å…ˆå°†æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ä¸ç¬¬ä¸€ä¸ªå¼‚å¸¸å¤„ç†å™¨æ•è·çš„ç±»å‹ç›¸æ¯”è¾ƒï¼Œå¦‚æœå¯ä»¥åŒ¹é…ï¼Œåˆ™æ‰§è¡Œå¼‚å¸¸å¤„ç†ä»£ç ï¼Œç„¶åè½¬åˆ°æ‰€æœ‰ catch åçš„è¯­å¥ç»§ç»­æ‰§è¡Œã€‚å¦‚æœä¸åŒ¹é…ï¼Œåˆ™ä¸ä¸‹ä¸€ä¸ªå¼‚å¸¸å¤„ç†å™¨æ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…çš„å¼‚å¸¸å¤„ç†å™¨ã€‚å¦‚æœæ‰¾éäº†æ‰€æœ‰çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œéƒ½ä¸åŒ¹é…ï¼Œåˆ™å‡½æ•°æ‰§è¡Œç»“æŸï¼Œå¹¶å°†è¯¥<strong>å¼‚å¸¸æŠ›ç»™è°ƒç”¨å®ƒçš„å‡½æ•°ï¼Œç”±è°ƒç”¨å®ƒçš„å‡½æ•°æ¥å¤„ç†è¯¥å¼‚å¸¸</strong>ï¼ˆå¼‚å¸¸ç»§ç»­å‘ä¸‹ä¼ æ’­ï¼‰ã€‚  </p><p>å›åˆ°é‚£ä¸ªé™¤æ•°ä¸èƒ½ä¸º0çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨try-catchå—ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @Date: 2024-10-13 11:06:15</span><br><span class="hljs-comment"> * @LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @LastEditTime: 2024-12-15 14:53:59</span><br><span class="hljs-comment"> * @FilePath: \CODE_for_Vscode\C++_project\testcode_1.cpp</span><br><span class="hljs-comment"> * @Description: </span><br><span class="hljs-comment"> * Do you code and make progress today?</span><br><span class="hljs-comment"> * Copyright (c) 2024 by Xiyuan Yang, All Rights Reserved. </span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Divide_by_zero</span>&#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Divide_by_zero</span>():<span class="hljs-built_in">message</span>(<span class="hljs-string">&quot;attempted to divide by zero&quot;</span>)&#123;<br>            cout&lt;&lt;message&lt;&lt;endl;<br>        &#125;<br>        <span class="hljs-comment">//æ„é€ å‡½æ•°</span><br>        <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">what</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>            <span class="hljs-keyword">return</span> message;<br>        &#125;<br>        <span class="hljs-comment">//whatæ–¹æ³•æ¥è°ƒç”¨ç§æœ‰æ•°æ®æˆå‘˜message</span><br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-type">const</span> <span class="hljs-type">char</span>* message;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">divv</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span></span>&#123;<br>    <span class="hljs-keyword">try</span>&#123;<br>        <span class="hljs-keyword">if</span>(y==<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-built_in">Divide_by_zero</span>();<br>        &#125;<br>        cout&lt;&lt;x/y&lt;&lt;endl;<br>    &#125;<span class="hljs-built_in">catch</span>(Divide_by_zero ex)&#123;<br>        cout&lt;&lt;<span class="hljs-string">&quot;Excpetion occured: &quot;</span>&lt;&lt;ex.<span class="hljs-built_in">what</span>()&lt;&lt;endl;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">divv</span>(<span class="hljs-number">14</span>,<span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">divv</span>(<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">divv</span>(<span class="hljs-number">6</span>,<span class="hljs-number">3</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»ˆäºæˆåŠŸäº†ï¼ç¨‹åºæˆåŠŸæ•è·äº†<code>divv(1,0)</code>æ‰€æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¹¶æ­£å¸¸æ‰§è¡Œäº†ç¬¬ä¸‰æ¡è¯­å¥ <code>divv(6,3)</code>å¹¶æ­£å¸¸é€€å‡ºã€‚</p><h2 id="Advanced-Usage"><a href="#Advanced-Usage" class="headerlink" title="Advanced Usage"></a>Advanced Usage</h2><h3 id="Periodic-Reflection"><a href="#Periodic-Reflection" class="headerlink" title="Periodic Reflection"></a>Periodic Reflection</h3><p>æˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¼‚å¸¸å¤„ç†çš„ä¸‰ç§æœ€åŸºæœ¬çš„å¤„ç†å·¥å…·ï¼š</p><p><strong>throwï¼ˆæŠ›å‡ºå¼‚å¸¸ï¼‰â€”â€”tryï¼ˆæ•è·å¼‚å¸¸ï¼‰â€”â€”catchï¼ˆå¤„ç†å¼‚å¸¸ï¼‰</strong></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»åº”ç”¨çš„è§’åº¦å‡ºå‘ï¼Œä»‹ç»å¼‚å¸¸å¤„ç†çš„ä¸€äº›é«˜çº§ç”¨æ³•ã€‚</p><h3 id="æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»"><a href="#æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»" class="headerlink" title="æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»"></a>æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»</h3><p>C++æ ‡å‡†åº“æä¾›äº†å¤šç§å¼‚å¸¸ç±»ï¼Œå¦‚<code>std::out_of_range</code>ã€<code>std::invalid_argument</code>ã€<code>std::runtime_error</code>ç­‰ã€‚</p><h4 id="1-æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»"><a href="#1-æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»" class="headerlink" title="1. æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»"></a>1. <strong>æ ‡å‡†åº“ä¸­çš„å¼‚å¸¸ç±»</strong></h4><h5 id="std-exception"><a href="#std-exception" class="headerlink" title="std::exception"></a><strong><code>std::exception</code></strong></h5><p><code>std::exception</code> æ˜¯æ‰€æœ‰æ ‡å‡†å¼‚å¸¸ç±»çš„åŸºç±»ã€‚å®ƒæä¾›äº†ä¸€ä¸ªè™šå‡½æ•° <code>what()</code>ï¼Œç”¨äºè·å–å¼‚å¸¸çš„æè¿°ä¿¡æ¯ã€‚ç”¨æˆ·é€šå¸¸ä¼šç»§æ‰¿å®ƒå¹¶é‡å†™ <code>what()</code> æ¥åˆ›å»ºè‡ªå®šä¹‰çš„å¼‚å¸¸ç±»ã€‚</p><ul><li>**<code>what()</code>**ï¼šè¿”å›ä¸€ä¸ªæè¿°å¼‚å¸¸åŸå› çš„ C é£æ ¼å­—ç¬¦ä¸²ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;An error occurred&quot;</span>);<br>&#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::exception&amp; e) &#123;<br>    std::cout &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="std-logic-error"><a href="#std-logic-error" class="headerlink" title="std::logic_error"></a><strong><code>std::logic_error</code></strong></h5><p><code>std::logic_error</code> ç”¨äºè¡¨ç¤ºç¨‹åºçš„é€»è¾‘é”™è¯¯ã€‚å®ƒæ˜¯ç»§æ‰¿è‡ª <code>std::exception</code> çš„æ´¾ç”Ÿç±»ï¼Œè¡¨ç¤ºç¨‹åºè¿è¡Œæ—¶å­˜åœ¨è®¾è®¡ç¼ºé™·ã€‚ä»¥ä¸‹æ˜¯å…¶å¸¸è§çš„å­ç±»ï¼š</p><ul><li>**<code>std::invalid_argument</code>**ï¼šè¡¨ç¤ºå‡½æ•°æ¥æ”¶åˆ°æ— æ•ˆçš„å‚æ•°ï¼Œé€šå¸¸ç”¨äºè¾“å…¥å‚æ•°æ£€æŸ¥ã€‚</li><li>**<code>std::domain_error</code>**ï¼šè¡¨ç¤ºæ•°å­¦å‡½æ•°çš„å‚æ•°ä¸åœ¨æœ‰æ•ˆçš„æ•°å­¦åŸŸå†…ã€‚</li><li>**<code>std::length_error</code>**ï¼šè¡¨ç¤ºå®¹å™¨çš„å¤§å°è¶…è¿‡äº†å®¹å™¨çš„æœ€å¤§é™åˆ¶ï¼ˆä¾‹å¦‚ <code>std::vector</code>ï¼‰ã€‚</li><li>**<code>std::out_of_range</code>**ï¼šè¡¨ç¤ºè®¿é—®è¶…å‡ºäº†å®¹å™¨æˆ–æ•°ç»„çš„æœ‰æ•ˆèŒƒå›´ã€‚</li></ul><h5 id="std-runtime-error"><a href="#std-runtime-error" class="headerlink" title="std::runtime_error"></a><strong><code>std::runtime_error</code></strong></h5><p><code>std::runtime_error</code> ç”¨äºè¡¨ç¤ºç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„é”™è¯¯ï¼Œé€šå¸¸æ˜¯ç”±äºä¸å¯é¢„æ–™çš„é—®é¢˜æˆ–å¤–éƒ¨æ¡ä»¶é€ æˆçš„ã€‚ä»¥ä¸‹æ˜¯å…¶å¸¸è§çš„å­ç±»ï¼š</p><ul><li>**<code>std::overflow_error</code>**ï¼šè¡¨ç¤ºæ•°å€¼è®¡ç®—ä¸­çš„æº¢å‡ºé”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œæ•´æ•°æº¢å‡ºï¼‰ã€‚</li><li>**<code>std::underflow_error</code>**ï¼šè¡¨ç¤ºæ•°å€¼è®¡ç®—ä¸­çš„ä¸‹æº¢é”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ï¼‰ã€‚</li><li>**<code>std::range_error</code>**ï¼šè¡¨ç¤ºæŸäº›è®¡ç®—è¶…å‡ºäº†æœ‰æ•ˆçš„æ•°å€¼èŒƒå›´ã€‚</li></ul><h5 id="std-bad-alloc"><a href="#std-bad-alloc" class="headerlink" title="std::bad_alloc"></a><strong><code>std::bad_alloc</code></strong></h5><p><code>std::bad_alloc</code> æ˜¯åœ¨å†…å­˜åˆ†é…å¤±è´¥æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚å½“ä½¿ç”¨ <code>new</code> æˆ– <code>std::vector</code> ç­‰å®¹å™¨åˆ†é…å†…å­˜æ—¶ï¼Œè‹¥å†…å­˜ä¸è¶³ï¼Œé€šå¸¸ä¼šæŠ›å‡ºè¯¥å¼‚å¸¸ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-type">int</span>* arr = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">1000000000</span>];  <span class="hljs-comment">// å¯èƒ½æŠ›å‡º std::bad_alloc</span><br>&#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::bad_alloc&amp; e) &#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Memory allocation failed: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="std-bad-cast"><a href="#std-bad-cast" class="headerlink" title="std::bad_cast"></a><strong><code>std::bad_cast</code></strong></h5><p><code>std::bad_cast</code> åœ¨ä½¿ç”¨ <code>dynamic_cast</code> è¿›è¡Œç±»å‹è½¬æ¢å¤±è´¥æ—¶æŠ›å‡ºï¼Œé€šå¸¸ç”¨äºä¸åˆæ³•çš„æŒ‡é’ˆç±»å‹è½¬æ¢ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span> &#123;<br>    Base* base = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();<br>    Derived* derived = <span class="hljs-built_in">dynamic_cast</span>&lt;Derived*&gt;(base);  <span class="hljs-comment">// å¦‚æœè½¬æ¢å¤±è´¥ï¼Œå°†æŠ›å‡º std::bad_cast</span><br>&#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::bad_cast&amp; e) &#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Bad cast: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="std-bad-typeid"><a href="#std-bad-typeid" class="headerlink" title="std::bad_typeid"></a><strong><code>std::bad_typeid</code></strong></h5><p><code>std::bad_typeid</code> åœ¨ <code>typeid</code> è¿ç®—ç¬¦ç”¨äºç©ºæŒ‡é’ˆæ—¶æŠ›å‡ºã€‚è¿™å¸¸å‘ç”Ÿåœ¨è¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼ˆRTTIï¼‰ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨å¤šæ€ç±»å‹ç³»ç»Ÿä¸­ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span> &#123;<br>    Base* base = <span class="hljs-literal">nullptr</span>;<br>    std::cout &lt;&lt; <span class="hljs-built_in">typeid</span>(*base).<span class="hljs-built_in">name</span>();  <span class="hljs-comment">// å¦‚æœ base æ˜¯ nullptrï¼Œå°†æŠ›å‡º std::bad_typeid</span><br>&#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::bad_typeid&amp; e) &#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Bad typeid: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><hr><h4 id="2-ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»"><a href="#2-ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»" class="headerlink" title="2. ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»"></a>2. <strong>ç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»</strong></h4><p>é™¤äº†æ ‡å‡†åº“æä¾›çš„å¼‚å¸¸ç±»ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®ç¨‹åºçš„éœ€è¦è‡ªå®šä¹‰å¼‚å¸¸ç±»ã€‚è¿™äº›å¼‚å¸¸ç±»å¯ä»¥ä» <code>std::exception</code> æˆ–å…¶ä»–æ ‡å‡†å¼‚å¸¸ç±»ç»§æ‰¿ï¼Œå¹¶æ ¹æ®å…·ä½“éœ€æ±‚å®ç°é”™è¯¯å¤„ç†å’Œä¿¡æ¯ä¼ é€’ã€‚</p><h5 id="è‡ªå®šä¹‰å¼‚å¸¸ç±»ç¤ºä¾‹"><a href="#è‡ªå®šä¹‰å¼‚å¸¸ç±»ç¤ºä¾‹" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸ç±»ç¤ºä¾‹"></a><strong>è‡ªå®šä¹‰å¼‚å¸¸ç±»ç¤ºä¾‹</strong></h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;exception&gt;</span></span><br><br><span class="hljs-comment">// è‡ªå®šä¹‰å¼‚å¸¸ç±»ç»§æ‰¿è‡ª std::exception</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyException</span> : <span class="hljs-keyword">public</span> std::exception &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// é‡å†™ what() æ–¹æ³•ï¼Œè¿”å›è‡ªå®šä¹‰çš„é”™è¯¯ä¿¡æ¯</span><br>    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">what</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;My custom exception occurred!&quot;</span>;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">MyException</span>();  <span class="hljs-comment">// æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸</span><br>    &#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> MyException&amp; e) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Caught exception: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="è‡ªå®šä¹‰å¼‚å¸¸ç±»ä¼ é€’é¢å¤–ä¿¡æ¯"><a href="#è‡ªå®šä¹‰å¼‚å¸¸ç±»ä¼ é€’é¢å¤–ä¿¡æ¯" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸ç±»ä¼ é€’é¢å¤–ä¿¡æ¯"></a><strong>è‡ªå®šä¹‰å¼‚å¸¸ç±»ä¼ é€’é¢å¤–ä¿¡æ¯</strong></h5><p>æœ‰æ—¶éœ€è¦åœ¨å¼‚å¸¸ç±»ä¸­å­˜å‚¨é™„åŠ ä¿¡æ¯ï¼Œæ¯”å¦‚é”™è¯¯ä»£ç æˆ–ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ä¼ é€’è¿™äº›ä¿¡æ¯ï¼Œå¹¶åœ¨ <code>what()</code> ä¸­è¿”å›å®ƒä»¬ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;exception&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DetailedException</span> : <span class="hljs-keyword">public</span> std::exception &#123;<br><span class="hljs-keyword">private</span>:<br>    std::string message;<br>    <span class="hljs-type">int</span> errorCode;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">DetailedException</span>(<span class="hljs-type">const</span> std::string&amp; msg, <span class="hljs-type">int</span> code)<br>        : <span class="hljs-built_in">message</span>(msg), <span class="hljs-built_in">errorCode</span>(code) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">what</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> <span class="hljs-keyword">noexcept</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> message.<span class="hljs-built_in">c_str</span>();  <span class="hljs-comment">// è¿”å›é”™è¯¯ä¿¡æ¯</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getErrorCode</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> errorCode;  <span class="hljs-comment">// è¿”å›é”™è¯¯ç </span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-built_in">DetailedException</span>(<span class="hljs-string">&quot;Something went wrong&quot;</span>, <span class="hljs-number">42</span>);<br>    &#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> DetailedException&amp; e) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Error: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; <span class="hljs-string">&quot;, Code: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">getErrorCode</span>() &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="catch-çš„ç”¨æ³•"><a href="#catch-çš„ç”¨æ³•" class="headerlink" title="catch(...)çš„ç”¨æ³•"></a><code>catch(...)</code>çš„ç”¨æ³•</h3><p>C++ çš„å¼‚å¸¸å¤„ç†é€šå¸¸é€šè¿‡ <code>try-catch</code> è¯­å¥å—æ¥å®ç°ï¼Œ<code>try</code> å—åŒ…å«å¯èƒ½å¼•å‘å¼‚å¸¸çš„ä»£ç ï¼Œè€Œ <code>catch</code> å—å¤„ç†å¼‚å¸¸ã€‚å¯ä»¥æ•è·æŒ‡å®šç±»å‹çš„å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥æ•è·æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸ã€‚</p><ul><li><p><strong>æ•è·ç‰¹å®šå¼‚å¸¸ç±»å‹</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Runtime error&quot;</span>);<br>&#125; <span class="hljs-built_in">catch</span> (<span class="hljs-type">const</span> std::runtime_error&amp; e) &#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Caught runtime error: &quot;</span> &lt;&lt; e.<span class="hljs-built_in">what</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>æ•è·æ‰€æœ‰å¼‚å¸¸</strong>ï¼ˆ<strong>å¿…é¡»ä½œä¸ºæœ€åä¸€ä¸ªå¼‚å¸¸å¤„ç†å™¨</strong>ï¼‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">runtime_error</span>(<span class="hljs-string">&quot;Runtime error&quot;</span>);<br>&#125; <span class="hljs-built_in">catch</span> (...) &#123;  <span class="hljs-comment">// æ•è·æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Caught an unknown exception&quot;</span> &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><blockquote><p><code>catch (...) </code>è¯šç„¶æ˜¯ä¸€ç§å¾ˆå¼ºå¤§çš„å¤„ç†å¼‚å¸¸çš„å·¥å…·ï¼Œä»–ç›¸å½“äºä¸€å¼ å¯†ä¸é€é£çš„è¶…å¼ºå¤§ç½‘å¯ä»¥å…œä½æ‰€æœ‰çš„é”™è¯¯ç±»å‹ï¼Œä½†æ˜¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šç‰ºç‰²äº†ä¸ªæ€§åŒ–ã€‚ï¼ˆä»–å³ä½¿æŠ›å‡ºäº†é”™è¯¯ï¼Œä½ ä¹Ÿä¸çŸ¥é“æŠ›å‡ºçš„é”™è¯¯æ˜¯ä»€ä¹ˆç±»å‹ï¼‰</p></blockquote><ul><li><strong>åªæ•è·ç±»å‹ï¼Œä¸æŒ‡æ˜å¯¹è±¡</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">try</span> &#123;<br>cout &lt;&lt; <span class="hljs-built_in">div</span>(<span class="hljs-number">6</span>, <span class="hljs-number">3</span>) &lt;&lt; endl;<br>cout &lt;&lt; <span class="hljs-built_in">div</span>(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>) &lt;&lt; endl;<br>cout &lt;&lt; <span class="hljs-built_in">div</span>(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>) &lt;&lt; endl;<br>&#125;<br><span class="hljs-built_in">catch</span> (<span class="hljs-type">int</span>) &#123; cout &lt;&lt; <span class="hljs-string">&quot;divide by zero&quot;</span> &lt;&lt; endl; &#125;<br>cout &lt;&lt; <span class="hljs-string">&quot;It&#x27;s Over&quot;</span> &lt;&lt; endl;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Thatâ€˜s it! è¿™å°±æ˜¯C++ä¸­å¼‚å¸¸å¤„ç†çš„åŸºæœ¬çŸ¥è¯†ç‚¹ï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„ç¨‹åºä¸­å°è¯•ä½¿ç”¨è¿™ä¸€ç§å¼‚å¸¸å¤„ç†çš„æœºåˆ¶äº†ã€‚ä¸è¿‡åˆ‡è®°æ¥æ—¶çš„è·¯ï¼š<strong>å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯è®©ç¨‹åºåœ¨ä¸ä¸­æ­¢çš„æƒ…å†µä¸‹å¯¹å¼‚å¸¸æƒ…å†µé€šè¿‡â€œè·³å‡ºâ€”æ•è·â€”å¤„ç†â€çš„è¿‡ç¨‹å¼‚å¸¸å¤„ç†ã€‚</strong>æ‰€ä»¥ï¼Œä¸è¦è®©ä½ çš„ç¨‹åºåˆ°å¤„éƒ½æ˜¯Try-Catchï¼è¿™ä¸€ç‚¹å¯ä»¥åœ¨åç»­çš„ç¼–ç¨‹å®è·µä¸­é€æ­¥å·©å›ºã€‚</p><blockquote><p>The END 2024&#x2F;12&#x2F;15</p></blockquote><div class="note note-info">            <p>ç¬”è€…æ¥ä¸‹æ¥å°†ä¼šå°†é‡ç‚¹æ”¾åœ¨STLå’Œæ•°æ®ç»“æ„çš„ç³»ç»ŸåŒ–æ›´æ–°ä¸­~æœ‰å…³Cppçš„è¯­æ³•åšå®¢å¯èƒ½å°±æš‚æ—¶å‘Šä¸€æ®µè½å•¦ï¼Œä¸è¿‡ä¹‹åä¼šä¸“é—¨æ›´æ–°Cmakeçš„ä½¿ç”¨ï¼Œæ•¬è¯·æœŸå¾…ï¼</p>          </div>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>C++ Primer Plus</tag>
      
      <tag>tutorial</tag>
      
      <tag>Exception Handling</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Code-Reuse-in-OOP</title>
    <link href="/posts/Code-Reuse-in-OOP/"/>
    <url>/posts/Code-Reuse-in-OOP/</url>
    
    <content type="html"><![CDATA[<h1 id="Code-Reuse-in-OOP"><a href="#Code-Reuse-in-OOP" class="headerlink" title="Code Reuse in OOP"></a>Code Reuse in OOP</h1><h1 id="C-Primer-Plus-Tutorial-15"><a href="#C-Primer-Plus-Tutorial-15" class="headerlink" title="C++ Primer Plus Tutorial-15"></a>C++ Primer Plus Tutorial-15</h1><h1 id="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘£"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘£" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘£"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘£</h1><center><p style="color: red;"><b><font size=6.5>Chapter 15 Code Reuse in OOP</font></b></p></center><center><p style="color: red;"><b><font size=6.5>é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä»£ç é‡ç”¨</font></b></p></center><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p><a href="https://xiyuanyang-code.github.io/posts/C-plus-plus-Primer-Plus-tutorial/">C++ Primer Plus Tutorial</a></p><p><a href="https://xiyuanyang-code.github.io/tags/OOP/">ç³»åˆ—æ–‡ç« </a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>C++çš„ä¸€ä¸ªä¸»è¦ç›®æ ‡æ˜¯ä¿ƒè¿›ä»£ç é‡ç”¨ã€‚å…¬æœ‰ç»§æ‰¿æ˜¯å®ç°è¿™ç§ç›®æ ‡çš„æœºåˆ¶ä¹‹ä¸€ï¼Œä½†å¹¶ä¸æ˜¯å”¯ä¸€çš„æœºåˆ¶ã€‚æœ¬ç« å°†ä»‹ç»å…¶ä»–æ–¹æ³•ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯ä½¿ç”¨è¿™æ ·çš„ç±»æˆå‘˜ï¼šæœ¬èº«æ˜¯å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ç§°ä¸º<strong>åŒ…å«ï¼ˆcontainmentï¼‰ã€ç»„åˆï¼ˆcompositionï¼‰æˆ–å±‚æ¬¡åŒ–ï¼ˆlayeringï¼‰</strong>ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç§æœ‰æˆ–ä¿æŠ¤ç»§æ‰¿ã€‚é€šå¸¸ï¼Œ<strong>åŒ…å«ã€ç§æœ‰ç»§æ‰¿å’Œä¿æŠ¤ç»§æ‰¿</strong>ç”¨äºå®ç° <strong>has-a</strong> å…³ç³»ï¼Œå³æ–°çš„ç±»å°†åŒ…å«å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚å¤šé‡ç»§æ‰¿ä½¿å¾—èƒ½å¤Ÿä½¿ç”¨ä¸¤ä¸ªæˆ–æ›´å¤šçš„åŸºç±»æ´¾ç”Ÿå‡ºæ–°çš„ç±»ï¼Œå°†åŸºç±»çš„åŠŸèƒ½ç»„åˆåœ¨ä¸€èµ·ã€‚</p><p>åŒæ—¶ï¼Œæœ¬ç« å°†ä»‹ç»<strong>ç±»æ¨¡æ¿</strong>â€”â€”å¦ä¸€ç§é‡ç”¨ä»£ç çš„æ–¹æ³•ã€‚ç±»æ¨¡æ¿ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨é€šç”¨æœ¯è¯­å®šä¹‰ç±»ï¼Œç„¶åä½¿ç”¨æ¨¡æ¿æ¥åˆ›å»ºé’ˆå¯¹ç‰¹å®šç±»å‹å®šä¹‰çš„ç‰¹æ®Šç±»ã€‚</p><blockquote><p>One of the main goals of C++ is to promote code reuse. Public inheritance is one of the mechanisms to achieve this goal, but not the only one. This chapter will introduce other methods, one of which is to use class members that are themselves objects of another class. This method is called containment, composition, or layering. Another method is to use private or protected inheritance. Generally, containment, private inheritance, and protected inheritance are used to implement the has - a relationship, that is, the new class will contain an object of another class. Multiple inheritance enables new classes to be derived from two or more base classes, combining the functionality of the base classes.</p><p>At the same time, this chapter will introduce class templates - another method of reusing code. Class templates enable us to define classes in general terms and then use the templates to create special classes defined for specific types.</p></blockquote><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul><li>Containment Composition Layering</li><li>Multiple Inheritance</li><li>Class Template</li><li>Friend Class and Friend Functions</li></ul><h2 id="Containment-Composition-Layering"><a href="#Containment-Composition-Layering" class="headerlink" title="Containment Composition Layering"></a>Containment Composition Layering</h2><h3 id="valarray"><a href="#valarray" class="headerlink" title="valarray"></a><code>valarray</code></h3><p><code>valarray</code>è¢«å®šä¹‰ä¸ºä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œèƒ½å¤Ÿå¤„ç†ä¸åŒçš„æ•°æ®ç±»å‹ã€‚</p><p>ä¸‹é¢æ¥çœ‹<code>valarray</code>çš„åŸºæœ¬æ“ä½œï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;valarray&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-function">valarray&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">list</span><span class="hljs-params">(<span class="hljs-number">10</span>,<span class="hljs-number">8</span>)</span></span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:list)&#123;<br>        cout&lt;&lt;num&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š8ä¸ª10</p><p><code>valarray</code>çš„åŸºæœ¬ä½¿ç”¨å’Œæ•°ç»„å®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¯<code>valarray</code>åœ¨æ•°å€¼è®¡ç®—æ–¹é¢å…·æœ‰æ›´å¤§çš„ä¼˜åŠ¿ã€‚</p><div class="note note-info">            <ol><li>æ„é€ å‡½æ•°<ul><li><strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼šå¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºçš„<code>valarray</code>ã€‚ä¾‹å¦‚<code>std::valarray&lt;int&gt; va;</code>ï¼Œè¿™æ ·å°±åˆ›å»ºäº†ä¸€ä¸ªç©ºçš„<code>valarray</code>ï¼Œå…¶ä¸­å…ƒç´ ç±»å‹ä¸º<code>int</code>ã€‚</li><li><strong>å¤§å°æŒ‡å®šæ„é€ å‡½æ•°</strong>ï¼šå¯ä»¥æŒ‡å®š<code>valarray</code>çš„å¤§å°å’Œåˆå§‹å€¼ã€‚ä¾‹å¦‚<code>std::valarray&lt;double&gt; va1(10, 3.14);</code>ï¼Œè¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªåŒ…å« 10 ä¸ªå…ƒç´ çš„<code>valarray</code>ï¼Œæ¯ä¸ªå…ƒç´ åˆå§‹å€¼ä¸º 3.14ã€‚</li><li><strong>æ‹·è´æ„é€ å‡½æ•°</strong>ï¼šç”¨äºä»å¦ä¸€ä¸ª<code>valarray</code>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>valarray</code>ã€‚ä¾‹å¦‚<code>std::valarray&lt;int&gt; va2(va1);</code>ï¼Œè¿™é‡Œ<code>va2</code>æ˜¯<code>va1</code>çš„ä¸€ä¸ªæ‹·è´ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„å…ƒç´ ä¸ªæ•°å’Œå¯¹åº”ä½ç½®ç›¸åŒçš„å…ƒç´ ã€‚</li><li><strong>åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°</strong>ï¼šå¯ä»¥ä½¿ç”¨èŠ±æ‹¬å·åˆå§‹åŒ–åˆ—è¡¨æ¥åˆ›å»º<code>valarray</code>ã€‚ä¾‹å¦‚<code>std::valarray&lt;int&gt; va3 = {1, 2, 3, 4, 5};</code>ï¼Œè¿™ç§æ–¹å¼æ–¹ä¾¿å¿«æ·åœ°åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ª<code>valarray</code>ã€‚</li></ul></li><li>å…ƒç´ è®¿é—®æ–¹æ³•<ul><li><strong><code>[]</code>æ“ä½œç¬¦</strong>ï¼šç”¨äºè®¿é—®<code>valarray</code>ä¸­çš„å•ä¸ªå…ƒç´ ã€‚ä¾‹å¦‚ï¼š</li></ul></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::valarray&lt;<span class="hljs-type">int</span>&gt; va = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br><span class="hljs-type">int</span> element = va[<span class="hljs-number">2</span>];  <span class="hljs-comment">// è®¿é—®ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œelementçš„å€¼ä¸º3</span><br></code></pre></td></tr></table></figure><ul><li><strong><code>size()</code>æ–¹æ³•</strong>ï¼šè¿”å›<code>valarray</code>ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::valarray&lt;<span class="hljs-type">double</span>&gt; <span class="hljs-title">va1</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">3.14</span>)</span></span>;<br>std::cout &lt;&lt; va<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º10</span><br></code></pre></td></tr></table></figure><ol><li>æ•°å­¦è¿ç®—æ–¹æ³•<ul><li>ç®—æœ¯è¿ç®—ç¬¦é‡è½½<ul><li><strong>åŠ æ³•</strong>ï¼šå¯ä»¥å°†ä¸¤ä¸ª<code>valarray</code>ç›¸åŠ ï¼Œæˆ–è€…å°†ä¸€ä¸ª<code>valarray</code>ä¸ä¸€ä¸ªæ ‡é‡ç›¸åŠ ã€‚ä¾‹å¦‚ï¼š</li></ul></li></ul></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::valarray&lt;<span class="hljs-type">int</span>&gt; va1 = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;;<br>std::valarray&lt;<span class="hljs-type">int</span>&gt; va2 = &#123;<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;;<br>std::valarray&lt;<span class="hljs-type">int</span>&gt; result1 = va1 + va2;  <span class="hljs-comment">// å¯¹åº”å…ƒç´ ç›¸åŠ ï¼Œresult1ä¸º&#123;5, 7, 9&#125;</span><br>std::valarray&lt;<span class="hljs-type">int</span>&gt; result2 = va1 + <span class="hljs-number">2</span>;    <span class="hljs-comment">// æ¯ä¸ªå…ƒç´ åŠ 2ï¼Œresult2ä¸º&#123;3, 4, 5&#125;</span><br></code></pre></td></tr></table></figure><ul><li>å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•ç­‰è¿ç®—ä¸ä¹‹ç±»ä¼¼<ul><li>å‡æ³•ï¼š<code>std::valarray&lt;int&gt; result3 = va2 - va1;</code>ï¼ˆå¯¹åº”å…ƒç´ ç›¸å‡ï¼‰</li><li>ä¹˜æ³•ï¼š<code>std::valarray&lt;int&gt; result4 = va1 * 3;</code>ï¼ˆæ¯ä¸ªå…ƒç´ ä¹˜ä»¥ 3ï¼‰</li><li>é™¤æ³•ï¼š<code>std::valarray&lt;double&gt; va3 = {4.0, 8.0, 12.0};</code>ï¼Œ<code>std::valarray&lt;double&gt; result5 = va3 / 2.0;</code>ï¼ˆæ¯ä¸ªå…ƒç´ é™¤ä»¥ 2.0ï¼‰</li></ul></li><li>æ•°å­¦å‡½æ•°åº”ç”¨<ul><li><strong><code>std::pow</code>å‡½æ•°</strong>ï¼šç”¨äºè®¡ç®—<code>valarray</code>ä¸­æ¯ä¸ªå…ƒç´ çš„å¹‚ã€‚ä¾‹å¦‚</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::valarray&lt;<span class="hljs-type">int</span>&gt; va = &#123;<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;;<br>std::valarray&lt;<span class="hljs-type">int</span>&gt; result = std::<span class="hljs-built_in">pow</span>(va, <span class="hljs-number">2</span>);  <span class="hljs-comment">// è®¡ç®—æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹ï¼Œresultä¸º&#123;4, 9, 16&#125;</span><br></code></pre></td></tr></table></figure><ul><li><code>std::sin</code>ã€<code>std::cos</code>ç­‰ä¸‰è§’å‡½æ•°ä¹Ÿå¯ä»¥åº”ç”¨äº<code>valarray</code>å…ƒç´ <ul><li>ä¾‹å¦‚<code>std::valarray&lt;double&gt; va1 = {0.0, 3.14159 / 2.0, 3.14159};</code>ï¼Œ<code>std::valarray&lt;double&gt; sin_result = std::sin(va1);</code>ï¼Œä¼šåˆ†åˆ«è®¡ç®—<code>va1</code>ä¸­æ¯ä¸ªå…ƒç´ çš„æ­£å¼¦å€¼ã€‚</li></ul></li></ul><ol><li>åˆ‡ç‰‡æ“ä½œï¼ˆ<code>slice</code>ï¼‰ç›¸å…³æ–¹æ³•<ul><li><strong><code>valarray</code>æ”¯æŒåˆ‡ç‰‡æ“ä½œ</strong>ï¼šå¯ä»¥é€šè¿‡å®šä¹‰<code>slice</code>å¯¹è±¡æ¥æå–<code>valarray</code>ä¸­çš„ä¸€éƒ¨åˆ†å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</li></ul></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::valarray&lt;<span class="hljs-type">int</span>&gt; va = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>&#125;;<br><span class="hljs-function">std::slice <span class="hljs-title">s</span><span class="hljs-params">(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>)</span></span>;  <span class="hljs-comment">// ä»ç´¢å¼•2å¼€å§‹ï¼Œé•¿åº¦ä¸º4ï¼Œæ­¥é•¿ä¸º2çš„åˆ‡ç‰‡</span><br>std::valarray&lt;<span class="hljs-type">int</span>&gt; sliced_va = va[s];  <span class="hljs-comment">// sliced_vaä¸º&#123;3, 5, 7, 9&#125;</span><br></code></pre></td></tr></table></figure><ul><li><strong><code>cshift</code>æ–¹æ³•ï¼ˆå¾ªç¯ç§»ä½ï¼‰</strong>ï¼šå¯ä»¥å¯¹<code>valarray</code>ä¸­çš„å…ƒç´ è¿›è¡Œå¾ªç¯ç§»ä½æ“ä½œã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::valarray&lt;<span class="hljs-type">int</span>&gt; va = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br>std::valarray&lt;<span class="hljs-type">int</span>&gt; shifted_va = va.<span class="hljs-built_in">cshift</span>(<span class="hljs-number">2</span>);  <span class="hljs-comment">// å…ƒç´ å‘å³å¾ªç¯ç§»2ä½ï¼Œshifted_vaä¸º&#123;4, 5, 1, 2, 3&#125;</span><br></code></pre></td></tr></table></figure>          </div><h3 id="å¦‚ä½•æ“ä½œhas-aå…³ç³»ï¼Ÿ"><a href="#å¦‚ä½•æ“ä½œhas-aå…³ç³»ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ“ä½œhas-aå…³ç³»ï¼Ÿ"></a>å¦‚ä½•æ“ä½œ<code>has-a</code>å…³ç³»ï¼Ÿ</h3><p>å…¬æœ‰ç»§æ‰¿æ¯”è¾ƒé€‚åˆçš„æ˜¯<code>is-a-king-of</code>å…³ç³»çš„å»ºç«‹ï¼Œå³æ„å»ºä¸€ç§<strong>ç§ç±»ä¸Šå­é›†</strong>çš„å…³ç³»ã€‚é‚£å¦‚æœæ˜¯æ˜¯ä¸€ç§<strong>has-a</strong>å…³ç³»å‘¢ï¼Ÿä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬ç°åœ¨åˆ<strong>string</strong>ç±»ï¼ˆå§“åï¼‰å’Œ<strong>valarry</strong>ç±»ï¼ˆåˆ†æ•°ï¼‰ä¸¤ä¸ªåº•å±‚çš„åŸºç±»ï¼Œæˆ‘æƒ³ä»è¿™ä¸¤ä¸ªåŸºç±»æ´¾ç”Ÿå‡ºæˆ‘çš„<strong>studentç±»</strong>ï¼ˆæ¯ä¸ªå­¦ç”Ÿéƒ½æœ‰è‡ªå·±çš„å§“åå’Œåˆ†æ•°ï¼‰ã€‚</p><p>å¦‚æœä½¿ç”¨<strong>å…¬æœ‰ç»§æ‰¿</strong>ï¼ˆåœ¨è¿™é‡Œæ˜¯å¤šé‡å…¬æœ‰ç»§æ‰¿ï¼‰ï¼Œæ˜¾ç„¶ä¸åˆé€‚ã€‚å› ä¸ºå­¦ç”Ÿå’Œå§“åä¸å±äºåŒç±»äº‹ç‰©ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨<strong>åŒ…å«ï¼ˆcontainmentï¼‰</strong>çš„æŠ€æœ¯æ¥æ„å»ºä¸€ç§<strong>has-a</strong>å…³ç³»ï¼Œå³<strong>åˆ›å»ºä¸€ä¸ªåŒ…å«å…¶ä»–ç±»å¯¹è±¡çš„ç±»</strong>ã€‚</p><p>ä¸‹æ–‡ç»™å‡º<code>student</code>ç±»çš„ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// studentc.h -- defining a Student class using containment</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> STUDENTC_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STUDENTC_H_</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span>   </span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;valarray&gt;</span></span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span><br>&#123;   <br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">typedef</span> std::valarray&lt;<span class="hljs-type">double</span>&gt; ArrayDb;<br>    std::string name;       <span class="hljs-comment">// contained object</span><br>    ArrayDb scores;         <span class="hljs-comment">// contained object</span><br>    <span class="hljs-comment">// private method for scores output</span><br>    <span class="hljs-function">std::ostream &amp; <span class="hljs-title">arr_out</span><span class="hljs-params">(std::ostream &amp; os)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Student</span>() : <span class="hljs-built_in">name</span>(<span class="hljs-string">&quot;Null Student&quot;</span>), <span class="hljs-built_in">scores</span>() &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Student</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string &amp; s)</span></span><br><span class="hljs-function">        : name(s), scores() &#123;</span>&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Student</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> : name(<span class="hljs-string">&quot;Nully&quot;</span>), scores(n) &#123;</span>&#125;<br>    <span class="hljs-built_in">Student</span>(<span class="hljs-type">const</span> std::string &amp; s, <span class="hljs-type">int</span> n)<br>        : <span class="hljs-built_in">name</span>(s), <span class="hljs-built_in">scores</span>(n) &#123;&#125;<br>    <span class="hljs-built_in">Student</span>(<span class="hljs-type">const</span> std::string &amp; s, <span class="hljs-type">const</span> ArrayDb &amp; a)<br>        : <span class="hljs-built_in">name</span>(s), <span class="hljs-built_in">scores</span>(a) &#123;&#125;<br>    <span class="hljs-built_in">Student</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * str, <span class="hljs-type">const</span> <span class="hljs-type">double</span> * pd, <span class="hljs-type">int</span> n)<br>        : <span class="hljs-built_in">name</span>(str), <span class="hljs-built_in">scores</span>(pd, n) &#123;&#125;<br>    ~<span class="hljs-built_in">Student</span>() &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Average</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">const</span> std::string &amp; <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-type">double</span> &amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i);<br>    <span class="hljs-type">double</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span>;<br><span class="hljs-comment">// friends</span><br>    <span class="hljs-comment">// input</span><br>    <span class="hljs-keyword">friend</span> std::istream &amp; <span class="hljs-keyword">operator</span>&gt;&gt;(std::istream &amp; is,<br>                                     Student &amp; stu);  <span class="hljs-comment">// 1 word</span><br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> std::istream &amp; <span class="hljs-title">getline</span><span class="hljs-params">(std::istream &amp; is,</span></span><br><span class="hljs-params"><span class="hljs-function">                                  Student &amp; stu)</span></span>;     <span class="hljs-comment">// 1 line</span><br>    <span class="hljs-comment">// output</span><br>    <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os,<br>                                     <span class="hljs-type">const</span> Student &amp; stu);<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><blockquote><p>å¤ä¹ ä¸€ä¸‹ï¼š<code>explicit</code>å…³é”®è¯å¯ä»¥é¿å…ç¼–è¯‘å™¨è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒStudentç±»çš„æˆå‘˜å‡½å¯ä»¥ä½¿ç”¨stringç±»çš„å…±ç”¨æ¥å£æ¥ä¿®æ”¹å’Œè®¿é—®nameå¯¹è±¡ï¼Œä½†æ˜¯åœ¨ç±»çš„å¤–éƒ¨åªèƒ½é€šè¿‡Studentç±»çš„æˆå‘˜å‡½æ•°å¯¹ç§æœ‰æ•°æ®è¿›è¡Œè®¿é—®ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œåœ¨has-aå…³ç³»çš„ç»§æ‰¿ä¸­ï¼Œ<strong>ç±»å¯¹è±¡ä¸èƒ½è‡ªåŠ¨è·å¾—è¢«åŒ…å«å¯¹è±¡çš„æ¥å£ï¼Œè€Œåº”è¯¥é€šè¿‡å®šä¹‰æˆå‘˜å‡½æ•°æ¥å®ç°ã€‚</strong>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨stringç±»ä¸­é‡è½½äº†åŠ æ³•è¿ç®—ç¬¦ç”¨äºå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼Œä½†æ˜¯studentç±»ç»§æ‰¿è¿™ç§æ–¹æ³•æ˜¯æ²¡æœ‰ä»»ä½•æ„ä¹‰çš„ï¼ˆä½ ä¸å¯ä»¥æŠŠä¸¤ä¸ªå­¦ç”Ÿæ‹¼åœ¨ä¸€èµ·ï¼‰ã€‚</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// studentc.cpp -- Student class using containment</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;studentc.h&quot;</span></span><br><span class="hljs-keyword">using</span> std::ostream;<br><span class="hljs-keyword">using</span> std::endl;<br><span class="hljs-keyword">using</span> std::istream;<br><span class="hljs-keyword">using</span> std::string;<br><br><span class="hljs-comment">//public methods</span><br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Student::Average</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (scores.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> scores.<span class="hljs-built_in">sum</span>()/scores.<span class="hljs-built_in">size</span>();  <br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">const</span> string &amp; <span class="hljs-title">Student::Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> name;<br>&#125;<br><br><span class="hljs-type">double</span> &amp; Student::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i)<br>&#123;<br>    <span class="hljs-keyword">return</span> scores[i];         <span class="hljs-comment">// use valarray&lt;double&gt;::operator[]()</span><br>&#125;<br><br><span class="hljs-type">double</span> Student::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">return</span> scores[i];<br>&#125;<br><br><span class="hljs-comment">// private method</span><br><span class="hljs-function">ostream &amp; <span class="hljs-title">Student::arr_out</span><span class="hljs-params">(ostream &amp; os)</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">int</span> lim = scores.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">if</span> (lim &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; lim; i++)<br>        &#123;<br>            os &lt;&lt; scores[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">5</span> == <span class="hljs-number">4</span>)<br>                os &lt;&lt; endl;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (i % <span class="hljs-number">5</span> != <span class="hljs-number">0</span>)<br>            os &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        os &lt;&lt; <span class="hljs-string">&quot; empty array &quot;</span>;<br>    <span class="hljs-keyword">return</span> os; <br>&#125;<br><br><span class="hljs-comment">// friends</span><br><br><span class="hljs-comment">// use string version of operator&gt;&gt;()</span><br>istream &amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream &amp; is, Student &amp; stu)<br>&#123;<br>    is &gt;&gt; stu.name;<br>    <span class="hljs-keyword">return</span> is; <br>&#125;<br><br><span class="hljs-comment">// use string friend getline(ostream &amp;, const string &amp;)</span><br><span class="hljs-function">istream &amp; <span class="hljs-title">getline</span><span class="hljs-params">(istream &amp; is, Student &amp; stu)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">getline</span>(is, stu.name);<br>    <span class="hljs-keyword">return</span> is;<br>&#125;<br><br><span class="hljs-comment">// use string version of operator&lt;&lt;()</span><br>ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream &amp; os, <span class="hljs-type">const</span> Student &amp; stu)<br>&#123;<br>    os &lt;&lt; <span class="hljs-string">&quot;Scores for &quot;</span> &lt;&lt; stu.name &lt;&lt; <span class="hljs-string">&quot;:\n&quot;</span>;<br>    stu.<span class="hljs-built_in">arr_out</span>(os);  <span class="hljs-comment">// use private method for scores</span><br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ç§æœ‰ç»§æ‰¿ä¸ä¿æŠ¤ç»§æ‰¿ï¼ˆAdditionalï¼‰"><a href="#ç§æœ‰ç»§æ‰¿ä¸ä¿æŠ¤ç»§æ‰¿ï¼ˆAdditionalï¼‰" class="headerlink" title="ç§æœ‰ç»§æ‰¿ä¸ä¿æŠ¤ç»§æ‰¿ï¼ˆAdditionalï¼‰"></a>ç§æœ‰ç»§æ‰¿ä¸ä¿æŠ¤ç»§æ‰¿ï¼ˆAdditionalï¼‰</h3><p>åœ¨C++ä¸­ï¼Œ<strong>ç§æœ‰ç»§æ‰¿</strong>ä¹Ÿæ˜¯å®ç°<strong>has-a</strong>å…³ç³»çš„é‡è¦å®ç°æ–¹å¼ä¹‹ä¸€ï¼Œåœ¨è¿™é‡Œä¸å†å±•å¼€æ¶‰åŠå…·ä½“çš„ç»†èŠ‚ï¼ˆæ¯•ç«Ÿç¬¬ä¸€ç§æ–¹æ³•å·²ç»å¤Ÿç”¨äº†ï¼Œä¸æ˜¯å—ï¼‰ï¼Œåªç»™å‡ºå¤´æ–‡ä»¶çš„è¯­æ³•è§„èŒƒç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// studenti.h -- defining a Student class using private inheritance</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> STUDENTC_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STUDENTC_H_</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;valarray&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span>   </span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> : <span class="hljs-keyword">private</span> std::string, <span class="hljs-keyword">private</span> std::valarray&lt;<span class="hljs-type">double</span>&gt;<br>&#123;   <br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">typedef</span> std::valarray&lt;<span class="hljs-type">double</span>&gt; ArrayDb;<br>    <span class="hljs-comment">// private method for scores output</span><br>    <span class="hljs-function">std::ostream &amp; <span class="hljs-title">arr_out</span><span class="hljs-params">(std::ostream &amp; os)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Student</span>() : std::<span class="hljs-built_in">string</span>(<span class="hljs-string">&quot;Null Student&quot;</span>), <span class="hljs-built_in">ArrayDb</span>() &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Student</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string &amp; s)</span></span><br><span class="hljs-function">            : std::string(s), ArrayDb() &#123;</span>&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Student</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> : std::string(<span class="hljs-string">&quot;Nully&quot;</span>), ArrayDb(n) &#123;</span>&#125;<br>    <span class="hljs-built_in">Student</span>(<span class="hljs-type">const</span> std::string &amp; s, <span class="hljs-type">int</span> n)<br>            : std::<span class="hljs-built_in">string</span>(s), <span class="hljs-built_in">ArrayDb</span>(n) &#123;&#125;<br>    <span class="hljs-built_in">Student</span>(<span class="hljs-type">const</span> std::string &amp; s, <span class="hljs-type">const</span> ArrayDb &amp; a)<br>            : std::<span class="hljs-built_in">string</span>(s), <span class="hljs-built_in">ArrayDb</span>(a) &#123;&#125;<br>    <span class="hljs-built_in">Student</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * str, <span class="hljs-type">const</span> <span class="hljs-type">double</span> * pd, <span class="hljs-type">int</span> n)<br>            : std::<span class="hljs-built_in">string</span>(str), <span class="hljs-built_in">ArrayDb</span>(pd, n) &#123;&#125;<br>    ~<span class="hljs-built_in">Student</span>() &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Average</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-type">double</span> &amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i);<br>    <span class="hljs-type">double</span> <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span>;<br>    <span class="hljs-function"><span class="hljs-type">const</span> std::string &amp; <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-comment">// friends</span><br>    <span class="hljs-comment">// input</span><br>    <span class="hljs-keyword">friend</span> std::istream &amp; <span class="hljs-keyword">operator</span>&gt;&gt;(std::istream &amp; is,<br>                                     Student &amp; stu);  <span class="hljs-comment">// 1 word</span><br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> std::istream &amp; <span class="hljs-title">getline</span><span class="hljs-params">(std::istream &amp; is,</span></span><br><span class="hljs-params"><span class="hljs-function">                                  Student &amp; stu)</span></span>;     <span class="hljs-comment">// 1 line</span><br>    <span class="hljs-comment">// output</span><br>    <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os,<br>                                     <span class="hljs-type">const</span> Student &amp; stu);<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><h2 id="Multiple-Inheritance"><a href="#Multiple-Inheritance" class="headerlink" title="Multiple Inheritance"></a>Multiple Inheritance</h2><p>ä»å•ç»§æ‰¿ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çš„æ¨ç†å‡ºå¤šé‡ç»§æ‰¿ï¼ˆMultiple Inheritanceï¼‰ï¼Œç®€ç§°MIã€‚</p><p><img src="/posts/Code-Reuse-in-OOP/MI.png" alt="Multiple Inheritance"></p><div class="note note-danger">            <p><strong>æ³¨æ„ï¼ï¼ï¼å¤šé‡ç»§æ‰¿åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¤§å¤§æé«˜äº†ç»§æ‰¿çš„å¤æ‚æ€§ï¼ä¸€å®šè¦æ…ç”¨ï¼ï¼ˆç¬”è€…å»ºè®®èƒ½ä½¿ç”¨å•ç»§æ‰¿å°±ä½¿ç”¨å•ç»§æ‰¿ï¼‰</strong></p>          </div><div class="note note-info">            <h3 id="å°æ•…äº‹ï¼šé’»çŸ³é—®é¢˜"><a href="#å°æ•…äº‹ï¼šé’»çŸ³é—®é¢˜" class="headerlink" title="å°æ•…äº‹ï¼šé’»çŸ³é—®é¢˜"></a>å°æ•…äº‹ï¼šé’»çŸ³é—®é¢˜</h3><p>é’»çŸ³é—®é¢˜ï¼ˆDiamond Problemï¼‰æ˜¯å¤šé‡ç»§æ‰¿ä¸­çš„ä¸€ä¸ªç»å…¸é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ä¸­ã€‚è¿™ä¸ªé—®é¢˜å‘ç”Ÿåœ¨ä¸€ä¸ªç±»ç»§æ‰¿è‡ªä¸¤ä¸ªæˆ–æ›´å¤šæœ‰å…±åŒçˆ¶ç±»çš„ç±»æ—¶ï¼Œå¯¼è‡´ç»§æ‰¿ç»“æ„ä¸­äº§ç”ŸäºŒä¹‰æ€§å’Œä¸æ˜ç¡®çš„ç»§æ‰¿è·¯å¾„ã€‚å®ƒçš„åå­—æ¥æºäºç»§æ‰¿å…³ç³»å›¾å½¢çš„å½¢çŠ¶ï¼Œé€šå¸¸å‘ˆç°ä¸€ä¸ªé’»çŸ³å½¢çŠ¶ã€‚</p><p><strong>é’»çŸ³é—®é¢˜çš„ä¾‹å­</strong>ï¼š</p><p>å‡è®¾æœ‰ä¸€ä¸ªç±» <code>A</code>ï¼Œå®ƒæ˜¯ä¸¤ä¸ªç±» <code>B</code> å’Œ <code>C</code> çš„çˆ¶ç±»ï¼Œè€Œ <code>B</code> å’Œ <code>C</code> åˆè¢«ä¸€ä¸ªç±» <code>D</code> ç»§æ‰¿ã€‚ç»§æ‰¿å…³ç³»å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªé’»çŸ³å½¢çŠ¶ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Css">  <span class="hljs-selector-tag">A</span><br> / \<br><span class="hljs-selector-tag">B</span>   C<br> \ /<br>  D<br></code></pre></td></tr></table></figure><p><strong>é—®é¢˜çš„å…·ä½“æƒ…å†µ</strong>ï¼š</p><p>åœ¨è¿™ä¸ªç»§æ‰¿å…³ç³»ä¸­ï¼Œç±» <code>B</code> å’Œç±» <code>C</code> éƒ½ç»§æ‰¿äº†ç±» <code>A</code>ï¼Œå¹¶ä¸”ç±» <code>D</code> åŒæ—¶ç»§æ‰¿äº† <code>B</code> å’Œ <code>C</code>ã€‚å‡è®¾ç±» <code>A</code> ä¸­æœ‰ä¸€ä¸ªæˆå‘˜å‡½æ•° <code>foo()</code>ï¼Œè€Œç±» <code>B</code> å’Œç±» <code>C</code> éƒ½æ²¡æœ‰è¦†ç›–ï¼ˆoverrideï¼‰è¯¥å‡½æ•°ã€‚é‚£ä¹ˆï¼Œç±» <code>D</code> åœ¨ç»§æ‰¿æ—¶ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li><strong>äºŒä¹‰æ€§</strong>ï¼šç±» <code>D</code> ç»§æ‰¿äº† <code>B</code> å’Œ <code>C</code>ï¼Œå®ƒåŒæ—¶ä¼šç»§æ‰¿æ¥è‡ª <code>A</code> çš„ <code>foo()</code> å‡½æ•°ã€‚ä½†æ˜¯ï¼Œå½“ä½ å°è¯•è°ƒç”¨ <code>foo()</code> æ—¶ï¼Œç¼–è¯‘å™¨æ— æ³•ç¡®å®šåº”è¯¥è°ƒç”¨ <code>B</code> ä¸­çš„ <code>foo()</code>ï¼Œè¿˜æ˜¯ <code>C</code> ä¸­çš„ <code>foo()</code>ï¼ˆå‡è®¾ <code>B</code> å’Œ <code>C</code> éƒ½æ²¡æœ‰è¦†ç›–è¿™ä¸ªå‡½æ•°ï¼‰ã€‚å¦‚æœ <code>B</code> å’Œ <code>C</code> éƒ½æ²¡æœ‰ <code>foo()</code>ï¼Œé‚£ä¹ˆ <code>D</code> ä¹Ÿä¼šå¾—åˆ°äºŒä¹‰æ€§é”™è¯¯ã€‚</li><li><strong>é‡å¤ç»§æ‰¿</strong>ï¼šç”±äº <code>B</code> å’Œ <code>C</code> éƒ½ç»§æ‰¿è‡ª <code>A</code>ï¼Œåœ¨ç±» <code>D</code> ä¸­å¯èƒ½ä¼šåŒ…å« <code>A</code> çš„å¤šä¸ªå‰¯æœ¬ï¼Œå¯¼è‡´åŒä¸€ä¸ªåŸºç±»æˆå‘˜è¢«å¤šæ¬¡ç»§æ‰¿ï¼Œè¿™ç§å†—ä½™çš„ç»§æ‰¿å¯èƒ½ä¼šå¯¼è‡´ä¸å¿…è¦çš„èµ„æºæµªè´¹å’Œä»£ç æ··ä¹±ã€‚</li></ul><blockquote><p>å®é™…ä¸Šï¼ŒC++ å¼•å…¥äº† <strong>è™šæ‹Ÿç»§æ‰¿ï¼ˆVirtual Inheritanceï¼‰</strong> æ¥è§£å†³é’»çŸ³é—®é¢˜ã€‚è™šæ‹Ÿç»§æ‰¿å¯ä»¥ç¡®ä¿åœ¨å¤šé‡ç»§æ‰¿æ—¶ï¼Œ<code>A</code> ç±»çš„å­å¯¹è±¡åªä¼šè¢«ç»§æ‰¿ä¸€æ¬¡ã€‚</p></blockquote>          </div><h2 id="Class-Template"><a href="#Class-Template" class="headerlink" title="Class Template"></a>Class Template</h2><p>é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æä¾›äº†ä¸€ç§ç§°ä¸º<strong>æ³›å‹ç¨‹åºè®¾è®¡</strong>çš„æœºåˆ¶ï¼Œå³å…è®¸å°†ç±»ä¸­æˆå‘˜çš„ç±»å‹è®¾ç½®ä¸ºä¸€ä¸ªå¯å˜çš„å‚æ•°ï¼Œä½¿å¤šä¸ªç±»å˜æˆä¸€ä¸ªç±»ã€‚æ³›å‹ç¨‹åºè®¾è®¡å¯ä»¥ä»¥ç‹¬ç«‹äºä»»ä½•ç‰¹å®šç±»å‹çš„æ–¹å¼ç¼–å†™ä»£ç ã€‚ä½¿ç”¨æ³›å‹ç¨‹åºæ—¶ï¼Œå¿…é¡»æä¾›å…·ä½“æ‰€æ“ä½œçš„ç±»å‹æˆ–å€¼ã€‚ç¬¬ 5 ç« ä»‹ç»çš„<strong>å‡½æ•°æ¨¡æ¿</strong>å°±æ˜¯æ³›å‹æœºåˆ¶çš„ä¸€ç§å®ç°æ–¹æ³•ï¼Œæœ¬ç« å°†ä»‹ç»<strong>ç±»æ¨¡æ¿</strong>ï¼Œå³<strong>ç”¨æ³›å‹æœºåˆ¶è®¾è®¡çš„ç±»</strong>ã€‚  </p><p>åœ¨å‡½æ•°ç« èŠ‚ï¼Œæˆ‘ä»¬å­¦ä¹ äº†æ¨¡ç‰ˆå‡½æ•°ï¼Œå®ç°äº†ä¸€ä¸ªæ¨¡ç‰ˆåœ¨å¤šä¸ªä¸åŒæ•°æ®ç±»å‹ä¹‹é—´çš„é€šç”¨ï¼Œå¤§å¤§æé«˜äº†ä»£ç é‡ç”¨çš„æ•ˆç‡ã€‚åœ¨ç±»çš„å®šä¹‰ä¸­åŒæ ·ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ¨¡æ¿æä¾›<strong>å‚æ•°åŒ–ï¼ˆparameterizedï¼‰ç±»å‹</strong>ï¼Œå³èƒ½å¤Ÿå°†ç±»å‹åä½œä¸ºå‚æ•°ä¼ é€’ç»™æ¥æ”¶æ–¹æ¥å»ºç«‹ç±»æˆ–å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå°†ç±»å‹å <code>int</code> ä¼ é€’ç»™ <code>Queue</code> æ¨¡æ¿ï¼Œå¯ä»¥è®©ç¼–è¯‘å™¨æ„é€ ä¸€ä¸ªå¯¹ int è¿›è¡Œæ’é˜Ÿçš„ <code>Queue</code> ç±»ã€‚  </p><p>åœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­ï¼Œæˆ‘ä»¬å°†ä»¥éå¸¸é‡è¦çš„æ•°æ®ç»“æ„â€”â€”<strong>æ ˆï¼ˆStackï¼‰</strong>ä¸ºç¤ºä¾‹ï¼Œå‘è¯»è€…æ¼”ç¤ºæ¨¡æ¿ç±»çš„å¼ºå¤§ä¹‹å¤„ã€‚</p><h3 id="The-Implementation-of-Stack"><a href="#The-Implementation-of-Stack" class="headerlink" title="The Implementation of Stack"></a>The Implementation of Stack</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// stack.h -- class definition for the stack ADT</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> STACK_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STACK_H_</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> Item;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">enum</span> &#123;MAX = <span class="hljs-number">10</span>&#125;;    <span class="hljs-comment">// constant specific to class</span><br>    Item items[MAX];    <span class="hljs-comment">// holds stack items</span><br>    <span class="hljs-type">int</span> top;            <span class="hljs-comment">// index for top stack item</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Stack</span>();<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isempty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isfull</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-comment">// push() returns false if stack already is full, true otherwise</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> Item &amp; item)</span></span>;   <span class="hljs-comment">// add item to stack</span><br>    <span class="hljs-comment">// pop() returns false if stack already is empty, true otherwise</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">pop</span><span class="hljs-params">(Item &amp; item)</span></span>;          <span class="hljs-comment">// pop top into item</span><br>&#125;;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br><br><span class="hljs-comment">// stack.cpp -- Stack member functions</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;stack.h&quot;</span></span><br>Stack::<span class="hljs-built_in">Stack</span>()    <span class="hljs-comment">// create an empty stack</span><br>&#123;<br>    top = <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Stack::isempty</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> top == <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Stack::isfull</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> top == MAX;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Stack::push</span><span class="hljs-params">(<span class="hljs-type">const</span> Item &amp; item)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (top &lt; MAX)<br>    &#123;<br>        items[top++] = item;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Stack::pop</span><span class="hljs-params">(Item &amp; item)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (top &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        item = items[--top];<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>åœ¨ç¬¬åç« ä¹¦ä¸­ç»™å‡ºäº†é’ˆå¯¹<code>unsigned long</code>ç±»å‹çš„æ ˆæ•°æ®ç»“æ„ç¤ºä¾‹ï¼Œæ­¤å¤„ä¸å†è§£é‡Šå…·ä½“ä»£ç çš„å«ä¹‰ã€‚</p></blockquote><h3 id="The-Definition"><a href="#The-Definition" class="headerlink" title="The Definition"></a>The Definition</h3><p>æˆ‘ä»¬å…ˆç»™å‡ºæ¨¡æ¿ç±»çš„å¤´æ–‡ä»¶å£°æ˜ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œæ¯”è¾ƒæœ‰å“ªè¾¹è¿›è¡Œäº†ä¿®æ”¹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Stack</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">enum</span> &#123;SIZE = <span class="hljs-number">10</span>&#125;;    <span class="hljs-comment">// default size</span><br>    <span class="hljs-type">int</span> stacksize;<br>    Type * items;       <span class="hljs-comment">// holds stack items</span><br>    <span class="hljs-comment">//åœ¨è¿™é‡Œä¼˜åŒ–ä¸ºäº†æŒ‡é’ˆï¼Œæ›´åŠ çš„é«˜æ•ˆï¼ˆç›¸æ¯”ä½¿ç”¨æ•°ç»„å­˜å‚¨ï¼‰</span><br>    <span class="hljs-type">int</span> top;            <span class="hljs-comment">// index for top stack item</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Stack</span><span class="hljs-params">(<span class="hljs-type">int</span> ss = SIZE)</span></span>;<br>    <span class="hljs-built_in">Stack</span>(<span class="hljs-type">const</span> Stack &amp; st);<br>    ~<span class="hljs-built_in">Stack</span>() &#123; <span class="hljs-keyword">delete</span> [] items; &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isempty</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> top == <span class="hljs-number">0</span>; &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isfull</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> top == stacksize; &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> Type &amp; item)</span></span>;   <span class="hljs-comment">// add item to stack</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">pop</span><span class="hljs-params">(Type &amp; item)</span></span>;          <span class="hljs-comment">// pop top into item</span><br>    Stack &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Stack &amp; st);<br>&#125;;<br></code></pre></td></tr></table></figure><p>é‡‡ç”¨æ¨¡æ¿æ—¶ï¼Œå°†ä½¿ç”¨æ¨¡æ¿å®šä¹‰æ›¿æ¢ <code>Stack</code> å£°æ˜ï¼Œä½¿ç”¨æ¨¡æ¿æˆå‘˜å‡½æ•°æ›¿æ¢ <code>Stack</code> çš„æˆå‘˜å‡½æ•°ã€‚å’Œæ¨¡æ¿å‡½æ•°ä¸€æ ·ï¼Œæ¨¡æ¿ç±»ä»¥ä¸‹é¢è¿™æ ·çš„ä»£ç å¼€å¤´ :<code>template &lt;class Type&gt;</code>ã€‚</p><p>å‰©ä¸‹çš„æ“ä½œåŸºæœ¬ä¸Šæ²¡ä»€ä¹ˆåŒºåˆ«äº†ã€‚ï¼ˆå› ä¸ºå®šä¹‰ç±»åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå°±æ˜¯å®šä¹‰æˆå‘˜å‡½æ•°å’Œæ–¹æ³•ã€‚é‚£å®šä¹‰æ¨¡ç‰ˆç±»å°±æ˜¯å®šä¹‰æ¨¡ç‰ˆå‡½æ•°çš„è¿‡ç¨‹ï¼‰</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ç±»æ–¹æ³•çš„å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br>    <span class="hljs-comment">//è¿™ä¸€è¡Œå¿…ä¸å¯å°‘ï¼ˆç›¸å½“äºå®šä¹‰æ¨¡ç‰ˆå‡½æ•°çš„è¿‡ç¨‹ï¼‰</span><br>Stack&lt;Type&gt;::<span class="hljs-built_in">Stack</span>(<span class="hljs-type">int</span> ss) : <span class="hljs-built_in">stacksize</span>(ss), <span class="hljs-built_in">top</span>(<span class="hljs-number">0</span>)<br>&#123;<br>    items = <span class="hljs-keyword">new</span> Type [stacksize];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br>Stack&lt;Type&gt;::<span class="hljs-built_in">Stack</span>(<span class="hljs-type">const</span> Stack &amp; st)<br>&#123;<br>    stacksize = st.stacksize;<br>    top = st.top;<br>    items = <span class="hljs-keyword">new</span> Type [stacksize];<br>    <span class="hljs-comment">//ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œæ³¨æ„æŒ‡é’ˆçš„å®‰å…¨ä½¿ç”¨ï¼</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; top; i++)<br>        items[i] = st.items[i];<br>&#125;<br><span class="hljs-comment">//è¿™ä¸ªæ˜¾ç¤ºå¤åˆ¶æ„é€ å‡½æ•°ä¹Ÿæ˜¯ä¸ºäº†æŒ‡é’ˆæ ˆçš„ä½¿ç”¨ï¼ˆåæ–‡ä¼šæåˆ°ï¼‰</span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br><span class="hljs-type">bool</span> Stack&lt;Type&gt;::<span class="hljs-built_in">push</span>(<span class="hljs-type">const</span> Type &amp; item)<br>&#123;<br>    <span class="hljs-keyword">if</span> (top &lt; stacksize)<br>    &#123;<br>        items[top++] = item;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br><span class="hljs-type">bool</span> Stack&lt;Type&gt;::<span class="hljs-built_in">pop</span>(Type &amp; item)<br>&#123;<br>    <span class="hljs-keyword">if</span> (top &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        item = items[--top];<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br>Stack&lt;Type&gt; &amp; Stack&lt;Type&gt;::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Stack&lt;Type&gt; &amp; st)<br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;st)<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    <span class="hljs-keyword">delete</span> [] items;<br>    stacksize = st.stacksize;<br>    top = st.top;<br>    items = <span class="hljs-keyword">new</span> Type [stacksize];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; top; i++)<br>        items[i] = st.items[i];<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>; <br>&#125;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><div class="note note-info">            <p>ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°æœ¬èº«ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ•…ä¸å¯ä»¥<strong>å•ç‹¬ç¼–è¯‘</strong>ï¼Œéœ€è¦åœ¨æŒ‡å®šæ¨¡ç‰ˆå½¢å¼å‚æ•°çš„å€¼åï¼ˆå³å®ç°<strong>æ¨¡ç‰ˆçš„å®ä¾‹åŒ–</strong>åï¼‰æ‰èƒ½è¢«ç¼–è¯‘æˆä¸€ä¸ªç¨‹åºã€‚å› æ­¤ï¼Œå¯¹äºç±»æ¨¡ç‰ˆè€Œè¨€ï¼Œå¾€å¾€å°†<strong>å‡½æ•°å®šä¹‰å’Œç±»æ¨¡æ¿çš„å®šä¹‰</strong>å†™åœ¨åŒä¸€ä¸ªå¤´æ–‡ä»¶ä¸­ã€‚</p>          </div><h3 id="The-Use-of-Pointer-Stack"><a href="#The-Use-of-Pointer-Stack" class="headerlink" title="The Use of Pointer Stack"></a>The Use of Pointer Stack</h3><p>ç»†å¿ƒçš„è¯»è€…å¯èƒ½ä¼šå‘ç°ï¼Œåœ¨æ¨¡ç‰ˆç±»çš„å‡½æ•°å®šä¹‰ä¸­ï¼Œå¤šå‡ºäº†è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼ˆå¯¹èµ‹å€¼è¿ç®—ç¬¦çš„è¿ç®—ç¬¦é‡è½½ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++">Stack &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Stack &amp; st);<br><span class="hljs-comment">//åœ¨publicä¸­çš„å‡½æ•°å£°æ˜</span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Type</span>&gt;<br>Stack&lt;Type&gt; &amp; Stack&lt;Type&gt;::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Stack&lt;Type&gt; &amp; st)<br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;st)<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    <span class="hljs-keyword">delete</span> [] items;<br>    stacksize = st.stacksize;<br>    top = st.top;<br>    items = <span class="hljs-keyword">new</span> Type [stacksize];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; top; i++)<br>        items[i] = st.items[i];<br>    <span class="hljs-comment">//è€ƒè™‘åˆ°å¦‚æœæ•°æ®ç±»å‹ä¸ºæŒ‡é’ˆï¼Œç›´æ¥æ•´å—èµ‹å€¼ä¼šäº§ç”Ÿéå¸¸ä¸¥é‡çš„é—®é¢˜ã€‚</span><br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>; <br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>åŒæ—¶ï¼Œå¯¹æ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„å®šä¹‰ä¹Ÿåšå‡ºäº†ç›¸å…³ä¿®æ”¹ã€‚</p></blockquote><p>ä¸ºä»€ä¹ˆè¦åšè¿™æ ·ä¸€ä¸ªä¿®æ”¹ï¼Ÿ<strong>æ¨¡æ¿ç±»å’Œæ¨¡ç‰ˆå‡½æ•°éå¸¸é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æ¨¡ç‰ˆå¿…é¡»å…·æœ‰é€šç”¨æ€§</strong>ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨<strong>æ˜¾ç¤ºå…·ä½“åŒ–</strong>æ¥ä¸ºç‰¹æ®Šç±»å‹æ‰“è¡¥ä¸ï¼Œåæ–‡ä¼šè®²åˆ°ï¼‰ã€‚å¦‚æœæ¨¡æ¿ç±»å‹æ˜¯<strong>æŒ‡é’ˆ</strong>ï¼ˆå³<strong>æŒ‡é’ˆæ ˆ</strong>ï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨é»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦ä¼šäº§ç”Ÿæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ã€‚</p><blockquote><p>ä»€ä¹ˆä¸¥é‡çš„é—®é¢˜ï¼Ÿæ¬¢è¿å‚è€ƒç¬¬åäºŒç« æœ‰å…³åŠ¨æ€å†…å­˜åˆ†é…çš„çŸ¥è¯†ï¼Œæ­¤å¤„ä¸å†å±•å¼€ã€‚</p><p><a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">æˆ‘çš„åšå®¢é“¾æ¥</a></p></blockquote><h4 id="æ­£ç¡®ä½¿ç”¨æŒ‡é’ˆæ ˆ"><a href="#æ­£ç¡®ä½¿ç”¨æŒ‡é’ˆæ ˆ" class="headerlink" title="æ­£ç¡®ä½¿ç”¨æŒ‡é’ˆæ ˆ"></a>æ­£ç¡®ä½¿ç”¨æŒ‡é’ˆæ ˆ</h4><p>ä½¿ç”¨æŒ‡é’ˆæ ˆçš„æ–¹æ³•ä¹‹ä¸€æ˜¯ï¼Œè®©è°ƒç”¨ç¨‹åºæä¾›ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªæŒ‡é’ˆéƒ½æŒ‡å‘ä¸åŒçš„å­—ç¬¦ä¸²ã€‚æŠŠè¿™äº›æŒ‡é’ˆæ”¾åœ¨æ ˆä¸­æ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºæ¯ä¸ªæŒ‡é’ˆéƒ½å°†æŒ‡å‘ä¸åŒçš„å­—ç¬¦ä¸²ã€‚æ³¨æ„ï¼Œåˆ›å»ºä¸åŒæŒ‡é’ˆæ˜¯è°ƒç”¨ç¨‹åºçš„èŒè´£ï¼Œè€Œä¸æ˜¯æ ˆçš„èŒè´£ã€‚<strong>æ ˆçš„ä»»åŠ¡æ˜¯ç®¡ç†æŒ‡é’ˆï¼Œè€Œä¸æ˜¯åˆ›å»ºæŒ‡é’ˆ</strong>ã€‚  </p><h3 id="Advanced-Usage"><a href="#Advanced-Usage" class="headerlink" title="Advanced Usage"></a>Advanced Usage</h3><h4 id="éç±»å‹å‚æ•°"><a href="#éç±»å‹å‚æ•°" class="headerlink" title="éç±»å‹å‚æ•°"></a>éç±»å‹å‚æ•°</h4><p>åœ¨ä½¿ç”¨æ¨¡æ¿ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šè¿‡æ„é€ å‡½æ•°åœ¨å †ä¸ŠåŠ¨æ€åˆ†é…å†…å­˜ï¼Œè¿™æ ·çš„æ•ˆç‡å¾€å¾€æ¯”è¾ƒä½ã€‚å¦‚æœ<strong>åœ¨ç¡®å®šå…·ä½“ç±»å‹ä¹‹åå†æ ˆä¸Šå¼€è¾Ÿç©ºé—´ï¼Œå°†ä¼šå˜å¾—æ›´åŠ çš„é«˜æ•ˆã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//arraytp.h  -- Array Template</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> ARRAYTP_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> ARRAYTP_H_</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdlib&gt;</span></span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-type">int</span> n&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayTP</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    T ar[n];<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">ArrayTP</span>() &#123;&#125;;<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">ArrayTP</span><span class="hljs-params">(<span class="hljs-type">const</span> T &amp; v)</span></span>;<br>    <span class="hljs-keyword">virtual</span> T &amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i);<br>    <span class="hljs-keyword">virtual</span> T <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-type">int</span> n&gt;<br>ArrayTP&lt;T,n&gt;::<span class="hljs-built_in">ArrayTP</span>(<span class="hljs-type">const</span> T &amp; v)<br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>        ar[i] = v;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-type">int</span> n&gt;<br>T &amp; ArrayTP&lt;T,n&gt;::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i)<br>&#123;<br>    <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= n)<br>    &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;Error in array limits: &quot;</span> &lt;&lt; i<br>            &lt;&lt; <span class="hljs-string">&quot; is out of range\n&quot;</span>;<br>        std::<span class="hljs-built_in">exit</span>(EXIT_FAILURE);<br>    &#125;<br>    <span class="hljs-keyword">return</span> ar[i];<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>, <span class="hljs-type">int</span> n&gt;<br>T ArrayTP&lt;T,n&gt;::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || i &gt;= n)<br>    &#123;<br>        std::cerr &lt;&lt; <span class="hljs-string">&quot;Error in array limits: &quot;</span> &lt;&lt; i<br>            &lt;&lt; <span class="hljs-string">&quot; is out of range\n&quot;</span>;<br>        std::<span class="hljs-built_in">exit</span>(EXIT_FAILURE);<br>    &#125;<br>    <span class="hljs-keyword">return</span> ar[i]; <br>&#125;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p><code>template &lt;class T, int n&gt;</code> æ˜¯ C++ ä¸­çš„ä¸€ç§æ¨¡æ¿å£°æ˜æ–¹å¼ï¼Œå…¶ä¸­åŒ…å«äº†ä¸¤ç§ä¸åŒç±»å‹çš„æ¨¡æ¿å‚æ•°ï¼š</p><ul><li><strong><code>T</code><strong>ï¼šè¿™æ˜¯ä¸€ä¸ª</strong>ç±»å‹æ¨¡æ¿å‚æ•°</strong>ï¼ˆType Template Parameterï¼‰ï¼Œè¡¨ç¤ºä¸€ä¸ªç±»å‹ï¼Œé€šå¸¸ç”¨æ¥ä»£è¡¨ç±»ã€ç»“æ„ä½“ã€å‡½æ•°ç­‰çš„ç±»å‹ã€‚</li><li><strong><code>n</code><strong>ï¼šè¿™æ˜¯ä¸€ä¸ª</strong>éç±»å‹æ¨¡æ¿å‚æ•°</strong>ï¼ˆNon-type Template Parameterï¼‰ï¼Œè¡¨ç¤ºä¸€ä¸ªå¸¸é‡å€¼ï¼Œé€šå¸¸æ˜¯æ•´æ•°ã€æŒ‡é’ˆã€å¼•ç”¨æˆ–å…¶ä»–å¸¸é‡å€¼ã€‚</li></ul><p><img src="/posts/Code-Reuse-in-OOP/biaodashi.png" alt="è¡¨è¾¾å¼å‚æ•°"></p><p>ç¼ºç‚¹æ˜¯ï¼Œåœ¨<code>n</code>ä¸ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä¸¤ç§ä¸åŒçš„æ¨¡ç‰ˆï¼ˆ<strong>å“ªæ€•éç±»å‹æ¨¡ç‰ˆå‚æ•°æ˜¯ç›¸åŒçš„</strong>ï¼‰ã€‚éç±»å‹å‚æ•°çš„ä½¿ç”¨æœ¬è´¨æ˜¯æ›´æ”¹äº†å†…å­˜çš„å­˜å‚¨æ–¹å¼ï¼Œåœ¨æå‡æ•ˆç‡çš„åŒæ—¶ç‰ºç‰²äº†éƒ¨åˆ†çš„é€šç”¨æ€§ã€‚ï¼ˆæ— æ³•åˆ›å»ºæ•°ç»„å¤§å°å¯å˜çš„ç±»äº†ï¼‰</p><h4 id="é€’å½’ä½¿ç”¨æ¨¡æ¿"><a href="#é€’å½’ä½¿ç”¨æ¨¡æ¿" class="headerlink" title="é€’å½’ä½¿ç”¨æ¨¡æ¿"></a>é€’å½’ä½¿ç”¨æ¨¡æ¿</h4><p><code>ArrayTP&lt; ArrayTP&lt;int,5&gt;, 10&gt; twodee;</code></p><h4 id="pairç±»"><a href="#pairç±»" class="headerlink" title="pairç±»"></a>pairç±»</h4><div class="note note-info">            <p><code>std::pair</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œç”¨äºå­˜å‚¨ä¸¤ä¸ªä¸åŒç±»å‹çš„å…ƒç´ ã€‚å®ƒå¯ä»¥å°†ä¸¤ä¸ªæ•°æ®ç»„åˆæˆä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸¤ä¸ªæ•°æ®å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå› æ­¤ <code>std::pair</code> æ˜¯ä¸€ç§éå¸¸å¸¸è§çš„<strong>é€šç”¨å®¹å™¨</strong>ï¼Œç‰¹åˆ«é€‚ç”¨äºéœ€è¦å°†ä¸¤ä¸ªç›¸å…³æ•°æ®å…³è”åœ¨ä¸€èµ·çš„åœºæ™¯ã€‚</p><p><code>std::pair</code> å®šä¹‰åœ¨ <code>&lt;utility&gt;</code> å¤´æ–‡ä»¶ä¸­ï¼Œå…¶æ¨¡æ¿å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T1</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">T2</span>&gt;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">pair</span> &#123;<br>    T1 first;   <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå…ƒç´ </span><br>    T2 second;  <span class="hljs-comment">// ç¬¬äºŒä¸ªå…ƒç´ </span><br><br>    <span class="hljs-comment">// é»˜è®¤æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">pair</span>();<br>    <br>    <span class="hljs-comment">// å¸¦å‚æ•°çš„æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">pair</span>(<span class="hljs-type">const</span> T1&amp; a, <span class="hljs-type">const</span> T2&amp; b);<br>    <br>    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼ˆä½¿ç”¨ç§»åŠ¨è¯­ä¹‰ï¼‰</span><br>    <span class="hljs-built_in">pair</span>(T1&amp;&amp; a, T2&amp;&amp; b);<br><br>    <span class="hljs-comment">// æ¯”è¾ƒè¿ç®—ç¬¦</span><br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> pair&amp; other) <span class="hljs-type">const</span>;<br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>!=(<span class="hljs-type">const</span> pair&amp; other) <span class="hljs-type">const</span>;<br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> pair&amp; other) <span class="hljs-type">const</span>;<br>    <span class="hljs-type">bool</span> <span class="hljs-built_in">operator</span>&lt;=(<span class="hljs-type">const</span> pair&amp; other) <span class="hljs-type">const</span>;<br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> pair&amp; other) <span class="hljs-type">const</span>;<br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;=(<span class="hljs-type">const</span> pair&amp; other) <span class="hljs-type">const</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p><code>std::pair</code> å­˜å‚¨ä¸¤ä¸ªå€¼ï¼š<code>first</code> å’Œ <code>second</code>ï¼Œå®ƒä»¬å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„æ•°æ®ã€‚<code>T1</code> æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç±»å‹ï¼Œ<code>T2</code> æ˜¯ç¬¬äºŒä¸ªå…ƒç´ çš„ç±»å‹ã€‚</p><ul><li><p><strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼š<code>pair</code> çš„ä¸¤ä¸ªæˆå‘˜ <code>first</code> å’Œ <code>second</code> éƒ½ä¼šè¢«é»˜è®¤åˆå§‹åŒ–ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; p1;  <span class="hljs-comment">// p1.first å’Œ p1.second éƒ½æ˜¯é»˜è®¤åˆå§‹åŒ–</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å¸¦å‚æ„é€ å‡½æ•°</strong>ï¼šé€šè¿‡æä¾›ä¸¤ä¸ªå€¼åˆå§‹åŒ– <code>first</code> å’Œ <code>second</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">p2</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>)</span></span>;  <span class="hljs-comment">// p2.first = 1, p2.second = 3.14</span><br></code></pre></td></tr></table></figure></li><li><p><strong>æ‹·è´æ„é€ å‡½æ•°</strong>ï¼šå…è®¸ä½¿ç”¨å¦ä¸€ä¸ª <code>pair</code> æ¥åˆå§‹åŒ–ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; p3 = p2;  <span class="hljs-comment">// p3.first = p2.first, p3.second = p2.second</span><br></code></pre></td></tr></table></figure></li><li><p><strong>ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼šå…è®¸é€šè¿‡å³å€¼å¼•ç”¨æ¥åˆå§‹åŒ–ï¼ˆC++11 å¼•å…¥çš„ç‰¹æ€§ï¼‰ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; p4 = std::<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20.5</span>);<br></code></pre></td></tr></table></figure></li></ul><p><strong>æ“ä½œï¼š</strong></p><ul><li><p><strong>è®¿é—®æˆå‘˜</strong>ï¼š<code>pair</code> æä¾›äº†ä¸¤ä¸ªå…¬å…±æˆå‘˜å˜é‡ <code>first</code> å’Œ <code>second</code>ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>)</span></span>;<br>std::cout &lt;&lt; p.first &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; p.second &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º: 1, 3.14</span><br></code></pre></td></tr></table></figure></li><li><p>**<code>std::make_pair</code>**ï¼š<code>make_pair</code> æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å‡½æ•°æ¨¡æ¿ï¼Œç”¨äºåˆ›å»º <code>pair</code> å¯¹è±¡ï¼Œé¿å…æ‰‹åŠ¨æŒ‡å®šç±»å‹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">auto</span> p = std::<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>);  <span class="hljs-comment">// p æ˜¯ pair&lt;int, double&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>æ¯”è¾ƒæ“ä½œç¬¦</strong>ï¼š<code>pair</code> æ”¯æŒå¸¸è§çš„æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆ<code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>ï¼‰ã€‚æ¯”è¾ƒæ—¶ï¼Œ<code>pair</code> ä¼šé¦–å…ˆæ¯”è¾ƒ <code>first</code>ï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™å†æ¯”è¾ƒ <code>second</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>)</span>, <span class="hljs-title">p2</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">2.718</span>)</span></span>;<br><span class="hljs-keyword">if</span> (p1 &lt; p2) &#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;p1 &lt; p2&quot;</span> &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>äº¤æ¢å…ƒç´ </strong>ï¼š<code>std::pair</code> æä¾›äº†ä¸€ä¸ª <code>swap</code> æ–¹æ³•ç”¨äºäº¤æ¢ <code>first</code> å’Œ <code>second</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>)</span>, <span class="hljs-title">p2</span><span class="hljs-params">(<span class="hljs-number">2</span>, <span class="hljs-number">2.718</span>)</span></span>;<br>p<span class="hljs-number">1.</span><span class="hljs-built_in">swap</span>(p2);  <span class="hljs-comment">// äº¤æ¢ p1 å’Œ p2 çš„å€¼</span><br></code></pre></td></tr></table></figure></li></ul><p><strong>ä½¿ç”¨åœºæ™¯</strong></p><p><code>std::pair</code> ç»å¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li><p><strong>è¿”å›å¤šä¸ªå€¼</strong>ï¼šæœ‰æ—¶æˆ‘ä»¬éœ€è¦è¿”å›å¤šä¸ªç›¸å…³çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œå‡½æ•°è¿”å›ä¸¤ä¸ªå€¼ï¼‰ï¼Œ<code>std::pair</code> æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ–¹å¼æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">get_coordinates</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">10</span>, <span class="hljs-number">20.5</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>åœ¨å®¹å™¨ä¸­å­˜å‚¨é”®å€¼å¯¹</strong>ï¼šä¾‹å¦‚ï¼Œ<code>std::map</code> å’Œ <code>std::unordered_map</code> ç­‰å®¹å™¨ä½¿ç”¨ <code>std::pair</code> æ¥å­˜å‚¨é”®å€¼å¯¹ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::map&lt;<span class="hljs-type">int</span>, std::string&gt; m;<br>m[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;apple&quot;</span>;<br>m[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;banana&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>é…å¯¹æ•°æ®</strong>ï¼šåœ¨æŸäº›ç®—æ³•æˆ–æ•°æ®ç»“æ„ä¸­ï¼Œä¸¤ä¸ªç›¸å…³çš„æ•°æ®é¡¹ç»å¸¸è¢«é…å¯¹åœ¨ä¸€èµ·ã€‚<code>std::pair</code> å…è®¸ä½ ç®€æ´åœ°å­˜å‚¨å’Œè®¿é—®å®ƒä»¬ã€‚</p></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;utility&gt;</span>  <span class="hljs-comment">// å¼•å…¥ std::pair å’Œ std::make_pair</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª pair</span><br>    <span class="hljs-function">std::pair&lt;<span class="hljs-type">int</span>, std::string&gt; <span class="hljs-title">p1</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;apple&quot;</span>)</span></span>;<br><br>    <span class="hljs-comment">// è®¿é—® pair çš„å…ƒç´ </span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;First: &quot;</span> &lt;&lt; p<span class="hljs-number">1.f</span>irst &lt;&lt; <span class="hljs-string">&quot;, Second: &quot;</span> &lt;&lt; p<span class="hljs-number">1.</span>second &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ std::make_pair åˆ›å»ºä¸€ä¸ª pair</span><br>    <span class="hljs-keyword">auto</span> p2 = std::<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;banana&quot;</span>);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;First: &quot;</span> &lt;&lt; p<span class="hljs-number">2.f</span>irst &lt;&lt; <span class="hljs-string">&quot;, Second: &quot;</span> &lt;&lt; p<span class="hljs-number">2.</span>second &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// æ¯”è¾ƒä¸¤ä¸ª pair</span><br>    <span class="hljs-keyword">if</span> (p1 &lt; p2) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;p1 is less than p2&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// äº¤æ¢ä¸¤ä¸ª pair</span><br>    p<span class="hljs-number">1.</span><span class="hljs-built_in">swap</span>(p2);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;After swap: &quot;</span> &lt;&lt; <span class="hljs-string">&quot;First: &quot;</span> &lt;&lt; p<span class="hljs-number">1.f</span>irst &lt;&lt; <span class="hljs-string">&quot;, Second: &quot;</span> &lt;&lt; p<span class="hljs-number">1.</span>second &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;After swap: &quot;</span> &lt;&lt; <span class="hljs-string">&quot;First: &quot;</span> &lt;&lt; p<span class="hljs-number">2.f</span>irst &lt;&lt; <span class="hljs-string">&quot;, Second: &quot;</span> &lt;&lt; p<span class="hljs-number">2.</span>second &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">First</span>: <span class="hljs-number">1</span>, <span class="hljs-keyword">Second</span>: apple<br><span class="hljs-keyword">First</span>: <span class="hljs-number">2</span>, <span class="hljs-keyword">Second</span>: banana<br>p1 <span class="hljs-keyword">is</span> less than p2<br>After swap: <span class="hljs-keyword">First</span>: <span class="hljs-number">2</span>, <span class="hljs-keyword">Second</span>: banana<br>After swap: <span class="hljs-keyword">First</span>: <span class="hljs-number">1</span>, <span class="hljs-keyword">Second</span>: apple<br></code></pre></td></tr></table></figure>          </div><div class="note note-info">            <h4 id="tupleå’Œtieï¼ˆè¡¥å……çŸ¥è¯†ï¼‰"><a href="#tupleå’Œtieï¼ˆè¡¥å……çŸ¥è¯†ï¼‰" class="headerlink" title="tupleå’Œtieï¼ˆè¡¥å……çŸ¥è¯†ï¼‰"></a>tupleå’Œtieï¼ˆè¡¥å……çŸ¥è¯†ï¼‰</h4><h5 id="æ‰“åŒ…å‡½æ•°ï¼šstd-tie"><a href="#æ‰“åŒ…å‡½æ•°ï¼šstd-tie" class="headerlink" title="æ‰“åŒ…å‡½æ•°ï¼šstd::tie"></a>æ‰“åŒ…å‡½æ•°ï¼š<code>std::tie</code></h5><p><code>std::tie</code> æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªéå¸¸å¼ºå¤§ä¸”æ–¹ä¾¿çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªå€¼æ‰“åŒ…æˆä¸€ä¸ªå…ƒç»„ï¼Œå¹¶ä½¿å¾—è¿™äº›å€¼èƒ½å¤Ÿåƒå…ƒç»„ä¸€æ ·è¢«è¿›è¡Œæ¯”è¾ƒã€è§£æ„æˆ–ä¼ é€’ã€‚å®ƒåœ¨å¤šä¸ªæ–¹é¢æä¾›äº†ä¾¿åˆ©ï¼Œä»¥ä¸‹æ˜¯å…¶å¼ºå¤§ä¹‹å¤„ï¼š</p><ol><li><strong>ç®€åŒ–å¤šé‡æ¯”è¾ƒ</strong></li></ol><p><code>std::tie</code> å¯ä»¥å°†å¤šä¸ªå˜é‡ç»„åˆæˆä¸€ä¸ªå…ƒç»„ï¼Œç„¶åç›´æ¥è¿›è¡Œæ¯”è¾ƒã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é¿å…æ‰‹åŠ¨å†™å‡ºå†—é•¿çš„å¤šé‡ <code>if</code> è¯­å¥æ¥æ¯”è¾ƒå¤šä¸ªå€¼ã€‚ä¾‹å¦‚ï¼Œæ¯”è¾ƒç»“æ„ä½“ä¸­çš„å¤šä¸ªæˆå‘˜æ—¶ï¼Œ<code>std::tie</code> å¯ä»¥å°†å¤šä¸ªæˆå‘˜æ‰“åŒ…ï¼ŒæŒ‰å­—å…¸é¡ºåºï¼ˆlexicographical orderï¼‰è¿›è¡Œæ¯”è¾ƒã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> &#123;<br>    <span class="hljs-type">int</span> x, y, z;<br>&#125;;<br><br><span class="hljs-comment">// ä½¿ç”¨ std::tie å¯¹ Point è¿›è¡Œæ¯”è¾ƒ</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-type">const</span> Point&amp; p1, <span class="hljs-type">const</span> Point&amp; p2)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">tie</span>(p<span class="hljs-number">1.</span>x, p<span class="hljs-number">1.</span>y, p<span class="hljs-number">1.</span>z) &lt; std::<span class="hljs-built_in">tie</span>(p<span class="hljs-number">2.</span>x, p<span class="hljs-number">2.</span>y, p<span class="hljs-number">2.</span>z);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„æ¯”è¾ƒä¼šé¦–å…ˆæ¯”è¾ƒ <code>x</code>ï¼Œå¦‚æœ <code>x</code> ç›¸åŒï¼Œå†æ¯”è¾ƒ <code>y</code>ï¼Œå¦‚æœ <code>y</code> ä¹Ÿç›¸åŒï¼Œåˆ™æ¯”è¾ƒ <code>z</code>ã€‚<strong>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„æŒ‰å­—å…¸é¡ºåºçš„æ¯”è¾ƒ</strong>ã€‚</p><ol start="2"><li><strong>ç®€åŒ–æ’åºæ“ä½œ</strong></li></ol><p>é€šè¿‡ <code>std::tie</code>ï¼Œä½ å¯ä»¥åœ¨æ’åºæ“ä½œä¸­ç›´æ¥æ¯”è¾ƒå¤šä¸ªå­—æ®µï¼Œè€Œæ— éœ€æ‰‹åŠ¨æŒ‡å®šæ¯ä¸ªå­—æ®µçš„æ¯”è¾ƒæ–¹å¼ã€‚æ¯”å¦‚åœ¨ <code>std::sort</code> ä¸­è¿›è¡Œæ’åºæ—¶ï¼Œä½¿ç”¨ <code>std::tie</code> è®©ä»£ç æ›´åŠ ç®€æ´ä¸”æ˜“äºç»´æŠ¤ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;Point&gt; points = &#123;&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;, &#123;<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>&#125;, &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>&#125;&#125;;<br>std::<span class="hljs-built_in">sort</span>(points.<span class="hljs-built_in">begin</span>(), points.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">const</span> Point&amp; p1, <span class="hljs-type">const</span> Point&amp; p2) &#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">tie</span>(p<span class="hljs-number">1.</span>x, p<span class="hljs-number">1.</span>y, p<span class="hljs-number">1.</span>z) &lt; std::<span class="hljs-built_in">tie</span>(p<span class="hljs-number">2.</span>x, p<span class="hljs-number">2.</span>y, p<span class="hljs-number">2.</span>z);<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæ’åºæ—¶å°±ä¸éœ€è¦å¤šä¸ªåµŒå¥—çš„ <code>if</code> è¯­å¥æ¥åˆ†åˆ«æ¯”è¾ƒ <code>x</code>, <code>y</code>, <code>z</code>ã€‚<code>std::tie</code> ä¼šè‡ªåŠ¨æŒ‰å­—æ®µé¡ºåºè¿›è¡Œæ¯”è¾ƒã€‚</p><ol start="3"><li><strong>æ–¹ä¾¿çš„ç»“æ„ä½“è§£æ„</strong></li></ol><p><code>std::tie</code> ä¸ä»…å¯ä»¥ç”¨äºæ¯”è¾ƒï¼Œè¿˜å¯ä»¥ç”¨äºè§£æ„ï¼Œç‰¹åˆ«æ˜¯åœ¨å‡½æ•°ä¸­è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œæˆ–è€…ä»ä¸€ä¸ªå…ƒç»„ä¸­æå–å€¼æ—¶ã€‚å®ƒè®©ä½ å¯ä»¥ç›´æ¥å°†å¤šä¸ªå€¼èµ‹ç»™å¤šä¸ªå˜é‡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>, std::string&gt; <span class="hljs-title">getValues</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_tuple</span>(<span class="hljs-number">1</span>, <span class="hljs-number">3.14</span>, <span class="hljs-string">&quot;hello&quot;</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-type">double</span> d;<br>    std::string s;<br>    std::<span class="hljs-built_in">tie</span>(i, d, s) = <span class="hljs-built_in">getValues</span>();  <span class="hljs-comment">// ç›´æ¥è§£æ„</span><br>    std::cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; d &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; s &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º: 1 3.14 hello</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œä½ å°±å¯ä»¥å°†ä¸€ä¸ªå…ƒç»„ä¸­çš„å…ƒç´ ç›´æ¥è§£æ„åˆ°ä¸åŒçš„å˜é‡ä¸­ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨è®¿é—®æ¯ä¸ªå…ƒç´ ã€‚</p><ol start="4"><li><strong>å…ƒç»„å’Œéå…ƒç»„ç±»å‹çš„ç»Ÿä¸€æ¥å£</strong></li></ol><p><code>std::tie</code> çš„å¼ºå¤§ä¹‹å¤„è¿˜åœ¨äºå®ƒèƒ½å¤Ÿä¸æ™®é€šç±»å‹ï¼ˆå¦‚ <code>int</code>ï¼Œ<code>double</code> ç­‰ï¼‰å’Œæ ‡å‡†åº“ç±»å‹ï¼ˆå¦‚ <code>std::tuple</code>ï¼‰æ— ç¼ç»“åˆã€‚è¿™ä½¿å¾—ä½ åœ¨å¤„ç†å¤šä¸ªè¿”å›å€¼æ—¶éå¸¸æ–¹ä¾¿ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> a = <span class="hljs-number">5</span>;<br><span class="hljs-type">double</span> b = <span class="hljs-number">3.14</span>;<br>std::<span class="hljs-built_in">tie</span>(a, b) = std::<span class="hljs-built_in">make_tuple</span>(<span class="hljs-number">10</span>, <span class="hljs-number">2.718</span>);  <span class="hljs-comment">// å¯ä»¥ç›´æ¥è§£æ„å…ƒç»„</span><br></code></pre></td></tr></table></figure><ol start="5"><li><strong>æ›´çµæ´»çš„å‡½æ•°è¿”å›å€¼</strong></li></ol><p>å½“ä½ éœ€è¦ä¸€ä¸ªå‡½æ•°è¿”å›å¤šä¸ªå€¼æ—¶ï¼Œ<code>std::tie</code> å¯ä»¥å¸®åŠ©ä½ è½»æ¾è§£æ„å¹¶åŒæ—¶è¿”å›å¤šä¸ªå€¼ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ <code>std::pair</code> æˆ– <code>std::tuple</code> æ¥åŒ…è£¹å®ƒä»¬ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; <span class="hljs-title">divide</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_tuple</span>(a / b, a % b);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> quotient, remainder;<br>    std::<span class="hljs-built_in">tie</span>(quotient, remainder) = <span class="hljs-built_in">divide</span>(<span class="hljs-number">10</span>, <span class="hljs-number">3</span>);<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Quotient: &quot;</span> &lt;&lt; quotient &lt;&lt; <span class="hljs-string">&quot;, Remainder: &quot;</span> &lt;&lt; remainder &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="std-tuple"><a href="#std-tuple" class="headerlink" title="std::tuple"></a><code>std::tuple</code></h5><p><code>std::tuple</code> æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªæ ‡å‡†åº“å®¹å™¨ï¼Œå®ƒå…è®¸ä½ å­˜å‚¨å¤šä¸ªä¸åŒç±»å‹çš„å…ƒç´ ï¼Œç±»ä¼¼äºæ•°ç»„æˆ–ç»“æ„ä½“ï¼Œä½†ä¸è¿™ä¸¤è€…ä¸åŒçš„æ˜¯ï¼Œ<code>std::tuple</code> çš„å…ƒç´ å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„ã€‚æ¢å¥è¯è¯´ï¼Œ<code>tuple</code> å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå¼‚æ„çš„å®¹å™¨ï¼Œå³å®ƒå¯ä»¥å­˜å‚¨å¤šä¸ªä¸åŒç±»å‹çš„å€¼ï¼Œè€Œä¸åƒæ•°ç»„é‚£æ ·åªèƒ½å­˜å‚¨ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚</p><ul><li><strong>å¼‚æ„æ€§</strong>ï¼š<code>std::tuple</code> å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ ï¼ˆå¦‚ <code>int</code>ã€<code>double</code>ã€<code>std::string</code> ç­‰ï¼‰ï¼Œè€Œä¸åƒ <code>std::vector</code> æˆ– <code>std::array</code> è¿™æ ·çš„å®¹å™¨åªèƒ½åŒ…å«ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚</li><li><strong>å›ºå®šå¤§å°</strong>ï¼š<code>std::tuple</code> çš„å¤§å°åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šäº†ï¼Œæ— æ³•åŠ¨æ€æ”¹å˜å¤§å°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒçš„å¤§å°ï¼ˆå³å…ƒç´ çš„ä¸ªæ•°ï¼‰æ˜¯å›ºå®šçš„ã€‚</li><li><strong>å…ƒç´ è®¿é—®</strong>ï¼šå¯ä»¥é€šè¿‡ç´¢å¼•æˆ–è€… <code>std::get</code> æ¥è®¿é—® <code>tuple</code> ä¸­çš„å…ƒç´ ã€‚</li></ul><p>ä½ å¯ä»¥é€šè¿‡ <code>std::make_tuple</code> æˆ–ç›´æ¥ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»º <code>tuple</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;tuple&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª tupleï¼ŒåŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ </span><br>    <span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>, std::string&gt; <span class="hljs-title">t</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">3.14</span>, <span class="hljs-string">&quot;Hello&quot;</span>)</span></span>;<br><br>    <span class="hljs-comment">// é€šè¿‡ std::get è®¿é—® tuple ä¸­çš„å…ƒç´ </span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;First element: &quot;</span> &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">0</span>&gt;(t) &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 10</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Second element: &quot;</span> &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">1</span>&gt;(t) &lt;&lt; std::endl; <span class="hljs-comment">// è¾“å‡º 3.14</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Third element: &quot;</span> &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">2</span>&gt;(t) &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º Hello</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>t</code> æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå…ƒç´ çš„ <code>tuple</code>ï¼Œå®ƒçš„å…ƒç´ åˆ†åˆ«æ˜¯ <code>int</code>ã€<code>double</code> å’Œ <code>std::string</code> ç±»å‹ã€‚</p><p><strong>è·å– <code>tuple</code> ä¸­çš„å…ƒç´ ï¼š</strong></p><p>ä½¿ç”¨ <code>std::get&lt;index&gt;(tuple)</code> æ¥è®¿é—®ç‰¹å®šä½ç½®çš„å…ƒç´ ã€‚ç´¢å¼•æ˜¯ç¼–è¯‘æ—¶ç¡®å®šçš„ï¼Œå› æ­¤ä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šå…ƒç´ çš„ç±»å‹æˆ–ä½ç½®ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>, std::string&gt; <span class="hljs-title">t</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">3.14</span>, <span class="hljs-string">&quot;Hello&quot;</span>)</span></span>;<br><br><span class="hljs-comment">// ä½¿ç”¨ std::get è·å–å…ƒç´ </span><br><span class="hljs-type">int</span> i = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">0</span>&gt;(t);           <span class="hljs-comment">// è·å–ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-type">double</span> d = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">1</span>&gt;(t);        <span class="hljs-comment">// è·å–ç¬¬äºŒä¸ªå…ƒç´ </span><br>std::string s = std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">2</span>&gt;(t);   <span class="hljs-comment">// è·å–ç¬¬ä¸‰ä¸ªå…ƒç´ </span><br></code></pre></td></tr></table></figure><p><strong>è·å– <code>tuple</code> çš„å¤§å°ï¼š</strong></p><p>ä½ å¯ä»¥ä½¿ç”¨ <code>std::tuple_size</code> æ¥è·å– <code>tuple</code> ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>, std::string&gt; <span class="hljs-title">t</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">3.14</span>, <span class="hljs-string">&quot;Hello&quot;</span>)</span></span>;<br>std::cout &lt;&lt; <span class="hljs-string">&quot;Tuple size: &quot;</span> &lt;&lt; std::tuple_size&lt;<span class="hljs-keyword">decltype</span>(t)&gt;::value &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 3</span><br></code></pre></td></tr></table></figure><p><strong>è§£æ„ <code>tuple</code>ï¼š</strong></p><p>ä½ å¯ä»¥ä½¿ç”¨ <code>std::tie</code> æ¥è§£æ„ <code>tuple</code> ä¸­çš„å€¼ï¼Œæˆ–è€…ç›´æ¥é€šè¿‡ <code>std::get</code> æå–å¤šä¸ªå€¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>, std::string&gt; <span class="hljs-title">t</span><span class="hljs-params">(<span class="hljs-number">10</span>, <span class="hljs-number">3.14</span>, <span class="hljs-string">&quot;Hello&quot;</span>)</span></span>;<br><br><span class="hljs-comment">// è§£æ„ tuple</span><br><span class="hljs-type">int</span> a;<br><span class="hljs-type">double</span> b;<br>std::string c;<br>std::<span class="hljs-built_in">tie</span>(a, b, c) = t;<br><br>std::cout &lt;&lt; <span class="hljs-string">&quot;a: &quot;</span> &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot;, b: &quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-string">&quot;, c: &quot;</span> &lt;&lt; c &lt;&lt; std::endl;<br></code></pre></td></tr></table></figure><p><strong>scenarioï¼š</strong></p><ol><li><p><strong>å‡½æ•°è¿”å›å¤šä¸ªå€¼</strong>ï¼šä½¿ç”¨ <code>tuple</code> å¯ä»¥æ–¹ä¾¿åœ°åœ¨å‡½æ•°ä¸­è¿”å›å¤šä¸ªä¸åŒç±»å‹çš„å€¼ï¼Œè€Œæ— éœ€åˆ›å»ºè‡ªå®šä¹‰ç»“æ„ä½“ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::tuple&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt; <span class="hljs-title">getValues</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">make_tuple</span>(<span class="hljs-number">10</span>, <span class="hljs-number">3.14</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">auto</span> values = <span class="hljs-built_in">getValues</span>();<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;First value: &quot;</span> &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">0</span>&gt;(values) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Second value: &quot;</span> &lt;&lt; std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">1</span>&gt;(values) &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>å­˜å‚¨å¼‚æ„æ•°æ®</strong>ï¼šå½“ä½ éœ€è¦å­˜å‚¨å¼‚æ„æ•°æ®ï¼ˆä¸åŒç±»å‹çš„å…ƒç´ ï¼‰æ—¶ï¼Œ<code>tuple</code> æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨å®ƒæ¥å­˜å‚¨ä¸€ä¸ªäººçš„å¹´é¾„ã€åå­—å’Œèº«é«˜ç­‰ä¸åŒç±»å‹çš„æ•°æ®ã€‚</p></li><li><p><strong>å…ƒç»„è§£æ„å’Œæ³›å‹ç¼–ç¨‹</strong>ï¼š<code>std::tuple</code> å¸¸ç”¨äºæ¨¡æ¿ç¼–ç¨‹ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤šç±»å‹çš„è¿”å›å€¼æˆ–å…ƒç»„è§£æ„æ—¶ï¼Œèƒ½å¤Ÿæä¾›å¼ºå¤§çš„çµæ´»æ€§ã€‚</p></li></ol>          </div><h4 id="æ¨¡ç‰ˆçš„å®ä¾‹åŒ–å’Œå…·ä½“åŒ–"><a href="#æ¨¡ç‰ˆçš„å®ä¾‹åŒ–å’Œå…·ä½“åŒ–" class="headerlink" title="æ¨¡ç‰ˆçš„å®ä¾‹åŒ–å’Œå…·ä½“åŒ–"></a>æ¨¡ç‰ˆçš„å®ä¾‹åŒ–å’Œå…·ä½“åŒ–</h4><h5 id="éšå¼å®ä¾‹åŒ–"><a href="#éšå¼å®ä¾‹åŒ–" class="headerlink" title="éšå¼å®ä¾‹åŒ–"></a>éšå¼å®ä¾‹åŒ–</h5><p>å‡½æ•°æ¨¡æ¿çš„å®ä¾‹åŒ–é€šå¸¸ç”±<strong>ç¼–è¯‘å™¨è‡ªåŠ¨å®Œæˆ</strong>ï¼Œ ç¼–è¯‘å™¨æ ¹æ®å‡½æ•°è°ƒç”¨æ—¶çš„å®é™…å‚æ•°ç±»å‹æ¨æ–­å‡ºæ¨¡æ¿å‚æ•°çš„å€¼ï¼Œå°†æ¨¡æ¿å‚æ•°çš„å€¼ä»£å…¥å‡½æ•°æ¨¡æ¿ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªå¯æ‰§è¡Œçš„æ¨¡æ¿å‡½æ•°ã€‚ç±»æ¨¡æ¿æ²¡è¿™ä¹ˆå¹¸è¿ã€‚ç¼–è¯‘å™¨æ— æ³•æ ¹æ®å¯¹è±¡å®šä¹‰ç¡®å®šæ¨¡æ¿å®é™…å‚æ•°å€¼ã€‚ä¾‹å¦‚ï¼Œå®šä¹‰ <code>Array</code> ç±»å¯¹è±¡æ—¶ç»™å‡ºçš„æ˜¯ä»£è¡¨æ•°ç»„ä¸‹æ ‡èŒƒå›´çš„ä¸¤ä¸ªæ•´æ•°ï¼Œ ä»ä¸­æ— æ³•æ¨æ–­æ•°ç»„å…ƒç´ çš„ç±»å‹ï¼Œå› è€Œéœ€è¦<strong>å®šä¹‰å¯¹è±¡æ—¶æ˜ç¡®æŒ‡å‡ºæ¨¡æ¿å®é™…å‚æ•°çš„å€¼</strong>ã€‚</p><p>ä»¥<code>std::vector</code>ä¸ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">thetest</span><span class="hljs-params">(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)</span></span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:thetest)&#123;<br>        cout&lt;&lt;num&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/*è¾“å‡ºç»“æœ</span><br><span class="hljs-comment">3</span><br><span class="hljs-comment">3</span><br><span class="hljs-comment">3</span><br><span class="hljs-comment">3</span><br><span class="hljs-comment">3</span><br><span class="hljs-comment">*/</span><br><br></code></pre></td></tr></table></figure><p>åœ¨åˆå§‹åŒ–ä¸€ä¸ª<code>vector</code>å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦<strong>ç»™å‡ºç±»æ¨¡æ¿çš„å®é™…å‚æ•°è¡¨</strong>ï¼ˆå³<code>class Type</code>ï¼‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œç¼–è¯‘å™¨æ‰ä¼š<strong>éšå¼çš„æ ¹æ®æˆ‘ä»¬çš„æç¤ºç”Ÿæˆå¯¹åº”çš„ç¤ºä¾‹ç±»å’Œå¯¹è±¡</strong>ã€‚</p><p>å¦‚æœä½¿ç”¨<code>vector thetest(5,3);</code>çš„æ–¹å¼è¿›è¡Œå®šä¹‰ï¼Œä¼šäº§ç”Ÿå¦‚ä¸‹æŠ¥é”™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash">testcode_1.cpp: In <span class="hljs-keyword">function</span> <span class="hljs-string">&#x27;int main()&#x27;</span>:<br>testcode_1.cpp:15:12: error: missing template arguments before <span class="hljs-string">&#x27;thetest&#x27;</span><br>     vector thetest(5,3);<br>            ^~~~~~~<br>testcode_1.cpp:16:18: error: <span class="hljs-string">&#x27;thetest&#x27;</span> was not declared <span class="hljs-keyword">in</span> this scope<br>     <span class="hljs-keyword">for</span>(auto num:thetest)&#123;<br>                  ^~~~~~~<br>testcode_1.cpp:16:18: note: suggested alternative: <span class="hljs-string">&#x27;_heapset&#x27;</span><br>     <span class="hljs-keyword">for</span>(auto num:thetest)&#123;<br>                  ^~~~~~~<br>                  _heapset<br></code></pre></td></tr></table></figure><h5 id="æ˜¾ç¤ºå®ä¾‹åŒ–"><a href="#æ˜¾ç¤ºå®ä¾‹åŒ–" class="headerlink" title="æ˜¾ç¤ºå®ä¾‹åŒ–"></a>æ˜¾ç¤ºå®ä¾‹åŒ–</h5><p>å½“ä½¿ç”¨å…³é”®è¯<code>template</code>å¹¶æŒ‡å‡ºæ‰€éœ€ç±»å‹æ¥å£°æ˜ç±»çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆ<strong>ç±»å£°æ˜çš„æ˜¾å¼å®ä¾‹åŒ–</strong>ã€‚æ˜¾å¼å®ä¾‹åŒ–é€šçŸ¥ç¼–è¯‘å™¨ç”Ÿæˆç±»æ¨¡æ¿çš„å®Œæ•´å®ä¾‹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span>&#123;<br>    <span class="hljs-comment">//æ¨¡ç‰ˆç±»çš„å£°æ˜</span><br>&#125;<br><br><br><span class="hljs-keyword">template</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span>&lt;<span class="hljs-type">double</span>&gt;;<br><span class="hljs-comment">//æ˜¾å¼å®ä¾‹åŒ–ç”Ÿæˆå…·ä½“çš„ç±»</span><br></code></pre></td></tr></table></figure><h5 id="æ˜¾ç¤ºå…·ä½“åŒ–ï¼ˆExplicit-Specializationï¼‰"><a href="#æ˜¾ç¤ºå…·ä½“åŒ–ï¼ˆExplicit-Specializationï¼‰" class="headerlink" title="æ˜¾ç¤ºå…·ä½“åŒ–ï¼ˆExplicit Specializationï¼‰"></a>æ˜¾ç¤ºå…·ä½“åŒ–ï¼ˆExplicit Specializationï¼‰</h5><p>æ˜¾å¼å…·ä½“åŒ–æ˜¯æŒ‡ç‰¹å®šç±»å‹ï¼ˆç”¨äº<strong>æ›¿æ¢æ¨¡ç‰ˆä¸­çš„æ³›å‹</strong>ï¼‰çš„å®šä¹‰ã€‚è¿™ä¸€ç§æ“ä½œä¸ºæ³›å‹æ¨¡ç‰ˆæä¾›äº†æ›´çµæ´»çš„å¯æ“ä½œæ€§ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Generic version&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// æ˜¾å¼ç‰¹åŒ–ï¼šé’ˆå¯¹intç±»å‹</span><br><span class="hljs-keyword">template</span> &lt;&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>&lt;<span class="hljs-type">int</span>&gt; &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Specialized version for int&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass&lt;<span class="hljs-type">double</span>&gt; obj1; <span class="hljs-comment">// è°ƒç”¨é€šç”¨ç‰ˆæœ¬</span><br>    obj<span class="hljs-number">1.</span><span class="hljs-built_in">print</span>();<br>    <br>    MyClass&lt;<span class="hljs-type">int</span>&gt; obj2; <span class="hljs-comment">// è°ƒç”¨é’ˆå¯¹intç±»å‹çš„ç‰¹åŒ–ç‰ˆæœ¬</span><br>    obj<span class="hljs-number">2.</span><span class="hljs-built_in">print</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h5 id="éƒ¨åˆ†å…·ä½“åŒ–ï¼ˆPartial-Specializationï¼‰"><a href="#éƒ¨åˆ†å…·ä½“åŒ–ï¼ˆPartial-Specializationï¼‰" class="headerlink" title="éƒ¨åˆ†å…·ä½“åŒ–ï¼ˆPartial Specializationï¼‰"></a>éƒ¨åˆ†å…·ä½“åŒ–ï¼ˆPartial Specializationï¼‰</h5><p>éƒ¨åˆ†ç‰¹åŒ–æ˜¯æŒ‡å¯¹<strong>æ¨¡æ¿å‚æ•°çš„æŸäº›éƒ¨åˆ†è¿›è¡Œç‰¹åŒ–</strong>ï¼Œè€Œä¸éœ€è¦å®Œå…¨ç‰¹åŒ–æ•´ä¸ªæ¨¡æ¿ã€‚å®ƒå…è®¸é’ˆå¯¹ä¸€äº›ç‰¹å®šçš„ç±»å‹ç»„åˆæˆ–æ¨¡æ¿å‚æ•°æ¡ä»¶è¿›è¡Œç‰¹å®šå®ç°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> U&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Generic version&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// éƒ¨åˆ†ç‰¹åŒ–ï¼šé’ˆå¯¹Tæ˜¯æŒ‡é’ˆç±»å‹çš„æƒ…å†µ</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span>&lt;T*, <span class="hljs-type">int</span>&gt; &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Specialized version for pointer and int&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass&lt;<span class="hljs-type">double</span>, <span class="hljs-type">int</span>&gt; obj1; <span class="hljs-comment">// è°ƒç”¨é€šç”¨ç‰ˆæœ¬</span><br>    obj<span class="hljs-number">1.</span><span class="hljs-built_in">print</span>();<br>    <br>    MyClass&lt;<span class="hljs-type">int</span>*, <span class="hljs-type">int</span>&gt; obj2; <span class="hljs-comment">// è°ƒç”¨éƒ¨åˆ†ç‰¹åŒ–ç‰ˆæœ¬</span><br>    obj<span class="hljs-number">2.</span><span class="hljs-built_in">print</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Bash">Generic version<br>Specialized version <span class="hljs-keyword">for</span> pointer and int<br></code></pre></td></tr></table></figure><h4 id="æˆå‘˜æ¨¡ç‰ˆ"><a href="#æˆå‘˜æ¨¡ç‰ˆ" class="headerlink" title="æˆå‘˜æ¨¡ç‰ˆ"></a>æˆå‘˜æ¨¡ç‰ˆ</h4><p>æ¨¡æ¿å¯ç”¨ä½œ<strong>ç»“æ„ã€ç±»æˆ–æ¨¡æ¿ç±»çš„æˆå‘˜</strong>ã€‚è¦å®Œå…¨å®ç° STL çš„è®¾è®¡ï¼Œå¿…é¡»ä½¿ç”¨è¿™é¡¹ç‰¹æ€§ã€‚  </p><p><strong>æˆå‘˜æ¨¡æ¿ï¼ˆMember Templateï¼‰</strong>æ˜¯ C++ ä¸­çš„ä¸€ç§åŠŸèƒ½ï¼Œå…è®¸<strong>åœ¨ç±»ä¸­å®šä¹‰æ¨¡æ¿æˆå‘˜å‡½æ•°</strong>ã€‚è¿™æ ·ï¼Œç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥æ ¹æ®è°ƒç”¨æ—¶çš„ç±»å‹è‡ªåŠ¨å®ä¾‹åŒ–ï¼Œå…·å¤‡æ¨¡æ¿çš„çµæ´»æ€§ã€‚</p><p>æˆå‘˜æ¨¡æ¿çš„ä¸»è¦ä½œç”¨æ˜¯å®ç°æ ¹æ®ä¸åŒç±»å‹æä¾›ä¸åŒå®ç°çš„åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦ä¸ºæ¯ç§ç±»å‹æ‰‹åŠ¨ç¼–å†™å¤šä¸ªæˆå‘˜å‡½æ•°ã€‚æˆå‘˜æ¨¡æ¿ä¸ç±»æ¨¡æ¿çš„ç»“åˆä½¿ç”¨ï¼Œå¯ä»¥è®©ç±»å¯¹ä¸åŒç±»å‹çš„å¯¹è±¡å’Œæ•°æ®è¿›è¡Œé€šç”¨å¤„ç†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æˆå‘˜æ¨¡æ¿å‡½æ•°</span><br>    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> U&gt;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">(U value)</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass&lt;<span class="hljs-type">int</span>&gt; obj;<br>    obj.<span class="hljs-built_in">print</span>(<span class="hljs-number">42</span>);       <span class="hljs-comment">// ä¼ å…¥ int ç±»å‹</span><br>    obj.<span class="hljs-built_in">print</span>(<span class="hljs-number">3.14</span>);     <span class="hljs-comment">// ä¼ å…¥ double ç±»å‹</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>MyClass</code> æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œæ¥å—ä¸€ä¸ªç±»å‹ <code>T</code>ã€‚</li><li><code>print</code> æ˜¯ä¸€ä¸ªæˆå‘˜æ¨¡æ¿å‡½æ•°ï¼Œæ¥å—ä»»æ„ç±»å‹ <code>U</code> çš„å‚æ•°ã€‚</li><li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œåˆ†åˆ«ç”¨ <code>int</code> å’Œ <code>double</code> ç±»å‹è°ƒç”¨ <code>print</code>ï¼Œæˆå‘˜æ¨¡æ¿ä¼šæ ¹æ®ä¼ å…¥ç±»å‹è¿›è¡Œå®ä¾‹åŒ–ã€‚</li></ul><ol><li><strong>æ¨¡æ¿å‚æ•°åŒ–æˆå‘˜å‡½æ•°</strong>ï¼šæˆå‘˜æ¨¡æ¿ä½¿å¾—åŒä¸€ä¸ªæˆå‘˜å‡½æ•°å¯ä»¥æ ¹æ®è°ƒç”¨çš„ç±»å‹å®ä¾‹åŒ–ä¸åŒçš„å®ç°ã€‚</li><li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥ä½¿ç±»çš„æˆå‘˜å‡½æ•°é€‚åº”å¤šç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨ä¸ºæ¯ç§ç±»å‹ç¼–å†™é‡è½½å‡½æ•°ã€‚</li><li><strong>ä¸ç±»æ¨¡æ¿é…åˆä½¿ç”¨</strong>ï¼šé€šå¸¸<strong>æˆå‘˜æ¨¡æ¿</strong>æ˜¯ä¸<strong>ç±»æ¨¡æ¿</strong>é…åˆä½¿ç”¨çš„ï¼Œä½¿å¾—ç±»å’Œå…¶æˆå‘˜å‡½æ•°éƒ½å¯ä»¥æ³›åŒ–ã€‚</li></ol><blockquote><p>æˆå‘˜æ¨¡ç‰ˆç›¸å½“äºå¯¹ç±»ä¸­çš„æˆå‘˜å‡½æ•°ä½¿ç”¨<strong>å‡½æ•°æ¨¡ç‰ˆ</strong>ã€‚C++æ³›å‹çš„ä¸¤ç§<strong>æ¨¡æ¿æœºåˆ¶</strong>åœ¨æ­¤åˆ»å¾—åˆ°äº†ç»Ÿä¸€ã€‚</p></blockquote><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ›´åŠ å¤æ‚çš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// tempmemb.cpp -- template members</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::endl;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">beta</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> V&gt;  <span class="hljs-comment">// nested template class member</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">hold</span><br>    &#123;<br>    <span class="hljs-keyword">private</span>:<br>        V val;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">hold</span>(V v  = <span class="hljs-number">0</span>) : <span class="hljs-built_in">val</span>(v) &#123;&#125;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; cout &lt;&lt; val &lt;&lt; endl; &#125;<br>        <span class="hljs-function">V <span class="hljs-title">Value</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> val; &#125;<br>    &#125;;<br>    hold&lt;T&gt; q;             <span class="hljs-comment">// template object</span><br>    hold&lt;<span class="hljs-type">int</span>&gt; n;           <span class="hljs-comment">// template object</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">beta</span>( T t, <span class="hljs-type">int</span> i) : <span class="hljs-built_in">q</span>(t), <span class="hljs-built_in">n</span>(i) &#123;&#125;<br>    <span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> U&gt;   <span class="hljs-comment">// template method</span><br>    <span class="hljs-function">U <span class="hljs-title">blab</span><span class="hljs-params">(U u, T t)</span> </span>&#123; <span class="hljs-keyword">return</span> (n.<span class="hljs-built_in">Value</span>() + q.<span class="hljs-built_in">Value</span>()) * u / t; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Show</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; q.<span class="hljs-built_in">show</span>(); n.<span class="hljs-built_in">show</span>();&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">beta&lt;<span class="hljs-type">double</span>&gt; <span class="hljs-title">guy</span><span class="hljs-params">(<span class="hljs-number">3.5</span>, <span class="hljs-number">3</span>)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;T was set to double\n&quot;</span>;<br>    guy.<span class="hljs-built_in">Show</span>();<br>    cout &lt;&lt; <span class="hljs-string">&quot;V was set to T, which is double, then V was set to int\n&quot;</span>;<br>    cout &lt;&lt; guy.<span class="hljs-built_in">blab</span>(<span class="hljs-number">10</span>, <span class="hljs-number">2.3</span>) &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;U was set to int\n&quot;</span>;<br>    cout &lt;&lt; guy.<span class="hljs-built_in">blab</span>(<span class="hljs-number">10.0</span>, <span class="hljs-number">2.3</span>) &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;U was set to double\n&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Done\n&quot;</span>;<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¾“å‡ºç¤ºä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Bash">T was <span class="hljs-built_in">set</span> to double<br>3.5<br>3<br>V was <span class="hljs-built_in">set</span> to T, <span class="hljs-built_in">which</span> is double, <span class="hljs-keyword">then</span> V was <span class="hljs-built_in">set</span> to int<br>28<br>U was <span class="hljs-built_in">set</span> to int<br>28.2609<br>U was <span class="hljs-built_in">set</span> to double<br>Done<br></code></pre></td></tr></table></figure><p>æ¨¡æ¿ç±»<code>hold</code>æ˜¯<code>beta</code>ç±»çš„ç§æœ‰æˆå‘˜ï¼Œåœ¨æ­¤å¤„ä¸€å…±å®šä¹‰äº†ä¸‰ä¸ª<strong>æ¨¡ç‰ˆå‚æ•°</strong>Tï¼ŒVå’ŒUï¼Œåœ¨mainå‡½æ•°ä¸­ï¼Œè¯­å¥<code> beta&lt;double&gt; guy(3.5, 3);</code>å°†Tè®¾ç½®ä¸º<code>double</code>ç±»å‹ï¼Œå› æ­¤åœ¨guyï¼ˆæ˜¯ä¸€ä¸ªbetaç±»ï¼‰ä¸­æœ‰ä¸¤ä¸ªæ•°æ®æˆå‘˜ï¼š<code>hold&lt;double&gt;</code>å’Œ<code>hold&lt;int&gt;</code>ã€‚ï¼ˆåœ¨è¿™é‡Œæ¨¡ç‰ˆå‚æ•°Vå…ˆåè¢«<strong>éšå¼å®ä¾‹åŒ–</strong>ä¸º<code>int</code>å’Œ<code>double</code>ï¼‰æ¥ä¸‹æ¥æ‰§è¡Œè¯­å¥<code>guy.blab(10, 2.3)</code>ï¼Œæ¨¡ç‰ˆå‚æ•°Uè¢«<strong>éšå¼å®ä¾‹åŒ–</strong>ä¸º<code>int</code>ï¼ˆ<code>guy.blab(10, 2.3)</code>æ—¶ä¹Ÿç±»ä¼¼ï¼‰ã€‚</p><h4 id="å°†æ¨¡æ¿ç”¨ä½œå‚æ•°"><a href="#å°†æ¨¡æ¿ç”¨ä½œå‚æ•°" class="headerlink" title="å°†æ¨¡æ¿ç”¨ä½œå‚æ•°"></a>å°†æ¨¡æ¿ç”¨ä½œå‚æ•°</h4><p>å°†æ¨¡æ¿ç”¨ä½œå‚æ•°ï¼ˆTemplate as a Parameterï¼‰æ˜¯ C++ ä¸­çš„ä¸€ç§æŠ€æœ¯ï¼Œå…è®¸å°†æ¨¡æ¿æœ¬èº«ä½œä¸ºå‡½æ•°ã€ç±»æˆ–å…¶ä»–æ¨¡æ¿çš„å‚æ•°ã€‚è¿™ç§æŠ€æœ¯é€šå¸¸è¢«ç§°ä¸º <strong>æ¨¡æ¿æ¨¡æ¿å‚æ•°</strong>ã€‚å®ƒä½¿å¾—å¯ä»¥çµæ´»åœ°å°†ä¸€ä¸ªæ¨¡æ¿ä¼ é€’ç»™å¦ä¸€ä¸ªæ¨¡æ¿ï¼Œä»è€Œå®ç°é«˜åº¦çš„æ³›åŒ–å’Œå®šåˆ¶åŒ–ã€‚</p><p>å½“ä½ å°†æ¨¡æ¿ç”¨ä½œå‚æ•°æ—¶ï¼Œä½ å¯ä»¥ä¼ é€’<strong>ä¸€ä¸ªæ¨¡æ¿çš„ç±»å‹</strong>ï¼Œè€Œä¸æ˜¯å®é™…çš„ç±»å‹ã€‚è¿™å¯¹äºå¤„ç†æ¨¡æ¿ç±»æˆ–å‡½æ•°æ›´åŠ çµæ´»ï¼Œå…è®¸<strong>æ¨¡æ¿å‚æ•°ä¸ä»…æ˜¯ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯å…¶ä»–æ¨¡æ¿ç±»å‹</strong>ã€‚</p><blockquote><p>æœ‰ä¸€ç‚¹å¥—å¨ƒçš„æ„Ÿè§‰</p></blockquote><p><strong>ç¤ºä¾‹ 1ï¼šå°†æ¨¡æ¿ä½œä¸ºå‡½æ•°å‚æ•°</strong></p><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å°†ä¸€ä¸ªæ¨¡æ¿ç±»ä½œä¸ºå¦ä¸€ä¸ªæ¨¡æ¿å‡½æ•°çš„å‚æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// æ¨¡æ¿ç±»</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    T value;<br>    <span class="hljs-built_in">MyClass</span>(T v) : <span class="hljs-built_in">value</span>(v) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// ä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œæ¥å—æ¨¡æ¿ç±»ä½œä¸ºå‚æ•°</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br>    <span class="hljs-comment">//è¿™é‡Œæ¨¡ç‰ˆå‚æ•°Tä»£è¡¨ä¸€ä¸ªæ¨¡ç‰ˆç±»(åœ¨åç»­mainå‡½æ•°ä¸­ï¼ŒTè¢«éšå¼å®ä¾‹åŒ–ä¸ºMyClassè¿™ä¸ªæ¨¡æ¿ç±»)</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">callTemplateClass</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">T&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">obj</span><span class="hljs-params">(<span class="hljs-number">42</span>)</span></span>;  <span class="hljs-comment">// ä½¿ç”¨æ¨¡æ¿ç±» MyClass&lt;int&gt;</span><br>    obj.<span class="hljs-built_in">print</span>();     <span class="hljs-comment">// è¾“å‡º &quot;Value: 42&quot;</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">callTemplateClass</span>&lt;MyClass&gt;();  <span class="hljs-comment">// è°ƒç”¨æ—¶ä¼ é€’ MyClass ä½œä¸ºæ¨¡æ¿</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">Value: 42<br></code></pre></td></tr></table></figure><ul><li><code>MyClass</code> æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œæ¥å—ä¸€ä¸ªç±»å‹ <code>T</code>ã€‚</li><li><code>callTemplateClass</code> æ˜¯ä¸€ä¸ª<strong>æ¨¡æ¿å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªæ¨¡æ¿ç±»ä½œä¸ºå‚æ•°</strong>ã€‚<code>template &lt;template &lt;typename&gt; class T&gt;</code> è¡¨ç¤º <code>T</code> æ˜¯ä¸€ä¸ª<strong>æ¨¡æ¿æ¨¡æ¿å‚æ•°</strong>ã€‚</li><li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨ <code>callTemplateClass&lt;MyClass&gt;()</code>ï¼Œå°† <code>MyClass</code> ä½œä¸ºæ¨¡æ¿ä¼ é€’ç»™ <code>callTemplateClass</code> å‡½æ•°ã€‚</li></ul><blockquote><p>è¿™ç§è§„åˆ™æœ¬è´¨ä¸Šå¢æ·»äº†<strong>æ¨¡ç‰ˆå‚æ•°çš„å¤šæ ·æ€§å’Œçµæ´»æ€§</strong>ã€‚</p></blockquote><p><strong>ç¤ºä¾‹ 2ï¼šå°†æ¨¡æ¿ä½œä¸ºç±»å‚æ•°</strong></p><p>æ¨¡æ¿ä¹Ÿå¯ä»¥ä½œä¸ºç±»çš„æˆå‘˜ï¼Œå…è®¸ç±»åœ¨å®šä¹‰æ—¶æ¥å—æ¨¡æ¿ä½œä¸ºå‚æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæ¨¡æ¿ç±»</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    T value;<br>    <span class="hljs-built_in">MyClass</span>(T v) : <span class="hljs-built_in">value</span>(v) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œæ¥å—æ¨¡æ¿ä½œä¸ºå‚æ•°</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>&gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Wrapper</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    T&lt;<span class="hljs-type">int</span>&gt; obj;  <span class="hljs-comment">// ç”¨ T&lt;int&gt; æ¥å®ä¾‹åŒ–æ¨¡æ¿ç±»</span><br>    <span class="hljs-built_in">Wrapper</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">obj</span>(v) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> </span>&#123;<br>        obj.<span class="hljs-built_in">print</span>();<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">Wrapper&lt;MyClass&gt; <span class="hljs-title">w</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;  <span class="hljs-comment">// ä¼ é€’ MyClass ä½œä¸ºæ¨¡æ¿</span><br>    w.<span class="hljs-built_in">print</span>();  <span class="hljs-comment">// è¾“å‡º &quot;Value: 10&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>Wrapper</code> æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œæ¥å—ä¸€ä¸ªæ¨¡æ¿ç±»ä½œä¸ºå‚æ•°ï¼ˆ<code>template &lt;template &lt;typename&gt; class T&gt;</code>ï¼‰ã€‚</li><li><code>Wrapper</code> ç±»ä½¿ç”¨ <code>T&lt;int&gt;</code> æ¥å®ä¾‹åŒ–æ¨¡æ¿ç±»ï¼Œå¹¶é€šè¿‡ <code>obj.print()</code> æ¥è°ƒç”¨å®ƒçš„æˆå‘˜å‡½æ•°ã€‚</li><li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† <code>Wrapper&lt;MyClass&gt;</code> å¯¹è±¡ï¼Œå°† <code>MyClass</code> ä½œä¸ºæ¨¡æ¿ä¼ é€’ç»™ <code>Wrapper</code>ã€‚</li></ul><p><strong>ä½¿ç”¨æ¨¡æ¿ä½œä¸ºå‚æ•°çš„ä¼˜ç‚¹</strong></p><ol><li><strong>é«˜åº¦çµæ´»æ€§</strong>ï¼šå…è®¸ä¼ é€’ä¸åŒçš„æ¨¡æ¿ç±»æˆ–å‡½æ•°ï¼Œå¢å¼ºä»£ç çš„å¤ç”¨æ€§ã€‚</li><li><strong>é¿å…ä»£ç é‡å¤</strong>ï¼šé€šè¿‡æ¥å—æ¨¡æ¿æ¨¡æ¿å‚æ•°ï¼Œå¯ä»¥å‡å°‘å¯¹åŒç±»é€»è¾‘çš„å¤šæ¬¡å®ç°ï¼Œåªéœ€ä¸€ä¸ªæ¨¡æ¿å°±èƒ½å¤„ç†ä¸åŒçš„ç±»å‹æˆ–ç±»ã€‚</li><li><strong>æ³›åŒ–</strong>ï¼šé€šè¿‡ä½¿ç”¨æ¨¡æ¿æ¨¡æ¿å‚æ•°ï¼Œå¯ä»¥è®©ä»£ç å¯¹æ›´å¤šçš„ç±»å‹å’Œæ¨¡æ¿æ›´åŠ é€šç”¨ã€‚</li></ol><h2 id="Friend-Functions-and-Friend-Class"><a href="#Friend-Functions-and-Friend-Class" class="headerlink" title="Friend Functions and Friend Class"></a>Friend Functions and Friend Class</h2><h3 id="å‹å…ƒå‡½æ•°"><a href="#å‹å…ƒå‡½æ•°" class="headerlink" title="å‹å…ƒå‡½æ•°"></a>å‹å…ƒå‡½æ•°</h3><p>å‹å…ƒå‡½æ•°ï¼ˆ<strong>Friend Function</strong>ï¼‰æ˜¯ C++ ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–ç±»ï¼‰è®¿é—®å¦ä¸€ä¸ªç±»çš„ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ã€‚è™½ç„¶å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ï¼Œä½†å®ƒæœ¬èº«å¹¶ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ã€‚å‹å…ƒå‡½æ•°é€šå¸¸ç”¨äºæ“ä½œä¸€äº›ç±»å†…éƒ¨çš„ç»†èŠ‚ï¼Œä½†å®ƒå¯èƒ½ä¼šå¼•å…¥ä¸€äº›éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚</p><ul><li>è®©å‡½æ•°æˆä¸ºç±»çš„å‹å…ƒï¼Œå¯ä»¥èµ‹äºˆè¯¥å‡½æ•°ä¸ç±»çš„æˆå‘˜å‡½æ•°ç›¸åŒçš„è®¿é—®æƒé™ï¼ˆ<strong>è®¿é—®private</strong>ï¼‰</li><li>ä¾‹ï¼šå°†è¿ç®—ç¬¦é‡è½½ç¼–å†™æˆä¸€ä¸ªéæˆå‘˜å‡½æ•°</li><li>å‹å…ƒå‡½æ•°å…·æœ‰æˆå‘˜å‡½æ•°çš„æƒé™ï¼Œä½†<strong>ä½œä¸ºéæˆå‘˜å‡½æ•°ä¸èƒ½ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦è¿›è¡Œè°ƒç”¨</strong><ul><li>ä½¿ç”¨æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°ï¼Œè¿™æ›´åŠ é«˜æ•ˆ</li></ul></li><li><strong>åªæœ‰åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™éœ€è¦åŠ ä¸Šfriendå…³é”®è¯ï¼Œåœ¨å‡½æ•°å®šä¹‰æ—¶ä¸å¯ä»¥</strong></li></ul><h4 id="å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«"><a href="#å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«" class="headerlink" title="å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«"></a>å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«</h4><p>åœ¨æˆå‘˜å‡½æ•°ä¸­å®ç°è¿ç®—ç¬¦é‡è½½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; other) <span class="hljs-type">const</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Complex</span>(real + other.real, imag + other.imag);<br>    &#125;<br>    <span class="hljs-comment">//æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦ä¸­ï¼Œæ‰€éœ€çš„å‚æ•°æ•°ç›®æ¯”è¿ç®—ç¬¦ä½¿ç”¨çš„å‚æ•°æ•°ç›®å°‘ä¸€ä¸ªï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯è¢«éšå¼ä¼ é€’çš„è°ƒç”¨å¯¹è±¡(this æŒ‡é’ˆ)</span><br>    <span class="hljs-comment">// å…¶å®ƒæˆå‘˜å‡½æ•°å’Œæ•°æ®æˆå‘˜</span><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> real;<br>    <span class="hljs-type">double</span> imag;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>åœ¨éæˆå‘˜å‡½æ•°ä¸­å®ç°è¿ç®—ç¬¦é‡è½½ï¼ˆå‹å…ƒå‡½æ•°ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> real;<br>    <span class="hljs-type">double</span> imag;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Complex</span>(<span class="hljs-type">double</span> r = <span class="hljs-number">0.0</span>, <span class="hljs-type">double</span> i = <span class="hljs-number">0.0</span>) : <span class="hljs-built_in">real</span>(r), <span class="hljs-built_in">imag</span>(i) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜å‹å…ƒå‡½æ•°</span><br>    <span class="hljs-keyword">friend</span> Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; left, <span class="hljs-type">const</span> Complex&amp; right);<br>&#125;;<br><br></code></pre></td></tr></table></figure><h4 id="å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿"><a href="#å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿" class="headerlink" title="å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿"></a>å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿</h4><p>å‹å…ƒå‡½æ•°ç›¸å¯¹äºæˆå‘˜å‡½æ•°å…·æœ‰ä¸€äº›ç‰¹å®šçš„ä¼˜åŠ¿ï¼Œå°½ç®¡å®ƒä»¬æ‰“ç ´äº†ç±»çš„å°è£…åŸåˆ™ï¼Œä½†è¿™äº›ä¼˜åŠ¿åœ¨æŸäº›æƒ…å¢ƒä¸‹æ˜¯éå¸¸æœ‰ç”¨çš„ï¼š</p><ol><li><strong>æ“ä½œç¬¦é‡è½½</strong></li></ol><p>å‹å…ƒå‡½æ•°å¸¸ç”¨äºæ“ä½œç¬¦é‡è½½ï¼Œç‰¹åˆ«æ˜¯å½“æ“ä½œç¬¦éœ€è¦è®¿é—®ä¸¤ä¸ªä¸åŒç±»æˆ–ç±»å‹çš„å¯¹è±¡æ—¶ã€‚æˆå‘˜å‡½æ•°åªèƒ½é€šè¿‡ <code>this</code> æŒ‡é’ˆè®¿é—®å½“å‰å¯¹è±¡çš„æˆå‘˜ï¼Œè€Œå‹å…ƒå‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®ä¸¤ä¸ªå¯¹è±¡çš„ç§æœ‰æˆå‘˜ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> real;<br>    <span class="hljs-type">double</span> imag;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// ... å…¶ä»–æˆå‘˜å‡½æ•° ...</span><br>    <span class="hljs-keyword">friend</span> Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; a, <span class="hljs-type">const</span> Complex&amp; b);<br>&#125;;<br><br><span class="hljs-comment">// å‹å…ƒå‡½æ•°å®šä¹‰</span><br>Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; a, <span class="hljs-type">const</span> Complex&amp; b) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Complex</span>(a.real + b.real, a.imag + b.imag);<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç®€æ´æ€§</strong></li></ol><ul><li><strong>å…¨å±€å‡½æ•°</strong>ï¼šå‹å…ƒå‡½æ•°å¯ä»¥ä½œä¸ºå…¨å±€å‡½æ•°ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ä½¿ä»£ç æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ <code>operator+</code> ä½œä¸ºå‹å…ƒå‡½æ•°ï¼Œä½¿å¾—åŠ æ³•æ“ä½œçœ‹èµ·æ¥æ›´è‡ªç„¶ï¼Œä¸éœ€è¦é€šè¿‡å¯¹è±¡è°ƒç”¨ã€‚</li><li><strong>é¿å…ä¸å¿…è¦çš„æˆå‘˜å‡½æ•°</strong>ï¼šæœ‰æ—¶ï¼ŒæŸäº›æ“ä½œå¹¶ä¸é€‚åˆä½œä¸ºç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†ä»ç„¶éœ€è¦è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚å‹å…ƒå‡½æ•°å¯ä»¥æä¾›è¿™ç§è®¿é—®ï¼Œè€Œä¸éœ€è¦å¢åŠ ç±»çš„æˆå‘˜å‡½æ•°ã€‚</li></ul><ol start="3"><li><strong>å¯¹ç§°æ€§</strong></li></ol><ul><li>å‹å…ƒå‡½æ•°å¯ä»¥æä¾›æ“ä½œçš„å¯¹ç§°æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>operator==</code> çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ˜¯æˆå‘˜å‡½æ•°ï¼Œ<code>a == b</code> å’Œ <code>b == a</code> å¯èƒ½éœ€è¦ä¸åŒçš„å®ç°ï¼Œè€Œå‹å…ƒå‡½æ•°å¯ä»¥ä½¿è¿™ä¸¤ä¸ªæ“ä½œç­‰ä»·ã€‚</li></ul><ol start="4"><li><strong>å‡å°‘thisæŒ‡é’ˆçš„ä½¿ç”¨</strong></li></ol><ul><li>å‹å…ƒå‡½æ•°æ²¡æœ‰éšå¼çš„ <code>this</code> æŒ‡é’ˆï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥æé«˜æ•ˆç‡ï¼Œå› ä¸ºä¸éœ€è¦é¢å¤–çš„å‚æ•°ä¼ é€’ã€‚</li></ul><ol start="5"><li><strong>è®¿é—®ç§æœ‰æˆå‘˜è€Œä¸æ”¹å˜ç±»çš„æ¥å£</strong></li></ol><ul><li>å¦‚æœä½ éœ€è¦ä¸€ä¸ªå‡½æ•°è®¿é—®ç±»çš„æ•°æ®ï¼Œä½†ä¸æƒ³å°†è¿™ä¸ªå‡½æ•°ä½œä¸ºç±»çš„æˆå‘˜ï¼ˆå› ä¸ºå®ƒä¸å±äºç±»çš„é€»è¾‘éƒ¨åˆ†ï¼‰ï¼Œå‹å…ƒå‡½æ•°å¯ä»¥è®©ä½ å®ç°è¿™ä¸€ç‚¹ï¼Œè€Œä¸æ”¹å˜ç±»çš„å…¬å…±æ¥å£ã€‚</li></ul><ol start="6"><li><strong>è·¨ç±»è®¿é—®</strong></li></ol><ul><li>å‹å…ƒå‡½æ•°å¯ä»¥è¢«å¤šä¸ªç±»å£°æ˜ä¸ºå‹å…ƒï¼Œä»è€Œå…è®¸<strong>è¿™äº›ç±»ä¹‹é—´å…±äº«æ•°æ®ï¼Œè€Œä¸éœ€è¦é€šè¿‡å…¬å…±æ¥å£æˆ–ç»§æ‰¿</strong>ã€‚</li></ul><ol start="7"><li><strong>è®¾è®¡æ¨¡å¼çš„å®ç°</strong></li></ol><ul><li>åœ¨ä¸€äº›è®¾è®¡æ¨¡å¼ä¸­ï¼Œå¦‚æ¡¥æ¥æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ç­‰ï¼Œå‹å…ƒå‡½æ•°å¯ä»¥å¸®åŠ©å®ç°è·¨ç±»åä½œï¼Œè€Œæ— éœ€æš´éœ²ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚</li></ul><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><p>å°½ç®¡å‹å…ƒå‡½æ•°æœ‰è¿™äº›ä¼˜åŠ¿ï¼Œä½†å®ƒä»¬ä¹Ÿæœ‰ä¸€äº›æ½œåœ¨çš„ç¼ºç‚¹ï¼š</p><ul><li><strong>æ‰“ç ´å°è£…</strong>ï¼šå‹å…ƒå‡½æ•°å…è®¸éæˆå‘˜å‡½æ•°è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œå¯èƒ½ä¼šç ´åç±»çš„å°è£…æ€§ã€‚</li><li><strong>ä»£ç ç»´æŠ¤</strong>ï¼šå‹å…ƒå…³ç³»å¯èƒ½ä¼šä½¿ä»£ç çš„ç»´æŠ¤å˜å¾—å¤æ‚ï¼Œå› ä¸ºå®ƒå¢åŠ äº†ç±»çš„ä¾èµ–æ€§ã€‚</li><li><strong>æ»¥ç”¨</strong>ï¼šå¦‚æœä¸è°¨æ…ä½¿ç”¨ï¼Œå‹å…ƒå‡½æ•°å¯èƒ½ä¼šå¯¼è‡´ä»£ç çš„å¯è¯»æ€§å’Œç»“æ„æ€§ä¸‹é™ã€‚</li></ul><p>å› æ­¤ï¼Œåœ¨ä½¿ç”¨å‹å…ƒå‡½æ•°æ—¶ï¼Œåº”è¯¥è°¨æ…è€ƒè™‘æ˜¯å¦çœŸçš„éœ€è¦è¿™ç§è®¿é—®æƒé™ï¼Œå¹¶å°½é‡é™åˆ¶å‹å…ƒå‡½æ•°çš„æ•°é‡å’ŒèŒƒå›´ï¼Œä»¥ä¿æŒç±»çš„å°è£…æ€§å’Œä»£ç çš„æ¸…æ™°åº¦ã€‚</p><h3 id="å‹å…ƒç±»"><a href="#å‹å…ƒç±»" class="headerlink" title="å‹å…ƒç±»"></a>å‹å…ƒç±»</h3><p>åœ¨ C++ ä¸­ï¼Œ<code>friend</code> æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœºåˆ¶ï¼Œå®ƒå…è®¸æŸäº›å‡½æ•°æˆ–ç±»è®¿é—®å…¶ä»–ç±»çš„ç§æœ‰æˆå‘˜ã€‚<code>friend</code> ä¸»è¦æœ‰ä¸¤ç§å½¢å¼ï¼š<strong>å‹å…ƒå‡½æ•°</strong> å’Œ <strong>å‹å…ƒç±»</strong>ã€‚è¿™ä¸¤ç§æœºåˆ¶åœ¨è®¾è®¡æŸäº›å¤æ‚ç³»ç»Ÿæ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥è®©ä¸åŒç±»ä¹‹é—´è¿›è¡Œå¯†åˆ‡çš„åˆä½œï¼ŒåŒæ—¶ä¿æŒç±»å†…éƒ¨çš„å°è£…æ€§ã€‚</p><p><strong>å‹å…ƒç±»</strong> æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒè¢«å£°æ˜ä¸ºæŸä¸ªç±»çš„å‹å…ƒç±»ã€‚å‹å…ƒç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®è¯¥ç±»çš„ç§æœ‰æˆå‘˜ã€‚è¿™ç§æœºåˆ¶é€šå¸¸ç”¨äºè®¾è®¡ä¸¤ä¸ªç´§å¯†ç›¸å…³çš„ç±»ï¼Œå®ƒä»¬éœ€è¦äº’ç›¸è®¿é—®ç§æœ‰æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›æš´éœ²ç»™å¤–éƒ¨ã€‚</p><p><strong>å‹å…ƒç±»çš„åŸºæœ¬è¯­æ³•</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setA</span><span class="hljs-params">(A&amp; obj)</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> x;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">x</span>(val) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜ B ä¸ºå‹å…ƒç±»</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;<br>&#125;;<br><br><span class="hljs-comment">// B æ˜¯ A çš„å‹å…ƒç±»ï¼Œå¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">B::setA</span><span class="hljs-params">(A&amp; obj)</span> </span>&#123;<br>    obj.x = <span class="hljs-number">100</span>;  <span class="hljs-comment">// ç›´æ¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    B b;<br>    b.<span class="hljs-built_in">setA</span>(a);  <span class="hljs-comment">// B å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å‹å…ƒç±»çš„åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>è®¾è®¡å¤æ‚ç³»ç»Ÿ</strong>ï¼šå‹å…ƒç±»çš„ä½¿ç”¨å¯ä»¥è®©ä¸¤ä¸ªç±»ä¹‹é—´å…±äº«æ•°æ®å’ŒåŠŸèƒ½ï¼Œè€Œä¸æš´éœ²è¿™äº›æ•°æ®ç»™å…¶ä»–ç±»ã€‚ä¾‹å¦‚ï¼Œåœ¨æŸäº›åº“ä¸­ï¼Œå¯èƒ½æœ‰ä¸€ä¸ªç±»è´Ÿè´£ç®¡ç†èµ„æºï¼ˆå¦‚å†…å­˜ç®¡ç†ï¼‰ï¼Œå¦ä¸€ä¸ªç±»è´Ÿè´£ä½¿ç”¨è¿™äº›èµ„æºã€‚ä¸ºäº†å®ç°é«˜æ•ˆå’Œç´§å¯†çš„åˆä½œï¼Œè¿™ä¸¤ä¸ªç±»å¯èƒ½éœ€è¦äº’ç›¸è®¿é—®å¯¹æ–¹çš„ç§æœ‰æˆå‘˜ï¼Œè¿™æ—¶å¯ä»¥å°†å…¶ä¸­ä¸€ä¸ªç±»å£°æ˜ä¸ºå‹å…ƒç±»ã€‚</li><li><strong>å®ç°æˆå‘˜å…±äº«</strong>ï¼šå‹å…ƒç±»é€šå¸¸ç”¨äºéœ€è¦ç›¸äº’è®¿é—®æˆå‘˜æ•°æ®çš„ç±»ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸäº›ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å®ç°ä¸­ï¼Œå¦‚é“¾è¡¨ã€æ ‘ã€å›¾ç­‰ã€‚</li></ul><p><strong>å‹å…ƒç±»çš„è®¾è®¡ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span>;  <span class="hljs-comment">// å‰å‘å£°æ˜</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    Engine* engine;  <span class="hljs-comment">// Engine å¯¹è±¡æ˜¯ Car çš„ç§æœ‰æˆå‘˜</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Car</span>() : <span class="hljs-built_in">engine</span>(<span class="hljs-literal">nullptr</span>) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜ Engine ä¸ºå‹å…ƒç±»</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> horsepower;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Engine</span>(<span class="hljs-type">int</span> hp) : <span class="hljs-built_in">horsepower</span>(hp) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setCarEngine</span><span class="hljs-params">(Car&amp; car)</span> </span>&#123;<br>        car.engine = <span class="hljs-keyword">this</span>;  <span class="hljs-comment">// Engine å¯ä»¥è®¿é—® Car çš„ç§æœ‰æˆå‘˜</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showCarEngineInfo</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Car engine horsepower: &quot;</span> &lt;&lt; horsepower &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Engine</code> ç±»è¢«å£°æ˜ä¸º <code>Car</code> ç±»çš„å‹å…ƒç±»ï¼Œä½¿å¾— <code>Engine</code> ç±»èƒ½å¤Ÿè®¿é—® <code>Car</code> ç±»çš„ç§æœ‰æˆå‘˜ã€‚</p><h4 id="å‹å…ƒç±»ä¸ç»§æ‰¿"><a href="#å‹å…ƒç±»ä¸ç»§æ‰¿" class="headerlink" title="å‹å…ƒç±»ä¸ç»§æ‰¿"></a><strong>å‹å…ƒç±»ä¸ç»§æ‰¿</strong></h4><p>å‹å…ƒç±»ä¸ç»§æ‰¿ä¹‹é—´æœ‰ä¸€äº›ç‰¹åˆ«çš„å…³ç³»ã€‚è™½ç„¶å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„å…¬å…±å’Œä¿æŠ¤æˆå‘˜ï¼Œä½†<strong>å‹å…ƒå…³ç³»ä¸è¢«ç»§æ‰¿</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ<strong>æŸä¸ªç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å‹å…ƒç±»ï¼Œå®ƒå¹¶ä¸èƒ½è‡ªåŠ¨æˆä¸ºå…¶å­ç±»çš„å‹å…ƒç±»</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">value</span>(val) &#123;&#125;<br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;  <span class="hljs-comment">// B æ˜¯ A çš„å‹å…ƒç±»</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">public</span> A &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">C</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">A</span>(val) &#123;&#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showValue</span><span class="hljs-params">(A&amp; obj)</span> </span>&#123;<br>        std::cout &lt;&lt; obj.value &lt;&lt; std::endl;  <span class="hljs-comment">// B å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    B b;<br>    b.<span class="hljs-built_in">showValue</span>(a);  <span class="hljs-comment">// æ­£å¸¸ï¼ŒB å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br><br>    <span class="hljs-function">C <span class="hljs-title">c</span><span class="hljs-params">(<span class="hljs-number">20</span>)</span></span>;<br>    <span class="hljs-comment">// b.showValue(c);  // é”™è¯¯ï¼ŒC æ²¡æœ‰ç»§æ‰¿ B å¯¹ A çš„å‹å…ƒå…³ç³»</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>B</code> æ˜¯ <code>A</code> çš„å‹å…ƒç±»ï¼Œä½† <code>C</code> å¹¶æ²¡æœ‰ç»§æ‰¿ <code>B</code> å¯¹ <code>A</code> çš„å‹å…ƒå…³ç³»ï¼Œå› æ­¤ <code>B</code> æ— æ³•è®¿é—® <code>C</code> çš„ç§æœ‰æˆå‘˜ã€‚</p><h4 id="å‹å…ƒä¸å°è£…"><a href="#å‹å…ƒä¸å°è£…" class="headerlink" title="å‹å…ƒä¸å°è£…"></a><strong>å‹å…ƒä¸å°è£…</strong></h4><p>å°½ç®¡ <code>friend</code> å…è®¸ç±»å¤–éƒ¨çš„å‡½æ•°å’Œç±»è®¿é—®ç§æœ‰æˆå‘˜ï¼Œä½†å®ƒä»ç„¶ä¿æŒäº†ä¸€å®šçš„å°è£…æ€§ã€‚åœ¨è®¾è®¡æ—¶ï¼Œåº”æ³¨æ„ä¸è¦è¿‡åº¦ä½¿ç”¨å‹å…ƒå…³ç³»ï¼Œå› ä¸ºè¿‡å¤šçš„å‹å…ƒå¯èƒ½ä¼šç ´åç±»çš„å°è£…æ€§ï¼Œå¢åŠ ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå¯¼è‡´ç»´æŠ¤å›°éš¾ã€‚</p><ul><li><strong>é€‚åº¦ä½¿ç”¨å‹å…ƒ</strong>ï¼šåªæœ‰åœ¨ç¡®å®éœ€è¦ç±»ä¹‹é—´ç´§å¯†åˆä½œæ—¶ï¼Œæ‰åº”è€ƒè™‘ä½¿ç”¨å‹å…ƒå…³ç³»ã€‚å°¤å…¶æ˜¯å½“æŸäº›å‡½æ•°éœ€è¦è®¿é—®ç±»çš„å†…éƒ¨ç»†èŠ‚æ—¶ï¼Œå‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»å¯ä»¥æä¾›éå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚</li><li><strong>å‡å°‘å‹å…ƒçš„ä½¿ç”¨</strong>ï¼šä¸æ¨èéšæ„å°†å¤§é‡çš„ç±»æˆ–å‡½æ•°å£°æ˜ä¸ºå‹å…ƒï¼Œå°½é‡ä¿æŒç±»çš„å°è£…æ€§ï¼Œä½¿å…¶æ›´å…·ç‹¬ç«‹æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li></ul><h3 id="æ›´åŠ å¤æ‚çš„å‹å…ƒå…³ç³»"><a href="#æ›´åŠ å¤æ‚çš„å‹å…ƒå…³ç³»" class="headerlink" title="æ›´åŠ å¤æ‚çš„å‹å…ƒå…³ç³»"></a>æ›´åŠ å¤æ‚çš„å‹å…ƒå…³ç³»</h3><p>åœ¨ä¸Šæ–‡æˆ‘ä»¬ä»‹ç»äº†ä¸¤ç§å‹å…ƒçš„ä½¿ç”¨ï¼š<strong>å‹å…ƒç±»å’Œå‹å…ƒå‡½æ•°</strong>ã€‚å‹å…ƒå‡½æ•°å…·æœ‰ä½œä¸ºå¤–éƒ¨å‡½æ•°è®¿é—®ç±»å†…ç§æœ‰æ•°æ®æˆå‘˜çš„ç‰¹æƒï¼Œè€Œå‹å…ƒç±»å…·æœ‰<strong>æ›´å¤šçš„ç‰¹æƒ</strong>ã€‚å¯ä»¥å®ç°<strong>ç±»ä¹‹é—´çš„æ•°æ®å…±äº«</strong>ã€‚ä½†æ˜¯ï¼Œ<strong>ç±»å‹å…ƒçš„å®ç°</strong>åœ¨ä¸€å®šç¨‹åº¦ä¸Šä¹ŸæŠ¹æ€äº†ç±»ä¹‹é—´æ•°æ®çš„å®‰å…¨æ€§ï¼Œä¸ç¬¦åˆOOPä¸­<strong>å°è£…</strong>çš„åŸºæœ¬ç†å¿µã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å°†æ•´ä¸ªç±»è®¾ç½®ä¸ºå‹å…ƒï¼Œè€Œæ˜¯åªå°†<strong>å¦ä¸€ä¸ªç±»çš„æˆå‘˜å‡½æ•°è®¾ç½®ä¸ºå‹å…ƒï¼Œé™åˆ¶è¿™ç§ç‰¹æƒçš„ä½¿ç”¨</strong>ï¼Œä¿è¯å®‰å…¨æ€§ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼Œä¸‹æ–‡ä»£ç ç»™å‡ºäº†ç”µè§†æœºå’Œé¥æ§å™¨çš„ç±»å®ç°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// tvfm.h -- Tv and Remote classes using a friend member</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> TVFM_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TVFM_H_</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tv</span>;                       <span class="hljs-comment">// forward declaration</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Remote</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">State</span>&#123;Off, On&#125;;<br>    <span class="hljs-keyword">enum</span> &#123;MinVal,MaxVal = <span class="hljs-number">20</span>&#125;;<br>    <span class="hljs-keyword">enum</span> &#123;Antenna, Cable&#125;;<br>    <span class="hljs-keyword">enum</span> &#123;TV, DVD&#125;;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> mode;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Remote</span>(<span class="hljs-type">int</span> m = TV) : <span class="hljs-built_in">mode</span>(m) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">volup</span><span class="hljs-params">(Tv &amp; t)</span></span>;         <span class="hljs-comment">// prototype only</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">voldown</span><span class="hljs-params">(Tv &amp; t)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onoff</span><span class="hljs-params">(Tv &amp; t)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">chanup</span><span class="hljs-params">(Tv &amp; t)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">chandown</span><span class="hljs-params">(Tv &amp; t)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_mode</span><span class="hljs-params">(Tv &amp; t)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_input</span><span class="hljs-params">(Tv &amp; t)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_chan</span><span class="hljs-params">(Tv &amp; t, <span class="hljs-type">int</span> c)</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Tv</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::set_chan</span><span class="hljs-params">(Tv &amp; t, <span class="hljs-type">int</span> c)</span></span>;<br>    <span class="hljs-keyword">enum</span> <span class="hljs-title class_">State</span>&#123;Off, On&#125;;<br>    <span class="hljs-keyword">enum</span> &#123;MinVal,MaxVal = <span class="hljs-number">20</span>&#125;;<br>    <span class="hljs-keyword">enum</span> &#123;Antenna, Cable&#125;;<br>    <span class="hljs-keyword">enum</span> &#123;TV, DVD&#125;;<br><br>    <span class="hljs-built_in">Tv</span>(<span class="hljs-type">int</span> s = Off, <span class="hljs-type">int</span> mc = <span class="hljs-number">125</span>) : <span class="hljs-built_in">state</span>(s), <span class="hljs-built_in">volume</span>(<span class="hljs-number">5</span>),<br>        <span class="hljs-built_in">maxchannel</span>(mc), <span class="hljs-built_in">channel</span>(<span class="hljs-number">2</span>), <span class="hljs-built_in">mode</span>(Cable), <span class="hljs-built_in">input</span>(TV) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">onoff</span><span class="hljs-params">()</span> </span>&#123;state = (state == On)? Off : On;&#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">ison</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> state == On;&#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">volup</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">voldown</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">chanup</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">chandown</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_mode</span><span class="hljs-params">()</span> </span>&#123;mode = (mode == Antenna)? Cable : Antenna;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_input</span><span class="hljs-params">()</span> </span>&#123;input = (input == TV)? DVD : TV;&#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">settings</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> state;<br>    <span class="hljs-type">int</span> volume;<br>    <span class="hljs-type">int</span> maxchannel;<br>    <span class="hljs-type">int</span> channel;<br>    <span class="hljs-type">int</span> mode;<br>    <span class="hljs-type">int</span> input;<br>&#125;;<br><br><span class="hljs-comment">// Remote methods as inline functions</span><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">bool</span> <span class="hljs-title">Remote::volup</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123; <span class="hljs-keyword">return</span> t.<span class="hljs-built_in">volup</span>();&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">bool</span> <span class="hljs-title">Remote::voldown</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123; <span class="hljs-keyword">return</span> t.<span class="hljs-built_in">voldown</span>();&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::onoff</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123; t.<span class="hljs-built_in">onoff</span>(); &#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::chanup</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123;t.<span class="hljs-built_in">chanup</span>();&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::chandown</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123;t.<span class="hljs-built_in">chandown</span>();&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::set_mode</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123;t.<span class="hljs-built_in">set_mode</span>();&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::set_input</span><span class="hljs-params">(Tv &amp; t)</span> </span>&#123;t.<span class="hljs-built_in">set_input</span>();&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">Remote::set_chan</span><span class="hljs-params">(Tv &amp; t, <span class="hljs-type">int</span> c)</span> </span>&#123;t.channel = c;&#125; <br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><p>é¥æ§å™¨å¯ä»¥è®¿é—®ç”µè§†æœºçš„ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬è‡ªç„¶æƒ³åˆ°å¯ä»¥æŠŠé¥æ§å™¨ç±»è®¾ç½®ä¸ºç”µè§†æœºç±»çš„å‹å…ƒç±»ï¼Œä½†æ˜¯è¿™æ ·çš„æ“ä½œä½¿å®‰å…¨æ€§é™ä½ï¼ˆæ¯•ç«Ÿç”µè§†æœºè¿˜æœ‰å¾ˆå¤šé¥æ§å™¨å®Œæˆä¸äº†çš„æ“ä½œï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¼˜åŒ–ï¼Œå°†<code>Remote::set_chan</code>ä½œä¸ºTvç±»çš„å‹å…ƒå‡½æ•°ï¼Œä½¿å…¶ä½œä¸º<strong>å”¯ä¸€éœ€è¦å‹å…ƒçš„æ–¹æ³•å®ç°</strong>ã€‚</p><p>åŸºäºè¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å‹å…ƒçš„å®šä¹‰å’Œå£°æ˜åšä¸€äº›ä¿®æ”¹ã€‚é¦–å…ˆï¼Œå°±åƒå‡½æ•°å£°æ˜ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦<code>class Tv</code>è¯­å¥æ¥å®ç°<strong>å‰ç½®å£°æ˜ï¼ˆforward declarationï¼‰</strong>ã€‚åŒæ—¶ï¼Œåœ¨<code>Remote</code>ç±»çš„å‡½æ•°å®šä¹‰ä¸­åŒ…å«<code>Tv</code>ç±»çš„å‚æ•°åˆ—è¡¨ï¼Œå› æ­¤<strong>éœ€è¦å°†Tvç±»çš„å£°æ˜æå‰åˆ°Remoteç±»çš„å‡½æ•°å®šä¹‰ä¹‹å‰ã€‚</strong></p><p>å†…è”å‡½æ•°çš„é“¾æ¥æ€§æ˜¯å†…éƒ¨çš„ï¼Œè¿™æ„å‘³ç€<strong>å‡½æ•°å®šä¹‰å¿…é¡»åœ¨ä½¿ç”¨å‡½æ•°çš„æ–‡ä»¶</strong>ä¸­ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå†…è”å®šä¹‰ä½äºå¤´æ–‡ä»¶ä¸­ï¼Œå› æ­¤åœ¨ä½¿ç”¨å‡½æ•°çš„æ–‡ä»¶ä¸­åŒ…å«å¤´æ–‡ä»¶å¯ç¡®ä¿å°†å®šä¹‰æ”¾åœ¨æ­£ç¡®çš„åœ°æ–¹ã€‚ä¹Ÿå¯ä»¥å°†å®šä¹‰æ”¾åœ¨å®ç°æ–‡ä»¶ä¸­ï¼Œä½†å¿…é¡»åˆ é™¤å…³é”®å­— <code>inline</code>ï¼Œè¿™æ ·å‡½æ•°çš„é“¾æ¥æ€§å°†æ˜¯å¤–éƒ¨çš„  </p><blockquote><p>æ€»ä¹‹å°±ä¸€ä¸ªåŸåˆ™ï¼Œ<strong>åœ¨ä½¿ç”¨å¯¹åº”çš„ç±»çš„æ—¶å€™ç¼–è¯‘å™¨åº”è¯¥å·²ç»çœ‹åˆ°å¯¹åº”çš„å†…å®¹ï¼</strong></p></blockquote><h4 id="äº’ä¸ºå‹å…ƒ"><a href="#äº’ä¸ºå‹å…ƒ" class="headerlink" title="äº’ä¸ºå‹å…ƒ"></a>äº’ä¸ºå‹å…ƒ</h4><p>é™¤æœ¬ç« å‰é¢è®¨è®ºçš„ï¼Œè¿˜æœ‰å…¶ä»–å‹å…ƒå’Œç±»çš„ç»„åˆå½¢å¼ï¼Œä¸‹é¢ç®€è¦åœ°ä»‹ç»å…¶ä¸­çš„ä¸€äº›ã€‚</p><p>å‡è®¾ç”±äºæŠ€æœ¯è¿›æ­¥ï¼Œå‡ºç°äº†äº¤äº’å¼é¥æ§å™¨ã€‚ä¾‹å¦‚ï¼Œäº¤äº’å¼é¥æ§å™¨è®©æ‚¨èƒ½å¤Ÿå›ç­”ç”µè§†èŠ‚ç›®ä¸­çš„é—®é¢˜ï¼Œå¦‚æœå›ç­”é”™è¯¯ï¼Œç”µè§†å°†åœ¨æ§åˆ¶å™¨ä¸Šäº§ç”Ÿå—¡å—¡å£°ã€‚å¿½ç•¥ç”µè§†ä½¿ç”¨è¿™ç§è®¾æ–½å®‰æ’è§‚ä¼—è¿›å…¥èŠ‚ç›®çš„å¯èƒ½æ€§ï¼Œæˆ‘ä»¬åªçœ‹ C++çš„ç¼–ç¨‹æ–¹é¢ã€‚æ–°çš„æ–¹æ¡ˆå°†å—ç›Šäºç›¸äº’çš„å‹æƒ…ï¼Œä¸€äº› Remote æ–¹æ³•èƒ½å¤Ÿåƒå‰é¢é‚£æ ·å½±å“ Tv å¯¹è±¡ï¼Œè€Œä¸€äº› Tv æ–¹æ³•ä¹Ÿèƒ½å½±å“ Remote å¯¹è±¡ã€‚è¿™å¯ä»¥é€šè¿‡è®©<strong>ç±»å½¼æ­¤æˆä¸ºå¯¹æ–¹çš„å‹å…ƒ</strong>æ¥å®ç°ï¼Œå³é™¤äº† Remote æ˜¯ Tv çš„å‹å…ƒå¤–ï¼Œ Tvè¿˜æ˜¯ Remote çš„å‹å…ƒã€‚éœ€è¦è®°ä½çš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹äºä½¿ç”¨ Remote å¯¹è±¡çš„ Tv æ–¹æ³•ï¼Œå…¶åŸå‹å¯åœ¨ Remote ç±»å£°æ˜ä¹‹å‰å£°æ˜ï¼Œä½†å¿…é¡»åœ¨ Remote ç±»å£°æ˜ä¹‹åå®šä¹‰ï¼Œä»¥ä¾¿ç¼–è¯‘å™¨æœ‰è¶³å¤Ÿçš„ä¿¡æ¯æ¥ç¼–è¯‘è¯¥æ–¹æ³•ã€‚</p><p><img src="/posts/Code-Reuse-in-OOP/friend.png" alt="äº’ä¸ºå‹å…ƒ"></p><h4 id="å…±åŒçš„å‹å…ƒ"><a href="#å…±åŒçš„å‹å…ƒ" class="headerlink" title="å…±åŒçš„å‹å…ƒ"></a>å…±åŒçš„å‹å…ƒ</h4><p>éœ€è¦ä½¿ç”¨å‹å…ƒçš„å¦ä¸€ç§æƒ…å†µæ˜¯ï¼Œ<strong>å‡½æ•°éœ€è¦è®¿é—®ä¸¤ä¸ªç±»çš„ç§æœ‰æ•°æ®</strong>ã€‚ä»é€»è¾‘ä¸Šçœ‹ï¼Œè¿™æ ·çš„å‡½æ•°åº”æ˜¯æ¯ä¸ªç±»çš„æˆå‘˜å‡½æ•°ï¼Œä½†è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç±»çš„æˆå‘˜ï¼ŒåŒæ—¶æ˜¯å¦ä¸€ä¸ªç±»çš„å‹å…ƒï¼Œä½†æœ‰æ—¶<strong>å°†å‡½æ•°ä½œä¸ºä¸¤ä¸ªç±»çš„å‹å…ƒæ›´åˆç†</strong>ã€‚ä¾‹å¦‚ï¼Œå‡å®šæœ‰ä¸€ä¸ª Probe ç±»å’Œä¸€ä¸ª Analyzer ç±»ï¼Œå‰è€…è¡¨ç¤ºæŸç§å¯ç¼–ç¨‹çš„æµ‹é‡è®¾å¤‡ï¼Œåè€…è¡¨ç¤ºæŸç§å¯ç¼–ç¨‹çš„åˆ†æè®¾å¤‡ã€‚  </p><p><img src="/posts/Code-Reuse-in-OOP/frineds.png" alt="å…±åŒçš„å‹å…ƒ"></p><h3 id="æ¨¡æ¿ç±»å’Œå‹å…ƒ"><a href="#æ¨¡æ¿ç±»å’Œå‹å…ƒ" class="headerlink" title="æ¨¡æ¿ç±»å’Œå‹å…ƒ"></a>æ¨¡æ¿ç±»å’Œå‹å…ƒ</h3><p>æ¨¡æ¿ç±»å£°æ˜ä¹Ÿå¯ä»¥æœ‰å‹å…ƒã€‚æ¨¡æ¿çš„å‹å…ƒåˆ† 3 ç±»ï¼š</p><ul><li><strong>éæ¨¡æ¿å‹å…ƒ</strong>ï¼›</li><li><strong>çº¦æŸï¼ˆboundï¼‰æ¨¡æ¿å‹å…ƒ</strong>ï¼Œå³å‹å…ƒçš„ç±»å‹å–å†³äºç±»è¢«<strong>å®ä¾‹åŒ–</strong>æ—¶çš„ç±»å‹ï¼›</li><li><strong>éçº¦æŸï¼ˆunboundï¼‰æ¨¡æ¿å‹å…ƒ</strong>ï¼Œå³å‹å…ƒçš„æ‰€æœ‰å…·ä½“åŒ–éƒ½æ˜¯ç±»çš„æ¯ä¸€ä¸ªå…·ä½“åŒ–çš„å‹å…ƒã€‚</li></ul><h5 id="éæ¨¡ç‰ˆå‹å…ƒ"><a href="#éæ¨¡ç‰ˆå‹å…ƒ" class="headerlink" title="éæ¨¡ç‰ˆå‹å…ƒ"></a>éæ¨¡ç‰ˆå‹å…ƒ</h5><p>åœ¨ C++ ä¸­ï¼Œ<strong>æ¨¡æ¿ç±»çš„éæ¨¡æ¿å‹å…ƒå‡½æ•°</strong>æ˜¯æŒ‡ä¸€ä¸ª<strong>éæ¨¡æ¿å‡½æ•°</strong>è¢«å£°æ˜ä¸ºä¸€ä¸ªæ¨¡æ¿ç±»çš„å‹å…ƒã€‚è¿™æ ·ï¼Œéæ¨¡æ¿å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®æ¨¡æ¿ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ã€‚ä¸æ™®é€šçš„å‹å…ƒå‡½æ•°ç±»ä¼¼ï¼Œéæ¨¡æ¿å‹å…ƒå‡½æ•°å…è®¸ç‰¹å®šçš„å‡½æ•°è®¿é—®ç±»çš„å†…éƒ¨å®ç°ï¼Œä½†åœ¨æ¨¡æ¿ç±»ä¸­ï¼Œå®ƒä»¬<strong>å¹¶ä¸ä¾èµ–äºæ¨¡æ¿å‚æ•°</strong>ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¨¡æ¿ç±» <code>MyClass</code>ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªç§æœ‰æˆå‘˜ <code>value</code>ï¼Œå¹¶å¸Œæœ›å®šä¹‰ä¸€ä¸ªéæ¨¡æ¿å‡½æ•°æ¥è®¿é—®å®ƒã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    T value;<br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(T v) : <span class="hljs-built_in">value</span>(v) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜ä¸€ä¸ªéæ¨¡æ¿å‹å…ƒå‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-title">printValue</span><span class="hljs-params">(<span class="hljs-type">const</span> MyClass&lt;<span class="hljs-type">int</span>&gt;&amp; obj)</span></span>;  <span class="hljs-comment">// åªå¯¹ MyClass&lt;int&gt; ç±»å‹çš„å¯¹è±¡æœ‰æ•ˆ</span><br>&#125;;<br><br><span class="hljs-comment">// éæ¨¡æ¿å‹å…ƒå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printValue</span><span class="hljs-params">(<span class="hljs-type">const</span> MyClass&lt;<span class="hljs-type">int</span>&gt;&amp; obj)</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; obj.value &lt;&lt; endl;  <span class="hljs-comment">// å¯ä»¥è®¿é—® MyClass&lt;int&gt; çš„ç§æœ‰æˆå‘˜</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyClass&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">obj</span><span class="hljs-params">(<span class="hljs-number">42</span>)</span></span>;  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª MyClass&lt;int&gt; ç±»å‹çš„å¯¹è±¡</span><br>    <span class="hljs-built_in">printValue</span>(obj);       <span class="hljs-comment">// è°ƒç”¨éæ¨¡æ¿å‹å…ƒå‡½æ•°ï¼Œæ‰“å°å€¼</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol><li><code>MyClass</code> æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œæ¥å—ç±»å‹ <code>T</code> ä½œä¸ºæ¨¡æ¿å‚æ•°ï¼Œå¹¶åŒ…å«ä¸€ä¸ªç§æœ‰æˆå‘˜ <code>value</code>ã€‚</li><li><code>printValue</code> æ˜¯ä¸€ä¸ªéæ¨¡æ¿å‡½æ•°ï¼Œå®ƒè¢«å£°æ˜ä¸º <code>MyClass&lt;int&gt;</code> çš„å‹å…ƒå‡½æ•°ã€‚ç”±äº <code>printValue</code> åªä¸ <code>MyClass&lt;int&gt;</code> ç›¸å…³ï¼Œå› æ­¤å®ƒçš„å‚æ•°ç±»å‹ä¸º <code>MyClass&lt;int&gt;</code>ï¼Œè€Œä¸æ˜¯æ¨¡æ¿ç±»å‹ <code>T</code>ã€‚</li><li>åœ¨ <code>main</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>MyClass&lt;int&gt;</code> ç±»å‹çš„å¯¹è±¡ï¼Œå¹¶é€šè¿‡ <code>printValue</code> è®¿é—®å…¶ç§æœ‰æˆå‘˜ã€‚</li></ol><p><strong>æ³¨æ„ç‚¹</strong></p><ul><li><strong>éæ¨¡æ¿å‹å…ƒå‡½æ•°çš„ç±»å‹é™å®š</strong>ï¼šéæ¨¡æ¿å‹å…ƒå‡½æ•°åªèƒ½è®¿é—®<strong>ç‰¹å®šæ¨¡æ¿å®ä¾‹åŒ–çš„ç±»çš„æˆå‘˜</strong>ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<code>printValue</code> åªèƒ½ä½œä¸º <code>MyClass&lt;int&gt;</code> çš„å‹å…ƒå‡½æ•°ï¼Œè€Œæ— æ³•è®¿é—®å…¶ä»–ç±»å‹å®ä¾‹åŒ–çš„ <code>MyClass</code> å¯¹è±¡ï¼ˆä¾‹å¦‚ <code>MyClass&lt;double&gt;</code>ï¼‰ã€‚</li><li><strong>æ¨¡æ¿ç±»å’Œéæ¨¡æ¿å‹å…ƒå‡½æ•°çš„ç»“åˆ</strong>ï¼šéæ¨¡æ¿å‹å…ƒå‡½æ•°ä¸æ¨¡æ¿ç±»çš„ç»“åˆéœ€è¦å¯¹ç‰¹å®šç±»å‹çš„æ¨¡æ¿å®ä¾‹è¿›è¡Œè®¿é—®ï¼Œå› æ­¤å®ƒé€šå¸¸ä¸å¦‚æ¨¡æ¿å‹å…ƒå‡½æ•°çµæ´»ã€‚ä½†å®ƒåœ¨æŸäº›åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚å½“<strong>ä½ åªå¸Œæœ›ç‰¹å®šç±»å‹çš„æ¨¡æ¿ç±»æš´éœ²å†…éƒ¨å®ç°æ—¶</strong>ã€‚</li></ul><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œéæ¨¡ç‰ˆå‹å…ƒå‡½æ•°å’Œæ™®é€šçš„å‹å…ƒå‡½æ•°æ²¡æœ‰åŒºåˆ«ï¼ˆé’ˆå¯¹<strong>ç‰¹å®šå®ä¾‹åŒ–åçš„å‹å…ƒå‡½æ•°</strong>ï¼‰ï¼Œè¿™æ ·åšä¸€å®šç¨‹åº¦ä¸Šç‰ºç‰²äº†æ³›å‹ç¼–ç¨‹çš„<strong>é€šç”¨æ€§</strong>ï¼Œä½†å¯ä»¥å¯¹ç‰¹å®šç±»å‹åš<strong>æ›´ç²¾ç»†çš„æ“ä½œ</strong>ã€‚</p></blockquote><h5 id="çº¦æŸå‹å…ƒ"><a href="#çº¦æŸå‹å…ƒ" class="headerlink" title="çº¦æŸå‹å…ƒ"></a>çº¦æŸå‹å…ƒ</h5><p>ä¸ºçº¦æŸæ¨¡æ¿å‹å…ƒä½œå‡†å¤‡ï¼Œè¦ä½¿<strong>ç±»çš„æ¯ä¸€ä¸ªå…·ä½“åŒ–éƒ½è·å¾—ä¸å‹å…ƒåŒ¹é…çš„å…·ä½“åŒ–</strong>ã€‚è¿™æ¯”éæ¨¡æ¿å‹å…ƒå¤æ‚äº›ã€‚åŒ…å«ä»¥ä¸‹ä¸‰æ­¥ï¼š</p><ul><li>åœ¨ç±»å®šä¹‰çš„å‰é¢å£°æ˜æ¯ä¸ªæ¨¡æ¿å‡½æ•°  <ul><li><code>template &lt;typename T&gt; void counts();</code></li><li><code>template &lt;typename T&gt; void report(T &amp;);</code></li></ul></li><li>åœ¨å‡½æ•°ä¸­å†æ¬¡å°†æ¨¡æ¿å£°æ˜ä¸ºå‹å…ƒã€‚è¿™äº›è¯­å¥æ ¹æ®ç±»æ¨¡æ¿å‚æ•°çš„ç±»å‹å£°æ˜å…·ä½“åŒ–  <ul><li><code>template &lt;typename TT&gt;</code>ï¼ˆç±»æ¨¡ç‰ˆçš„æ¨¡ç‰ˆå‚æ•°å£°æ˜ï¼‰</li><li><code> friend void counts&lt;TT&gt;();</code></li><li>å£°æ˜ä¸­çš„<code>&lt;&gt;</code>æŒ‡å‡ºè¿™æ˜¯æ¨¡æ¿å…·ä½“åŒ–ã€‚å¯¹äº<code>report()</code>ï¼Œ <code>&lt;&gt;</code>å¯ä»¥ä¸ºç©ºï¼Œå› ä¸ºå¯ä»¥ä»å‡½æ•°å‚æ•°æ¨æ–­å‡ºã€‚</li></ul></li><li>ä¸ºå‹å…ƒæä¾›æ¨¡æ¿å®šä¹‰ <ul><li><code>template &lt;typename T&gt;   void counts()</code></li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// tmp2tmp.cpp -- template friends to a template class</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::endl;<br><br><span class="hljs-comment">// template prototypes</span><br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">report</span><span class="hljs-params">(T &amp;)</span></span>;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">counts</span><span class="hljs-params">()</span></span>;<br><br><span class="hljs-comment">// template class</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> TT&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HasFriendT</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    TT item;<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> ct;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">HasFriendT</span>(<span class="hljs-type">const</span> TT &amp; i) : <span class="hljs-built_in">item</span>(i) &#123;ct++;&#125;<br>    ~<span class="hljs-built_in">HasFriendT</span>() &#123; ct--; &#125;<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-built_in">counts</span>&lt;TT&gt;();<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> report&lt;&gt;(HasFriendT&lt;TT&gt; &amp;);<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-type">int</span> HasFriendT&lt;T&gt;::ct = <span class="hljs-number">0</span>;<br><br><span class="hljs-comment">// template friend functions definitions</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">counts</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;template size: &quot;</span> &lt;&lt; <span class="hljs-built_in">sizeof</span>(HasFriendT&lt;T&gt;) &lt;&lt; <span class="hljs-string">&quot;; &quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;template counts(): &quot;</span> &lt;&lt; HasFriendT&lt;T&gt;::ct &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">report</span><span class="hljs-params">(T &amp; hf)</span></span><br><span class="hljs-function"></span>&#123;<br>    cout &lt;&lt; hf.item &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">counts</span>&lt;<span class="hljs-type">int</span>&gt;();<br>    <span class="hljs-function">HasFriendT&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">hfi1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    <span class="hljs-function">HasFriendT&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">hfi2</span><span class="hljs-params">(<span class="hljs-number">20</span>)</span></span>;<br>    <span class="hljs-function">HasFriendT&lt;<span class="hljs-type">double</span>&gt; <span class="hljs-title">hfdb</span><span class="hljs-params">(<span class="hljs-number">10.5</span>)</span></span>;<br>    <span class="hljs-built_in">report</span>(hfi1);  <span class="hljs-comment">// generate report(HasFriendT&lt;int&gt; &amp;)</span><br>    <span class="hljs-built_in">report</span>(hfi2);  <span class="hljs-comment">// generate report(HasFriendT&lt;int&gt; &amp;)</span><br>    <span class="hljs-built_in">report</span>(hfdb);  <span class="hljs-comment">// generate report(HasFriendT&lt;double&gt; &amp;)</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;counts&lt;int&gt;() output:\n&quot;</span>;<br>    <span class="hljs-built_in">counts</span>&lt;<span class="hljs-type">int</span>&gt;();<br>    cout &lt;&lt; <span class="hljs-string">&quot;counts&lt;double&gt;() output:\n&quot;</span>;<br>    <span class="hljs-built_in">counts</span>&lt;<span class="hljs-type">double</span>&gt;();<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-number">10</span><br><span class="hljs-number">20</span><br><span class="hljs-number">10.5</span><br>counts&lt;int&gt;() output:<br>template size: <span class="hljs-number">4</span>; template counts(): <span class="hljs-number">2</span><br>counts&lt;double&gt;() output:<br>template size: <span class="hljs-number">8</span>; template counts(): <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h5 id="éçº¦æŸå‹å…ƒ"><a href="#éçº¦æŸå‹å…ƒ" class="headerlink" title="éçº¦æŸå‹å…ƒ"></a>éçº¦æŸå‹å…ƒ</h5><p>å‰ä¸€èŠ‚ä¸­çš„çº¦æŸæ¨¡æ¿å‹å…ƒå‡½æ•°æ˜¯åœ¨<strong>ç±»å¤–é¢å£°æ˜çš„æ¨¡æ¿çš„å…·ä½“åŒ–</strong>ã€‚ int ç±»å…·ä½“åŒ–è·å¾— int å‡½æ•°å…·ä½“åŒ–ï¼Œä¾æ­¤ç±»æ¨ã€‚é€šè¿‡åœ¨ç±»å†…éƒ¨å£°æ˜æ¨¡æ¿ï¼Œå¯ä»¥<strong>åˆ›å»ºéçº¦æŸå‹å…ƒå‡½æ•°</strong>ï¼Œå³æ¯ä¸ªå‡½æ•°å…·ä½“åŒ–éƒ½æ˜¯æ¯ä¸ªç±»å…·ä½“åŒ–çš„å‹å…ƒã€‚å¯¹äºéçº¦æŸå‹å…ƒï¼Œå‹å…ƒæ¨¡æ¿ç±»å‹å‚æ•°ä¸æ¨¡æ¿ç±»ç±»å‹å‚æ•°æ˜¯ä¸åŒçš„ã€‚</p><p><strong>éçº¦æŸå‹å…ƒ</strong>æŒ‡çš„æ˜¯æ¨¡æ¿ç±»çš„å‹å…ƒå‡½æ•°æˆ–ç±»æ²¡æœ‰ä»»ä½•ç±»å‹çº¦æŸï¼Œå®ƒä»¬å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„æ¨¡æ¿å®ä¾‹åŒ–ï¼Œå¹¶ä¸”ä¸å¯¹æ¨¡æ¿å‚æ•°æ–½åŠ é™åˆ¶ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®æ¨¡æ¿ç±»çš„ç§æœ‰æˆå‘˜ã€‚</li><li>å‹å…ƒå‡½æ•°æ²¡æœ‰æ¨¡æ¿å‚æ•°çš„çº¦æŸï¼Œå› æ­¤å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„æ¨¡æ¿å®ä¾‹åŒ–ã€‚</li><li>æ²¡æœ‰é¢å¤–çš„é™åˆ¶æ¡ä»¶ï¼Œé€‚ç”¨æ€§å¹¿æ³›ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// manyfrnd.cpp -- unbound template friend to a template class</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::endl;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ManyFriend</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    T item;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">ManyFriend</span>(<span class="hljs-type">const</span> T &amp; i) : <span class="hljs-built_in">item</span>(i) &#123;&#125;<br>    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> C, <span class="hljs-keyword">typename</span> D&gt; <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-title">show2</span><span class="hljs-params">(C &amp;, D &amp;)</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> C, <span class="hljs-keyword">typename</span> D&gt;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show2</span><span class="hljs-params">(C &amp; c, D &amp; d)</span></span><br><span class="hljs-function"></span>&#123;<br>    cout &lt;&lt; c.item &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; d.item &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">ManyFriend&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">hfi1</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    <span class="hljs-function">ManyFriend&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">hfi2</span><span class="hljs-params">(<span class="hljs-number">20</span>)</span></span>;<br>    <span class="hljs-function">ManyFriend&lt;<span class="hljs-type">double</span>&gt; <span class="hljs-title">hfdb</span><span class="hljs-params">(<span class="hljs-number">10.5</span>)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;hfi1, hfi2: &quot;</span>;<br>    <span class="hljs-built_in">show2</span>(hfi1, hfi2);<br>    cout &lt;&lt; <span class="hljs-string">&quot;hfdb, hfi2: &quot;</span>;<br>    <span class="hljs-built_in">show2</span>(hfdb, hfi2);<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell">hfi1, hfi2: <span class="hljs-number">10</span>, <span class="hljs-number">20</span><br>hfdb, hfi2: <span class="hljs-number">10.5</span>, <span class="hljs-number">20</span><br></code></pre></td></tr></table></figure><p><strong>éçº¦æŸå‹å…ƒ vs çº¦æŸå‹å…ƒ</strong></p><table><thead><tr><th>ç‰¹æ€§</th><th>éçº¦æŸå‹å…ƒ</th><th>çº¦æŸå‹å…ƒ</th></tr></thead><tbody><tr><td><strong>å®šä¹‰</strong></td><td>ä¸å¯¹æ¨¡æ¿å‚æ•°è¿›è¡Œç±»å‹çº¦æŸ</td><td>å¯¹<strong>æ¨¡æ¿å‚æ•°è¿›è¡Œç±»å‹çº¦æŸ</strong>ï¼ˆå¦‚é€šè¿‡æ¦‚å¿µã€<code>enable_if</code>ï¼‰</td></tr><tr><td><strong>é€‚ç”¨æ€§</strong></td><td>å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„æ¨¡æ¿å®ä¾‹</td><td>åªèƒ½æ¥å—ç¬¦åˆçº¦æŸæ¡ä»¶çš„æ¨¡æ¿å®ä¾‹</td></tr><tr><td><strong>ç±»å‹å®‰å…¨æ€§</strong></td><td>æ²¡æœ‰ç±»å‹é™åˆ¶ï¼Œå¯èƒ½å‡ºç°ä¸å®‰å…¨çš„ç”¨æ³•</td><td>å¼ºåˆ¶ç±»å‹å®‰å…¨ï¼Œåªæœ‰ç¬¦åˆç‰¹å®šæ¡ä»¶çš„ç±»å‹æ‰èƒ½ä½¿ç”¨</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>æ›´åŠ çµæ´»ï¼Œä¸é™åˆ¶ç±»å‹</td><td>æ›´åŠ ä¸¥æ ¼ï¼Œåªèƒ½ä¸ç‰¹å®šç±»å‹ä¸€èµ·ä½¿ç”¨</td></tr><tr><td><strong>ç¤ºä¾‹</strong></td><td><code>friend void printValue(const MyClass&lt;T&gt;&amp; obj);</code></td><td><code>friend void printValue(const MyClass&lt;T&gt;&amp; obj) requires IntegralType&lt;T&gt;;</code></td></tr></tbody></table><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>C++æä¾›äº†å‡ ç§é‡ç”¨ä»£ç çš„æ‰‹æ®µã€‚ç¬¬ 13 ç« ä»‹ç»çš„å…¬æœ‰ç»§æ‰¿èƒ½å¤Ÿå»ºç«‹ is-a å…³ç³»ï¼Œè¿™æ ·æ´¾ç”Ÿç±»å¯ä»¥é‡ç”¨åŸºç±»çš„ä»£ç ã€‚ç§æœ‰ç»§æ‰¿å’Œä¿æŠ¤ç»§æ‰¿ä¹Ÿä½¿å¾—èƒ½å¤Ÿé‡ç”¨åŸºç±»çš„ä»£ç ï¼Œä½†å»ºç«‹çš„æ˜¯ has-a å…³ç³»ã€‚ä½¿ç”¨ç§æœ‰ç»§æ‰¿æ—¶ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„ç§æœ‰æˆå‘˜ï¼›ä½¿ç”¨ä¿æŠ¤ç»§æ‰¿æ—¶ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„ä¿æŠ¤æˆå‘˜ã€‚æ— è®ºä½¿ç”¨å“ªç§ç»§æ‰¿ï¼ŒåŸºç±»çš„å…¬æœ‰æ¥å£éƒ½å°†æˆä¸ºæ´¾ç”Ÿç±»çš„å†…éƒ¨æ¥å£ã€‚è¿™æœ‰æ—¶å€™è¢«ç§°ä¸ºç»§æ‰¿å®ç°ï¼Œä½†å¹¶ä¸ç»§æ‰¿æ¥å£ï¼Œå› ä¸ºæ´¾ç”Ÿç±»å¯¹è±¡ä¸èƒ½æ˜¾å¼åœ°ä½¿ç”¨åŸºç±»çš„æ¥å£ã€‚å› æ­¤ï¼Œä¸èƒ½å°†æ´¾ç”Ÿå¯¹è±¡çœ‹ä½œæ˜¯ä¸€ç§åŸºç±»å¯¹è±¡ã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œåœ¨ä¸è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢çš„æƒ…å†µä¸‹ï¼ŒåŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å°†ä¸èƒ½æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</p><p>è¿˜å¯ä»¥é€šè¿‡å¼€å‘åŒ…å«å¯¹è±¡æˆå‘˜çš„ç±»æ¥é‡ç”¨ç±»ä»£ç ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºåŒ…å«ã€å±‚æ¬¡åŒ–æˆ–ç»„åˆï¼Œå®ƒå»ºç«‹çš„ä¹Ÿæ˜¯has-a å…³ç³»ã€‚ä¸ç§æœ‰ç»§æ‰¿å’Œä¿æŠ¤ç»§æ‰¿ç›¸æ¯”ï¼ŒåŒ…å«æ›´å®¹æ˜“å®ç°å’Œä½¿ç”¨ï¼Œæ‰€ä»¥é€šå¸¸ä¼˜å…ˆé‡‡ç”¨è¿™ç§æ–¹å¼ã€‚ç„¶è€Œï¼Œç§æœ‰ç»§æ‰¿å’Œä¿æŠ¤ç»§æ‰¿æ¯”åŒ…å«æœ‰ä¸€äº›ä¸åŒçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œç»§æ‰¿å…è®¸æ´¾ç”Ÿç±»è®¿é—®åŸºç±»çš„ä¿æŠ¤æˆå‘˜ï¼›è¿˜å…è®¸æ´¾ç”Ÿç±»é‡æ–°å®šä¹‰ä»åŸºç±»é‚£é‡Œç»§æ‰¿çš„è™šå‡½æ•°ã€‚å› ä¸ºåŒ…å«ä¸æ˜¯ç»§æ‰¿ï¼Œæ‰€ä»¥é€šè¿‡åŒ…å«æ¥é‡ç”¨ç±»ä»£ç æ—¶ï¼Œä¸èƒ½ä½¿ç”¨è¿™äº›åŠŸèƒ½ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æŸä¸ªç±»çš„å‡ ä¸ªå¯¹è±¡ï¼Œåˆ™ç”¨åŒ…å«æ›´é€‚åˆã€‚ä¾‹å¦‚ï¼Œ State ç±»å¯ä»¥åŒ…å«ä¸€ç»„ Countyå¯¹è±¡ã€‚</p><p>å¤šé‡ç»§æ‰¿ï¼ˆMIï¼‰ä½¿å¾—èƒ½å¤Ÿåœ¨ç±»è®¾è®¡ä¸­é‡ç”¨å¤šä¸ªç±»çš„ä»£ç ã€‚ç§æœ‰ MI æˆ–ä¿æŠ¤ MI å»ºç«‹ has-a å…³ç³»ï¼Œè€Œå…¬æœ‰MI å»ºç«‹ is-a å…³ç³»ã€‚ MI ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œå³å¤šæ¬¡å®šä¹‰åŒä¸€ä¸ªåç§°ï¼Œç»§æ‰¿å¤šä¸ªåŸºç±»å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨ç±»é™å®šç¬¦æ¥è§£å†³åç§°äºŒä¹‰æ€§çš„é—®é¢˜ï¼Œä½¿ç”¨è™šåŸºç±»æ¥é¿å…ç»§æ‰¿å¤šä¸ªåŸºç±»å¯¹è±¡çš„é—®é¢˜ã€‚ä½†ä½¿ç”¨è™šåŸºç±»åï¼Œå°±éœ€è¦ä¸ºç¼–å†™æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨ä»¥åŠè§£å†³äºŒä¹‰æ€§é—®é¢˜å¼•å…¥æ–°çš„è§„åˆ™ã€‚</p><p>ç±»æ¨¡æ¿ä½¿å¾—èƒ½å¤Ÿåˆ›å»ºé€šç”¨çš„ç±»è®¾è®¡ï¼Œå…¶ä¸­ç±»å‹ï¼ˆé€šå¸¸æ˜¯æˆå‘˜ç±»å‹ï¼‰ç”±ç±»å‹å‚æ•°è¡¨ç¤ºã€‚</p><blockquote><p>END For OOP</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>OOP</tag>
      
      <tag>C++ Primer Plus</tag>
      
      <tag>tutorial</tag>
      
      <tag>Inheritance</tag>
      
      <tag>Code Reuse</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Leetcode-Mistake-Collection-31-40</title>
    <link href="/posts/Leetcode-Mistake-collection-31-40/"/>
    <url>/posts/Leetcode-Mistake-collection-31-40/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Mistake-collection-31-40"><a href="#Leetcode-Mistake-collection-31-40" class="headerlink" title="Leetcode-Mistake-collection-31-40"></a>Leetcode-Mistake-collection-31-40</h1><h1 id="ç¨‹è®¾é”™é¢˜-31-35-20241112"><a href="#ç¨‹è®¾é”™é¢˜-31-35-20241112" class="headerlink" title="ç¨‹è®¾é”™é¢˜ 31-35 20241112"></a>ç¨‹è®¾é”™é¢˜ 31-35 20241112</h1><h2 id="1-ä¸Šæœºé”™é¢˜-å¯»æ‰¾å­—ç¬¦ä¸²çš„æœ€å¤§éé‡å¤å­ä¸²é—®é¢˜"><a href="#1-ä¸Šæœºé”™é¢˜-å¯»æ‰¾å­—ç¬¦ä¸²çš„æœ€å¤§éé‡å¤å­ä¸²é—®é¢˜" class="headerlink" title="1 ä¸Šæœºé”™é¢˜ å¯»æ‰¾å­—ç¬¦ä¸²çš„æœ€å¤§éé‡å¤å­ä¸²é—®é¢˜"></a>1 ä¸Šæœºé”™é¢˜ å¯»æ‰¾å­—ç¬¦ä¸²çš„æœ€å¤§éé‡å¤å­ä¸²é—®é¢˜</h2><h4 id="è§£æ³•1åŸºæœ¬åŒå¾ªç¯æšä¸¾ï¼ˆç•¥ï¼‰"><a href="#è§£æ³•1åŸºæœ¬åŒå¾ªç¯æšä¸¾ï¼ˆç•¥ï¼‰" class="headerlink" title="è§£æ³•1åŸºæœ¬åŒå¾ªç¯æšä¸¾ï¼ˆç•¥ï¼‰"></a>è§£æ³•1åŸºæœ¬åŒå¾ªç¯æšä¸¾ï¼ˆç•¥ï¼‰</h4><h4 id="è§£æ³•2-ä½¿ç”¨åŒæŒ‡é’ˆ"><a href="#è§£æ³•2-ä½¿ç”¨åŒæŒ‡é’ˆ" class="headerlink" title="è§£æ³•2 ä½¿ç”¨åŒæŒ‡é’ˆ"></a>è§£æ³•2 ä½¿ç”¨åŒæŒ‡é’ˆ</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string theinput;cin&gt;&gt;theinput;<br>    <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> maxoflength=<span class="hljs-number">0</span>;<br>    unordered_map&lt;<span class="hljs-type">char</span>,<span class="hljs-type">int</span>&gt; list;<br><br>    <span class="hljs-keyword">for</span>(;j&lt;theinput.<span class="hljs-built_in">length</span>();j++)&#123;<br>        <span class="hljs-keyword">if</span>(list.<span class="hljs-built_in">find</span>(theinput[j])!=list.<span class="hljs-built_in">end</span>())&#123;<br>            i=list[theinput[j]]<span class="hljs-number">+1</span>;<br>            <span class="hljs-keyword">if</span>(j-i<span class="hljs-number">+1</span>&gt;maxoflength)&#123;<br>                maxoflength=j-i<span class="hljs-number">+1</span>;<br>            &#125;<br>        &#125;<br>        list[theinput[j]]=j;<br>    &#125;<br>    cout&lt;&lt;maxoflength;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-Leetcode-888-å…¬å¹³ç³–æœäº¤æ¢"><a href="#2-Leetcode-888-å…¬å¹³ç³–æœäº¤æ¢" class="headerlink" title="2 Leetcode 888 å…¬å¹³ç³–æœäº¤æ¢"></a>2 Leetcode 888 å…¬å¹³ç³–æœäº¤æ¢</h2><p>çˆ±ä¸½ä¸å’Œé²å‹ƒæ‹¥æœ‰ä¸åŒæ€»æ•°é‡çš„ç³–æœã€‚ç»™ä½ ä¸¤ä¸ªæ•°ç»„ <code>aliceSizes</code> å’Œ <code>bobSizes</code> ï¼Œ<code>aliceSizes[i]</code> æ˜¯çˆ±ä¸½ä¸æ‹¥æœ‰çš„ç¬¬ <code>i</code> ç›’ç³–æœä¸­çš„ç³–æœæ•°é‡ï¼Œ<code>bobSizes[j]</code> æ˜¯é²å‹ƒæ‹¥æœ‰çš„ç¬¬ <code>j</code> ç›’ç³–æœä¸­çš„ç³–æœæ•°é‡ã€‚</p><p>ä¸¤äººæƒ³è¦äº’ç›¸äº¤æ¢ä¸€ç›’ç³–æœï¼Œè¿™æ ·åœ¨äº¤æ¢ä¹‹åï¼Œä»–ä»¬å°±å¯ä»¥æ‹¥æœ‰ç›¸åŒæ€»æ•°é‡çš„ç³–æœã€‚ä¸€ä¸ªäººæ‹¥æœ‰çš„ç³–æœæ€»æ•°é‡æ˜¯ä»–ä»¬æ¯ç›’ç³–æœæ•°é‡çš„æ€»å’Œã€‚</p><p>è¿”å›ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>answer</code>ï¼Œå…¶ä¸­ <code>answer[0]</code> æ˜¯çˆ±ä¸½ä¸å¿…é¡»äº¤æ¢çš„ç³–æœç›’ä¸­çš„ç³–æœçš„æ•°ç›®ï¼Œ<code>answer[1]</code> æ˜¯é²å‹ƒå¿…é¡»äº¤æ¢çš„ç³–æœç›’ä¸­çš„ç³–æœçš„æ•°ç›®ã€‚å¦‚æœå­˜åœ¨å¤šä¸ªç­”æ¡ˆï¼Œä½ å¯ä»¥è¿”å›å…¶ä¸­ <strong>ä»»ä½•ä¸€ä¸ª</strong> ã€‚é¢˜ç›®æµ‹è¯•ç”¨ä¾‹ä¿è¯å­˜åœ¨ä¸è¾“å…¥å¯¹åº”çš„ç­”æ¡ˆã€‚</p><h4 id="è§£æ³•1-åŒå¾ªç¯æšä¸¾"><a href="#è§£æ³•1-åŒå¾ªç¯æšä¸¾" class="headerlink" title="è§£æ³•1 åŒå¾ªç¯æšä¸¾"></a>è§£æ³•1 åŒå¾ªç¯æšä¸¾</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">fairCandySwap</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; aliceSizes, vector&lt;<span class="hljs-type">int</span>&gt;&amp; bobSizes)</span> </span>&#123;<br>        <span class="hljs-type">long</span> <span class="hljs-type">long</span> sum1=<span class="hljs-number">0</span>,sum2=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> alice:aliceSizes)&#123;<br>            sum1+=alice;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> bob:bobSizes)&#123;<br>            sum2+=bob;<br>        &#125;<br>        <span class="hljs-type">int</span> target=<span class="hljs-built_in">abs</span>(sum1-sum2)/<span class="hljs-number">2</span>;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> alice:aliceSizes)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> bob:bobSizes)&#123;<br>                <span class="hljs-keyword">if</span>(sum1&gt;sum2&amp;&amp;alice-bob==target)&#123;<br>                    ans.<span class="hljs-built_in">push_back</span>(alice);<br>                    ans.<span class="hljs-built_in">push_back</span>(bob);<br>                    <span class="hljs-keyword">return</span> ans;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(sum1&lt;sum2&amp;&amp;bob-alice==target)&#123;<br>                    ans.<span class="hljs-built_in">push_back</span>(alice);<br>                    ans.<span class="hljs-built_in">push_back</span>(bob);<br>                    <span class="hljs-keyword">return</span> ans;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> &#123;&#125;;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="è§£æ³•2-ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ï¼Œä¼˜åŒ–æŸ¥æ‰¾æ–¹æ¡ˆ"><a href="#è§£æ³•2-ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ï¼Œä¼˜åŒ–æŸ¥æ‰¾æ–¹æ¡ˆ" class="headerlink" title="è§£æ³•2 ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ï¼Œä¼˜åŒ–æŸ¥æ‰¾æ–¹æ¡ˆ"></a>è§£æ³•2 ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨ï¼Œä¼˜åŒ–æŸ¥æ‰¾æ–¹æ¡ˆ</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">fairCandySwap</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; aliceSizes, vector&lt;<span class="hljs-type">int</span>&gt;&amp; bobSizes)</span> </span>&#123;<br>        <span class="hljs-type">int</span> sumA = <span class="hljs-built_in">accumulate</span>(aliceSizes.<span class="hljs-built_in">begin</span>(), aliceSizes.<span class="hljs-built_in">end</span>(), <span class="hljs-number">0</span>);<br>        <span class="hljs-type">int</span> sumB = <span class="hljs-built_in">accumulate</span>(bobSizes.<span class="hljs-built_in">begin</span>(), bobSizes.<span class="hljs-built_in">end</span>(), <span class="hljs-number">0</span>);<br>        <span class="hljs-type">int</span> delta = (sumA - sumB) / <span class="hljs-number">2</span>;<br>        <span class="hljs-comment">//è¿™é‡Œå·®å€¼å¯ä»¥å–è´Ÿå€¼ï¼Œå°±ä¸ç”¨åˆ†ç±»è®¨è®º</span><br>        <span class="hljs-function">unordered_set&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">rec</span><span class="hljs-params">(aliceSizes.begin(), aliceSizes.end())</span></span>;<br>        <span class="hljs-comment">//å¯¹Aliceçš„æ•°ç»„åˆ›å»ºå“ˆå¸Œè¡¨ï¼ˆè‡ªåŠ¨åˆ å»é‡å¤å…ƒç´ ï¼‰</span><br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : bobSizes) &#123;<br>            <span class="hljs-type">int</span> x = y + delta;<br>            <span class="hljs-keyword">if</span> (rec.<span class="hljs-built_in">count</span>(x)) &#123;<br>                <span class="hljs-comment">//å¦‚æœæ‰¾åˆ°äº†ï¼Œå°±è¯´æ˜å­˜åœ¨</span><br>                ans = vector&lt;<span class="hljs-type">int</span>&gt;&#123;x, y&#125;;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="3-Leetcode-473-ç«æŸ´æ‹¼æ­£æ–¹å½¢"><a href="#3-Leetcode-473-ç«æŸ´æ‹¼æ­£æ–¹å½¢" class="headerlink" title="3 Leetcode 473 ç«æŸ´æ‹¼æ­£æ–¹å½¢"></a>3 Leetcode 473 ç«æŸ´æ‹¼æ­£æ–¹å½¢</h2><p>ä½ å°†å¾—åˆ°ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>matchsticks</code> ï¼Œå…¶ä¸­ <code>matchsticks[i]</code> æ˜¯ç¬¬ <code>i</code> ä¸ªç«æŸ´æ£’çš„é•¿åº¦ã€‚ä½ è¦ç”¨ <strong>æ‰€æœ‰çš„ç«æŸ´æ£</strong> æ‹¼æˆä¸€ä¸ªæ­£æ–¹å½¢ã€‚ä½  <strong>ä¸èƒ½æŠ˜æ–­</strong> ä»»ä½•ä¸€æ ¹ç«æŸ´æ£’ï¼Œä½†ä½ å¯ä»¥æŠŠå®ƒä»¬è¿åœ¨ä¸€èµ·ï¼Œè€Œä¸”æ¯æ ¹ç«æŸ´æ£’å¿…é¡» <strong>ä½¿ç”¨ä¸€æ¬¡</strong> ã€‚</p><p>å¦‚æœä½ èƒ½ä½¿è¿™ä¸ªæ­£æ–¹å½¢ï¼Œåˆ™è¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code> ã€‚</p><h3 id="è¡¥å……ï¼šDFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰çš„C-ä»£ç å®ç°"><a href="#è¡¥å……ï¼šDFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰çš„C-ä»£ç å®ç°" class="headerlink" title="è¡¥å……ï¼šDFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰çš„C++ä»£ç å®ç°"></a>è¡¥å……ï¼šDFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰çš„C++ä»£ç å®ç°</h3><p>DFSçš„å…³é”®ï¼šä¼˜å…ˆæœç´¢ç‚¹çš„æœªè¢«è®¿é—®çš„é‚»å±…èŠ‚ç‚¹</p><p>éé€’å½’çš„ä»£ç ç¤ºä¾‹</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">const</span> vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; graph, vector&lt;<span class="hljs-type">bool</span>&gt;&amp; visited)</span> </span>&#123;<br>    <span class="hljs-comment">// ä½¿ç”¨ä¸€ä¸ªæ ˆæ¥æ¨¡æ‹Ÿé€’å½’</span><br>    stack&lt;<span class="hljs-type">int</span>&gt; s;<br>    s.<span class="hljs-built_in">push</span>(start);<br>    <span class="hljs-comment">//å°†èµ·å§‹ç‚¹startå‹å…¥æ ˆä¸­</span><br><br>    <span class="hljs-keyword">while</span> (!s.<span class="hljs-built_in">empty</span>()) &#123;<br>        <span class="hljs-comment">// ä»æ ˆé¡¶å–å‡ºä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-type">int</span> node = s.<span class="hljs-built_in">top</span>();<br>        s.<span class="hljs-built_in">pop</span>();<br><br>        <span class="hljs-comment">// å¦‚æœèŠ‚ç‚¹æœªè¢«è®¿é—®è¿‡</span><br>        <span class="hljs-keyword">if</span> (!visited[node]) &#123;<br>            <span class="hljs-comment">// æ ‡è®°ä¸ºå·²è®¿é—®</span><br>            visited[node] = <span class="hljs-literal">true</span>;<br>            <br>            <span class="hljs-comment">// æ‰“å°å½“å‰è®¿é—®çš„èŠ‚ç‚¹</span><br>            cout &lt;&lt; <span class="hljs-string">&quot;Visiting node: &quot;</span> &lt;&lt; node &lt;&lt; endl;<br><br>            <span class="hljs-comment">// å°†è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰æœªè®¿é—®çš„é‚»å±…èŠ‚ç‚¹å‹å…¥æ ˆä¸­</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = graph[node].<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i) &#123;<br>                <span class="hljs-keyword">if</span> (!visited[graph[node][i]]) &#123;<br>                    s.<span class="hljs-built_in">push</span>(graph[node][i]);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// ç¤ºä¾‹å›¾çš„é‚»æ¥è¡¨è¡¨ç¤º</span><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; graph = &#123;<br>        &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹0çš„é‚»å±…èŠ‚ç‚¹æ˜¯1å’Œ2</span><br>        &#123;<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;,   <span class="hljs-comment">// èŠ‚ç‚¹1çš„é‚»å±…èŠ‚ç‚¹æ˜¯0ã€3å’Œ4</span><br>        &#123;<span class="hljs-number">0</span>, <span class="hljs-number">5</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹2çš„é‚»å±…èŠ‚ç‚¹æ˜¯0å’Œ5</span><br>        &#123;<span class="hljs-number">1</span>, <span class="hljs-number">4</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹3çš„é‚»å±…èŠ‚ç‚¹æ˜¯1å’Œ4</span><br>        &#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹4çš„é‚»å±…èŠ‚ç‚¹æ˜¯1å’Œ3</span><br>        &#123;<span class="hljs-number">2</span>&#125;          <span class="hljs-comment">// èŠ‚ç‚¹5çš„é‚»å±…èŠ‚ç‚¹æ˜¯2</span><br>    &#125;;<br><br>    <span class="hljs-type">int</span> numNodes = graph.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">bool</span>&gt; <span class="hljs-title">visited</span><span class="hljs-params">(numNodes, <span class="hljs-literal">false</span>)</span></span>;<br><br>    <span class="hljs-comment">// ä»èŠ‚ç‚¹0å¼€å§‹DFS</span><br>    <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, graph, visited);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–ä¸ºé€’å½’çš„ç‰ˆæœ¬ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> node, <span class="hljs-type">const</span> vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; graph, vector&lt;<span class="hljs-type">bool</span>&gt;&amp; visited)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (visited[node]) <span class="hljs-keyword">return</span>;<br>    visited[node] = <span class="hljs-literal">true</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Visiting node: &quot;</span> &lt;&lt; node &lt;&lt; endl;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> neighbor : graph[node]) &#123;<br>        <span class="hljs-keyword">if</span> (!visited[neighbor]) &#123;<br>            <span class="hljs-built_in">dfs</span>(neighbor, graph, visited);<br>            <span class="hljs-comment">//éå†æ¯ä¸€ä¸ªæœªè¢«è®¿é—®çš„é‚»å±…èŠ‚ç‚¹å®ç°å…¨å±€æœç´¢</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="BFS-å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#BFS-å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="BFS å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>BFS å¹¿åº¦ä¼˜å…ˆæœç´¢</h3><p>ä¸‹é¢æ˜¯ä½¿ç”¨C++å®ç°çš„BFSçš„ç¤ºä¾‹ä»£ç ï¼Œè¯¥ä»£ç ä¼šéå†ä¸€ä¸ªå›¾ï¼Œå¹¶æ‰“å°æ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®é¡ºåºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-type">int</span> start, <span class="hljs-type">const</span> vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; graph, vector&lt;<span class="hljs-type">bool</span>&gt;&amp; visited)</span> </span>&#123;<br>    <span class="hljs-comment">// ä½¿ç”¨é˜Ÿåˆ—æ¥å­˜å‚¨å¾…è®¿é—®çš„èŠ‚ç‚¹</span><br>    queue&lt;<span class="hljs-type">int</span>&gt; q;<br>    <br>    <span class="hljs-comment">// å°†èµ·å§‹èŠ‚ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®å¹¶å…¥é˜Ÿ</span><br>    visited[start] = <span class="hljs-literal">true</span>;<br>    q.<span class="hljs-built_in">push</span>(start);<br><br>    <span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>()) &#123;<br>        <span class="hljs-comment">// ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-type">int</span> node = q.<span class="hljs-built_in">front</span>();<br>        q.<span class="hljs-built_in">pop</span>();<br><br>        <span class="hljs-comment">// æ‰“å°å½“å‰è®¿é—®çš„èŠ‚ç‚¹</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Visiting node: &quot;</span> &lt;&lt; node &lt;&lt; endl;<br><br>        <span class="hljs-comment">// éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> neighbor : graph[node]) &#123;<br>            <span class="hljs-comment">// å¦‚æœé‚»å±…èŠ‚ç‚¹æœªè¢«è®¿é—®è¿‡ï¼Œæ ‡è®°ä¸ºå·²è®¿é—®å¹¶å…¥é˜Ÿ</span><br>            <span class="hljs-keyword">if</span> (!visited[neighbor]) &#123;<br>                visited[neighbor] = <span class="hljs-literal">true</span>;<br>                q.<span class="hljs-built_in">push</span>(neighbor);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// ç¤ºä¾‹å›¾çš„é‚»æ¥è¡¨è¡¨ç¤º</span><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; graph = &#123;<br>        &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹0çš„é‚»å±…èŠ‚ç‚¹æ˜¯1å’Œ2</span><br>        &#123;<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>&#125;,   <span class="hljs-comment">// èŠ‚ç‚¹1çš„é‚»å±…èŠ‚ç‚¹æ˜¯0ã€3å’Œ4</span><br>        &#123;<span class="hljs-number">0</span>, <span class="hljs-number">5</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹2çš„é‚»å±…èŠ‚ç‚¹æ˜¯0å’Œ5</span><br>        &#123;<span class="hljs-number">1</span>, <span class="hljs-number">4</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹3çš„é‚»å±…èŠ‚ç‚¹æ˜¯1å’Œ4</span><br>        &#123;<span class="hljs-number">1</span>, <span class="hljs-number">3</span>&#125;,      <span class="hljs-comment">// èŠ‚ç‚¹4çš„é‚»å±…èŠ‚ç‚¹æ˜¯1å’Œ3</span><br>        &#123;<span class="hljs-number">2</span>&#125;          <span class="hljs-comment">// èŠ‚ç‚¹5çš„é‚»å±…èŠ‚ç‚¹æ˜¯2</span><br>    &#125;;<br><br>    <span class="hljs-type">int</span> numNodes = graph.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">bool</span>&gt; <span class="hljs-title">visited</span><span class="hljs-params">(numNodes, <span class="hljs-literal">false</span>)</span></span>;<br><br>    <span class="hljs-comment">// ä»èŠ‚ç‚¹0å¼€å§‹BFS</span><br>    <span class="hljs-built_in">bfs</span>(<span class="hljs-number">0</span>, graph, visited);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ol><li><p><strong>å›¾çš„è¡¨ç¤º</strong>: è¿™é‡Œä½¿ç”¨é‚»æ¥è¡¨æ¥è¡¨ç¤ºå›¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„é‚»å±…èŠ‚ç‚¹å­˜å‚¨åœ¨ä¸€ä¸ª<code>vector</code>ä¸­ã€‚</p></li><li><p><strong>BFSå‡½æ•°</strong>ï¼š</p><ul><li><code>bfs</code>å‡½æ•°æ¥å—èµ·å§‹èŠ‚ç‚¹<code>start</code>ï¼Œå›¾<code>graph</code>ï¼Œä»¥åŠä¸€ä¸ªç”¨äºæ ‡è®°èŠ‚ç‚¹æ˜¯å¦å·²è®¿é—®çš„<code>visited</code>æ•°ç»„ã€‚</li><li>ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—<code>queue</code>æ¥æ¨¡æ‹ŸBFSçš„å±‚çº§è®¿é—®è¿‡ç¨‹ã€‚</li><li>å°†èµ·å§‹èŠ‚ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®å¹¶å…¥é˜Ÿã€‚</li><li>å½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶ï¼Œå¼¹å‡ºé˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆFIFOï¼‰ï¼Œæ‰“å°è¯¥èŠ‚ç‚¹ï¼Œç„¶åå°†å…¶æ‰€æœ‰æœªè®¿é—®çš„é‚»å±…èŠ‚ç‚¹æ ‡è®°ä¸ºå·²è®¿é—®å¹¶å…¥é˜Ÿã€‚</li></ul></li><li><p><strong>ä¸»å‡½æ•°</strong>ï¼š</p><ul><li>å®šä¹‰äº†ä¸€ä¸ªç¤ºä¾‹å›¾ã€‚</li><li>åˆ›å»ºä¸€ä¸ª<code>visited</code>æ•°ç»„æ¥è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„è®¿é—®çŠ¶æ€ã€‚</li><li>ä»èŠ‚ç‚¹0å¼€å§‹è°ƒç”¨BFSå‡½æ•°ã€‚</li></ul></li></ol><p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨é˜Ÿåˆ—æ¥å®ç°BFSã€‚å¦‚æœä½ æ›´å–œæ¬¢ä½¿ç”¨é€’å½’æ¥å®ç°BFSï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©å‡½æ•°æ¥æ¨¡æ‹Ÿé˜Ÿåˆ—çš„åŠŸèƒ½ï¼Œä½†é€šå¸¸éé€’å½’çš„å®ç°æ›´ç›´è§‚å’Œé«˜æ•ˆï¼Œå› ä¸ºBFSæœ¬èº«å°±æ˜¯ä¸€ä¸ªå±‚çº§éå†çš„è¿‡ç¨‹ã€‚</p><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> index, vector&lt;<span class="hljs-type">int</span>&gt; &amp;matchsticks, vector&lt;<span class="hljs-type">int</span>&gt; &amp;edges, <span class="hljs-type">int</span> len)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (index == matchsticks.<span class="hljs-built_in">size</span>()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; edges.<span class="hljs-built_in">size</span>()<span class="hljs-comment">/*4*/</span>; i++) &#123;<br>            edges[i] += matchsticks[index];<br>            <span class="hljs-keyword">if</span> (edges[i] &lt;= len &amp;&amp; <span class="hljs-built_in">dfs</span>(index + <span class="hljs-number">1</span>, matchsticks, edges, len)) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            edges[i] -= matchsticks[index];<br>            <span class="hljs-comment">//ç®—æ³•çš„å…³é”®ï¼šåˆ¤æ–­æ¡ä»¶ï¼šå¦‚æœedgesæ²¡æœ‰è¶…è¿‡è¾¹ç•Œï¼Œé‚£ä¹ˆå°è¯•æŠŠç¬¬index+1æ ¹ç«æŸ´æ·»åŠ åˆ°æ¯ä¸€æ¡è¾¹ä¸Š</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">makesquare</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;matchsticks)</span> </span>&#123;<br>        <span class="hljs-type">int</span> totalLen = <span class="hljs-built_in">accumulate</span>(matchsticks.<span class="hljs-built_in">begin</span>(), matchsticks.<span class="hljs-built_in">end</span>(), <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">if</span> (totalLen % <span class="hljs-number">4</span> != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-built_in">sort</span>(matchsticks.<span class="hljs-built_in">begin</span>(), matchsticks.<span class="hljs-built_in">end</span>(), <span class="hljs-built_in">greater</span>&lt;<span class="hljs-type">int</span>&gt;()); <br>        <span class="hljs-comment">// å‡å°‘æœç´¢é‡</span><br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">edges</span><span class="hljs-params">(<span class="hljs-number">4</span>)</span></span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">dfs</span>(<span class="hljs-number">0</span>, matchsticks, edges, totalLen / <span class="hljs-number">4</span>);<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="4-Leetcode-921-æ ˆï¼ˆLIFOï¼‰çš„åº”ç”¨"><a href="#4-Leetcode-921-æ ˆï¼ˆLIFOï¼‰çš„åº”ç”¨" class="headerlink" title="4 Leetcode 921 æ ˆï¼ˆLIFOï¼‰çš„åº”ç”¨"></a>4 Leetcode 921 æ ˆï¼ˆLIFOï¼‰çš„åº”ç”¨</h2><p>æ ˆçš„â€œå…ˆè¿›åå‡ºâ€</p><p>åªæœ‰æ»¡è¶³ä¸‹é¢å‡ ç‚¹ä¹‹ä¸€ï¼Œæ‹¬å·å­—ç¬¦ä¸²æ‰æ˜¯æœ‰æ•ˆçš„ï¼š</p><ul><li>å®ƒæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…</li><li>å®ƒå¯ä»¥è¢«å†™æˆ <code>AB</code> ï¼ˆ<code>A</code> ä¸ <code>B</code> è¿æ¥ï¼‰, å…¶ä¸­ <code>A</code> å’Œ <code>B</code> éƒ½æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ï¼Œæˆ–è€…</li><li>å®ƒå¯ä»¥è¢«å†™ä½œ <code>(A)</code>ï¼Œå…¶ä¸­ <code>A</code> æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚</li></ul><p>ç»™å®šä¸€ä¸ªæ‹¬å·å­—ç¬¦ä¸² <code>s</code> ï¼Œåœ¨æ¯ä¸€æ¬¡æ“ä½œä¸­ï¼Œä½ éƒ½å¯ä»¥åœ¨å­—ç¬¦ä¸²çš„ä»»ä½•ä½ç½®æ’å…¥ä¸€ä¸ªæ‹¬å·</p><ul><li>ä¾‹å¦‚ï¼Œå¦‚æœ <code>s = &quot;()))&quot;</code> ï¼Œä½ å¯ä»¥æ’å…¥ä¸€ä¸ªå¼€å§‹æ‹¬å·ä¸º <code>&quot;(()))&quot;</code> æˆ–ç»“æŸæ‹¬å·ä¸º <code>&quot;())))&quot;</code> ã€‚</li></ul><p>è¿”å› <em>ä¸ºä½¿ç»“æœå­—ç¬¦ä¸² <code>s</code> æœ‰æ•ˆè€Œå¿…é¡»æ·»åŠ çš„æœ€å°‘æ‹¬å·æ•°</em>ã€‚</p><h4 id="è§£æ³•ï¼šä½¿ç”¨æ ˆï¼"><a href="#è§£æ³•ï¼šä½¿ç”¨æ ˆï¼" class="headerlink" title="è§£æ³•ï¼šä½¿ç”¨æ ˆï¼"></a>è§£æ³•ï¼šä½¿ç”¨æ ˆï¼</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minAddToMakeValid</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        stack &lt;<span class="hljs-type">char</span>&gt; thekuohao;<br>        <span class="hljs-comment">//ä»£è¡¨ä¸€ä¸ªæ ˆï¼Œä¹‹åä¸æ–­å‹å…¥å†…å®¹</span><br>        <span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> ch:s)&#123;<br>            <span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;(&#x27;</span>)&#123;<br>                thekuohao.<span class="hljs-built_in">push</span>(ch);<br>                <span class="hljs-comment">//å·¦æ‹¬å·å¸Œæœ›åœ¨åé¢æ‰¾åˆ°ä»–å”¯ä¸€åŒ¹é…çš„å³æ‹¬å·</span><br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(ch==<span class="hljs-string">&#x27;)&#x27;</span>)&#123;<br>                <span class="hljs-keyword">if</span>(!thekuohao.<span class="hljs-built_in">empty</span>()&amp;&amp;thekuohao.<span class="hljs-built_in">top</span>()==<span class="hljs-string">&#x27;(&#x27;</span>)&#123;<br>                    thekuohao.<span class="hljs-built_in">pop</span>();<br>                    <span class="hljs-comment">//æ‰¾åˆ°äº†ï¼Œå¼¹å‡ºæ ˆé¡¶çš„å·¦æ‹¬å·ï¼ŒåŒæ—¶ä¸å‹å…¥å³æ‹¬å·</span><br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    count++;<br>                    <span class="hljs-comment">//è¯´æ˜æ­¤æ—¶çš„å³æ‹¬å·æ— äººè®¿é—®ï¼Œéœ€è¦åœ¨å¦ä¸€ä¸ªæ–¹å‘å‹å…¥æ–°çš„å·¦æ‹¬å·</span><br>                    <span class="hljs-comment">//countç»Ÿè®¡åˆ°çš„æ—¶éœ€è¦æ·»åŠ çš„å·¦æ‹¬å·ï¼ˆå³å­˜åœ¨ç›ˆä½™çš„å³æ‹¬å·ï¼‰</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> count+thekuohao.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-comment">//æœ€åç•™åœ¨æ ˆä¸­çš„æ‹¬å·éƒ½æ˜¯æœªè¢«åŒ¹é…åˆ°çš„å·¦æ‹¬å·</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å¦‚æœé™ä½ç©ºé—´å¤æ‚åº¦Oï¼ˆ1ï¼‰ï¼Œåˆ™å¯ä»¥è¿™æ ·åšï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minAddToMakeValid</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> leftCount = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;c : s) &#123;<br>            <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<br>                leftCount++;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span> (leftCount &gt; <span class="hljs-number">0</span>) &#123;<br>                    leftCount--;<br>                    <span class="hljs-comment">//é‚£ä¹ˆå³æ‹¬å·ä¸€å®šå¯ä»¥æ‰¾åˆ°è¢«åŒ¹é…çš„å·¦æ‹¬å·</span><br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    ans++;<br>                    <span class="hljs-comment">//leftcount==0ï¼Œè¯´æ˜æ­¤æ—¶åº”è¯¥åœ¨å¦ä¸€ä¾§åŠ å…¥æ‹¬å·</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        ans += leftCount;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="5-Leetcode-937-è‡ªå®šä¹‰æ’åº"><a href="#5-Leetcode-937-è‡ªå®šä¹‰æ’åº" class="headerlink" title="5 Leetcode 937 è‡ªå®šä¹‰æ’åº"></a>5 Leetcode 937 è‡ªå®šä¹‰æ’åº</h2><p>ç»™ä½ ä¸€ä¸ªæ—¥å¿—æ•°ç»„ <code>logs</code>ã€‚æ¯æ¡æ—¥å¿—éƒ½æ˜¯ä»¥ç©ºæ ¼åˆ†éš”çš„å­—ä¸²ï¼Œå…¶ç¬¬ä¸€ä¸ªå­—ä¸ºå­—æ¯ä¸æ•°å­—æ··åˆçš„ <strong>æ ‡è¯†ç¬¦</strong> ã€‚</p><p>æœ‰ä¸¤ç§ä¸åŒç±»å‹çš„æ—¥å¿—ï¼š</p><ul><li><strong>å­—æ¯æ—¥å¿—</strong>ï¼šé™¤æ ‡è¯†ç¬¦ä¹‹å¤–ï¼Œæ‰€æœ‰å­—å‡ç”±å°å†™å­—æ¯ç»„æˆ</li><li><strong>æ•°å­—æ—¥å¿—</strong>ï¼šé™¤æ ‡è¯†ç¬¦ä¹‹å¤–ï¼Œæ‰€æœ‰å­—å‡ç”±æ•°å­—ç»„æˆ</li></ul><p>è¯·æŒ‰ä¸‹è¿°è§„åˆ™å°†æ—¥å¿—é‡æ–°æ’åºï¼š</p><ul><li>æ‰€æœ‰ <strong>å­—æ¯æ—¥å¿—</strong> éƒ½æ’åœ¨ <strong>æ•°å­—æ—¥å¿—</strong> ä¹‹å‰ã€‚</li><li><strong>å­—æ¯æ—¥å¿—</strong> åœ¨å†…å®¹ä¸åŒæ—¶ï¼Œå¿½ç•¥æ ‡è¯†ç¬¦åï¼ŒæŒ‰å†…å®¹å­—æ¯é¡ºåºæ’åºï¼›åœ¨å†…å®¹ç›¸åŒæ—¶ï¼ŒæŒ‰æ ‡è¯†ç¬¦æ’åºã€‚</li><li><strong>æ•°å­—æ—¥å¿—</strong> åº”è¯¥ä¿ç•™åŸæ¥çš„ç›¸å¯¹é¡ºåºã€‚</li></ul><p>è¿”å›æ—¥å¿—çš„æœ€ç»ˆé¡ºåºã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs prolog">è¾“å…¥ï¼šlogs = [<span class="hljs-string">&quot;dig1 8 1 5 1&quot;</span>,<span class="hljs-string">&quot;let1 art can&quot;</span>,<span class="hljs-string">&quot;dig2 3 6&quot;</span>,<span class="hljs-string">&quot;let2 own kit dig&quot;</span>,<span class="hljs-string">&quot;let3 art zero&quot;</span>]<br>è¾“å‡ºï¼š[<span class="hljs-string">&quot;let1 art can&quot;</span>,<span class="hljs-string">&quot;let3 art zero&quot;</span>,<span class="hljs-string">&quot;let2 own kit dig&quot;</span>,<span class="hljs-string">&quot;dig1 8 1 5 1&quot;</span>,<span class="hljs-string">&quot;dig2 3 6&quot;</span>]<br>è§£é‡Šï¼š<br>å­—æ¯æ—¥å¿—çš„å†…å®¹éƒ½ä¸åŒï¼Œæ‰€ä»¥é¡ºåºä¸º <span class="hljs-string">&quot;art can&quot;</span>, <span class="hljs-string">&quot;art zero&quot;</span>, <span class="hljs-string">&quot;own kit dig&quot;</span> ã€‚<br>æ•°å­—æ—¥å¿—ä¿ç•™åŸæ¥çš„ç›¸å¯¹é¡ºåº <span class="hljs-string">&quot;dig1 8 1 5 1&quot;</span>, <span class="hljs-string">&quot;dig2 3 6&quot;</span> ã€‚<br></code></pre></td></tr></table></figure><p><strong>å¯¹äºè¾ƒä¸ºå¤æ‚çš„æ’åºé—®é¢˜ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨è‡ªå®šä¹‰æ’åºçš„æ–¹æ³•å®ç°æ’åºè§„åˆ™çš„â€œè‡ªå®šä¹‰â€ã€‚</strong></p><h4 id="æœ€åŸºæœ¬çš„ä¾‹å­ï¼šä½¿ç”¨sortå‡½æ•°å®ç°å‡åºå’Œé™åºæ•°ç»„æ’åº"><a href="#æœ€åŸºæœ¬çš„ä¾‹å­ï¼šä½¿ç”¨sortå‡½æ•°å®ç°å‡åºå’Œé™åºæ•°ç»„æ’åº" class="headerlink" title="æœ€åŸºæœ¬çš„ä¾‹å­ï¼šä½¿ç”¨sortå‡½æ•°å®ç°å‡åºå’Œé™åºæ•°ç»„æ’åº"></a>æœ€åŸºæœ¬çš„ä¾‹å­ï¼šä½¿ç”¨sortå‡½æ•°å®ç°å‡åºå’Œé™åºæ•°ç»„æ’åº</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123;<br>    <span class="hljs-comment">// è¿™é‡Œå®šä¹‰ä½ çš„æ’åºè§„åˆ™</span><br>    <span class="hljs-comment">// è¿”å›trueè¡¨ç¤ºaåº”è¯¥åœ¨bä¹‹å‰ï¼ˆå³aè¾ƒå°ï¼‰</span><br>    <span class="hljs-keyword">return</span> a &lt; b;  <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‡åºæ¯”è¾ƒ</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; numbers = &#123;<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;;<br><br>    <span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°è¿›è¡Œå‡åºæ’åº</span><br>    std::<span class="hljs-built_in">sort</span>(numbers.<span class="hljs-built_in">begin</span>(), numbers.<span class="hljs-built_in">end</span>(), compare);<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;è‡ªå®šä¹‰å‡åºæ’åºåçš„ç»“æœ: &quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; num : numbers) &#123;<br>        std::cout &lt;&lt; num &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    std::cout &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// ç°åœ¨å®šä¹‰ä¸€ä¸ªä¸åŒçš„æ¯”è¾ƒå‡½æ•°è¿›è¡Œé™åºæ’åº</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">descendingCompare</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> a &gt; b;  <span class="hljs-comment">// è¿”å›trueè¡¨ç¤ºaåº”è¯¥åœ¨bä¹‹åï¼ˆå³bè¾ƒå°ï¼‰</span><br>    &#125;<br><br>    <span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå‡½æ•°è¿›è¡Œé™åºæ’åº</span><br>    std::<span class="hljs-built_in">sort</span>(numbers.<span class="hljs-built_in">begin</span>(), numbers.<span class="hljs-built_in">end</span>(), descendingCompare);<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;è‡ªå®šä¹‰é™åºæ’åºåçš„ç»“æœ: &quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; num : numbers) &#123;<br>        std::cout &lt;&lt; num &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    std::cout &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="é¢˜è§£ï¼š"><a href="#é¢˜è§£ï¼š" class="headerlink" title="é¢˜è§£ï¼š"></a>é¢˜è§£ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;string&gt; <span class="hljs-title">reorderLogFiles</span><span class="hljs-params">(vector&lt;string&gt;&amp; logs)</span> </span>&#123;<br>        <span class="hljs-built_in">stable_sort</span>(logs.<span class="hljs-built_in">begin</span>(), logs.<span class="hljs-built_in">end</span>(), [&amp;](<span class="hljs-type">const</span> string &amp; log1, <span class="hljs-type">const</span> string &amp; log2) &#123;<br>            <span class="hljs-comment">//ä½¿ç”¨stable_sortä¿è¯ç›¸åŒå…ƒç´ æ’åºçš„ç¨³å®šæ€§</span><br>            <span class="hljs-type">int</span> pos1 = log<span class="hljs-number">1.f</span>ind_first_of(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-type">int</span> pos2 = log<span class="hljs-number">2.f</span>ind_first_of(<span class="hljs-string">&quot; &quot;</span>);<br>            <span class="hljs-comment">//åº“å‡½æ•°find_first_of()å¯ä»¥å®ç°å®šä½åˆ°å­—ç¬¦ä¸²çš„ç›®æ ‡å­—ç¬¦çš„ç¬¬ä¸€ä¸ªç´¢å¼•ä½ç½®</span><br>            <br>            <span class="hljs-type">bool</span> isDigit1 = <span class="hljs-built_in">isdigit</span>(log1[pos1 + <span class="hljs-number">1</span>]);<br>            <span class="hljs-type">bool</span> isDigit2 = <span class="hljs-built_in">isdigit</span>(log2[pos2 + <span class="hljs-number">1</span>]);<br>            <span class="hljs-comment">//è¿™ä¸¤ä¸ªboolå€¼åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—ï¼Œè¿›è€Œå®ç°å¯¹ä¸¤ç§ä¸åŒçš„æ—¥å¿—çš„åˆ†ç±»</span><br>            <span class="hljs-keyword">if</span> (isDigit1 &amp;&amp; isDigit2) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                <span class="hljs-comment">//éƒ½æ˜¯æ•°å­—ï¼Œä¿æŒä½ç½®</span><br>            &#125;<br>            <span class="hljs-keyword">if</span> (!isDigit1 &amp;&amp; !isDigit2) &#123;<br>                <span class="hljs-comment">//å¦‚æœéƒ½ä¸æ˜¯æ•°å­—</span><br>                string s1 = log<span class="hljs-number">1.</span><span class="hljs-built_in">substr</span>(pos1);<br>                <span class="hljs-comment">//å¤åˆ¶å­ä¸²çš„åº“å‡½æ•° substr()</span><br>                string s2 = log<span class="hljs-number">2.</span><span class="hljs-built_in">substr</span>(pos2);<br>                <span class="hljs-keyword">if</span> (s1 != s2) &#123;<br>                    <span class="hljs-comment">//stringç±»é‡è½½äº†å¯¹åº”è¿ç®—ç¬¦ï¼Œå¯ä»¥ç›´æ¥å®ç°å­—ç¬¦ä¸²çš„æ¯”è¾ƒ(é€ä½æ¯”è¾ƒ)</span><br>                    <span class="hljs-keyword">return</span> s1 &lt; s2;<br>                &#125;<br>                <span class="hljs-keyword">return</span> log1 &lt; log2;<br>                <span class="hljs-comment">//å¦‚æœå†…å®¹ç›¸åŒï¼Œåˆ™æ¯”è¾ƒæ—¥å¿—å¤´éƒ¨log1å’Œlog2</span><br>            &#125;<br>            <span class="hljs-keyword">return</span> isDigit1 ? <span class="hljs-literal">false</span> : <span class="hljs-literal">true</span>;<br>            <span class="hljs-comment">//æœ€åä¸€ç§æƒ…å†µï¼Œä¸€ä¸ªä¸ºæ•°å­—ï¼Œä¸€ä¸ªä¸ºå­—ç¬¦ï¼Œåˆ™æ ¹æ®è§„åˆ™å­—ç¬¦åº”è¯¥æ’åœ¨å‰é¢</span><br>        &#125;);<br>        <span class="hljs-comment">//ä»¥ä¸Šå†…å®¹éƒ½æ˜¯Lambdaè¡¨è¾¾å¼ï¼Œå®ç°å¯¹è‡ªå®šä¹‰æ’åºå‡½æ•°compareçš„å®šä¹‰</span><br>        <span class="hljs-comment">//åœ¨compareä¸­ï¼Œå¦‚æœåŒ¿åå‡½æ•°è¿”å›falseï¼Œè¯´æ˜ä¸ç”¨äº¤æ¢é¡ºåº</span><br>        <span class="hljs-keyword">return</span> logs;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šLambdaè¡¨è¾¾å¼"><a href="#è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šLambdaè¡¨è¾¾å¼" class="headerlink" title="è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šLambdaè¡¨è¾¾å¼"></a>è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šLambdaè¡¨è¾¾å¼</h3><p>åœ¨C++ä¸­ï¼Œlambdaè¡¨è¾¾å¼ï¼ˆLambda Expressionsï¼‰<strong>æ˜¯ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥å®šä¹‰åŒ¿åå‡½æ•°å¯¹è±¡</strong>ï¼ˆå³æ²¡æœ‰åç§°çš„å‡½æ•°ï¼‰ï¼Œå®ƒå…è®¸ä½ ç›´æ¥åœ¨ä»£ç ä¸­å®šä¹‰å°å‹çš„ã€ä¸€æ¬¡æ€§ä½¿ç”¨çš„å‡½æ•°ã€‚<strong>è¿™äº›å‡½æ•°å¯¹è±¡å¯ä»¥æ•è·å¤–éƒ¨ä½œç”¨åŸŸä¸­çš„å˜é‡</strong>ï¼Œå¹¶å¯ä»¥åœ¨éœ€è¦æ—¶ç›´æ¥ä½¿ç”¨ã€‚Lambdaè¡¨è¾¾å¼çš„å¼•å…¥ä½¿å¾—C++ç¼–ç¨‹æ›´åŠ çµæ´»å’Œæ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦çŸ­å°ã€ä¸´æ—¶å‡½æ•°æ—¶ã€‚ä»¥ä¸‹æ˜¯å…³äºlambdaè¡¨è¾¾å¼çš„ä¸€äº›å…³é”®ç‚¹ï¼š</p><h4 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h4><p>Lambdaè¡¨è¾¾å¼çš„åŸºæœ¬å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp">[æ•è·åˆ—è¡¨](å‚æ•°åˆ—è¡¨)å¯å˜æ€§è§„èŒƒ -&gt; è¿”å›ç±»å‹ &#123;<br>    <span class="hljs-comment">// å‡½æ•°ä½“</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>æ•è·åˆ—è¡¨</strong>ï¼š<code>[]</code> ç”¨äºæŒ‡å®šå“ªäº›å¤–éƒ¨å˜é‡åº”è¯¥è¢«lambdaè¡¨è¾¾å¼æ•è·ã€‚å¯ä»¥æ˜¯ï¼š<ul><li><code>[]</code> ä»€ä¹ˆéƒ½ä¸æ•è·ã€‚</li><li><code>[=]</code> æŒ‰å€¼æ•è·æ‰€æœ‰å¯è§çš„å¤–éƒ¨å˜é‡ã€‚</li><li><code>[&amp;]</code> æŒ‰å¼•ç”¨æ•è·æ‰€æœ‰å¯è§çš„å¤–éƒ¨å˜é‡ã€‚</li><li><code>[x, &amp;y]</code> æŒ‰å€¼æ•è·<code>x</code>ï¼ŒæŒ‰å¼•ç”¨æ•è·<code>y</code>ã€‚</li></ul></li><li><strong>å‚æ•°åˆ—è¡¨</strong>ï¼šç±»ä¼¼äºæ™®é€šå‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼Œå¯ä»¥ä¸ºç©ºã€‚</li><li><strong>å¯å˜æ€§è§„èŒƒ</strong>ï¼š<code>mutable</code>å…³é”®å­—è¡¨ç¤ºlambdaè¡¨è¾¾å¼å¯ä»¥ä¿®æ”¹è¢«å€¼æ•è·çš„å˜é‡ã€‚</li><li><strong>è¿”å›ç±»å‹</strong>ï¼šå¦‚æœlambdaè¡¨è¾¾å¼åŒ…å«å¤šä¸ª<code>return</code>è¯­å¥æˆ–éœ€è¦æ˜ç¡®æŒ‡å®šè¿”å›ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨<code>-&gt;</code>æ¥æŒ‡å®šã€‚</li><li><strong>å‡½æ•°ä½“</strong>ï¼šåŒ…å«lambdaè¡¨è¾¾å¼çš„å®é™…ä»£ç ã€‚</li></ul><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; numbers = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br>    <span class="hljs-type">int</span> factor = <span class="hljs-number">2</span>;<br><br>    <span class="hljs-comment">// ä½¿ç”¨lambdaè¡¨è¾¾å¼å¯¹å‘é‡ä¸­çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥factor</span><br>    std::for_each(numbers.<span class="hljs-built_in">begin</span>(), numbers.<span class="hljs-built_in">end</span>(), [factor](<span class="hljs-type">int</span> &amp;n) &#123;<br>        n *= factor;<br>    &#125;);<br><br>    <span class="hljs-comment">// æ‰“å°ç»“æœ</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; num : numbers) &#123;<br>        std::cout &lt;&lt; num &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    std::cout &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// å¦ä¸€ä¸ªlambdaè¡¨è¾¾å¼ç¤ºä¾‹ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°</span><br>    <span class="hljs-keyword">auto</span> add = [](<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y) -&gt; <span class="hljs-type">int</span> &#123;<br>        <span class="hljs-keyword">return</span> x + y;<br>    &#125;;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;1 + 2 = &quot;</span> &lt;&lt; <span class="hljs-built_in">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li><strong>åŒ¿åæ€§</strong>ï¼šLambdaè¡¨è¾¾å¼æ˜¯åŒ¿åçš„ï¼Œä¸éœ€è¦ä¸ºå…¶å®šä¹‰ä¸€ä¸ªåç§°ã€‚</li><li><strong>æ•è·å¤–éƒ¨å˜é‡</strong>ï¼šå¯ä»¥æ•è·å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ï¼Œå…è®¸è¿™äº›å˜é‡åœ¨lambdaè¡¨è¾¾å¼å†…ä½¿ç”¨ã€‚</li><li><strong>ç®€æ´æ€§</strong>ï¼šç›¸æ¯”äºå®šä¹‰ä¸€ä¸ªå‡½æ•°å¯¹è±¡æˆ–å‡½æ•°æŒ‡é’ˆï¼Œlambdaè¡¨è¾¾å¼æ›´åŠ ç®€æ´ã€‚</li><li><strong>é—­åŒ…</strong>ï¼šlambdaè¡¨è¾¾å¼å¯ä»¥åˆ›å»ºé—­åŒ…ï¼Œæ•è·çš„å˜é‡åœ¨lambdaè¡¨è¾¾å¼æ‰§è¡Œæ—¶ä»ç„¶æœ‰æ•ˆã€‚</li></ul><p>Lambdaè¡¨è¾¾å¼åœ¨C++11åŠä»¥åçš„æ ‡å‡†ä¸­è¢«å¼•å…¥ï¼Œæå¤§åœ°æ–¹ä¾¿äº†ç¼–å†™ç®€çŸ­çš„å‡½æ•°å¼ä»£ç ï¼Œå¸¸ç”¨äºSTLç®—æ³•ã€äº‹ä»¶å¤„ç†ã€å¼‚æ­¥ç¼–ç¨‹ç­‰åœºæ™¯ã€‚</p><h3 id="è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šæ·±å…¥äº†è§£sortå‡½æ•°"><a href="#è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šæ·±å…¥äº†è§£sortå‡½æ•°" class="headerlink" title="è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šæ·±å…¥äº†è§£sortå‡½æ•°"></a>è¡¥å……çŸ¥è¯†ç‚¹è®²è§£ï¼šæ·±å…¥äº†è§£sortå‡½æ•°</h3><p><code>std::sort</code>åœ¨C++æ ‡å‡†åº“ä¸­å®ç°çš„æ˜¯<strong>å†…çœæ’åºï¼ˆIntrosortï¼‰</strong>ï¼Œè¿™æ˜¯ä¸€ç§æ··åˆæ’åºç®—æ³•ï¼Œç»“åˆäº†å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰ã€å †æ’åºï¼ˆHeapsortï¼‰å’Œæ’å…¥æ’åºï¼ˆInsertion Sortï¼‰çš„ä¼˜ç‚¹ã€‚ä»¥ä¸‹æ˜¯<code>std::sort</code>çš„åŸºæœ¬åŸç†ï¼š</p><h4 id="1-å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰"><a href="#1-å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰" class="headerlink" title="1. å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰"></a>1. <strong>å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰</strong></h4><ul><li><code>std::sort</code>é¦–å…ˆå°è¯•ä½¿ç”¨å¿«é€Ÿæ’åºï¼Œå› ä¸ºå¿«é€Ÿæ’åºåœ¨å¹³å‡æƒ…å†µä¸‹æœ‰å¾ˆå¥½çš„æ€§èƒ½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n log n)ã€‚</li><li>å¿«é€Ÿæ’åºé€šè¿‡é€‰æ‹©ä¸€ä¸ªæ¢è½´å…ƒç´ ï¼ˆpivotï¼‰å°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œæ¯”æ¢è½´å°çš„å…ƒç´ æ”¾åœ¨ä¸€ä¾§ï¼Œæ¯”æ¢è½´å¤§çš„å…ƒç´ æ”¾åœ¨å¦ä¸€ä¾§ï¼Œç„¶åé€’å½’åœ°å¯¹è¿™ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºã€‚</li></ul><h4 id="2-å †æ’åºï¼ˆHeapsortï¼‰"><a href="#2-å †æ’åºï¼ˆHeapsortï¼‰" class="headerlink" title="2. å †æ’åºï¼ˆHeapsortï¼‰"></a>2. <strong>å †æ’åºï¼ˆHeapsortï¼‰</strong></h4><ul><li>å½“å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼ˆé€šå¸¸æ˜¯log nï¼‰ï¼Œ<code>std::sort</code>ä¼šåˆ‡æ¢åˆ°å †æ’åºã€‚</li><li>å †æ’åºä¿è¯äº†æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n log n)ï¼Œé¿å…äº†å¿«é€Ÿæ’åºåœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½é€€åŒ–åˆ°O(n^2)çš„æ€§èƒ½ã€‚</li></ul><h4 id="3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰"><a href="#3-æ’å…¥æ’åºï¼ˆInsertion-Sortï¼‰" class="headerlink" title="3. æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰"></a>3. <strong>æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</strong></h4><ul><li>å¯¹äºå°è§„æ¨¡çš„æ•°æ®ï¼ˆé€šå¸¸æ˜¯å°‘äº16ä¸ªå…ƒç´ çš„å­æ•°ç»„ï¼‰ï¼Œ<code>std::sort</code>ä¼šä½¿ç”¨æ’å…¥æ’åºï¼Œå› ä¸ºåœ¨å°æ•°æ®é›†ä¸Šï¼Œæ’å…¥æ’åºçš„æ€§èƒ½é€šå¸¸ä¼˜äºå…¶ä»–æ’åºç®—æ³•ã€‚</li></ul><h4 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li><strong>è‡ªé€‚åº”æ€§</strong>ï¼š<code>std::sort</code>æ ¹æ®æ•°æ®çš„å¤§å°å’Œé€’å½’æ·±åº¦è‡ªåŠ¨é€‰æ‹©æœ€é€‚åˆçš„æ’åºç­–ç•¥ï¼Œè¿™ä½¿å¾—å®ƒåœ¨å„ç§æƒ…å†µä¸‹éƒ½è¡¨ç°è‰¯å¥½ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼š<code>std::sort</code>ä¸æ˜¯ç¨³å®šçš„æ’åºç®—æ³•ï¼Œè¿™æ„å‘³ç€ç›¸åŒå…ƒç´ çš„ç›¸å¯¹é¡ºåºåœ¨æ’åºåå¯èƒ½æ”¹å˜ã€‚å¦‚æœéœ€è¦ç¨³å®šæ’åºï¼Œå¯ä»¥ä½¿ç”¨<code>std::stable_sort</code>ã€‚</li><li><strong>å†…å­˜ä½¿ç”¨</strong>ï¼š<code>std::sort</code>é€šå¸¸æ˜¯åŸåœ°æ’åºç®—æ³•ï¼Œæ„å‘³å®ƒä¸éœ€è¦é¢å¤–çš„å†…å­˜ç©ºé—´ï¼ˆé™¤äº†é€’å½’è°ƒç”¨æ ˆï¼‰ï¼Œè¿™å¯¹å¤§è§„æ¨¡æ•°æ®çš„æ’åºæ˜¯éå¸¸æœ‰åˆ©çš„ã€‚</li></ul><p>ç”±äºC++æ ‡å‡†åº“çš„å…·ä½“å®ç°å¯èƒ½ä¼šå› ä¸åŒçš„ç¼–è¯‘å™¨å’Œæ ‡å‡†åº“ç‰ˆæœ¬è€Œæœ‰æ‰€ä¸åŒï¼Œè¿™é‡Œæä¾›ä¸€ä¸ªç®€åŒ–çš„ã€æ¦‚å¿µæ€§çš„<code>std::sort</code>å®ç°ï¼Œå±•ç¤ºå†…çœæ’åºçš„æ ¸å¿ƒæ€æƒ³ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">namespace</span> std &#123;<br>    <span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomIt</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">Compare</span> = std::less&lt;&gt;&gt;<br>    <span class="hljs-type">void</span> <span class="hljs-built_in">sort</span>(RandomIt first, RandomIt last, Compare comp = <span class="hljs-built_in">Compare</span>()) &#123;<br>        <span class="hljs-comment">// å†…çœæ’åºçš„é˜ˆå€¼ï¼Œé€šå¸¸ä¸ºlog(n)</span><br>        <span class="hljs-type">const</span> <span class="hljs-type">int</span> introsort_threshold = <span class="hljs-number">2</span> * <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-built_in">log</span>(last - first) / <span class="hljs-built_in">log</span>(<span class="hljs-number">2</span>));<br><br>        <span class="hljs-comment">// è¾…åŠ©å‡½æ•°ï¼Œæ‰§è¡Œå¿«é€Ÿæ’åº</span><br>        <span class="hljs-keyword">auto</span> quicksort = [&amp;](RandomIt low, RandomIt high, <span class="hljs-type">int</span> depth) &#123;<br>            <span class="hljs-keyword">if</span> (high - low &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å·²ç»æ’åºæˆ–åªæœ‰ä¸€ä¸ªå…ƒç´ </span><br><br>            <span class="hljs-keyword">if</span> (depth == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è¾¾åˆ°æœ€å¤§æ·±åº¦ï¼Œä½¿ç”¨å †æ’åº</span><br>                std::<span class="hljs-built_in">make_heap</span>(low, high, comp);<br>                std::<span class="hljs-built_in">sort_heap</span>(low, high, comp);<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br><br>            --depth;<br><br>            <span class="hljs-comment">// é€‰æ‹©æ¢è½´å¹¶è¿›è¡Œåˆ†åŒº</span><br>            RandomIt pivot = std::<span class="hljs-built_in">partition</span>(low, high, <br>                [&amp;](<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; a) &#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">comp</span>(a, *std::<span class="hljs-built_in">next</span>(high, <span class="hljs-number">-1</span>)); &#125;);<br><br>            <span class="hljs-comment">// é€’å½’æ’åºå·¦å³ä¸¤éƒ¨åˆ†</span><br>            <span class="hljs-built_in">quicksort</span>(low, pivot, depth);<br>            <span class="hljs-built_in">quicksort</span>(pivot, high, depth);<br>        &#125;;<br><br>        <span class="hljs-comment">// å¼€å§‹å†…çœæ’åº</span><br>        <span class="hljs-built_in">quicksort</span>(first, last, introsort_threshold);<br><br>        <span class="hljs-comment">// å¯¹å°è§„æ¨¡æ•°æ®ä½¿ç”¨æ’å…¥æ’åº</span><br>        <span class="hljs-keyword">if</span> (last - first &lt;= <span class="hljs-number">16</span>) &#123;<br>            <span class="hljs-keyword">for</span> (RandomIt i = first + <span class="hljs-number">1</span>; i != last; ++i) &#123;<br>                <span class="hljs-keyword">auto</span> key = *i;<br>                RandomIt j = i - <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">while</span> (j &gt;= first &amp;&amp; <span class="hljs-built_in">comp</span>(key, *j)) &#123;<br>                    *(j + <span class="hljs-number">1</span>) = *j;<br>                    --j;<br>                &#125;<br>                *(j + <span class="hljs-number">1</span>) = key;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="è§£é‡Š"><a href="#è§£é‡Š" class="headerlink" title="è§£é‡Š"></a>è§£é‡Š</h4><ol><li><p><strong>å†…çœæ’åºé˜ˆå€¼</strong>ï¼š<code>introsort_threshold</code>ç”¨äºå†³å®šä½•æ—¶ä»å¿«é€Ÿæ’åºåˆ‡æ¢åˆ°å †æ’åºï¼Œé€šå¸¸è®¾ç½®ä¸º<code>2 * log(n)</code>ã€‚</p></li><li><p><strong>å¿«é€Ÿæ’åºéƒ¨åˆ†</strong>ï¼š</p><ul><li><code>quicksort</code>å‡½æ•°å®ç°äº†å¿«é€Ÿæ’åºçš„æ ¸å¿ƒé€»è¾‘ã€‚</li><li>ä½¿ç”¨<code>std::partition</code>è¿›è¡Œåˆ†åŒºï¼ŒåŸºäºæ¯”è¾ƒå‡½æ•°<code>comp</code>ã€‚</li><li>å½“é€’å½’æ·±åº¦è¾¾åˆ°<code>introsort_threshold</code>æ—¶ï¼Œåˆ‡æ¢åˆ°å †æ’åºã€‚</li></ul></li><li><p><strong>å †æ’åº</strong>ï¼š</p><ul><li>å½“è¾¾åˆ°æœ€å¤§é€’å½’æ·±åº¦æ—¶ï¼Œè°ƒç”¨<code>std::make_heap</code>å’Œ<code>std::sort_heap</code>æ¥å®Œæˆæ’åºã€‚</li></ul></li><li><p><strong>æ’å…¥æ’åº</strong>ï¼š</p><ul><li>å¯¹äºå°è§„æ¨¡æ•°æ®ï¼ˆè¿™é‡Œè®¾å®šä¸º16ä¸ªå…ƒç´ æˆ–æ›´å°‘ï¼‰ï¼Œä½¿ç”¨æ’å…¥æ’åºæ¥ä¼˜åŒ–æ€§èƒ½ã€‚</li></ul></li><li><p><strong>æ¯”è¾ƒå‡½æ•°</strong>ï¼š</p><ul><li><code>comp</code>å‚æ•°å…è®¸ç”¨æˆ·æä¾›è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°ï¼Œå®ç°è‡ªå®šä¹‰æ’åºé€»è¾‘ã€‚</li></ul></li></ol><p>è¯·æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„å®ç°ï¼Œå®é™…çš„æ ‡å‡†åº“å®ç°å¯èƒ½åŒ…å«æ›´å¤šçš„ä¼˜åŒ–ï¼š</p><ul><li>é€‰æ‹©æ¢è½´çš„ç­–ç•¥å¯èƒ½æ›´å¤æ‚ï¼Œä»¥é¿å…æœ€åæƒ…å†µï¼ˆå¦‚å·²ç»æ’åºæˆ–é€†åºçš„æ•°ç»„ï¼‰ã€‚</li><li>å¯èƒ½ä½¿ç”¨ä¸åŒçš„é˜ˆå€¼æ¥å†³å®šä½•æ—¶åˆ‡æ¢åˆ°å †æ’åºæˆ–æ’å…¥æ’åºã€‚</li><li>å†…å­˜ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¦‚å‡å°‘é€’å½’è°ƒç”¨çš„æ ˆç©ºé—´ä½¿ç”¨ã€‚</li><li>å¯èƒ½ä½¿ç”¨å…¶ä»–æŠ€æœ¯æ¥å‡å°‘æ¯”è¾ƒæ¬¡æ•°æˆ–æé«˜ç¼“å­˜å‘½ä¸­ç‡ã€‚</li></ul><p>è¿™ç§å®ç°å±•ç¤ºäº†å†…çœæ’åºçš„åŸºæœ¬ç†å¿µï¼šç»“åˆå¿«é€Ÿæ’åºçš„å¹³å‡æ€§èƒ½ä¼˜åŠ¿ã€å †æ’åºçš„æœ€åæƒ…å†µä¿è¯ï¼Œä»¥åŠæ’å…¥æ’åºåœ¨å°æ•°æ®é›†ä¸Šçš„æ•ˆç‡ã€‚</p><h1 id="ç¨‹åºè®¾è®¡é”™é¢˜-36-40"><a href="#ç¨‹åºè®¾è®¡é”™é¢˜-36-40" class="headerlink" title="ç¨‹åºè®¾è®¡é”™é¢˜ 36-40"></a>ç¨‹åºè®¾è®¡é”™é¢˜ 36-40</h1><h2 id="1-Leetcode-334-ç»å…¸ç®—æ³•é¢˜ï¼šé€’å¢ä¸‰å…ƒå­åºåˆ—æ’åº"><a href="#1-Leetcode-334-ç»å…¸ç®—æ³•é¢˜ï¼šé€’å¢ä¸‰å…ƒå­åºåˆ—æ’åº" class="headerlink" title="1.Leetcode 334 ç»å…¸ç®—æ³•é¢˜ï¼šé€’å¢ä¸‰å…ƒå­åºåˆ—æ’åº"></a>1.Leetcode 334 ç»å…¸ç®—æ³•é¢˜ï¼šé€’å¢ä¸‰å…ƒå­åºåˆ—æ’åº</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œåˆ¤æ–­è¿™ä¸ªæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨é•¿åº¦ä¸º 3 çš„é€’å¢å­åºåˆ—ã€‚</p><p>å¦‚æœå­˜åœ¨è¿™æ ·çš„ä¸‰å…ƒç»„ä¸‹æ ‡ (i, j, k) ä¸”æ»¡è¶³ i &lt; j &lt; k ï¼Œä½¿å¾— nums[i] &lt; nums[j] &lt; nums[k] ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚</p><h4 id="è§£æ³•1-O-n-3-æš´åŠ›æšä¸¾"><a href="#è§£æ³•1-O-n-3-æš´åŠ›æšä¸¾" class="headerlink" title="è§£æ³•1 O(n^3)æš´åŠ›æšä¸¾"></a>è§£æ³•1 O(n^3)æš´åŠ›æšä¸¾</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(nums.<span class="hljs-built_in">size</span>()&lt;<span class="hljs-number">3</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i<span class="hljs-number">+2</span>&lt;nums.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+2</span>;j&lt;nums.<span class="hljs-built_in">size</span>();j++)&#123;<br>                <span class="hljs-keyword">if</span>(nums[j]&lt;=nums[i])&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=i<span class="hljs-number">+1</span>;k&lt;j;k++)&#123;<br>                        <span class="hljs-keyword">if</span>(nums[j]&gt;nums[k]&amp;&amp;nums[k]&gt;nums[i])&#123;<br>                            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                        &#125;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="è§£æ³•2-åŠ¨æ€è§„åˆ’ï¼ˆä¹Ÿä¼šè¶…æ—¶ï¼‰"><a href="#è§£æ³•2-åŠ¨æ€è§„åˆ’ï¼ˆä¹Ÿä¼šè¶…æ—¶ï¼‰" class="headerlink" title="è§£æ³•2 åŠ¨æ€è§„åˆ’ï¼ˆä¹Ÿä¼šè¶…æ—¶ï¼‰"></a>è§£æ³•2 åŠ¨æ€è§„åˆ’ï¼ˆä¹Ÿä¼šè¶…æ—¶ï¼‰</h4><p>ç»´æŠ¤ä¸€ä¸ªdp[i]<strong>æ¥è®°å½•æ¯ä¸ªä½ç½®çš„æœ€é•¿é€’å¢å­åºåˆ—çš„é•¿åº¦</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (nums.<span class="hljs-built_in">size</span>() &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">dp</span><span class="hljs-params">(nums.size(), <span class="hljs-number">1</span>)</span></span>;<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.<span class="hljs-built_in">size</span>(); ++i) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; i; ++j) &#123;<br>                <span class="hljs-keyword">if</span> (nums[i] &gt; nums[j]) &#123;<br>                    dp[i] = std::<span class="hljs-built_in">max</span>(dp[i], dp[j] + <span class="hljs-number">1</span>);<br>                    <span class="hljs-keyword">if</span> (dp[i] &gt;= <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>ç‰ºç‰²ç©ºé—´å¤æ‚åº¦ï¼Œæ¢å–æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)å’ŒO(n)</p><h4 id="ä¼˜åŒ–1-ä½¿ç”¨åŒå‘éå†"><a href="#ä¼˜åŒ–1-ä½¿ç”¨åŒå‘éå†" class="headerlink" title="ä¼˜åŒ–1 ä½¿ç”¨åŒå‘éå†"></a>ä¼˜åŒ–1 ä½¿ç”¨åŒå‘éå†</h4><p><img src="/posts/Leetcode-Mistake-collection-31-40/1.png" alt="åŒå‘éå†"></p><p>ç»´æŠ¤æ•°ç»„çš„å¥½å¤„ï¼šæé«˜äº†ç©ºé—´å¤æ‚åº¦ï¼Œä½†æ˜¯ä¸ç”¨åœ¨æ¯ä¸€æ¬¡éå†çš„æ—¶å€™é‡æ–°æ‰¾å­˜åœ¨çš„å…ƒç´ äº†ï¼ˆç›¸å½“äºåŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n=nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">if</span>(n&lt;<span class="hljs-number">3</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">leftnum</span><span class="hljs-params">(n,nums[<span class="hljs-number">0</span>])</span></span>;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">rightnum</span><span class="hljs-params">(n,nums[n<span class="hljs-number">-1</span>])</span></span>;<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++)&#123;<br>            leftnum[i]=<span class="hljs-built_in">min</span>(leftnum[i<span class="hljs-number">-1</span>],nums[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=n<span class="hljs-number">-2</span>;i&gt;=<span class="hljs-number">0</span>;i--)&#123;<br>            rightnum[i]=<span class="hljs-built_in">max</span>(rightnum[i<span class="hljs-number">+1</span>],nums[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;n<span class="hljs-number">-1</span>;i++)&#123;<br>            <span class="hljs-keyword">if</span>(nums[i]&gt;leftnum[i<span class="hljs-number">-1</span>]&amp;&amp;nums[i]&lt;rightnum[i<span class="hljs-number">+1</span>])&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)</p><p>ç©ºé—´å¤æ‚åº¦ï¼šO(n^2)</p><h4 id="ä¼˜åŒ–2-è´ªå©ªç®—æ³•"><a href="#ä¼˜åŒ–2-è´ªå©ªç®—æ³•" class="headerlink" title="ä¼˜åŒ–2 è´ªå©ªç®—æ³•"></a>ä¼˜åŒ–2 è´ªå©ªç®—æ³•</h4><p>first å’Œ second ä»£è¡¨è¿™ä¸ªæ•°ç»„ä¸­æˆ‘ä»¬æ‰€æ‰¾åˆ°çš„æœ€å°å€¼å’Œæ¬¡å°å€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;climits&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> first = INT_MAX, second = INT_MAX;<br>        <span class="hljs-comment">//å®šä¹‰ç³»ç»Ÿçš„æœ€å¤§æœ€å°å€¼</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> n : nums) &#123;<br>            <span class="hljs-keyword">if</span> (n &lt;= first) &#123;<br>                first = n;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n &lt;= second) &#123;<br>                second = n;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<span class="hljs-comment">//(n&gt;first &amp;&amp; n&gt;second)</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                <span class="hljs-comment">//ç†è®ºåˆ†æï¼šæ‰¾åˆ°æœ€å°å€¼å’Œæ¬¡å°å€¼ä¸ºä»€ä¹ˆå°±å¯ä»¥åˆ¤å®štrueï¼Ÿ</span><br>                <span class="hljs-comment">//æ‰¾åˆ°äº†n&gt;first &amp;&amp; n&gt;secondï¼Œåˆ™nä½œä¸ºä¸‰å…ƒç»„çš„æœ€åä¸€ä¸ªæ•°ï¼Œè€Œä¸”æ ¹æ®éå†çš„è§„åˆ™ï¼Œnçš„å‰é¢ä¸€ä¸ªæ•°ä¸€å®šæ˜¯å½“å‰æ•°ç»„çš„secondæˆ–è€…firstï¼</span><br>                <span class="hljs-comment">//å¦‚æœæ˜¯secondï¼Œé‚£ä¹ˆè¯´æ˜firstè¿˜åœ¨å‰é¢ï¼Œæ‰¾åˆ°äº†ç¬¦åˆæ¡ä»¶çš„ä¸‰å…ƒç»„</span><br>                <span class="hljs-comment">//å¦‚æœæ˜¯firstï¼Œå› ä¸ºè¿™é‡Œn&gt;secondï¼Œè¯´æ˜secondçš„å€¼å·²ç»è¢«æ›´æ–°è¿‡ï¼Œè¯´æ˜åœ¨nå‰é¢ï¼Œfirstçš„å€¼è‡³å°‘è¢«æ›´æ–°è¿‡ä¸¤æ¬¡ï¼Œsecondè‡³å°‘è¢«æ›´æ–°è¿‡ä¸€æ¬¡</span><br>                <span class="hljs-comment">//a1(æ•°ç»„ç¬¬ä¸€ä¸ªæ•°ï¼Œè¢«æ›´æ–°ä¸ºfirst)â€”â€”a2(second)--a3(first)--n</span><br>                <span class="hljs-comment">//a1å’Œa3ä¹‹é—´è¿˜å¯ä»¥æœ‰å¾ˆå¤šæ¬¡secondå’Œfirstå€¼çš„æ›´æ–°ï¼Œa3&lt;a1&lt;a2&lt;n;</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦O(1)</p>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>Leetcode notes</tag>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Leetcode-Mistake-Collection-21-30</title>
    <link href="/posts/Leetcode-Mistake-collection-21-30/"/>
    <url>/posts/Leetcode-Mistake-collection-21-30/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Mistake-collection-21-30"><a href="#Leetcode-Mistake-collection-21-30" class="headerlink" title="Leetcode-Mistake-collection-21-30"></a>Leetcode-Mistake-collection-21-30</h1><h1 id="ç¨‹è®¾é”™é¢˜-21-24-2024-11-1-2024-11-4"><a href="#ç¨‹è®¾é”™é¢˜-21-24-2024-11-1-2024-11-4" class="headerlink" title="ç¨‹è®¾é”™é¢˜ 21-24 2024-11-1 2024-11-4"></a>ç¨‹è®¾é”™é¢˜ 21-24 2024-11-1 2024-11-4</h1><h2 id="1-Leetcode-453-æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰"><a href="#1-Leetcode-453-æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰" class="headerlink" title="1. Leetcode 453 æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰"></a>1. Leetcode 453 æœ€å°æ“ä½œæ¬¡æ•°ä½¿æ•°ç»„å…ƒç´ ç›¸ç­‰</h2><p><strong>ä¸è¦æ‰€æœ‰æ–¹æ³•éƒ½ä½¿ç”¨æœ€åŸå§‹çš„ç¼–ç¨‹æ–¹æ³•è§£å†³ï¼</strong></p><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œå°†ä¼šä½¿ <code>n - 1</code> ä¸ªå…ƒç´ å¢åŠ  <code>1</code> ã€‚è¿”å›è®©æ•°ç»„æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æœ€å°æ“ä½œæ¬¡æ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥ï¼šnums = <span class="hljs-comment">[1,2,3]</span><br>è¾“å‡ºï¼š3<br>è§£é‡Šï¼š<br>åªéœ€è¦3æ¬¡æ“ä½œï¼ˆæ³¨æ„æ¯æ¬¡æ“ä½œä¼šå¢åŠ ä¸¤ä¸ªå…ƒç´ çš„å€¼ï¼‰ï¼š<br><span class="hljs-comment">[1,2,3]</span>  =&gt;  <span class="hljs-comment">[2,3,3]</span>  =&gt;  <span class="hljs-comment">[3,4,3]</span>  =&gt;  <span class="hljs-comment">[4,4,4]</span><br></code></pre></td></tr></table></figure><h3 id="è§£æ³•1-æœ€åŸºæœ¬è§£æ³•ï¼ˆè®¡ç®—-æšä¸¾ï¼‰"><a href="#è§£æ³•1-æœ€åŸºæœ¬è§£æ³•ï¼ˆè®¡ç®—-æšä¸¾ï¼‰" class="headerlink" title="è§£æ³•1 æœ€åŸºæœ¬è§£æ³•ï¼ˆè®¡ç®—+æšä¸¾ï¼‰"></a>è§£æ³•1 æœ€åŸºæœ¬è§£æ³•ï¼ˆè®¡ç®—+æšä¸¾ï¼‰</h3><p>â€‹<strong>æ—¶é—´å¤æ‚åº¦è¿‡é«˜</strong>ï¼ˆæœ€åæ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minMoves</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(nums.<span class="hljs-built_in">size</span>()==<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> max=nums[<span class="hljs-number">0</span>];<br>        <span class="hljs-type">long</span> <span class="hljs-type">long</span> sum=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums)&#123;<br>            sum+=num;<br>            <span class="hljs-keyword">if</span>(num&gt;max)&#123;<br>                max=num;<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">long</span> <span class="hljs-type">long</span> diff=nums.<span class="hljs-built_in">size</span>()*max-sum;<br>        <span class="hljs-keyword">while</span>(diff%(nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>))&#123;<br>            diff+=(nums.<span class="hljs-built_in">size</span>());<br>        &#125;<br>        <span class="hljs-type">bool</span> flag=<span class="hljs-number">0</span>;<br>        <span class="hljs-type">long</span> <span class="hljs-type">long</span> standard=(<span class="hljs-built_in">long</span>(diff)+sum)/nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">while</span>(!flag)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums)&#123;<br>                <span class="hljs-keyword">if</span>(standard-num&gt;(diff/(nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>)))&#123;<br>                    flag=<span class="hljs-number">0</span>;<br>                    standard+=nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>                    diff+=nums.<span class="hljs-built_in">size</span>()*(nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>);<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                flag=<span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> diff/(nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•2-å·§å¦™çš„è½¬åŒ–"><a href="#è§£æ³•2-å·§å¦™çš„è½¬åŒ–" class="headerlink" title="è§£æ³•2 å·§å¦™çš„è½¬åŒ–"></a>è§£æ³•2 å·§å¦™çš„è½¬åŒ–</h3><p>â€‹å› ä¸ºåªéœ€è¦æ‰¾å‡ºè®©æ•°ç»„æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æœ€å°æ“ä½œæ¬¡æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­å„ä¸ªå…ƒç´ çš„ç»å¯¹å¤§å°ï¼Œå³ä¸éœ€è¦çœŸæ­£ç®—å‡ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰æ—¶çš„å…ƒç´ å€¼ï¼Œåªéœ€è¦è€ƒè™‘æ•°ç»„ä¸­å…ƒç´ ç›¸å¯¹å¤§å°çš„å˜åŒ–å³å¯ã€‚</p><p>â€‹å› æ­¤ï¼Œæ¯æ¬¡æ“ä½œæ—¢å¯ä»¥ç†è§£ä¸ºä½¿ nâˆ’1 ä¸ªå…ƒç´ å¢åŠ  1ï¼Œä¹Ÿå¯ä»¥ç†è§£ä½¿ 1 ä¸ªå…ƒç´ å‡å°‘ 1ã€‚æ˜¾ç„¶ï¼Œåè€…æ›´åˆ©äºæˆ‘ä»¬çš„è®¡ç®—ã€‚</p><p>â€‹äºæ˜¯ï¼Œè¦è®¡ç®—è®©æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ç›¸ç­‰çš„æ“ä½œæ•°ï¼Œæˆ‘ä»¬åªéœ€è¦è®¡ç®—å°†æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½å‡å°‘åˆ°æ•°ç»„ä¸­å…ƒç´ æœ€å°å€¼æ‰€éœ€çš„æ“ä½œæ•°ã€‚</p><p><strong>è¿™ä¸ªæ–¹æ³•æ²¡æœ‰æ¬¡æ•°çš„é™åˆ¶ï¼Œæ‰€ä»¥ä¸ç”¨é€šè¿‡æšä¸¾æ‰¾åˆ°å¯è¡Œè§£ï¼</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minMoves</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> minNum = *<span class="hljs-built_in">min_element</span>(nums.<span class="hljs-built_in">begin</span>(),nums.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-comment">//æ‰¾åˆ°æ•°ç»„ä¸­çš„æœ€å°å€¼</span><br>        <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) &#123;<br>            res += num - minNum;<br>        &#125;<br>        <span class="hljs-comment">//é€šè¿‡ç´¯åŠ å¾—åˆ°ä¸€å…±éœ€è¦æ“ä½œçš„æ¬¡æ•°</span><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="2-Leetcode-448-æ‰¾åˆ°æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—"><a href="#2-Leetcode-448-æ‰¾åˆ°æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—" class="headerlink" title="2. Leetcode 448 æ‰¾åˆ°æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—"></a>2. Leetcode 448 æ‰¾åˆ°æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­—</h2><p>ç»™ä½ ä¸€ä¸ªå« <code>n</code> ä¸ªæ•´æ•°çš„æ•°ç»„ <code>nums</code> ï¼Œå…¶ä¸­ <code>nums[i]</code> åœ¨åŒºé—´ <code>[1, n]</code> å†…ã€‚è¯·ä½ æ‰¾å‡ºæ‰€æœ‰åœ¨ <code>[1, n]</code> èŒƒå›´å†…ä½†æ²¡æœ‰å‡ºç°åœ¨ <code>nums</code> ä¸­çš„æ•°å­—ï¼Œå¹¶ä»¥æ•°ç»„çš„å½¢å¼è¿”å›ç»“æœã€‚</p><h3 id="è§£æ³•1-ä½¿ç”¨åŠ¨æ€æ•°ç»„ï¼ˆnew-deleteï¼‰"><a href="#è§£æ³•1-ä½¿ç”¨åŠ¨æ€æ•°ç»„ï¼ˆnew-deleteï¼‰" class="headerlink" title="è§£æ³•1 ä½¿ç”¨åŠ¨æ€æ•°ç»„ï¼ˆnew&amp;deleteï¼‰"></a>è§£æ³•1 ä½¿ç”¨åŠ¨æ€æ•°ç»„ï¼ˆnew&amp;deleteï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findDisappearedNumbers</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        vector &lt;<span class="hljs-type">int</span>&gt; successful;<br>        <span class="hljs-type">int</span> n=nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">bool</span> *list=<span class="hljs-keyword">new</span> <span class="hljs-type">bool</span>[n];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            list[i]=<span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums)&#123;<br>            list[num<span class="hljs-number">-1</span>]=<span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(!list[i])&#123;<br>                successful.<span class="hljs-built_in">push_back</span>(i<span class="hljs-number">+1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">delete</span>[] list;<br>        <span class="hljs-keyword">return</span> successful;<br>        <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•2-åŸåœ°å“ˆå¸Œè¡¨"><a href="#è§£æ³•2-åŸåœ°å“ˆå¸Œè¡¨" class="headerlink" title="è§£æ³•2 åŸåœ°å“ˆå¸Œè¡¨"></a>è§£æ³•2 åŸåœ°å“ˆå¸Œè¡¨</h3><p><strong>ä¸å¼€è¾Ÿæ–°çš„å†…å­˜ç©ºé—´ï¼Œåœ¨åŸæ¥çš„æ•°ç»„ä¸Šè¿›è¡Œæ“ä½œ</strong></p><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨è®°å½•æ•°ç»„ nums ä¸­çš„æ•°å­—ï¼Œç”±äºæ•°å­—èŒƒå›´å‡åœ¨ [1,n] ä¸­ï¼Œè®°å½•æ•°å­—åæˆ‘ä»¬å†åˆ©ç”¨å“ˆå¸Œè¡¨æ£€æŸ¥ [1,n] ä¸­çš„æ¯ä¸€ä¸ªæ•°æ˜¯å¦å‡ºç°ï¼Œä»è€Œæ‰¾åˆ°ç¼ºå¤±çš„æ•°å­—ã€‚</p><p>ç”±äºæ•°å­—èŒƒå›´å‡åœ¨ [1,n] ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„æ¥ä»£æ›¿å“ˆå¸Œè¡¨ã€‚è¿™ä¸€åšæ³•çš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(n) çš„ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦åˆ° O(1)ã€‚</p><p>æ³¨æ„åˆ° nums çš„é•¿åº¦æ°å¥½ä¹Ÿä¸º nï¼Œèƒ½å¦è®© nums å……å½“å“ˆå¸Œè¡¨å‘¢ï¼Ÿ</p><p>ç”±äº nums çš„æ•°å­—èŒƒå›´å‡åœ¨ [1,n] ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥<strong>åˆ©ç”¨è¿™ä¸€èŒƒå›´ä¹‹å¤–çš„æ•°å­—</strong>ï¼Œæ¥è¡¨è¾¾ã€Œæ˜¯å¦å­˜åœ¨ã€çš„å«ä¹‰ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œéå† numsï¼Œæ¯é‡åˆ°ä¸€ä¸ªæ•° xï¼Œå°±è®© nums[xâˆ’1] å¢åŠ  nã€‚ç”±äº nums ä¸­æ‰€æœ‰æ•°å‡åœ¨ [1,n] ä¸­ï¼Œå¢åŠ ä»¥åï¼Œè¿™äº›æ•°å¿…ç„¶å¤§äº nã€‚æœ€åæˆ‘ä»¬éå† numsï¼Œè‹¥ nums[i] æœªå¤§äº nï¼Œå°±è¯´æ˜æ²¡æœ‰é‡åˆ°è¿‡æ•° i+1ã€‚è¿™æ ·æˆ‘ä»¬å°±æ‰¾åˆ°äº†ç¼ºå¤±çš„æ•°å­—ã€‚</p><p>æ³¨æ„ï¼Œ<strong>å½“æˆ‘ä»¬éå†åˆ°æŸä¸ªä½ç½®æ—¶ï¼Œå…¶ä¸­çš„æ•°å¯èƒ½å·²ç»è¢«å¢åŠ è¿‡ï¼Œå› æ­¤éœ€è¦å¯¹ n å–æ¨¡</strong>æ¥è¿˜åŸå‡ºå®ƒæœ¬æ¥çš„å€¼ã€‚</p><p><strong>å–æ¨¡&amp;åŠ å€æ•°ï¼ˆè¿›åˆ¶ï¼‰</strong>å¯ä»¥è®©ä¸€ä¸ªæ•°é€šè¿‡ä¸åŒçš„è¿ç®—å‚¨å­˜ä¸åŒçš„ä¿¡æ¯ï¼Œä¾‹å¦‚32ä»¥10ä¸ºè¿›åˆ¶å¯ä»¥å‚¨å­˜3,2ä¸¤ä¸ªä¿¡æ¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findDisappearedNumbers</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; num : nums) &#123;<br>            <span class="hljs-type">int</span> x = (num - <span class="hljs-number">1</span>) % n;<br>            <span class="hljs-comment">//-1 problemï¼Œæ³¨æ„æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹</span><br>            <span class="hljs-comment">//é€šè¿‡%å–ä½™è¿ç®—å¾—åˆ°åŸæ¥çš„å€¼</span><br>            nums[x] += n;<br>        &#125;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ret;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">if</span> (nums[i] &lt;= n) &#123;<br>                <span class="hljs-comment">//è¯æ˜è¿™ä¸ªå€¼æœªå‡ºç°è¿‡</span><br>                ret.<span class="hljs-built_in">push_back</span>(i + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="3-Leetcode-455-è´ªå¿ƒç®—æ³•åˆ†é…é¥¼å¹²"><a href="#3-Leetcode-455-è´ªå¿ƒç®—æ³•åˆ†é…é¥¼å¹²" class="headerlink" title="3. Leetcode 455 è´ªå¿ƒç®—æ³•åˆ†é…é¥¼å¹²"></a>3. Leetcode 455 è´ªå¿ƒç®—æ³•åˆ†é…é¥¼å¹²</h2><h3 id="è¡¥å……ï¼šè´ªå¿ƒç®—æ³•"><a href="#è¡¥å……ï¼šè´ªå¿ƒç®—æ³•" class="headerlink" title="è¡¥å……ï¼šè´ªå¿ƒç®—æ³•"></a>è¡¥å……ï¼šè´ªå¿ƒç®—æ³•</h3><p><strong>ä¿è¯å±€éƒ¨æœ€ä¼˜è§£&#x3D;å…¨å±€æœ€ä¼˜è§£ï¼</strong></p><h4 id="1-æœ€ä¼˜å­ç»“æ„æ€§è´¨"><a href="#1-æœ€ä¼˜å­ç»“æ„æ€§è´¨" class="headerlink" title="1. æœ€ä¼˜å­ç»“æ„æ€§è´¨"></a>1. æœ€ä¼˜å­ç»“æ„æ€§è´¨</h4><p><strong>å®šä¹‰</strong>ï¼šä¸€ä¸ªé—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œæ„å‘³ç€é—®é¢˜çš„æœ€ä¼˜è§£å¯ä»¥é€šè¿‡å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£æ¥æ„å»ºã€‚è¿™æ˜¯åŠ¨æ€è§„åˆ’å’Œè´ªå©ªç®—æ³•çš„å…±åŒç‰¹å¾ã€‚</p><p><strong>ä½œç”¨</strong>ï¼šå¦‚æœä¸€ä¸ªé—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œè´ªå©ªç®—æ³•å¯ä»¥é€šè¿‡è§£å†³æ¯ä¸ªå­é—®é¢˜çš„æœ€ä¼˜è§£æ¥é€æ­¥æ„å»ºå…¨å±€æœ€ä¼˜è§£ã€‚ä¾‹å¦‚ï¼Œåœ¨æœ€å°ç”Ÿæˆæ ‘é—®é¢˜ä¸­ï¼Œå±€éƒ¨æœ€ä¼˜çš„è¾¹é€‰æ‹©èƒ½å¤Ÿåˆå¹¶æˆå…¨å±€æœ€ä¼˜çš„ç”Ÿæˆæ ‘ã€‚</p><h4 id="2-æ— åæ•ˆæ€§"><a href="#2-æ— åæ•ˆæ€§" class="headerlink" title="2. æ— åæ•ˆæ€§"></a>2. æ— åæ•ˆæ€§</h4><p><strong>å®šä¹‰</strong>ï¼šæ— åæ•ˆæ€§æ˜¯æŒ‡å½“å‰é€‰æ‹©ä¸ä¼šå½±å“æœªæ¥é€‰æ‹©çš„å¯è¡Œæ€§æˆ–æœ€ä¼˜æ€§ã€‚è¿™æ„å‘³ç€æ¯ä¸€æ­¥åšå‡ºçš„é€‰æ‹©ä¸ä¼šé™åˆ¶åç»­æ­¥éª¤ä¸­å…¶ä»–é€‰æ‹©çš„å¯èƒ½æ€§ã€‚</p><p><strong>ä½œç”¨</strong>ï¼šæ— åæ•ˆæ€§ç¡®ä¿äº†è´ªå©ªç®—æ³•åœ¨æ¯ä¸€æ­¥åšå‡ºå±€éƒ¨æœ€ä¼˜é€‰æ‹©æ—¶ï¼Œä¸ä¼šå¯¹åç»­æ­¥éª¤äº§ç”Ÿè´Ÿé¢å½±å“ã€‚ä¾‹å¦‚ï¼Œåœ¨æ´»åŠ¨é€‰æ‹©é—®é¢˜ä¸­ï¼Œé€‰æ‹©ç»“æŸæ—¶é—´æœ€æ—©çš„æ´»åŠ¨ä¸ä¼šå½±å“åç»­æ´»åŠ¨çš„é€‰æ‹©ç©ºé—´ã€‚</p><h4 id="3-è´ªå©ªé€‰æ‹©æ€§è´¨çš„åº”ç”¨åœºæ™¯"><a href="#3-è´ªå©ªé€‰æ‹©æ€§è´¨çš„åº”ç”¨åœºæ™¯" class="headerlink" title="3. è´ªå©ªé€‰æ‹©æ€§è´¨çš„åº”ç”¨åœºæ™¯"></a>3. è´ªå©ªé€‰æ‹©æ€§è´¨çš„åº”ç”¨åœºæ™¯</h4><p>ä¸€äº›å…¸å‹çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p><ul><li><strong>æ´»åŠ¨é€‰æ‹©é—®é¢˜</strong>ï¼šé€‰æ‹©ä¸€ç»„äº’ä¸é‡å çš„æ´»åŠ¨ï¼Œè´ªå©ªé€‰æ‹©æ€§è´¨ç¡®ä¿é€‰æ‹©æœ€æ—©ç»“æŸçš„æ´»åŠ¨æ˜¯æœ€ä¼˜çš„ã€‚</li><li><strong>æœ€å°ç”Ÿæˆæ ‘é—®é¢˜</strong>ï¼šé€šè¿‡é€‰æ‹©æƒé‡æœ€å°ä¸”ä¸å½¢æˆç¯çš„è¾¹æ¥æ„å»ºæœ€å°ç”Ÿæˆæ ‘ã€‚</li><li><strong>å•æºæœ€çŸ­è·¯å¾„é—®é¢˜ï¼ˆæ— è´Ÿæƒè¾¹ï¼‰</strong>ï¼šåœ¨Dijkstraç®—æ³•ä¸­ï¼Œæ¯æ¬¡é€‰æ‹©å½“å‰æœªè®¿é—®é¡¶ç‚¹ä¸­è·ç¦»æœ€å°çš„é¡¶ç‚¹ã€‚</li></ul><h4 id="4-ä¸é€‚ç”¨è´ªå©ªç®—æ³•çš„é—®é¢˜"><a href="#4-ä¸é€‚ç”¨è´ªå©ªç®—æ³•çš„é—®é¢˜" class="headerlink" title="4. ä¸é€‚ç”¨è´ªå©ªç®—æ³•çš„é—®é¢˜"></a>4. ä¸é€‚ç”¨è´ªå©ªç®—æ³•çš„é—®é¢˜</h4><p>å¹¶ä¸æ˜¯æ‰€æœ‰é—®é¢˜éƒ½é€‚åˆç”¨è´ªå©ªç®—æ³•æ¥è§£å†³ã€‚å¯¹äºä¸å…·å¤‡è´ªå©ªé€‰æ‹©æ€§è´¨çš„é—®é¢˜ï¼Œè´ªå©ªç®—æ³•å¯èƒ½æ— æ³•æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚ä¾‹å¦‚ï¼š</p><ul><li><strong>æ—…è¡Œå•†é—®é¢˜ï¼ˆTSPï¼‰</strong>ï¼šè´ªå©ªç®—æ³•å¯èƒ½æ— æ³•æ‰¾åˆ°æœ€çŸ­è·¯å¾„ï¼Œå› ä¸ºå±€éƒ¨æœ€ä¼˜é€‰æ‹©å¯èƒ½å¯¼è‡´å…¨å±€æ¬¡ä¼˜è§£ã€‚</li><li><strong>èƒŒåŒ…é—®é¢˜</strong>ï¼šåœ¨0-1èƒŒåŒ…é—®é¢˜ä¸­ï¼Œè´ªå©ªç®—æ³•å¯èƒ½æ— æ³•æ‰¾åˆ°æœ€ä¼˜è§£ï¼Œå› ä¸ºé€‰æ‹©ä»·å€¼å¯†åº¦æœ€é«˜çš„ç‰©å“å¯èƒ½å¯¼è‡´æ— æ³•è£…å…¥å…¶ä»–æ›´æœ‰ä»·å€¼çš„ç»„åˆã€‚</li></ul><h4 id="5-è¯†åˆ«é€‚ç”¨æ€§"><a href="#5-è¯†åˆ«é€‚ç”¨æ€§" class="headerlink" title="5. è¯†åˆ«é€‚ç”¨æ€§"></a>5. è¯†åˆ«é€‚ç”¨æ€§</h4><p>åœ¨åº”ç”¨è´ªå©ªç®—æ³•ä¹‹å‰ï¼Œè¯†åˆ«é—®é¢˜æ˜¯å¦å…·å¤‡è´ªå©ªé€‰æ‹©æ€§è´¨å’Œæœ€ä¼˜å­ç»“æ„æ˜¯å…³é”®ã€‚é€šå¸¸éœ€è¦é€šè¿‡ç†è®ºåˆ†ææˆ–æ„é€ åä¾‹æ¥éªŒè¯è´ªå©ªç­–ç•¥çš„æœ‰æ•ˆæ€§ã€‚</p><p>æ€»ç»“æ¥è¯´ï¼Œè´ªå©ªç®—æ³•é€‚ç”¨äºé‚£äº›å…·æœ‰æœ€ä¼˜å­ç»“æ„å’Œæ— åæ•ˆæ€§çš„é—®é¢˜ã€‚åœ¨è¿™äº›é—®é¢˜ä¸­ï¼Œè´ªå©ªé€‰æ‹©æ€§è´¨ç¡®ä¿æ¯ä¸€æ­¥çš„å±€éƒ¨æœ€ä¼˜é€‰æ‹©æœ€ç»ˆèƒ½ç»„åˆæˆå…¨å±€æœ€ä¼˜è§£ã€‚å¯¹äºä¸å…·å¤‡è¿™äº›æ€§è´¨çš„é—®é¢˜ï¼Œå¯èƒ½éœ€è¦å…¶ä»–ç®—æ³•ï¼ˆå¦‚åŠ¨æ€è§„åˆ’æˆ–å›æº¯ï¼‰æ¥æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚</p><h3 id="é¢˜ç›®ï¼š"><a href="#é¢˜ç›®ï¼š" class="headerlink" title="é¢˜ç›®ï¼š"></a>é¢˜ç›®ï¼š</h3><p>å‡è®¾ä½ æ˜¯ä¸€ä½å¾ˆæ£’çš„å®¶é•¿ï¼Œæƒ³è¦ç»™ä½ çš„å­©å­ä»¬ä¸€äº›å°é¥¼å¹²ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå­©å­æœ€å¤šåªèƒ½ç»™ä¸€å—é¥¼å¹²ã€‚</p><p>å¯¹æ¯ä¸ªå­©å­ <code>i</code>ï¼Œéƒ½æœ‰ä¸€ä¸ªèƒƒå£å€¼ <code>g[i]</code>ï¼Œè¿™æ˜¯èƒ½è®©å­©å­ä»¬æ»¡è¶³èƒƒå£çš„é¥¼å¹²çš„æœ€å°å°ºå¯¸ï¼›å¹¶ä¸”æ¯å—é¥¼å¹² <code>j</code>ï¼Œéƒ½æœ‰ä¸€ä¸ªå°ºå¯¸ <code>s[j]</code> ã€‚å¦‚æœ <code>s[j] &gt;= g[i]</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªé¥¼å¹² <code>j</code> åˆ†é…ç»™å­©å­ <code>i</code> ï¼Œè¿™ä¸ªå­©å­ä¼šå¾—åˆ°æ»¡è¶³ã€‚ä½ çš„ç›®æ ‡æ˜¯æ»¡è¶³å°½å¯èƒ½å¤šçš„å­©å­ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªæœ€å¤§æ•°å€¼ã€‚</p><h3 id="è§£æ³•1-æ’åºåéå†ï¼ˆç¹çåšæ³•ï¼‰"><a href="#è§£æ³•1-æ’åºåéå†ï¼ˆç¹çåšæ³•ï¼‰" class="headerlink" title="è§£æ³•1:æ’åºåéå†ï¼ˆç¹çåšæ³•ï¼‰"></a>è§£æ³•1:æ’åºåéå†ï¼ˆç¹çåšæ³•ï¼‰</h3><p>æ—¶é—´å¤æ‚åº¦ï¼š<em>O</em>(<em>m</em>log<em>m</em>+<em>n</em>log<em>n</em>+<em>m</em>â‹…<em>n</em>)</p><p>â€‹mlogmå’Œnlognæ˜¯æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œmnæ˜¯æœ€åéå†çš„æ—¶é—´å¤æ‚åº¦</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findContentChildren</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; g, vector&lt;<span class="hljs-type">int</span>&gt;&amp; s)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(g.<span class="hljs-built_in">begin</span>(),g.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">sort</span>(s.<span class="hljs-built_in">begin</span>(),s.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> select=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;g.<span class="hljs-built_in">size</span>()&amp;&amp;select&lt;s.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=select;j&lt;s.<span class="hljs-built_in">size</span>();j++)&#123;<br>                <span class="hljs-keyword">if</span>(s[j]&gt;=g[i])&#123;<br>                    count++;<br>                    j++;<br>                    select=j;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-comment">//å…¶å®è¿™é‡Œé€šè¿‡selectä¸æ–­æå‡jçš„æšä¸¾èµ·ç‚¹æœ‰ç‚¹ç±»ä¼¼äºåŒæŒ‡é’ˆç­–ç•¥ï¼Œä½†æ˜¯ä»£ç çš„å†—ä½™ä¹‹å¤„åœ¨äºå¦‚æœå‡ºç°éå†å®Œè¿˜æ²¡æœ‰æ‰¾åˆ°çš„æƒ…å†µï¼Œåº”è¯¥ç›´æ¥è·³å‡ºå¤–å¾ªç¯ï¼ˆæˆ‘ä»¬å·²ç»æ’åºè¿‡æ•°ç»„äº†ï¼‰</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>è§£æ³•1çš„å°ä¿®æ”¹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findContentChildren</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; g, vector&lt;<span class="hljs-type">int</span>&gt;&amp; s)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(g.<span class="hljs-built_in">begin</span>(),g.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">sort</span>(s.<span class="hljs-built_in">begin</span>(),s.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> select=<span class="hljs-number">0</span>;<br>        <span class="hljs-type">bool</span> flag=<span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;g.<span class="hljs-built_in">size</span>()&amp;&amp;select&lt;s.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=select;j&lt;s.<span class="hljs-built_in">size</span>();j++)&#123;<br>                <span class="hljs-keyword">if</span>(s[j]&gt;=g[i])&#123;<br>                    flag=<span class="hljs-literal">true</span>;<br>                    count++;<br>                    j++;<br>                    select=j;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(!flag)&#123;<br>                <span class="hljs-keyword">return</span> count;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> count;<br>        <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>(è¿™æ ·å°±ä¸ä¼šè¶…æ—¶äº†ï¼Œä½†æ˜¯ä»£ç è¿˜æœ‰ä¼˜åŒ–çš„ç©ºé—´)</p><ul><li>è¿™é‡Œå…¶å®ä¸éœ€è¦å†™ä¸¤å±‚forå¾ªç¯æ§åˆ¶ä¸¤ä¸ªæŒ‡é’ˆï¼</li></ul><h3 id="è§£æ³•2ï¼šä¼˜åŒ–ä½¿ç”¨åŒæŒ‡é’ˆ"><a href="#è§£æ³•2ï¼šä¼˜åŒ–ä½¿ç”¨åŒæŒ‡é’ˆ" class="headerlink" title="è§£æ³•2ï¼šä¼˜åŒ–ä½¿ç”¨åŒæŒ‡é’ˆ"></a>è§£æ³•2ï¼šä¼˜åŒ–ä½¿ç”¨åŒæŒ‡é’ˆ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findContentChildren</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; g, vector&lt;<span class="hljs-type">int</span>&gt;&amp; s)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(g.<span class="hljs-built_in">begin</span>(), g.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">sort</span>(s.<span class="hljs-built_in">begin</span>(), s.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">//define two pointers</span><br>        <span class="hljs-keyword">while</span> (i &lt; g.<span class="hljs-built_in">size</span>() &amp;&amp; j &lt; s.<span class="hljs-built_in">size</span>()) &#123;<br>            <span class="hljs-keyword">if</span> (s[j] &gt;= g[i]) &#123;<br>                count++;<br>                i++;<br>                <span class="hljs-comment">//if allocate successfully,then the both pointers get forward</span><br>            &#125;<br>            j++;<br>            <span class="hljs-comment">//whenever the allocate, the biscuit pointer gets forward</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(mlogm)+O(nlogn)+O(m+n)&#x3D;O(mlogm+nlogn)</p><h3 id="è¡¥å……ï¼šåŒæŒ‡é’ˆ"><a href="#è¡¥å……ï¼šåŒæŒ‡é’ˆ" class="headerlink" title="è¡¥å……ï¼šåŒæŒ‡é’ˆ"></a>è¡¥å……ï¼šåŒæŒ‡é’ˆ</h3><p>åŒæŒ‡é’ˆæ˜¯ä¸€ç§å¸¸ç”¨çš„ç®—æ³•æŠ€å·§ï¼Œå°¤å…¶åœ¨å¤„ç†æ•°ç»„æˆ–é“¾è¡¨ç­‰çº¿æ€§æ•°æ®ç»“æ„æ—¶éå¸¸æœ‰æ•ˆã€‚å®ƒé€šè¿‡ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ¥éå†æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨æŸäº›æƒ…å†µä¸‹ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦æˆ–ç®€åŒ–é€»è¾‘ã€‚ä»¥ä¸‹æ˜¯åŒæŒ‡é’ˆæŠ€å·§çš„ä¸€äº›å¸¸è§åº”ç”¨åœºæ™¯å’Œç®€å•ä»‹ç»ï¼š</p><h3 id="1-å¿«æ…¢æŒ‡é’ˆ"><a href="#1-å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="1. å¿«æ…¢æŒ‡é’ˆ"></a>1. å¿«æ…¢æŒ‡é’ˆ</h3><ul><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šæ£€æµ‹é“¾è¡¨ä¸­çš„ç¯ã€æ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ã€‚</li><li><strong>æ–¹æ³•</strong>ï¼š<ul><li>ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ã€‚</li><li>å¦‚æœå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜å­˜åœ¨ç¯ã€‚</li><li>æ‰¾ä¸­é—´èŠ‚ç‚¹æ—¶ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆæ­£å¥½åœ¨ä¸­é—´ã€‚</li></ul></li></ul><h3 id="2-å·¦å³æŒ‡é’ˆ"><a href="#2-å·¦å³æŒ‡é’ˆ" class="headerlink" title="2. å·¦å³æŒ‡é’ˆ"></a>2. å·¦å³æŒ‡é’ˆ</h3><ul><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šè§£å†³æ’åºæ•°ç»„ä¸­çš„é—®é¢˜ï¼Œå¦‚äºŒåˆ†æŸ¥æ‰¾ã€ä¸‰æ•°ä¹‹å’Œã€‚</li><li><strong>æ–¹æ³•</strong>ï¼š<ul><li>åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘æ•°ç»„çš„ä¸¤ç«¯ã€‚</li><li>æ ¹æ®é—®é¢˜çš„è¦æ±‚ï¼Œå‘ä¸­é—´ç§»åŠ¨æŒ‡é’ˆã€‚</li><li>å¸¸ç”¨äºæŸ¥æ‰¾æ»¡è¶³æŸç§æ¡ä»¶çš„å¯¹æˆ–å­åºåˆ—ã€‚</li><li>ä¹Ÿå¯ä»¥å®ç°åŠ¨æ€çš„æŸ¥æ‰¾ã€‚</li></ul></li></ul><h3 id="3-æ»‘åŠ¨çª—å£"><a href="#3-æ»‘åŠ¨çª—å£" class="headerlink" title="3. æ»‘åŠ¨çª—å£"></a>3. æ»‘åŠ¨çª—å£</h3><ul><li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šè§£å†³å­æ•°ç»„é—®é¢˜ï¼Œå¦‚æœ€é•¿æ— é‡å¤å­ä¸²ã€æœ€å°è¦†ç›–å­ä¸²ã€‚</li><li><strong>æ–¹æ³•</strong>ï¼š<ul><li>ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆå®šä¹‰ä¸€ä¸ªçª—å£ï¼Œåˆå§‹æ—¶çª—å£ä¸ºç©ºã€‚</li><li>ç§»åŠ¨å³æŒ‡é’ˆæ‰©å±•çª—å£ï¼Œç§»åŠ¨å·¦æŒ‡é’ˆç¼©å°çª—å£ï¼Œç›´åˆ°æ»¡è¶³æ¡ä»¶ã€‚</li><li>åœ¨æ¯æ¬¡çª—å£å˜åŒ–æ—¶æ›´æ–°ç»“æœã€‚</li></ul></li></ul><h3 id="ç¤ºä¾‹ï¼šä½¿ç”¨åŒæŒ‡é’ˆè§£å†³æœ‰åºæ•°ç»„ä¸­çš„ä¸¤æ•°ä¹‹å’Œ"><a href="#ç¤ºä¾‹ï¼šä½¿ç”¨åŒæŒ‡é’ˆè§£å†³æœ‰åºæ•°ç»„ä¸­çš„ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ç¤ºä¾‹ï¼šä½¿ç”¨åŒæŒ‡é’ˆè§£å†³æœ‰åºæ•°ç»„ä¸­çš„ä¸¤æ•°ä¹‹å’Œ"></a>ç¤ºä¾‹ï¼šä½¿ç”¨åŒæŒ‡é’ˆè§£å†³æœ‰åºæ•°ç»„ä¸­çš„ä¸¤æ•°ä¹‹å’Œ</h3><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼Œæƒ³æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œä½¿å®ƒä»¬çš„å’Œç­‰äºç›®æ ‡å€¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">twoSum</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; numbers, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>    <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = numbers.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (left &lt; right) &#123;<br>        <span class="hljs-type">int</span> sum = numbers[left] + numbers[right];<br>        <span class="hljs-keyword">if</span> (sum == target) &#123;<br>            <span class="hljs-keyword">return</span> &#123;left + <span class="hljs-number">1</span>, right + <span class="hljs-number">1</span>&#125;; <span class="hljs-comment">// è¿”å›ç´¢å¼•ä»1å¼€å§‹</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sum &lt; target) &#123;<br>            left++; <span class="hljs-comment">// å¢åŠ å·¦æŒ‡é’ˆä»¥å¢åŠ æ€»å’Œ</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            right--; <span class="hljs-comment">// å‡å°‘å³æŒ‡é’ˆä»¥å‡å°‘æ€»å’Œ</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123;&#125;; <span class="hljs-comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œè¿”å›ç©º</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>åŒæŒ‡é’ˆæŠ€å·§é€šè¿‡åˆç†ç§»åŠ¨ä¸¤ä¸ªæŒ‡é’ˆï¼Œå¯ä»¥æœ‰æ•ˆåœ°å‡å°‘éå†æ¬¡æ•°æˆ–ç®€åŒ–ç®—æ³•é€»è¾‘ã€‚é€‰æ‹©åˆé€‚çš„åŒæŒ‡é’ˆç­–ç•¥ï¼ˆå¦‚å¿«æ…¢æŒ‡é’ˆã€å·¦å³æŒ‡é’ˆã€æ»‘åŠ¨çª—å£ï¼‰å¯ä»¥å¸®åŠ©è§£å†³è®¸å¤šå¤æ‚çš„ç®—æ³•é—®é¢˜ã€‚</p><h2 id="4-ACwing-633-ä¸¤æ•°å¹³æ–¹å’Œåˆ¤æ–­"><a href="#4-ACwing-633-ä¸¤æ•°å¹³æ–¹å’Œåˆ¤æ–­" class="headerlink" title="4. ACwing 633 ä¸¤æ•°å¹³æ–¹å’Œåˆ¤æ–­"></a>4. ACwing 633 ä¸¤æ•°å¹³æ–¹å’Œåˆ¤æ–­</h2><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° <code>c</code> ï¼Œä½ è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•´æ•° <code>a</code> å’Œ <code>b</code>ï¼Œä½¿å¾— <code>a^2 + b^2 = c</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tap">è¾“å…¥ï¼šc = 5<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼š1 *<span class="hljs-number"> 1 </span>+<span class="hljs-number"> 2 </span>*<span class="hljs-number"> 2 </span>= 5<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs llvm">è¾“å…¥ï¼š<span class="hljs-keyword">c</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span><br>è¾“å‡ºï¼š<span class="hljs-keyword">false</span><br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>0 &lt;= c &lt;= 2^31 - 1</code></li></ul><p>æœ€æš´åŠ›çš„è§£æ³•ï¼šåŒå¾ªç¯æš´åŠ›æšä¸¾ï¼ˆå¤æ‚åº¦ï¼šO(n^2))</p><p>ä¼˜åŒ–æ–¹æ³•ï¼šä½¿ç”¨sqrtå‡½æ•°çœå»ä¸€å±‚å¾ªç¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">judgeSquareSum</span><span class="hljs-params">(<span class="hljs-type">int</span> c)</span> </span>&#123;<br>        <span class="hljs-type">double</span> b;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">long</span> <span class="hljs-type">long</span>  i=<span class="hljs-number">0</span>;(i)*i&lt;=c;i++)&#123;<br>            b=<span class="hljs-built_in">sqrt</span>(c-i*i);&#123;<br>                <span class="hljs-keyword">if</span>(b==<span class="hljs-built_in">int</span>(b))&#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="è¡¥å……æ–¹æ³•ï¼šä½¿ç”¨åŒæŒ‡é’ˆæšä¸¾"><a href="#è¡¥å……æ–¹æ³•ï¼šä½¿ç”¨åŒæŒ‡é’ˆæšä¸¾" class="headerlink" title="è¡¥å……æ–¹æ³•ï¼šä½¿ç”¨åŒæŒ‡é’ˆæšä¸¾"></a>è¡¥å……æ–¹æ³•ï¼šä½¿ç”¨åŒæŒ‡é’ˆæšä¸¾</h4><p><img src="/1.png" alt="two pointers"></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">judgeSquareSum</span><span class="hljs-params">(<span class="hljs-type">int</span> c)</span> </span>&#123;<br>        <span class="hljs-type">long</span> left = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">long</span> right = (<span class="hljs-type">int</span>)<span class="hljs-built_in">sqrt</span>(c);<br>        <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>            <span class="hljs-type">long</span> sum = left * left + right * right;<br>            <span class="hljs-keyword">if</span> (sum == c) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sum &gt; c) &#123;<br>                right--;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                left++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h1 id="ç¨‹åºè®¾è®¡é”™é¢˜-25-30-20241105"><a href="#ç¨‹åºè®¾è®¡é”™é¢˜-25-30-20241105" class="headerlink" title="ç¨‹åºè®¾è®¡é”™é¢˜  25-30 20241105"></a>ç¨‹åºè®¾è®¡é”™é¢˜  25-30 20241105</h1><h2 id="1-Leetcode-877-å…ˆæ‰‹å¿…èƒœç­–ç•¥åˆ¤æ–­"><a href="#1-Leetcode-877-å…ˆæ‰‹å¿…èƒœç­–ç•¥åˆ¤æ–­" class="headerlink" title="1. Leetcode 877 å…ˆæ‰‹å¿…èƒœç­–ç•¥åˆ¤æ–­"></a>1. Leetcode 877 å…ˆæ‰‹å¿…èƒœç­–ç•¥åˆ¤æ–­</h2><p>Alice å’Œ Bob ç”¨å‡ å †çŸ³å­åœ¨åšæ¸¸æˆä¸€å…±æœ‰å¶æ•°å †çŸ³å­ï¼Œ<strong>æ’æˆä¸€è¡Œ</strong>ï¼›æ¯å †éƒ½æœ‰ <strong>æ­£</strong> æ•´æ•°é¢—çŸ³å­ï¼Œæ•°ç›®ä¸º <code>piles[i]</code> ã€‚</p><p>æ¸¸æˆä»¥è°æ‰‹ä¸­çš„çŸ³å­æœ€å¤šæ¥å†³å‡ºèƒœè´Ÿã€‚çŸ³å­çš„ <strong>æ€»æ•°</strong> æ˜¯ <strong>å¥‡æ•°</strong> ï¼Œæ‰€ä»¥æ²¡æœ‰å¹³å±€ã€‚</p><p>Alice å’Œ Bob è½®æµè¿›è¡Œï¼Œ<strong>Alice å…ˆå¼€å§‹</strong> ã€‚ æ¯å›åˆï¼Œç©å®¶ä»è¡Œçš„ <strong>å¼€å§‹</strong> æˆ– <strong>ç»“æŸ</strong> å¤„å–èµ°æ•´å †çŸ³å¤´ã€‚ è¿™ç§æƒ…å†µä¸€ç›´æŒç»­åˆ°æ²¡æœ‰æ›´å¤šçš„çŸ³å­å †ä¸ºæ­¢ï¼Œæ­¤æ—¶æ‰‹ä¸­ <strong>çŸ³å­æœ€å¤š</strong> çš„ç©å®¶ <strong>è·èƒœ</strong> ã€‚</p><p>å‡è®¾ Alice å’Œ Bob éƒ½å‘æŒ¥å‡ºæœ€ä½³æ°´å¹³ï¼Œå½“ Alice èµ¢å¾—æ¯”èµ›æ—¶è¿”å› <code>true</code> ï¼Œå½“ Bob èµ¢å¾—æ¯”èµ›æ—¶è¿”å› <code>false</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs tap">è¾“å…¥ï¼špiles = [5,3,4,5]<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼š<br>Alice å…ˆå¼€å§‹ï¼Œåªèƒ½æ‹¿å‰<span class="hljs-number"> 5 </span>é¢—æˆ–å<span class="hljs-number"> 5 </span>é¢—çŸ³å­ ã€‚<br>å‡è®¾ä»–å–äº†å‰<span class="hljs-number"> 5 </span>é¢—ï¼Œè¿™ä¸€è¡Œå°±å˜æˆäº† [3,4,5] ã€‚<br>å¦‚æœ Bob æ‹¿èµ°å‰<span class="hljs-number"> 3 </span>é¢—ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„æ˜¯ [4,5]ï¼ŒAlice æ‹¿èµ°å<span class="hljs-number"> 5 </span>é¢—èµ¢å¾—<span class="hljs-number"> 10 </span>åˆ†ã€‚<br>å¦‚æœ Bob æ‹¿èµ°å<span class="hljs-number"> 5 </span>é¢—ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„æ˜¯ [3,4]ï¼ŒAlice æ‹¿èµ°å<span class="hljs-number"> 4 </span>é¢—èµ¢å¾—<span class="hljs-number"> 9 </span>åˆ†ã€‚<br>è¿™è¡¨æ˜ï¼Œå–å‰<span class="hljs-number"> 5 </span>é¢—çŸ³å­å¯¹ Alice æ¥è¯´æ˜¯ä¸€ä¸ªèƒœåˆ©çš„ä¸¾åŠ¨ï¼Œæ‰€ä»¥è¿”å› true ã€‚<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs nix">è¾“å…¥ï¼š<span class="hljs-attr">piles</span> = [<span class="hljs-number">3</span>,<span class="hljs-number">7</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>è¾“å‡ºï¼š<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong></p><ul><li><code>2 &lt;= piles.length &lt;= 500</code></li><li><code>piles.length</code> æ˜¯ <strong>å¶æ•°</strong></li><li><code>1 &lt;= piles[i] &lt;= 500</code></li><li><code>sum(piles[i])</code> æ˜¯ <strong>å¥‡æ•°</strong></li></ul><p><strong>åˆ†æ</strong>ï¼šæ­¤é¢˜è´ªå©ªç®—æ³•å¹¶ä¸é€‚åº”ï¼Œå› ä¸ºå±€éƒ¨æœ€ä¼˜å¹¶ä¸æ˜¯å…¨å±€æœ€ä¼˜</p><h4 id="ä¸ºä»€ä¹ˆä¸èƒ½ç”¨è´ªå©ªç®—æ³•ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸èƒ½ç”¨è´ªå©ªç®—æ³•ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸èƒ½ç”¨è´ªå©ªç®—æ³•ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸èƒ½ç”¨è´ªå©ªç®—æ³•ï¼Ÿ</h4><ol><li><strong>å±€éƒ¨æœ€ä¼˜ä¸ç­‰äºå…¨å±€æœ€ä¼˜</strong>ï¼šåœ¨è¿™ç§é›¶å’Œåšå¼ˆä¸­ï¼Œè´ªå©ªç­–ç•¥åªèƒ½ä¿è¯æ¯æ¬¡é€‰æ‹©å½“å‰æœ€ä½³ï¼ˆå³æœ€å¤šçš„çŸ³å­å †ï¼‰ï¼Œä½†è¿™å¹¶ä¸ä¸€å®šèƒ½å¾—åˆ°æœ€ç»ˆçš„èƒœåˆ©ã€‚å› ä¸ºåç»­çš„é€‰æ‹©ä¼šå½±å“åˆ°å‰©ä½™çŸ³å­çš„é€‰æ‹©ï¼Œè€Œä¸åªæ˜¯å½“å‰çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ªç©å®¶å¦‚æœæ€»æ˜¯é€‰æ‹©å½“å‰æœ€å¤šçš„çŸ³å­å †ï¼Œå¯èƒ½ä¼šåœ¨åç»­å¤±å»æ›´å¤šçš„æœºä¼šï¼Œæœ€ç»ˆå¯¼è‡´è¾“æ‰æ¸¸æˆã€‚</li><li><strong>åšå¼ˆçš„å‰ç»æ€§</strong>ï¼šæ¯æ¬¡ç©å®¶çš„é€‰æ‹©ä¸ä»…ä»…å½±å“å½“å‰å±€é¢ï¼Œè¿˜ä¼šå½±å“åˆ°æ¥ä¸‹æ¥çš„é€‰æ‹©ã€‚ç†æƒ³çš„ç­–ç•¥éœ€è¦è€ƒè™‘æœªæ¥çš„å›åˆï¼Œé¢„æµ‹å¯¹æ–¹çš„ååº”ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªèƒ½æœ€ç»ˆè·å¾—èƒœåˆ©çš„æ–¹æ¡ˆã€‚è´ªå©ªç®—æ³•é€šå¸¸ç¼ºä¹è¿™ç§å…¨å±€è§†é‡ã€‚</li><li><strong>åšå¼ˆçš„ç›¸äº’ä½œç”¨</strong>ï¼šè¿™é“é¢˜çš„æ ¸å¿ƒåœ¨äºä¸¤æ–¹ç©å®¶éƒ½åœ¨åšå†³ç­–ï¼Œè€Œæ¯ä¸ªå†³ç­–éƒ½ä¼šå½±å“åˆ°åç»­çš„å±€é¢ã€‚éœ€è¦é€šè¿‡åŠ¨æ€è§„åˆ’æ¥è€ƒè™‘åœ¨æ‰€æœ‰å¯èƒ½çš„å±€é¢ä¸‹ï¼Œå“ªç§é€‰æ‹©èƒ½å¤Ÿè·å¾—æœ€ç»ˆæœ€ä¼˜çš„ç»“æœã€‚</li></ol><h3 id="è§£æ³•-ï¼šåŒºé—´åŠ¨æ€è§„åˆ’"><a href="#è§£æ³•-ï¼šåŒºé—´åŠ¨æ€è§„åˆ’" class="headerlink" title="è§£æ³• ï¼šåŒºé—´åŠ¨æ€è§„åˆ’"></a>è§£æ³• ï¼šåŒºé—´åŠ¨æ€è§„åˆ’</h3><p>ä¸ºäº†æ±‚è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªåŠ¨æ€è§„åˆ’è¡¨ <code>dp[i][j]</code> æ¥è¡¨ç¤ºåœ¨çŸ³å­å †çš„åŒºé—´ <code>[i, j]</code> ä¸­ï¼Œ<strong>å½“å‰ç©å®¶</strong>ï¼ˆæ³¨æ„æœ‰å¯èƒ½æ˜¯Bobï¼ï¼‰ä¸å¯¹æ‰‹ç©å®¶çš„æ‰€å¾—åˆ°çŸ³å­ä¹‹å·®çš„æœ€å¤§å€¼ã€‚</p><h4 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h4><p>å‡è®¾å½“å‰ç©å®¶é¢å¯¹çš„çŸ³å­å †æ˜¯ <code>[i, j]</code>ï¼Œä»–å¯ä»¥é€‰æ‹©ï¼š</p><ul><li>ä»å‰ç«¯å–èµ° <code>piles[i]</code>ï¼Œå‰©ä¸‹çš„åŒºé—´æ˜¯ <code>[i+1, j]</code>ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå‰©ä¸‹çš„åŒºé—´ <code>[i+1, j]</code> ä¼šæ˜¯å¯¹æ–¹çš„å›åˆã€‚</li><li>ä»åç«¯å–èµ° <code>piles[j]</code>ï¼Œå‰©ä¸‹çš„åŒºé—´æ˜¯ <code>[i, j-1]</code>ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå‰©ä¸‹çš„åŒºé—´ <code>[i, j-1]</code> ä¼šæ˜¯å¯¹æ–¹çš„å›åˆã€‚</li></ul><p>å¯¹äºæ¯ç§é€‰æ‹©ï¼Œå½“å‰ç©å®¶çš„å¾—åˆ†æ˜¯<strong>ä»–å–èµ°çš„çŸ³å­çš„æ•°é‡åŠ ä¸Šå¯¹æ–¹åœ¨å‰©ä½™åŒºé—´ä¸­çš„æœ€å·®å¾—åˆ†</strong>ã€‚ä¸ºäº†ç¡®ä¿å½“å‰ç©å®¶çš„ç­–ç•¥æœ€ä¼˜ï¼Œæˆ‘ä»¬éœ€è¦é€‰å–å¯¹æ–¹æœ€å·®çš„é€‰æ‹©ï¼ˆå³ï¼Œæœ€å°åŒ–å¯¹æ–¹å¾—åˆ°çš„åˆ†æ•°ï¼‰ã€‚</p><p>å› æ­¤ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p><ul><li><code>dp[i][j] = max(piles[i] + (sum(i+1, j) - dp[i+1][j]), piles[j] + (sum(i, j-1) - dp[i][j-1]))</code></li><li>è¿™é‡Œæ˜¯å…¨å±€æœ€ä¼˜è§£ï¼</li></ul><p>å…¶ä¸­ï¼Œ<code>sum(i, j)</code> æ˜¯ä» <code>i</code> åˆ° <code>j</code> çš„çŸ³å­å †æ€»æ•°ã€‚</p><h4 id="åŠ¨æ€è§„åˆ’å®ç°"><a href="#åŠ¨æ€è§„åˆ’å®ç°" class="headerlink" title="åŠ¨æ€è§„åˆ’å®ç°"></a>åŠ¨æ€è§„åˆ’å®ç°</h4><p>ä¸ºäº†é¿å…é‡å¤è®¡ç®—åŒºé—´å’Œï¼Œæˆ‘ä»¬å¯ä»¥é¢„å…ˆè®¡ç®—æ‰€æœ‰åŒºé—´çš„çŸ³å­æ€»å’Œï¼Œå¹¶ä½¿ç”¨è¿™äº›é¢„è®¡ç®—çš„å’Œæ¥åŠ é€Ÿæˆ‘ä»¬çš„ DP è®¡ç®—ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">stoneGame</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; piles)</span> </span>&#123;<br>        <span class="hljs-type">int</span> length = piles.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">auto</span> dp = vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;(length, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(length));<br>        <span class="hljs-comment">//å®šä¹‰äºŒç»´æ•°ç»„</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>            dp[i][i] = piles[i];<br>        &#125;<br>        <span class="hljs-comment">//ç‰¹æ®Šæƒ…å†µï¼šæ¸¸æˆè¿›è¡Œåˆ°äº†æœ€åä¸€è½®</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = length - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; length; j++) &#123;<br>                dp[i][j] = <span class="hljs-built_in">max</span>(piles[i] - dp[i + <span class="hljs-number">1</span>][j], piles[j] - dp[i][j - <span class="hljs-number">1</span>]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//ç‰¹æ®Šçš„æ£€ç´¢æ–¹æ³•ã€‚ç±»ä¼¼äºä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µå¹¶ä¸”ç¡®å®šäº†çŸ©é˜µä¸»å¯¹è§’çº¿çš„å…ƒç´ çš„å€¼</span><br>        <span class="hljs-comment">//è¿™æ ·å¯ä»¥ä¿è¯æ¯ä¸ªå…ƒç´ åœ¨é€’å½’çš„æ—¶å€™éƒ½æœ‰å€¼ï¼</span><br>        <span class="hljs-keyword">return</span> dp[<span class="hljs-number">0</span>][length - <span class="hljs-number">1</span>] &gt; <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">//dp[0][length - 1]ä»£è¡¨èƒ½æ‹¿åˆ°çš„æœ€ä¼˜è§£</span><br>        <span class="hljs-comment">//åœ¨è¿™é‡Œä½¿ç”¨äº†å½’ä¸€åŒ–çš„æ€è·¯ï¼Œè¿™æ ·åªè¦åˆ¤æ–­æ˜¯å¦&gt;0å°±è¡Œäº†</span><br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸åŒçš„åŠ¨æ€è§„åˆ’æ•°ç»„ï¼š</p><p>â€‹dpä»£è¡¨å½“å‰ç©å®¶åœ¨å½“å‰çŠ¶æ€ä¸‹ï¼Œèƒ½å¤Ÿå¾—åˆ°çš„æœ€ä¼˜è§£</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">stoneGame</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; piles)</span> </span>&#123;<br>        <br>        <span class="hljs-type">int</span> length=piles.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">auto</span> sumcount=vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;(length,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(length));<br>        <span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;length;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;length;j++)&#123;<br>                <span class="hljs-keyword">if</span>(j&lt;i)&#123;<br>                    sumcount[i][j]=<span class="hljs-number">0</span>;<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=i;k&lt;=j;k++)&#123;<br>                        sum+=piles[k];<br>                    &#125;<br>                    sumcount[i][j]=sum;<br>                    sum=<span class="hljs-number">0</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">auto</span> dp = vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;(length,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(length));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;length;i++)&#123;<br>            dp[i][i]=<span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=length<span class="hljs-number">-2</span>;i&gt;=<span class="hljs-number">0</span>;i--)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+1</span>;j&lt;length;j++)&#123;<br>                dp[i][j]=<span class="hljs-built_in">max</span>(piles[i]+sumcount[i<span class="hljs-number">+1</span>][j]-dp[i<span class="hljs-number">+1</span>][j],piles[j]+sumcount[i][j<span class="hljs-number">-1</span>]-dp[i][j<span class="hljs-number">-1</span>]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(<span class="hljs-number">2</span>*dp[<span class="hljs-number">0</span>][length<span class="hljs-number">-1</span>]&gt;sumcount[<span class="hljs-number">0</span>][length<span class="hljs-number">-1</span>])&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="2-Leetcode-942-DIå­—ç¬¦ä¸²åºåˆ—åŒ¹é…ç”Ÿæˆ"><a href="#2-Leetcode-942-DIå­—ç¬¦ä¸²åºåˆ—åŒ¹é…ç”Ÿæˆ" class="headerlink" title="2. Leetcode 942 DIå­—ç¬¦ä¸²åºåˆ—åŒ¹é…ç”Ÿæˆ"></a>2. Leetcode 942 DIå­—ç¬¦ä¸²åºåˆ—åŒ¹é…ç”Ÿæˆ</h2><p>ç”±èŒƒå›´ <code>[0,n]</code> å†…æ‰€æœ‰æ•´æ•°ç»„æˆçš„ <code>n + 1</code> ä¸ªæ•´æ•°çš„æ’åˆ—åºåˆ—å¯ä»¥è¡¨ç¤ºä¸ºé•¿åº¦ä¸º <code>n</code> çš„å­—ç¬¦ä¸² <code>s</code> ï¼Œå…¶ä¸­:</p><ul><li>å¦‚æœ <code>perm[i] &lt; perm[i + 1]</code> ï¼Œé‚£ä¹ˆ <code>s[i] == &#39;I&#39;</code> </li><li>å¦‚æœ <code>perm[i] &gt; perm[i + 1]</code> ï¼Œé‚£ä¹ˆ <code>s[i] == &#39;D&#39;</code></li></ul><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œé‡æ„æ’åˆ— <code>perm</code> å¹¶è¿”å›å®ƒã€‚å¦‚æœæœ‰å¤šä¸ªæœ‰æ•ˆæ’åˆ—permï¼Œåˆ™è¿”å›å…¶ä¸­ <strong>ä»»ä½•ä¸€ä¸ª</strong> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs prolog">è¾“å…¥ï¼šs = <span class="hljs-string">&quot;IDID&quot;</span><br>è¾“å‡ºï¼š[<span class="hljs-number">0</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs prolog">è¾“å…¥ï¼šs = <span class="hljs-string">&quot;III&quot;</span><br>è¾“å‡ºï¼š[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs prolog">è¾“å…¥ï¼šs = <span class="hljs-string">&quot;DDI&quot;</span><br>è¾“å‡ºï¼š[<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><h3 id="éå¸¸ç»å…¸çš„è´ªå¿ƒç®—æ³•ï¼"><a href="#éå¸¸ç»å…¸çš„è´ªå¿ƒç®—æ³•ï¼" class="headerlink" title="éå¸¸ç»å…¸çš„è´ªå¿ƒç®—æ³•ï¼"></a>éå¸¸ç»å…¸çš„è´ªå¿ƒç®—æ³•ï¼</h3><p>è€ƒè™‘ perm[0] çš„å€¼ï¼Œæ ¹æ®é¢˜æ„ï¼š</p><p>å¦‚æœ s[0]&#x3D;â€˜Iâ€™ï¼Œé‚£ä¹ˆä»¤ perm[0]&#x3D;0ï¼Œåˆ™æ— è®º perm[1] ä¸ºä½•å€¼éƒ½æ»¡è¶³ perm[0]&lt;perm[1]ï¼›<br>å¦‚æœ s[0]&#x3D;â€˜Dâ€™ï¼Œé‚£ä¹ˆä»¤ perm[0]&#x3D;nï¼Œåˆ™æ— è®º perm[1] ä¸ºä½•å€¼éƒ½æ»¡è¶³ perm[0]&gt;perm[1]ï¼›<br>ç¡®å®šå¥½ perm[0] åï¼Œå‰©ä½™çš„ nâˆ’1 ä¸ªå­—ç¬¦å’Œ n ä¸ªå¾…ç¡®å®šçš„æ•°å°±å˜æˆäº†ä¸€ä¸ªå’ŒåŸé—®é¢˜ç›¸åŒï¼Œä½†è§„æ¨¡ä¸º nâˆ’1 çš„é—®é¢˜ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç»§ç»­æŒ‰ç…§ä¸Šè¿°æ–¹æ³•ç¡®å®š perm[1]ï¼šå¦‚æœ s[1]&#x3D;â€˜Iâ€™ï¼Œé‚£ä¹ˆä»¤ perm[1] ä¸ºå‰©ä½™æ•°å­—ä¸­çš„æœ€å°æ•°ï¼›å¦‚æœ s[1]&#x3D;â€˜Dâ€™ï¼Œé‚£ä¹ˆä»¤ perm[1] ä¸ºå‰©ä½™æ•°å­—ä¸­çš„æœ€å¤§æ•°ã€‚å¦‚æ­¤å¾ªç¯ç›´è‡³å‰©ä¸‹ä¸€ä¸ªæ•°ï¼Œå¡«å…¥ perm[n] ä¸­ã€‚</p><p>å¦‚ä½•å®ç°è¯¥è´ªå¿ƒç®—æ³•ï¼Ÿ</p><h3 id="è§£æ³•1ï¼šä½¿ç”¨setå®¹å™¨è‡ªåŠ¨å‰Šå¤´å»å°¾"><a href="#è§£æ³•1ï¼šä½¿ç”¨setå®¹å™¨è‡ªåŠ¨å‰Šå¤´å»å°¾" class="headerlink" title="è§£æ³•1ï¼šä½¿ç”¨setå®¹å™¨è‡ªåŠ¨å‰Šå¤´å»å°¾"></a>è§£æ³•1ï¼šä½¿ç”¨setå®¹å™¨è‡ªåŠ¨å‰Šå¤´å»å°¾</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">diStringMatch</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        vector &lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-type">int</span> n=s.<span class="hljs-built_in">length</span>();<br>        set &lt;<span class="hljs-type">int</span>&gt; allthenum;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;=n;i++)&#123;<br>            allthenum.<span class="hljs-built_in">insert</span>(i);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(s[i]==<span class="hljs-string">&#x27;I&#x27;</span>)&#123;<br>                ans.<span class="hljs-built_in">push_back</span>(*(allthenum.<span class="hljs-built_in">begin</span>()));<br>                allthenum.<span class="hljs-built_in">erase</span>(allthenum.<span class="hljs-built_in">begin</span>());<br><br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                ans.<span class="hljs-built_in">push_back</span>((*<span class="hljs-built_in">prev</span>(allthenum.<span class="hljs-built_in">end</span>())));<br>                allthenum.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">prev</span>(allthenum.<span class="hljs-built_in">end</span>()));<br>                <br>            &#125;<br>        &#125;<br>        ans.<span class="hljs-built_in">push_back</span>(*(allthenum.<span class="hljs-built_in">begin</span>()));<br>        <span class="hljs-keyword">return</span> ans;&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>setå®¹å™¨çš„åº•å±‚æ˜¯çº¢é»‘æ ‘ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨å…ƒç´ çš„æ’åºï¼Œä½†ä¸æ”¯æŒå…ƒç´ çš„ç´¢å¼•ï¼Œè¦ä½¿ç”¨è¿­ä»£å™¨</strong></p><p><code>std::set</code>çš„è¿­ä»£å™¨æ˜¯åŒå‘è¿­ä»£å™¨ï¼ˆbidirectional iteratorï¼‰ï¼Œè€Œä¸æ˜¯éšæœºè®¿é—®è¿­ä»£å™¨ï¼ˆrandom access iteratorï¼‰ï¼Œå› æ­¤ä¸æ”¯æŒå‡æ³•æ“ä½œã€‚</p><p>å¦‚æœä½ æƒ³è·å–<code>std::set</code>ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼š</p><p>ä½¿ç”¨<code>std::prev</code></p><p><code>std::prev</code>æ˜¯ä¸€ä¸ªæ ‡å‡†åº“å‡½æ•°ï¼Œç”¨äºè·å–ç»™å®šè¿­ä»£å™¨çš„å‰ä¸€ä¸ªä½ç½®ã€‚ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥è·å–<code>set</code>çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iterator&gt;</span> <span class="hljs-comment">// for std::prev</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::set&lt;<span class="hljs-type">int</span>&gt; allthenum = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>&#125;;<br><br>    <span class="hljs-comment">// è·å– set çš„æœ€åä¸€ä¸ªå…ƒç´ </span><br>    <span class="hljs-keyword">if</span> (!allthenum.<span class="hljs-built_in">empty</span>()) &#123;<br>        <span class="hljs-type">int</span> lastElement = *std::<span class="hljs-built_in">prev</span>(allthenum.<span class="hljs-built_in">end</span>());<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Last element: &quot;</span> &lt;&lt; lastElement &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>allthenum.end()</code>è¿”å›çš„æ˜¯ä¸€ä¸ªæŒ‡å‘<code>set</code>æœ«å°¾çš„è¿­ä»£å™¨ï¼ˆå³åœ¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„ä½ç½®ï¼‰ã€‚</li><li><code>std::prev(allthenum.end())</code>è¿”å›çš„æ˜¯æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚</li><li>ä½¿ç”¨<code>*</code>è§£å¼•ç”¨è¿™ä¸ªè¿­ä»£å™¨æ¥è·å–æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚</li></ul><p>è¿™ç§æ–¹æ³•æ˜¯æ ‡å‡†çš„æ–¹å¼æ¥è®¿é—®<code>std::set</code>çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚ç¡®ä¿åœ¨è®¿é—®å…ƒç´ ä¹‹å‰ï¼Œæ£€æŸ¥é›†åˆæ˜¯å¦ä¸ºç©ºï¼Œä»¥é¿å…è§£å¼•ç”¨æ— æ•ˆè¿­ä»£å™¨ã€‚</p><h3 id="è§£æ³•2ï¼šä¼˜åŒ–è§£æ³•ï¼šè¿™é‡Œæ–©å¤´æˆ–è€…å»å°¾å¹¶ä¸ä¼šæ”¹å˜å‰©ä¸‹å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨vectoræ•°ç»„ï¼ˆç•¥ï¼‰"><a href="#è§£æ³•2ï¼šä¼˜åŒ–è§£æ³•ï¼šè¿™é‡Œæ–©å¤´æˆ–è€…å»å°¾å¹¶ä¸ä¼šæ”¹å˜å‰©ä¸‹å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨vectoræ•°ç»„ï¼ˆç•¥ï¼‰" class="headerlink" title="è§£æ³•2ï¼šä¼˜åŒ–è§£æ³•ï¼šè¿™é‡Œæ–©å¤´æˆ–è€…å»å°¾å¹¶ä¸ä¼šæ”¹å˜å‰©ä¸‹å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨vectoræ•°ç»„ï¼ˆç•¥ï¼‰"></a>è§£æ³•2ï¼šä¼˜åŒ–è§£æ³•ï¼šè¿™é‡Œæ–©å¤´æˆ–è€…å»å°¾å¹¶ä¸ä¼šæ”¹å˜å‰©ä¸‹å…ƒç´ çš„æ’åˆ—é¡ºåºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨vectoræ•°ç»„ï¼ˆç•¥ï¼‰</h3><p>æ­¤å¤„ä¹Ÿå¯ä»¥é€‰æ‹©ä¸å¼€æ–°çš„æ•°ç»„ï¼Œç›´æ¥ä½¿ç”¨åŒæŒ‡é’ˆå®Œæˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">diStringMatch</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = s.<span class="hljs-built_in">length</span>(), lo = <span class="hljs-number">0</span>, hi = n;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">perm</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            perm[i] = (s[i] == <span class="hljs-string">&#x27;I&#x27;</span> ? lo++ : hi--);<br>        &#125;<br>        perm[n] = lo; <span class="hljs-comment">// æœ€åå‰©ä¸‹ä¸€ä¸ªæ•°ï¼Œæ­¤æ—¶ lo == hi</span><br>        <span class="hljs-keyword">return</span> perm;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="3-Leetcode-11-ç››æ°´å®¹å™¨"><a href="#3-Leetcode-11-ç››æ°´å®¹å™¨" class="headerlink" title="3. Leetcode 11 ç››æ°´å®¹å™¨"></a>3. Leetcode 11 ç››æ°´å®¹å™¨</h2><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>height</code> ã€‚æœ‰ <code>n</code> æ¡å‚çº¿ï¼Œç¬¬ <code>i</code> æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ <code>(i, 0)</code> å’Œ <code>(i, height[i])</code> ã€‚</p><p>æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ <code>x</code> è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚</p><p>è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚</p><p><strong>è¯´æ˜ï¼š</strong>ä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><img src="https://aliyun-lc-upload.oss-cn-hangzhou.aliyuncs.com/aliyun-lc-upload/uploads/2018/07/25/question_11.jpg" alt="img"></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs dns">è¾“å…¥ï¼š[<span class="hljs-number">1,8,6,2</span>,<span class="hljs-number">5,4,8,3</span>,<span class="hljs-number">7</span>]<br>è¾“å‡ºï¼š<span class="hljs-number">49</span> <br>è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [<span class="hljs-number">1,8,6,2</span>,<span class="hljs-number">5,4,8,3</span>,<span class="hljs-number">7</span>]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º <span class="hljs-number">49</span>ã€‚<br></code></pre></td></tr></table></figure><p>æœ€æš´åŠ›è§£æ³•ï¼šåŒæšä¸¾ï¼ˆè¶…æ—¶ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxArea</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; height)</span> </span>&#123;<br>        <span class="hljs-type">long</span> max=<span class="hljs-number">0</span>;<br>        <span class="hljs-type">long</span> ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;height.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+1</span>;j&lt;height.<span class="hljs-built_in">size</span>();j++)&#123;<br>                ans=(j-i)*<span class="hljs-built_in">min</span>(height[i],height[j]);<br>                <span class="hljs-keyword">if</span>(ans&gt;max)&#123;<br>                    max=ans;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> max;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="è§£æ³•ä¼˜åŒ–ï¼šå¯¹æšä¸¾çš„å‰ªææ“ä½œ"><a href="#è§£æ³•ä¼˜åŒ–ï¼šå¯¹æšä¸¾çš„å‰ªææ“ä½œ" class="headerlink" title="è§£æ³•ä¼˜åŒ–ï¼šå¯¹æšä¸¾çš„å‰ªææ“ä½œ"></a>è§£æ³•ä¼˜åŒ–ï¼šå¯¹æšä¸¾çš„å‰ªææ“ä½œ</h4><p>å‰ªæç®—æ³•æ˜¯ä¸€ç§åœ¨æœç´¢ç®—æ³•ä¸­ç”¨äºå‡å°‘è®¡ç®—é‡å’Œæé«˜æ•ˆç‡çš„æŠ€æœ¯ã€‚å®ƒé€šè¿‡åœ¨æœç´¢è¿‡ç¨‹ä¸­å‰ªå»ä¸å¿…è¦çš„åˆ†æ”¯ï¼Œä»è€Œé¿å…éå†æ•´ä¸ªæœç´¢ç©ºé—´ã€‚å‰ªæç®—æ³•åœ¨è®¸å¤šé¢†åŸŸä¸­éƒ½æœ‰åº”ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨è§£å†³ç»„åˆä¼˜åŒ–é—®é¢˜å’Œåšå¼ˆæ ‘æœç´¢ï¼ˆå¦‚æ£‹ç±»æ¸¸æˆï¼‰æ—¶éå¸¸æœ‰æ•ˆã€‚ä»¥ä¸‹æ˜¯å‰ªæç®—æ³•çš„ä¸€äº›å…³é”®æ¦‚å¿µå’Œå¸¸è§åº”ç”¨ï¼š</p><h5 id="å…³é”®æ¦‚å¿µ"><a href="#å…³é”®æ¦‚å¿µ" class="headerlink" title="å…³é”®æ¦‚å¿µ"></a>å…³é”®æ¦‚å¿µ</h5><ol><li><p><strong>æœç´¢ç©ºé—´</strong>ï¼šè¿™æ˜¯æ‰€æœ‰å¯èƒ½è§£çš„é›†åˆã€‚æœç´¢ç®—æ³•çš„ç›®æ ‡æ˜¯æ‰¾åˆ°æ»¡è¶³æŸäº›æ¡ä»¶çš„è§£ã€‚</p></li><li><p><strong>å‰ªææ¡ä»¶</strong>ï¼šåœ¨æœç´¢è¿‡ç¨‹ä¸­ï¼Œç®—æ³•ä¼šè¯„ä¼°å½“å‰è·¯å¾„æˆ–åˆ†æ”¯æ˜¯å¦æœ‰å¯èƒ½äº§ç”Ÿæ›´ä¼˜è§£ã€‚å¦‚æœç¡®å®šæŸä¸ªåˆ†æ”¯ä¸å¯èƒ½äº§ç”Ÿæ›´ä¼˜è§£ï¼Œåˆ™å¯ä»¥å®‰å…¨åœ°å‰ªå»è¯¥åˆ†æ”¯ã€‚</p></li><li><p><strong>æœ‰æ•ˆæ€§</strong>ï¼šå‰ªæçš„æœ‰æ•ˆæ€§åœ¨äºå®ƒèƒ½æ˜¾è‘—å‡å°‘éœ€è¦è¯„ä¼°çš„èŠ‚ç‚¹æ•°é‡ï¼Œä»è€ŒåŠ å¿«æœç´¢é€Ÿåº¦ã€‚</p></li></ol><h5 id="å¸¸è§ç±»å‹"><a href="#å¸¸è§ç±»å‹" class="headerlink" title="å¸¸è§ç±»å‹"></a>å¸¸è§ç±»å‹</h5><ol><li><p><strong>Alpha-Beta å‰ªæ</strong>ï¼š</p><ul><li>è¿™æ˜¯åšå¼ˆæ ‘æœç´¢ä¸­å¸¸ç”¨çš„å‰ªæç®—æ³•ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸¤äººé›¶å’Œæ¸¸æˆä¸­ï¼ˆå¦‚å›½é™…è±¡æ£‹ã€å›´æ£‹ï¼‰ã€‚</li><li>å®ƒé€šè¿‡ç»´æŠ¤ä¸¤ä¸ªå€¼ï¼ˆalpha å’Œ betaï¼‰æ¥è·Ÿè¸ªå½“å‰å·²çŸ¥çš„æœ€ä½³é€‰æ‹©ï¼Œä»è€Œå‰ªå»ä¸å¯èƒ½å½±å“æœ€ç»ˆå†³ç­–çš„åˆ†æ”¯ã€‚</li></ul></li><li><p><strong>åˆ†æ”¯é™ç•Œæ³•</strong>ï¼š</p><ul><li>è¿™æ˜¯ä¸€ç§ç”¨äºè§£å†³ç»„åˆä¼˜åŒ–é—®é¢˜ï¼ˆå¦‚æ—…è¡Œå•†é—®é¢˜ã€èƒŒåŒ…é—®é¢˜ï¼‰çš„ç®—æ³•ã€‚</li><li>å®ƒé€šè¿‡åœ¨æœç´¢è¿‡ç¨‹ä¸­è®¡ç®—å½“å‰è·¯å¾„çš„ä¸‹ç•Œï¼Œå¹¶ä¸å½“å‰å·²çŸ¥çš„æœ€ä¼˜è§£è¿›è¡Œæ¯”è¾ƒï¼Œæ¥å†³å®šæ˜¯å¦å‰ªå»æŸä¸ªåˆ†æ”¯ã€‚</li></ul></li></ol><h5 id="åº”ç”¨é¢†åŸŸ"><a href="#åº”ç”¨é¢†åŸŸ" class="headerlink" title="åº”ç”¨é¢†åŸŸ"></a>åº”ç”¨é¢†åŸŸ</h5><ul><li><strong>äººå·¥æ™ºèƒ½å’Œæ¸¸æˆ</strong>ï¼šåœ¨æ¸¸æˆ AI ä¸­ï¼Œå‰ªæç®—æ³•ç”¨äºå‡å°‘éœ€è¦è€ƒè™‘çš„å¯èƒ½åŠ¨ä½œç»„åˆã€‚</li><li><strong>ç»„åˆä¼˜åŒ–</strong>ï¼šåœ¨è§£å†³è¯¸å¦‚æ—…è¡Œå•†é—®é¢˜ã€èƒŒåŒ…é—®é¢˜ç­‰é—®é¢˜æ—¶ï¼Œå‰ªæç®—æ³•å¯ä»¥æ˜¾è‘—å‡å°‘è®¡ç®—å¤æ‚åº¦ã€‚</li><li><strong>å†³ç­–æ ‘</strong>ï¼šåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œå‰ªæç”¨äºç®€åŒ–å†³ç­–æ ‘æ¨¡å‹ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚</li></ul><h5 id="ä¼˜åŠ¿"><a href="#ä¼˜åŠ¿" class="headerlink" title="ä¼˜åŠ¿"></a>ä¼˜åŠ¿</h5><ul><li><strong>æé«˜æ•ˆç‡</strong>ï¼šé€šè¿‡å‡å°‘éœ€è¦è¯„ä¼°çš„èŠ‚ç‚¹æ•°é‡ï¼Œå‰ªæç®—æ³•å¯ä»¥æ˜¾è‘—åŠ å¿«æœç´¢é€Ÿåº¦ã€‚</li><li><strong>èŠ‚çœèµ„æº</strong>ï¼šå‡å°‘è®¡ç®—å’Œå†…å­˜ä½¿ç”¨ï¼Œä½¿å¾—ç®—æ³•èƒ½å¤Ÿå¤„ç†æ›´å¤§çš„é—®é¢˜è§„æ¨¡ã€‚</li></ul><p>å‰ªæç®—æ³•çš„æ ¸å¿ƒåœ¨äºé€šè¿‡åˆç†çš„è¯„ä¼°å’Œå†³ç­–ï¼Œ<strong>é¿å…ä¸å¿…è¦çš„è®¡ç®—</strong>ï¼Œä»è€Œæå‡ç®—æ³•çš„æ•´ä½“æ€§èƒ½ã€‚</p><p>æœ‰å“ªäº›ä¸å¿…è¦çš„è®¡ç®—ï¼Ÿ</p><ul><li><p>åµŒå¥—å¾ªç¯â€”â€”â€”â€”åŒæŒ‡é’ˆ</p></li><li><p>åœ¨æŒ‡é’ˆç§»åŠ¨æ˜¯æ ¹æ®åˆ¤å®šè¿›è¡Œç§»åŠ¨ï¼Œè€Œä¸æ˜¯å…ˆç§»åŠ¨å†åšåˆ¤æ–­</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxArea</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; height)</span> </span>&#123;<br>        <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>,j=height.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>        <span class="hljs-type">long</span> max=<span class="hljs-built_in">min</span>(height[<span class="hljs-number">0</span>],height[j])*(height.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>);<br>        <span class="hljs-type">long</span> ans;<br>        <span class="hljs-keyword">while</span>(i&lt;j)&#123;<br>            ans=<span class="hljs-built_in">min</span>(height[i],height[j])*(j-i);<br>            <span class="hljs-keyword">if</span>(ans&gt;max)&#123;<br>                max=ans;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(height[i]&lt;height[j])&#123;<br>                i++;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                j--;<br>            &#125;<br>            <span class="hljs-comment">//å…³é”®çš„ifâ€”elseè¯­å¥ï¼Œç¡®å®šæ˜¯å“ªè¾¹å¾€å“ªä¸ªæ–¹å‘ç§»åŠ¨ã€‚</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> max;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p></li></ul><h2 id="4-Leetcode-121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœŸ"><a href="#4-Leetcode-121-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœŸ" class="headerlink" title="4 Leetcode 121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœŸ"></a>4 Leetcode 121 ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœŸ</h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>prices</code> ï¼Œå®ƒçš„ç¬¬ <code>i</code> ä¸ªå…ƒç´  <code>prices[i]</code> è¡¨ç¤ºä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ <code>i</code> å¤©çš„ä»·æ ¼ã€‚</p><p>ä½ åªèƒ½é€‰æ‹© <strong>æŸä¸€å¤©</strong> ä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©åœ¨ <strong>æœªæ¥çš„æŸä¸€ä¸ªä¸åŒçš„æ—¥å­</strong> å–å‡ºè¯¥è‚¡ç¥¨ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚</p><p>è¿”å›ä½ å¯ä»¥ä»è¿™ç¬”äº¤æ˜“ä¸­è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚å¦‚æœä½ ä¸èƒ½è·å–ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å› <code>0</code> ã€‚</p><p>æ–¹æ³•1ï¼šæš´åŠ›æ–¹æ³•</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; prices)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(prices.<span class="hljs-built_in">size</span>()==<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <br>        <span class="hljs-type">int</span> summax=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i<span class="hljs-number">+1</span>&lt;prices.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+1</span>;j&lt;prices.<span class="hljs-built_in">size</span>();j++)&#123;<br>                <span class="hljs-keyword">if</span>(prices[j]-prices[i]&gt;summax)&#123;<br>                    summax=prices[j]-prices[i];<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> summax;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•2ï¼šä¼˜åŒ–æš´åŠ›åŒå¾ªç¯ï¼ˆæšä¸¾å‰ªæï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; prices)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(prices.<span class="hljs-built_in">size</span>()==<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <br>        <span class="hljs-type">int</span> summax=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i<span class="hljs-number">+1</span>&lt;prices.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">if</span>(i&gt;=<span class="hljs-number">1</span>&amp;&amp;prices[i]&gt;prices[i<span class="hljs-number">-1</span>])&#123;<br>                <span class="hljs-keyword">continue</span>;<br>                <span class="hljs-comment">//å»æ‰ä¸€äº›å®Œå…¨ä¸å¯èƒ½çš„æƒ…å†µï¼ˆæšä¸¾å‰ªæï¼‰</span><br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+1</span>;j&lt;prices.<span class="hljs-built_in">size</span>();j++)&#123;<br>                <span class="hljs-keyword">if</span>(j&gt;=<span class="hljs-number">1</span>&amp;&amp;prices[j]&lt;prices[j<span class="hljs-number">-1</span>])&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(prices[j]-prices[i]&gt;summax)&#123;<br>                    summax=prices[j]-prices[i];<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> summax;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•3ï¼šä¸€æ¬¡éå†ï¼ˆåŒæŒ‡é’ˆï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; prices)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(prices.<span class="hljs-built_in">size</span>()==<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>,j=<span class="hljs-number">1</span>;<br>        <span class="hljs-comment">//å‰åæŒ‡é’ˆï¼šjä¸ºå‰ç½®æŒ‡é’ˆï¼Œiä¸ºåç½®æŒ‡é’ˆ</span><br>        <span class="hljs-type">int</span> summax=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(j&lt;prices.<span class="hljs-built_in">size</span>())&#123;<br>            <span class="hljs-keyword">if</span>(prices[j]&lt;prices[i])&#123;<br>                i=j;<br>                <span class="hljs-comment">//æ›´æ–°içš„ä½ç½®</span><br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">if</span>(prices[j]-prices[i]&gt;summax)&#123;<br>                    summax=prices[j]-prices[i];<br>                &#125;<br>            &#125;<br>            j++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> summax;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•4ï¼šæ ¸å¿ƒï¼šåœ¨ä»»ä½•æ—¶åˆ»ï¼Œæœ€å¤§åˆ©æ¶¦ç­‰äºå½“å‰ä»·æ ¼å‡å»æœ€ä½ä»·æ ¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxProfit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; prices)</span> </span>&#123;<br>        <span class="hljs-comment">// åˆå§‹åŒ–ä¸€ä¸ªå¾ˆå¤§çš„æ•°å€¼ä½œä¸ºåˆå§‹çš„è‚¡ç¥¨æœ€ä½ä»·æ ¼</span><br>        <span class="hljs-type">int</span> inf = <span class="hljs-number">1e9</span>;<br>        <span class="hljs-type">int</span> minprice = inf;<br>        <span class="hljs-comment">// åˆå§‹åŒ–æœ€å¤§åˆ©æ¶¦ä¸º0</span><br>        <span class="hljs-type">int</span> maxprofit = <span class="hljs-number">0</span>;<br>        <br>        <span class="hljs-comment">// éå†ä»·æ ¼æ•°ç»„</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> price : prices) &#123;<br>            <span class="hljs-comment">// è®¡ç®—å½“å‰çš„åˆ©æ¶¦ï¼ˆå½“å‰ä»·æ ¼å‡å»æœ€ä½ä»·æ ¼ï¼‰ï¼Œå¹¶æ›´æ–°æœ€å¤§åˆ©æ¶¦</span><br>            maxprofit = <span class="hljs-built_in">max</span>(maxprofit, price - minprice);<br>            <span class="hljs-comment">//price-mimpriceå°±æ˜¯åœ¨priceä¹‹å‰çš„æ‰€æœ‰æ•°çš„æœ€å°å€¼ï¼</span><br>            <span class="hljs-comment">// æ›´æ–°æœ€ä½ä»·æ ¼</span><br>            minprice = <span class="hljs-built_in">min</span>(price, minprice);<br>        &#125;<br>        <br>        <span class="hljs-comment">// è¿”å›æœ€å¤§åˆ©æ¶¦</span><br>        <span class="hljs-keyword">return</span> maxprofit;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="5-Leetcode-136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"><a href="#5-Leetcode-136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—" class="headerlink" title="5 Leetcode 136 åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—"></a>5 Leetcode 136 åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</h2><p>ç»™ä½ ä¸€ä¸ª <strong>éç©º</strong> æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚</p><p>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä¸”è¯¥ç®—æ³•åªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´ã€‚</p><p>æ–¹æ³•1ï¼šå“ˆå¸Œè¡¨å­˜å‚¨ï¼ˆçº¿æ€§æ—¶é—´å¤æ‚åº¦&amp;çº¿æ€§ç©ºé—´å¤æ‚åº¦ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        unordered_set&lt;<span class="hljs-type">int</span>&gt; judge;<br>        <span class="hljs-type">long</span> sum1=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums)&#123;<br>            sum1+=num;<br>            <span class="hljs-keyword">if</span>(judge.<span class="hljs-built_in">find</span>(num)==judge.<span class="hljs-built_in">end</span>())&#123;<br>                judge.<span class="hljs-built_in">insert</span>(num);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                sum1-=<span class="hljs-number">2</span>*num;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> sum1;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ–¹æ³•2ï¼šä½¿ç”¨<strong>ä½è¿ç®—</strong>ï¼</p><h3 id="è¡¥å……ï¼šä½è¿ç®—ä¸­çš„å¼‚æˆ–è¿ç®—"><a href="#è¡¥å……ï¼šä½è¿ç®—ä¸­çš„å¼‚æˆ–è¿ç®—" class="headerlink" title="è¡¥å……ï¼šä½è¿ç®—ä¸­çš„å¼‚æˆ–è¿ç®—"></a>è¡¥å……ï¼šä½è¿ç®—ä¸­çš„å¼‚æˆ–è¿ç®—</h3><p>å¼‚æˆ–è¿ç®—ï¼ˆXORï¼ŒeXclusive ORï¼‰æ˜¯ä¸€ç§é€»è¾‘è¿ç®—ï¼Œå®ƒåœ¨è®¡ç®—æœºç§‘å­¦å’Œæ•°å­¦ä¸­æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚ä»¥ä¸‹æ˜¯å…³äºå¼‚æˆ–è¿ç®—çš„åŸç†å’Œè¿ç®—å¾‹çš„ç®€è¦ä»‹ç»ï¼š</p><h4 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h4><p>å¼‚æˆ–è¿ç®—çš„åŸºæœ¬è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li><strong>0 XOR 0 &#x3D; 0</strong></li><li><strong>1 XOR 0 &#x3D; 1</strong></li><li><strong>0 XOR 1 &#x3D; 1</strong></li><li><strong>1 XOR 1 &#x3D; 0</strong></li></ul><p>æ¢å¥è¯è¯´ï¼Œä¸¤ä¸ªæ“ä½œæ•°ä¸åŒæ—¶ç»“æœä¸º1ï¼Œç›¸åŒåˆ™ç»“æœä¸º0ã€‚è¿™è§£é‡Šäº†â€œeXclusive ORâ€çš„å«ä¹‰ï¼Œå³â€œæ’ä»–æˆ–â€ã€‚</p><p>å¯¹äºåè¿›åˆ¶æ•°ï¼ša^0&#x3D;aï¼</p><h4 id="è¿ç®—å¾‹"><a href="#è¿ç®—å¾‹" class="headerlink" title="è¿ç®—å¾‹"></a>è¿ç®—å¾‹</h4><p>å¼‚æˆ–è¿ç®—å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p><ol><li><p><strong>äº¤æ¢å¾‹ï¼ˆCommutative Lawï¼‰</strong>ï¼š</p><ul><li><code>A ^ B = B ^ A</code>ï¼Œå³å¼‚æˆ–æ“ä½œçš„ç»“æœä¸æ“ä½œæ•°çš„é¡ºåºæ— å…³ã€‚</li></ul></li><li><p><strong>ç»“åˆå¾‹ï¼ˆAssociative Lawï¼‰</strong>ï¼š</p><ul><li><code>(A ^ B) ^ C = A ^ (B ^ C)</code>ï¼Œè¿™æ„å‘³ç€å¼‚æˆ–æ“ä½œå¯ä»¥ä»»æ„åˆ†ç»„è¿›è¡Œã€‚</li></ul></li><li><p><strong>æ’ç­‰å¾‹ï¼ˆIdentity Lawï¼‰</strong>ï¼š</p><ul><li><code>A ^ 0 = A</code>ï¼Œå³ä»»ä½•æ•°ä¸0å¼‚æˆ–ï¼Œç»“æœè¿˜æ˜¯è¯¥æ•°ã€‚</li></ul></li><li><p><strong>è‡ªåå¾‹ï¼ˆSelf-Inverse Lawï¼‰</strong>ï¼š</p><ul><li><code>A ^ A = 0</code>ï¼Œä»»ä½•æ•°ä¸è‡ªèº«å¼‚æˆ–ï¼Œç»“æœä¸º0ã€‚</li></ul></li><li><p><strong>é›¶å…ƒç´ ï¼ˆZero Elementï¼‰</strong>ï¼š</p><ul><li><code>A ^ 1 = ~A</code>ï¼ˆå³Açš„è¡¥ç ï¼‰ï¼Œè¿™è¡¨æ˜1åœ¨å¼‚æˆ–è¿ç®—ä¸­èµ·åˆ°äº†ä¸€ç§ç‰¹æ®Šçš„ä½œç”¨ï¼Œå®ƒå¯ä»¥ç¿»è½¬æ“ä½œæ•°çš„æ¯ä¸€ä½ã€‚</li></ul></li><li><p><strong>åˆ†é…å¾‹ï¼ˆDistributive Lawï¼‰</strong>ï¼š</p><ul><li>å¼‚æˆ–è¿ç®—ä¸éµå¾ªä¼ ç»Ÿæ„ä¹‰ä¸Šçš„åˆ†é…å¾‹ï¼Œä½†å®ƒä¸ä¸è¿ç®—ï¼ˆANDï¼‰æœ‰éƒ¨åˆ†åˆ†é…å¾‹ï¼š<ul><li><code>A ^ (B &amp; C) = (A ^ B) &amp; (A ^ C)</code>ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ç”¨äºç®€åŒ–è®¡ç®—ã€‚</li></ul></li></ul></li></ol><h4 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h4><ul><li><strong>æ•°æ®æ ¡éªŒ</strong>ï¼šå¼‚æˆ–è¿ç®—å¸¸ç”¨äºæ•°æ®æ ¡éªŒï¼Œå¦‚å¥‡å¶æ ¡éªŒæˆ–æ£€éªŒå’Œã€‚</li><li><strong>åŠ å¯†</strong>ï¼šåœ¨ä¸€äº›ç®€å•çš„åŠ å¯†ç®—æ³•ä¸­ä½¿ç”¨å¼‚æˆ–è¿ç®—ï¼Œå› ä¸ºå®ƒå¯ä»¥éšè—ä¿¡æ¯ã€‚</li><li><strong>ä½æ“ä½œ</strong>ï¼šåœ¨ç¼–ç¨‹ä¸­ï¼Œå¼‚æˆ–è¿ç®—å¯ä»¥ç”¨æ¥äº¤æ¢å˜é‡å€¼ï¼ˆä¸ä½¿ç”¨ä¸´æ—¶å˜é‡ï¼‰ï¼Œç¿»è½¬ç‰¹å®šä½ï¼Œè®¡ç®—æ±‰æ˜è·ç¦»ç­‰ã€‚</li><li><strong>è§£å†³é—®é¢˜</strong>ï¼šåœ¨ç®—æ³•è®¾è®¡ä¸­ï¼Œå¼‚æˆ–è¿ç®—å¯ä»¥ç”¨äºè§£å†³ä¸€äº›ç‰¹æ®Šé—®é¢˜ï¼Œå¦‚æ‰¾å‡ºæ•°ç»„ä¸­å”¯ä¸€ä¸é‡å¤çš„å…ƒç´ ã€‚</li></ul><p>å¼‚æˆ–è¿ç®—ç”±äºå…¶ç‹¬ç‰¹çš„ç‰¹æ€§ï¼Œåœ¨è®¡ç®—æœºç¼–ç¨‹å’Œæ•°å­—ç”µè·¯è®¾è®¡ä¸­éƒ½æœ‰å¹¿æ³›çš„åº”ç”¨ï¼Œå®ƒæä¾›äº†ä¸€ç§éå¸¸é«˜æ•ˆçš„æ–¹å¼æ¥å¤„ç†å’Œæ“ä½œäºŒè¿›åˆ¶æ•°æ®ã€‚</p><p>æ‰€ä»¥ï¼š<strong>å¯¹è¿™ä¸ªæ•°ç»„çš„æ‰€æœ‰æ•°è¿›è¡Œä½è¿ç®—</strong>ï¼Œæœ€åé€šè¿‡ä½è¿ç®—çš„ <strong>ç»“åˆå¾‹å’Œäº¤æ¢å¾‹</strong>ï¼Œä¸€å®šå¯ä»¥åŒ–æˆa^0&#x3D;açš„å½¢å¼ï¼Œå…¶ä¸­aå°±æ˜¯ç›®æ ‡æ•°ï¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> e: nums) ret ^= e;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="6-Leetcode-169-å¤šæ•°å…ƒç´ é—®é¢˜"><a href="#6-Leetcode-169-å¤šæ•°å…ƒç´ é—®é¢˜" class="headerlink" title="6 Leetcode 169 å¤šæ•°å…ƒç´ é—®é¢˜"></a>6 Leetcode 169 å¤šæ•°å…ƒç´ é—®é¢˜</h2><p><strong>éå¸¸ç»å…¸çš„ä¸€é“ä¾‹é¢˜ï¼</strong></p><p>ç»™å®šä¸€ä¸ªå¤§å°ä¸º <code>n</code> çš„æ•°ç»„ <code>nums</code> ï¼Œè¿”å›å…¶ä¸­çš„å¤šæ•°å…ƒç´ ã€‚å¤šæ•°å…ƒç´ æ˜¯æŒ‡åœ¨æ•°ç»„ä¸­å‡ºç°æ¬¡æ•° <strong>å¤§äº</strong> <code>âŒŠ n/2 âŒ‹</code> çš„å…ƒç´ ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ•°ç»„æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”ç»™å®šçš„æ•°ç»„æ€»æ˜¯å­˜åœ¨å¤šæ•°å…ƒç´ ã€‚</p><h4 id="æ–¹æ³•1ï¼šä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆunordered-map"><a href="#æ–¹æ³•1ï¼šä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆunordered-map" class="headerlink" title="æ–¹æ³•1ï¼šä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆunordered_map)"></a>æ–¹æ³•1ï¼šä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆunordered_map)</h4><p>æ—¶ç©ºå¤æ‚åº¦å‡ä¸ºO(n)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">majorityElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n=nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> standard=n/<span class="hljs-number">2</span>;<br>        unordered_map&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt; Mymap;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums)&#123;<br>            <span class="hljs-keyword">if</span>(Mymap.<span class="hljs-built_in">find</span>(num)!=Mymap.<span class="hljs-built_in">end</span>())&#123;<br>                Mymap[num]++;<br>                <span class="hljs-keyword">if</span>(Mymap[num]&gt;standard)&#123;<br>                    <span class="hljs-keyword">return</span> num;<br>                &#125;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                Mymap.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">make_pair</span>(num,<span class="hljs-number">1</span>));<br>                <span class="hljs-keyword">if</span>(Mymap[num]&gt;standard)&#123;<br>                    <span class="hljs-keyword">return</span> num;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> &#123;&#125;;<br>       <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="æ–¹æ³•2ï¼šå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•"><a href="#æ–¹æ³•2ï¼šå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•" class="headerlink" title="æ–¹æ³•2ï¼šå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•"></a>æ–¹æ³•2ï¼šå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</h4><p>ï¼ˆè¯¦ç»†å†…å®¹è§è¡¥å……è®²ä¹‰ï¼šKMPç®—æ³•å’ŒBMç®—æ³•ï¼‰ï¼šä¸¤ç§ååˆ†é«˜æ•ˆçš„å­—ç¬¦ä¸²æ£€ç´¢ç®—æ³•</p><p>é¦–å…ˆï¼šå¦‚æœä¸€ä¸ªæ•°ç»„å­˜åœ¨å¤šæ•°å…ƒç´ ï¼Œ<strong>åˆ™å¤šæ•°å…ƒç´ å”¯ä¸€</strong></p><p>æ‰€ä»¥å¤šæ•°å…ƒç´ ä¸€å®šä¼šè¢«å½“é€‰ä½œä¸ºcandidateï¼</p><p><strong><code>Boyer-Moore æŠ•ç¥¨ç®—æ³•</code></strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">majorityElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> candidate = <span class="hljs-number">0</span>;  <span class="hljs-comment">// å‡è®¾ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å€™é€‰è€…</span><br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;      <span class="hljs-comment">// è®¡æ•°å™¨</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) &#123;<br>            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// å¦‚æœè®¡æ•°å™¨ä¸º0ï¼Œåˆ™å°†å½“å‰å…ƒç´ è®¾ä¸ºæ–°çš„å€™é€‰è€…(å› ä¸ºå¦‚æœcount==0,è¯´æ˜å½“å‰çš„candidateå…ƒç´ è‚¯å®šä¸æ˜¯å¤šæ•°å…ƒç´ ï¼)</span><br>                candidate = num;<br>                <span class="hljs-comment">//é€‰æ‹©äº†ä¸€ä½æ–°çš„å€™é€‰è€…ï¼</span><br>            &#125;<br>            <br>            <span class="hljs-comment">// å¦‚æœå½“å‰å…ƒç´ ä¸å€™é€‰è€…ç›¸åŒï¼Œè®¡æ•°å™¨åŠ 1ï¼›å¦åˆ™å‡1</span><br>            count += (num == candidate) ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// åœ¨ç»“æŸéå†åï¼Œcandidate å°±æ˜¯å¤šæ•°å…ƒç´ </span><br>        <span class="hljs-keyword">return</span> candidate;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>ç®—æ³•è§£é‡Šï¼š</p><p>è¿™ä¸ªç®—æ³•åŸºäºä¸€ä¸ªå…³é”®çš„è§‚å¯Ÿï¼šå¦‚æœä¸€ä¸ªå…ƒç´ æ˜¯å¤šæ•°å…ƒç´ ï¼Œ<strong>é‚£ä¹ˆå®ƒå‡ºç°çš„æ¬¡æ•°ä¸€å®šè¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠ</strong>ã€‚å› æ­¤ï¼š</p><ul><li>æ¯æ¬¡æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªä¸å½“å‰å€™é€‰è€…ç›¸åŒçš„å…ƒç´ ï¼Œ<code>count</code>å°±å¢åŠ 1ï¼Œå› ä¸ºè¿™æ”¯æŒäº†æˆ‘ä»¬çš„å€™é€‰è€…ã€‚</li><li>æ¯æ¬¡é‡åˆ°ä¸åŒçš„å…ƒç´ ï¼Œ<code>count</code>å°±å‡1ï¼Œå› ä¸ºè¿™å¯¹å½“å‰å€™é€‰è€…ä¸åˆ©ã€‚</li></ul><p>ç”±äºå¤šæ•°å…ƒç´ å‡ºç°çš„æ¬¡æ•°è¶…è¿‡ä¸€åŠï¼Œåªè¦æˆ‘ä»¬éå†å®Œæ•´ä¸ªæ•°ç»„ï¼Œæœ€åå‰©ä¸‹çš„å€™é€‰è€…ä¸€å®šæ˜¯å¤šæ•°å…ƒç´ ã€‚è¿™æ˜¯å› ä¸ºï¼š</p><ul><li>å½“<code>count</code>ä¸º0æ—¶ï¼Œæˆ‘ä»¬é€‰æ‹©æ–°çš„å€™é€‰è€…ï¼Œè¿™æ„å‘³ç€ä¹‹å‰çš„å€™é€‰è€…åœ¨å½“å‰ä½ç½®ä¹‹å‰å‡ºç°çš„æ¬¡æ•°å’Œéå€™é€‰è€…å‡ºç°çš„æ¬¡æ•°ç›¸ç­‰ã€‚</li><li>ç”±äºå¤šæ•°å…ƒç´ å‡ºç°çš„æ¬¡æ•°è¶…è¿‡ä¸€åŠï¼Œåœ¨æ•°ç»„ç»“æŸæ—¶ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºæœ€åçš„å€™é€‰è€…ã€‚</li><li>æ—¶é—´å¤æ‚åº¦O(n)ï¼Œç©ºé—´å¤æ‚åº¦Oï¼ˆ1ï¼‰</li></ul><p>ç®—æ³•çš„å¼Šç«¯ï¼šä¼˜åŒ–äº†æ—¶ç©ºå¤æ‚åº¦ï¼Œåªä¾èµ–ä¸€æ¬¡éå†å°±è§£å†³äº†é—®é¢˜ï¼Œä½†æ— æ³•è§£å†³ä¸å­˜åœ¨å¤šæ•°å…ƒç´ çš„æƒ…å†µï¼</p><h4 id="æ–¹æ³•3ï¼šåˆ†æ²»ç®—æ³•"><a href="#æ–¹æ³•3ï¼šåˆ†æ²»ç®—æ³•" class="headerlink" title="æ–¹æ³•3ï¼šåˆ†æ²»ç®—æ³•"></a>æ–¹æ³•3ï¼šåˆ†æ²»ç®—æ³•</h4><p>å¦‚æœæ•° a æ˜¯æ•°ç»„ nums çš„ä¼—æ•°ï¼Œå¦‚æœæˆ‘ä»¬å°† nums åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œé‚£ä¹ˆ a å¿…å®šæ˜¯è‡³å°‘ä¸€éƒ¨åˆ†çš„ä¼—æ•°ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åè¯æ³•æ¥è¯æ˜è¿™ä¸ªç»“è®ºã€‚å‡è®¾ a æ—¢ä¸æ˜¯å·¦åŠéƒ¨åˆ†çš„ä¼—æ•°ï¼Œä¹Ÿä¸æ˜¯å³åŠéƒ¨åˆ†çš„ä¼—æ•°ï¼Œé‚£ä¹ˆ a å‡ºç°çš„æ¬¡æ•°å°‘äº l &#x2F; 2 + r &#x2F; 2 æ¬¡ï¼Œå…¶ä¸­ l å’Œ r åˆ†åˆ«æ˜¯å·¦åŠéƒ¨åˆ†å’Œå³åŠéƒ¨åˆ†çš„é•¿åº¦ã€‚ç”±äº l &#x2F; 2 + r &#x2F; 2 &lt;&#x3D; (l + r) &#x2F; 2ï¼Œè¯´æ˜ a ä¹Ÿä¸æ˜¯æ•°ç»„ nums çš„ä¼—æ•°ï¼Œå› æ­¤å‡ºç°äº†çŸ›ç›¾ã€‚æ‰€ä»¥è¿™ä¸ªç»“è®ºæ˜¯æ­£ç¡®çš„ã€‚</p><p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åˆ†æ²»æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼šå°†æ•°ç»„åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«æ±‚å‡ºå·¦åŠéƒ¨åˆ†çš„ä¼—æ•° a1 ä»¥åŠå³åŠéƒ¨åˆ†çš„ä¼—æ•° a2ï¼Œéšååœ¨ a1 å’Œ a2 ä¸­é€‰å‡ºæ­£ç¡®çš„ä¼—æ•°ã€‚</p><p>æ ¹æ®ä¼—æ•°çš„å”¯ä¸€æ€§ï¼Œæ€»èƒ½é€šè¿‡ç±»ä¼¼çš„æ–¹æ³•é€¼è¿‘å¾—åˆ°æœ€åçš„ä¼—æ•°ï¼ˆ<strong>ç±»ä¼¼äºé—­åŒºé—´å¥—å®šç†</strong>ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">count_in_range</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target, <span class="hljs-type">int</span> lo, <span class="hljs-type">int</span> hi)</span> </span>&#123;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = lo; i &lt;= hi; ++i)<br>            <span class="hljs-keyword">if</span> (nums[i] == target)<br>                ++count;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>    <span class="hljs-comment">//åŒºé—´æ±‚targetå‡ºç°æ¬¡æ•°å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">majority_element_rec</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> lo, <span class="hljs-type">int</span> hi)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (lo == hi)<br>            <span class="hljs-keyword">return</span> nums[lo];<br>        <span class="hljs-comment">//é€’å½’çš„ç»“æŸæ ‡å¿—</span><br>        <span class="hljs-type">int</span> mid = (lo + hi) / <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> left_majority = <span class="hljs-built_in">majority_element_rec</span>(nums, lo, mid);<br>        <span class="hljs-type">int</span> right_majority = <span class="hljs-built_in">majority_element_rec</span>(nums, mid + <span class="hljs-number">1</span>, hi);<br>        <span class="hljs-comment">//æ­¤å¤„ä¸ºé€’å½’çš„é‡å¤è°ƒç”¨ï¼</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">count_in_range</span>(nums, left_majority, lo, hi) &gt; (hi - lo + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)<br>            <span class="hljs-keyword">return</span> left_majority;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">count_in_range</span>(nums, right_majority, lo, hi) &gt; (hi - lo + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)<br>            <span class="hljs-keyword">return</span> right_majority;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">majorityElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">majority_element_rec</span>(nums, <span class="hljs-number">0</span>, nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>Leetcode notes</tag>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Leetcode-Mistake-Collection-11-20</title>
    <link href="/posts/Leetcode-Mistake-collection-11-20/"/>
    <url>/posts/Leetcode-Mistake-collection-11-20/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Mistake-collection-11-20"><a href="#Leetcode-Mistake-collection-11-20" class="headerlink" title="Leetcode-Mistake-collection-11-20"></a>Leetcode-Mistake-collection-11-20</h1><h1 id="ç¨‹è®¾é”™é¢˜-6-10-20241015-20241020"><a href="#ç¨‹è®¾é”™é¢˜-6-10-20241015-20241020" class="headerlink" title="ç¨‹è®¾é”™é¢˜ 6-10 20241015-20241020"></a>ç¨‹è®¾é”™é¢˜ 6-10 20241015-20241020</h1><h2 id="1-ACwing-776-å­—ç¬¦ä¸²ç§»ä½é—®é¢˜"><a href="#1-ACwing-776-å­—ç¬¦ä¸²ç§»ä½é—®é¢˜" class="headerlink" title="1.ACwing 776 å­—ç¬¦ä¸²ç§»ä½é—®é¢˜"></a>1.ACwing 776 å­—ç¬¦ä¸²ç§»ä½é—®é¢˜</h2><p>å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²æ¥è¯´ï¼Œå®šä¹‰ä¸€æ¬¡å¾ªç¯ç§»ä½æ“ä½œä¸ºï¼šå°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç§»åŠ¨åˆ°æœ«å°¾å½¢æˆæ–°çš„å­—ç¬¦ä¸²ã€‚</p><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s1s1 å’Œ s2s2ï¼Œè¦æ±‚åˆ¤å®šå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¦ä¸€å­—ç¬¦ä¸²é€šè¿‡è‹¥å¹²æ¬¡å¾ªç¯ç§»ä½åçš„æ–°å­—ç¬¦ä¸²çš„å­ä¸²ã€‚</p><p>ä¾‹å¦‚ <code>CDAA</code> æ˜¯ç”± <code>AABCD</code> ä¸¤æ¬¡ç§»ä½åäº§ç”Ÿçš„æ–°ä¸² <code>BCDAA</code> çš„å­ä¸²ï¼Œè€Œ <code>ABCD</code> ä¸ <code>ACBD</code> åˆ™ä¸èƒ½é€šè¿‡å¤šæ¬¡ç§»ä½æ¥å¾—åˆ°å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯æ–°ä¸²çš„å­ä¸²ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä¸­é—´ç”±å•ä¸ªç©ºæ ¼éš”å¼€ã€‚</p><p>å­—ç¬¦ä¸²åªåŒ…å«å­—æ¯å’Œæ•°å­—ï¼Œé•¿åº¦ä¸è¶…è¿‡ 3030ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸€å­—ç¬¦ä¸²é€šè¿‡è‹¥å¹²æ¬¡å¾ªç¯ç§»ä½äº§ç”Ÿçš„æ–°ä¸²çš„å­ä¸²ï¼Œåˆ™è¾“å‡º <code>true</code>ï¼Œå¦åˆ™è¾“å‡º <code>false</code>ã€‚</p><h3 id="åŸºæœ¬æ€è·¯ï¼š"><a href="#åŸºæœ¬æ€è·¯ï¼š" class="headerlink" title="åŸºæœ¬æ€è·¯ï¼š"></a>åŸºæœ¬æ€è·¯ï¼š</h3><ul><li>ä½¿ç”¨å‡½æ•°ï¼Œåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å¦ä¸€ä¸ªå­—ç¬¦ä¸²çš„å­ä¸²</li><li>åˆ©ç”¨forå¾ªç¯å®ç°å¯¹ç›®æ ‡æ•°ç»„çš„ç§»ä½å¤„ç†ï¼Œå¹¶ä¸”å¯¹æ¯ä¸ªæ–°ç§»ä½çš„å­—ç¬¦ä¸²è°ƒç”¨è¯¥å‡½æ•°</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">judgestring</span><span class="hljs-params">(string teststring,string standardstring)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(teststring.<span class="hljs-built_in">length</span>()&lt;standardstring.<span class="hljs-built_in">length</span>())&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">if</span>(teststring.<span class="hljs-built_in">find</span>(standardstring)==<span class="hljs-number">-1</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string movestring,standardstring;<br>    cin&gt;&gt;movestring&gt;&gt;standardstring;<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;movestring.<span class="hljs-built_in">length</span>()<span class="hljs-number">-1</span>;)&#123;<br>        movestring.<span class="hljs-built_in">push_back</span>(movestring[<span class="hljs-number">0</span>]);<br>        movestring.<span class="hljs-built_in">erase</span>(movestring.<span class="hljs-built_in">begin</span>());<br>        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">judgestring</span>(movestring,standardstring))&#123;<br>            cout&lt;&lt;<span class="hljs-string">&quot;true&quot;</span>;<br>            <span class="hljs-keyword">goto</span> end;<br>        &#125;<br>    &#125;<br>    cout&lt;&lt;<span class="hljs-string">&quot;false&quot;</span>;<br>    end:;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ä¼˜åŒ–æ€è·¯ï¼š"><a href="#ä¼˜åŒ–æ€è·¯ï¼š" class="headerlink" title="ä¼˜åŒ–æ€è·¯ï¼š"></a>ä¼˜åŒ–æ€è·¯ï¼š</h3><p>è‹¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²é¦–å°¾ç›¸æ¥ï¼Œåˆ™ä¸éœ€è¦è¿›è¡Œç§»é¡¹æ“ä½œï¼ˆç›¸å½“äºé¡ºåºæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(string a, string b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> len = a.<span class="hljs-built_in">size</span>();<br>    a += a; <span class="hljs-comment">//å¤åˆ¶å­—ç¬¦ä¸²å¹¶è¿æ¥</span><br>    <span class="hljs-comment">//if (a.find(b) &gt;= 0 &amp;&amp; a.find(b) &lt; len) return true; //åˆ¤æ–­æ˜¯å¦åŒ…å«</span><br>    <span class="hljs-keyword">if</span> (a.<span class="hljs-built_in">find</span>(b) != string::npos) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">//åˆ¤æ–­aä¸­æ˜¯å¦åŒ…å«b</span><br>    <span class="hljs-comment">//ä¸¤ç§åˆ¤æ–­æ–¹å¼ï¼Œæ¨èç¬¬äºŒç§ï¼Œè‹¥findå‡½æ•°æœªæ‰¾åˆ°ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šå¸¸é‡string::npos</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string a, b;<br>    cin &gt;&gt; a &gt;&gt; b;<br>    <span class="hljs-keyword">if</span> (a.<span class="hljs-built_in">size</span>() &lt; b.<span class="hljs-built_in">size</span>()) <span class="hljs-built_in">swap</span>(a, b);<br>    <span class="hljs-comment">//é»˜è®¤aæ˜¯æ›´å¤§çš„stringç±»</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">check</span>(a, b)) cout &lt;&lt; <span class="hljs-string">&quot;true&quot;</span>;<br>    <span class="hljs-keyword">else</span> cout &lt;&lt; <span class="hljs-string">&quot;false&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="2-ACwing-777-å­—ç¬¦ä¸²çš„æœ€å°å‘¨æœŸé—®é¢˜"><a href="#2-ACwing-777-å­—ç¬¦ä¸²çš„æœ€å°å‘¨æœŸé—®é¢˜" class="headerlink" title="2.ACwing 777 å­—ç¬¦ä¸²çš„æœ€å°å‘¨æœŸé—®é¢˜"></a>2.ACwing 777 å­—ç¬¦ä¸²çš„æœ€å°å‘¨æœŸé—®é¢˜</h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²s,æ±‚å…¶æœ€å°çš„å‘¨æœŸæ ¼æ®µ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    string s;<br>    <span class="hljs-type">int</span> flag=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=s.<span class="hljs-built_in">length</span>();++i)&#123;<br>        <span class="hljs-comment">//å¤–å±‚å¾ªç¯ï¼šæšä¸¾å¯èƒ½çš„å‘¨æœŸï¼Œä»å°åˆ°å¤§æšä¸¾ï¼Œç¬¬ä¸€ä¸ªå¾—åˆ°çš„å€¼å°±æ˜¯ç›®æ ‡å€¼</span><br>        flag=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(len%i!=<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;i&lt;s.<span class="hljs-built_in">length</span>();j++)&#123;<br>            <span class="hljs-keyword">if</span>(s[j]!=s[j%i])&#123;<br>                <span class="hljs-comment">//æ ¸å¿ƒä»£ç :åˆ¤æ–­æ¯ä¸€ä¸ªjå’Œj%iæ˜¯å¦ç›¸ç­‰ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆå‘¨æœŸæ€§çš„å®šä¹‰ã€‚</span><br>                flag=<span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag)&#123;<br>                cout&lt;&lt;s.<span class="hljs-built_in">length</span>()/i&lt;&lt;endl;<br>                <span class="hljs-keyword">goto</span> :end;<br>            &#125;<br>        &#125;<br>        cout&lt;&lt;<span class="hljs-string">&quot;-1&quot;</span>;<br>        end:;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-Leetcode-217-å­˜åœ¨é‡å¤å…ƒç´ ï¼ˆè¿›é˜¶ç‰ˆï¼‰"><a href="#3-Leetcode-217-å­˜åœ¨é‡å¤å…ƒç´ ï¼ˆè¿›é˜¶ç‰ˆï¼‰" class="headerlink" title="3.Leetcode 217 å­˜åœ¨é‡å¤å…ƒç´ ï¼ˆè¿›é˜¶ç‰ˆï¼‰"></a>3.Leetcode 217 å­˜åœ¨é‡å¤å…ƒç´ ï¼ˆè¿›é˜¶ç‰ˆï¼‰</h2><p><a href="https://leetcode.cn/problems/contains-duplicate/">åŸé¢˜é“¾æ¥</a></p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚å¦‚æœä»»ä¸€å€¼åœ¨æ•°ç»„ä¸­å‡ºç° <strong>è‡³å°‘ä¸¤æ¬¡</strong> ï¼Œè¿”å› <code>true</code> ï¼›å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ äº’ä¸ç›¸åŒï¼Œè¿”å› <code>false</code> ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><strong>è¾“å…¥ï¼š</strong>nums &#x3D; [1,2,3,1]</p><p><strong>è¾“å‡ºï¼š</strong>true</p><p><strong>è§£é‡Šï¼š</strong></p><p>å…ƒç´  1 åœ¨ä¸‹æ ‡ 0 å’Œ 3 å‡ºç°ã€‚</p><h3 id="1-æœ€æš´åŠ›æ–¹æ³•ï¼šä½¿ç”¨æšä¸¾ç­›æŸ¥-O-n-2"><a href="#1-æœ€æš´åŠ›æ–¹æ³•ï¼šä½¿ç”¨æšä¸¾ç­›æŸ¥-O-n-2" class="headerlink" title="1.æœ€æš´åŠ›æ–¹æ³•ï¼šä½¿ç”¨æšä¸¾ç­›æŸ¥ O(n^2)"></a>1.æœ€æš´åŠ›æ–¹æ³•ï¼šä½¿ç”¨æšä¸¾ç­›æŸ¥ O(n^2)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsDuplicate</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; findnums;<br>        findnums.<span class="hljs-built_in">reserve</span>(<span class="hljs-number">10000</span>);<br>        <span class="hljs-type">int</span> input=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;nums.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">auto</span> it=std::<span class="hljs-built_in">find</span>(findnums.<span class="hljs-built_in">begin</span>(),findnums.<span class="hljs-built_in">end</span>(),nums[i]);<br>            <span class="hljs-keyword">if</span>(it!=findnums.<span class="hljs-built_in">end</span>())&#123;<br>                input=<span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                findnums.<span class="hljs-built_in">push_back</span>(nums[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">bool</span>(input);<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åˆ†æï¼šæ•ˆç‡è¿‡ä½ï¼Œæ¯æ¬¡æ’å…¥ä¸€ä¸ªæ–°å€¼éƒ½éœ€è¦é‡æ–°æŸ¥æ‰¾ä¸€éfindnumsæ•°ç»„</p><p>ä¼˜åŒ–ï¼šå°†findnumsæ•°ç»„ä¼˜åŒ–ä¸ºunordered_setï¼ˆä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨å‡ºç°è¿‡çš„å…ƒç´ æ•ˆç‡æ›´é«˜ï¼‰</p><h3 id="ä¼˜åŒ–ä»£ç ï¼š"><a href="#ä¼˜åŒ–ä»£ç ï¼š" class="headerlink" title="ä¼˜åŒ–ä»£ç ï¼š"></a>ä¼˜åŒ–ä»£ç ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsDuplicate</span><span class="hljs-params">(std::vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        std::unordered_set&lt;<span class="hljs-type">int</span>&gt; seen;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums) &#123;<br>            <span class="hljs-comment">//ç¼–ç¨‹ä¹ æƒ¯ï¼šéå†çš„ç®€åŒ–å†™æ³•</span><br>            <span class="hljs-keyword">if</span> (seen.<span class="hljs-built_in">find</span>(num) != seen.<span class="hljs-built_in">end</span>()) &#123;<br>                <span class="hljs-comment">//å¦‚æœæ‰¾åˆ°äº†num,ç›´æ¥è¾“å‡ºtrue</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            seen.<span class="hljs-built_in">insert</span>(num);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="çŸ¥è¯†è¡¥å……ï¼šå“ˆå¸Œè¡¨"><a href="#çŸ¥è¯†è¡¥å……ï¼šå“ˆå¸Œè¡¨" class="headerlink" title="çŸ¥è¯†è¡¥å……ï¼šå“ˆå¸Œè¡¨"></a>çŸ¥è¯†è¡¥å……ï¼šå“ˆå¸Œè¡¨</h3><p>â€‹ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆå¦‚ <code>std::unordered_set</code>ï¼‰å­˜å‚¨å·²ç»é‡åˆ°çš„å…ƒç´ ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦æ›´ä½</strong>çš„åŸå› ä¸»è¦åœ¨äºå“ˆå¸Œè¡¨çš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚è¿™æ˜¯å› ä¸ºå“ˆå¸Œè¡¨é€šè¿‡å“ˆå¸Œå‡½æ•°å°†å…ƒç´ æ˜ å°„åˆ°ä¸€ä¸ªæ•°ç»„ä¸­çš„ç‰¹å®šä½ç½®ï¼Œä»è€Œå®ç°äº†å¿«é€Ÿçš„æŸ¥æ‰¾å’Œæ’å…¥ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š</p><h5 id="å“ˆå¸Œè¡¨çš„å·¥ä½œåŸç†"><a href="#å“ˆå¸Œè¡¨çš„å·¥ä½œåŸç†" class="headerlink" title="å“ˆå¸Œè¡¨çš„å·¥ä½œåŸç†"></a>å“ˆå¸Œè¡¨çš„å·¥ä½œåŸç†</h5><ol><li><strong>å“ˆå¸Œå‡½æ•°</strong>ï¼šå“ˆå¸Œè¡¨ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œå‡½æ•°å°†æ¯ä¸ªå…ƒç´ çš„å€¼è½¬æ¢ä¸ºä¸€ä¸ªå“ˆå¸Œç ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªæ•´æ•°ï¼‰ï¼Œè¿™ä¸ªå“ˆå¸Œç å¯¹åº”å“ˆå¸Œè¡¨ä¸­çš„ä¸€ä¸ªä½ç½®ï¼ˆæ¡¶ï¼‰ã€‚</li><li><strong>å­˜å‚¨ä½ç½®</strong>ï¼šå…ƒç´ è¢«å­˜å‚¨åœ¨å¯¹åº”çš„æ¡¶ä¸­ï¼ŒæŸ¥æ‰¾å’Œæ’å…¥æ“ä½œéƒ½å¯ä»¥é€šè¿‡è®¡ç®—å“ˆå¸Œç ç›´æ¥å®šä½åˆ°ç›¸åº”çš„æ¡¶ï¼Œä»è€Œé¿å…äº†çº¿æ€§æ‰«æã€‚</li><li><strong>å†²çªå¤„ç†</strong>ï¼šå½“å¤šä¸ªå…ƒç´ æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶æ—¶ï¼Œå“ˆå¸Œè¡¨ä½¿ç”¨å†²çªå¤„ç†æœºåˆ¶ï¼ˆå¦‚é“¾åœ°å€æ³•æˆ–å¼€æ”¾åœ°å€æ³•ï¼‰æ¥å¤„ç†è¿™äº›å†²çªã€‚</li></ol><h5 id="æ—¶é—´å¤æ‚åº¦åˆ†æ"><a href="#æ—¶é—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="æ—¶é—´å¤æ‚åº¦åˆ†æ"></a>æ—¶é—´å¤æ‚åº¦åˆ†æ</h5><ul><li><strong>æŸ¥æ‰¾</strong>ï¼šåœ¨ç†æƒ³æƒ…å†µä¸‹ï¼Œå“ˆå¸Œè¡¨çš„æŸ¥æ‰¾æ“ä½œåªéœ€è®¡ç®—ä¸€æ¬¡å“ˆå¸Œå‡½æ•°å¹¶è®¿é—®ä¸€ä¸ªæ¡¶ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚</li><li><strong>æ’å…¥</strong>ï¼šæ’å…¥æ“ä½œä¹Ÿåªéœ€è®¡ç®—ä¸€æ¬¡å“ˆå¸Œå‡½æ•°å¹¶å°†å…ƒç´ æ”¾å…¥ç›¸åº”çš„æ¡¶ä¸­ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚</li><li><strong>åˆ é™¤</strong>ï¼šç±»ä¼¼äºæŸ¥æ‰¾å’Œæ’å…¥ï¼Œåˆ é™¤æ“ä½œä¹Ÿå¯ä»¥åœ¨ O(1) æ—¶é—´å†…å®Œæˆã€‚</li></ul><h5 id="å¯¹æ¯”çº¿æ€§æŸ¥æ‰¾"><a href="#å¯¹æ¯”çº¿æ€§æŸ¥æ‰¾" class="headerlink" title="å¯¹æ¯”çº¿æ€§æŸ¥æ‰¾"></a>å¯¹æ¯”çº¿æ€§æŸ¥æ‰¾</h5><ul><li><strong>çº¿æ€§æŸ¥æ‰¾</strong>ï¼šåœ¨å‘é‡æˆ–é“¾è¡¨ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ éœ€è¦éå†æ‰€æœ‰å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)ã€‚ï¼ˆä¾‹å¦‚vector)</li><li><strong>å“ˆå¸ŒæŸ¥æ‰¾</strong>ï¼šåœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ å¹³å‡åªéœ€è¦ O(1) æ—¶é—´ï¼Œå¯ä»¥æ˜¾è‘—æé«˜æŸ¥æ‰¾æ•ˆç‡ã€‚</li></ul><h5 id="å®é™…åº”ç”¨ä¸­çš„è€ƒè™‘"><a href="#å®é™…åº”ç”¨ä¸­çš„è€ƒè™‘" class="headerlink" title="å®é™…åº”ç”¨ä¸­çš„è€ƒè™‘"></a>å®é™…åº”ç”¨ä¸­çš„è€ƒè™‘</h5><p>è™½ç„¶å“ˆå¸Œè¡¨çš„å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œä½†åœ¨æœ€åæƒ…å†µä¸‹ï¼ˆä¾‹å¦‚å“ˆå¸Œå‡½æ•°ä¸å‡åŒ€å¯¼è‡´æ‰€æœ‰å…ƒç´ æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥é€€åŒ–åˆ° O(n)ã€‚ç„¶è€Œï¼Œé€šè¿‡é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°å’Œåˆç†çš„è´Ÿè½½å› å­ï¼Œæœ€åæƒ…å†µå‘ç”Ÿçš„æ¦‚ç‡å¯ä»¥è¢«å¤§å¤§é™ä½ã€‚</p><h5 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h5><p>ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å·²ç»é‡åˆ°çš„å…ƒç´ ï¼Œå¯ä»¥åˆ©ç”¨å…¶å¿«é€ŸæŸ¥æ‰¾å’Œæ’å…¥çš„ç‰¹æ€§ï¼Œå°†åŒ…å«é‡å¤å…ƒç´ çš„æ£€æŸ¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä» O(n^2) é™ä½åˆ° O(n)ï¼Œåœ¨å¤„ç†å¤§æ•°æ®é›†æ—¶æ˜¾è‘—æé«˜æ€§èƒ½ã€‚</p><h2 id="4-Leetcode-219-å­˜åœ¨é‡å¤å…ƒç´ II-ï¼ˆè¿›é˜¶ç‰ˆï¼‰"><a href="#4-Leetcode-219-å­˜åœ¨é‡å¤å…ƒç´ II-ï¼ˆè¿›é˜¶ç‰ˆï¼‰" class="headerlink" title="4.Leetcode 219 å­˜åœ¨é‡å¤å…ƒç´ II ï¼ˆè¿›é˜¶ç‰ˆï¼‰"></a>4.Leetcode 219 å­˜åœ¨é‡å¤å…ƒç´ II ï¼ˆè¿›é˜¶ç‰ˆï¼‰</h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ª <strong>ä¸åŒçš„ç´¢å¼•</strong> <code>i</code> å’Œ <code>j</code> ï¼Œæ»¡è¶³ <code>nums[i] == nums[j]</code> ä¸” <code>abs(i - j) &lt;= k</code> ã€‚å¦‚æœå­˜åœ¨ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p><p>æ€è·¯ï¼šæ­¤å¤„ä½¿ç”¨unordered_setä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œunordered_set é”®å€¼å¯¹å°±æ˜¯è‡ªå·±æœ¬èº«ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨unordered_mapç±»å‹çš„å®¹å™¨ï¼Œå®ç°ä¸¤ä¸ªå€¼ä¹‹é—´çš„ä¸€ä¸€æ˜ å°„ã€‚</p><p>ï¼ˆåœ¨ä¸Šä¸€é¢˜ä¸­åªæ˜¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Œå¯¹å…ƒç´ çš„ç´¢å¼•å’Œé¡ºåºå¹¶æœªæå‡ºè¦æ±‚ï¼Œæ•…ä½¿ç”¨unordered_set å³å¯ï¼‰</p><h3 id="ä»£ç å®ç°ï¼šä½¿ç”¨æ˜ å°„"><a href="#ä»£ç å®ç°ï¼šä½¿ç”¨æ˜ å°„" class="headerlink" title="ä»£ç å®ç°ï¼šä½¿ç”¨æ˜ å°„"></a>ä»£ç å®ç°ï¼šä½¿ç”¨æ˜ å°„</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsNearbyDuplicate</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; dictionary; <span class="hljs-comment">// ç”¨äºå­˜å‚¨æ¯ä¸ªå…ƒç´ çš„æœ€æ–°ç´¢å¼•</span><br>        <span class="hljs-type">int</span> length = nums.<span class="hljs-built_in">size</span>(); <span class="hljs-comment">// è·å–æ•°ç»„çš„é•¿åº¦</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123; <span class="hljs-comment">// éå†æ•°ç»„</span><br>            <span class="hljs-type">int</span> num = nums[i]; <span class="hljs-comment">// å½“å‰å…ƒç´ </span><br>            <span class="hljs-comment">// å¦‚æœå½“å‰å…ƒç´ å·²ç»å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå¹¶ä¸”å½“å‰ç´¢å¼•ä¸å­˜å‚¨çš„ç´¢å¼•ä¹‹å·®å°äºç­‰äº k</span><br>            <span class="hljs-keyword">if</span> (dictionary.<span class="hljs-built_in">count</span>(num) &amp;&amp; i - dictionary[num] &lt;= k) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„é‡å¤å…ƒç´ ï¼Œè¿”å› true</span><br>            &#125;<br>            dictionary[num] = i; <span class="hljs-comment">// æ›´æ–°å­—å…¸ä¸­çš„ç´¢å¼•  nums[i]-&gt;içš„æ˜ å°„</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// éå†å®Œæ•°ç»„åï¼Œæœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„é‡å¤å…ƒç´ ï¼Œè¿”å› false</span><br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h4 id="ç›¸å…³ä»£ç è§£é‡Š"><a href="#ç›¸å…³ä»£ç è§£é‡Š" class="headerlink" title="ç›¸å…³ä»£ç è§£é‡Š"></a>ç›¸å…³ä»£ç è§£é‡Š</h4><ul><li><p>åŸºæœ¬æ€è·¯ï¼šåˆ›å»ºdictionaryçš„mapæ˜ å°„ï¼Œå¹¶å¯¹numsæ•°ç»„ä¸æ–­è¿›è¡Œæ“ä½œï¼Œå¦‚æœæ‰¾åˆ°ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ å¹¶ä¸”ç´¢å¼•å°äºkï¼Œç›´æ¥return trueï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™å‚¨å­˜ä¸€å¯¹æ–°çš„æ˜ å°„ï¼ˆå…ƒç´ å”¯ä¸€ï¼‰</p></li><li><p>unordered_mapå®¹å™¨ä¸­é”®å€¼ä¿æŒå”¯ä¸€æ€§ï¼Œä½¿ç”¨ <code>[]</code> è¿ç®—ç¬¦æ’å…¥ç›¸åŒé”®æ—¶ï¼Œæ–°å€¼ä¼šè¦†ç›–æ—§å€¼ã€‚ä½¿ç”¨ <code>insert</code> æ–¹æ³•æ’å…¥ç›¸åŒé”®æ—¶ï¼Œæ’å…¥æ“ä½œä¼šå¤±è´¥ï¼ŒåŸå€¼ä¿æŒä¸å˜ã€‚</p></li><li><p>countå‡½æ•°ï¼š</p><p><code>std::unordered_map</code> çš„ <code>count</code> å‡½æ•°ç”¨äºæ£€æŸ¥ç‰¹å®šé”®æ˜¯å¦å­˜åœ¨äºæ˜ å°„ä¸­ã€‚å®ƒè¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œè¡¨ç¤ºå…·æœ‰æŒ‡å®šé”®çš„å…ƒç´ æ•°é‡ã€‚åœ¨ <code>std::unordered_map</code> ä¸­ï¼Œæ¯ä¸ªé”®æ˜¯å”¯ä¸€çš„ï¼Œå› æ­¤ <code>count</code> å‡½æ•°çš„è¿”å›å€¼åªèƒ½æ˜¯ <code>0</code> æˆ– <code>1</code>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">count</span><span class="hljs-params">(<span class="hljs-type">const</span> Key&amp; key)</span> <span class="hljs-type">const</span></span>;<br></code></pre></td></tr></table></figure><ul><li><code>key</code>ï¼šè¦æ£€æŸ¥çš„é”®ã€‚</li><li>è¿”å›å€¼ï¼šå¦‚æœé”®å­˜åœ¨ï¼Œåˆ™è¿”å› <code>1</code>ï¼›å¦åˆ™è¿”å› <code>0</code>ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::unordered_map&lt;<span class="hljs-type">int</span>, std::string&gt; myMap;<br>    myMap[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;one&quot;</span>;<br>    myMap[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;two&quot;</span>;<br>    myMap[<span class="hljs-number">3</span>] = <span class="hljs-string">&quot;three&quot;</span>;<br><br>    <span class="hljs-type">int</span> key = <span class="hljs-number">2</span>;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ count å‡½æ•°æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</span><br>    <span class="hljs-keyword">if</span> (myMap.<span class="hljs-built_in">count</span>(key)) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key &quot;</span> &lt;&lt; key &lt;&lt; <span class="hljs-string">&quot; exists in the map with value: &quot;</span> &lt;&lt; myMap[key] &lt;&lt; std::endl;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key &quot;</span> &lt;&lt; key &lt;&lt; <span class="hljs-string">&quot; does not exist in the map.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">Key <span class="hljs-number">2</span> exists <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> map <span class="hljs-keyword">with</span> <span class="hljs-built_in">value</span>: <span class="hljs-literal">two</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="å®¹å™¨ï¼šunordered-mapç®€ä»‹"><a href="#å®¹å™¨ï¼šunordered-mapç®€ä»‹" class="headerlink" title="å®¹å™¨ï¼šunordered_mapç®€ä»‹"></a>å®¹å™¨ï¼šunordered_mapç®€ä»‹</h4><p><code>unordered_map</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œç”¨äºå­˜å‚¨é”®å€¼å¯¹ã€‚å®ƒåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæä¾›äº†å¹³å‡å¸¸æ•°æ—¶é—´å¤æ‚åº¦çš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œã€‚</p><p>ç‰¹æ€§</p><ol><li><strong>æ— åºå­˜å‚¨</strong>ï¼šå…ƒç´ å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå› æ­¤æ²¡æœ‰ç‰¹å®šçš„é¡ºåºã€‚</li><li><strong>å”¯ä¸€é”®</strong>ï¼šæ¯ä¸ªé”®åœ¨å®¹å™¨ä¸­æ˜¯å”¯ä¸€çš„ã€‚</li><li><strong>é«˜æ•ˆæ“ä½œ</strong>ï¼šæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œçš„å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º <code>O(1)</code>ï¼Œæœ€åæƒ…å†µä¸‹ä¸º <code>O(n)</code>ï¼Œä½†è¿™ç§æƒ…å†µå¾ˆå°‘å‘ç”Ÿã€‚</li></ol><p>å¸¸ç”¨æ“ä½œ</p><ul><li><strong>æ’å…¥å…ƒç´ </strong>ï¼šä½¿ç”¨ <code>insert</code> æ–¹æ³•æˆ– <code>[]</code> è¿ç®—ç¬¦ã€‚</li><li><strong>åˆ é™¤å…ƒç´ </strong>ï¼šä½¿ç”¨ <code>erase</code> æ–¹æ³•ã€‚</li><li><strong>æŸ¥æ‰¾å…ƒç´ </strong>ï¼šä½¿ç”¨ <code>find</code> æ–¹æ³•æˆ– <code>count</code> æ–¹æ³•ã€‚</li><li><strong>è®¿é—®å…ƒç´ </strong>ï¼šä½¿ç”¨ <code>[]</code> è¿ç®—ç¬¦ã€‚</li></ul><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::unordered_map&lt;<span class="hljs-type">int</span>, std::string&gt; myMap;<br><br>    <span class="hljs-comment">// æ’å…¥å…ƒç´ </span><br>    myMap[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;one&quot;</span>;<br>    myMap[<span class="hljs-number">2</span>] = <span class="hljs-string">&quot;two&quot;</span>;<br>    myMap.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-number">3</span>, <span class="hljs-string">&quot;three&quot;</span>&#125;);<br><br>    <span class="hljs-comment">// è®¿é—®å…ƒç´ </span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Key 1: &quot;</span> &lt;&lt; myMap[<span class="hljs-number">1</span>] &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Key 2: &quot;</span> &lt;&lt; myMap[<span class="hljs-number">2</span>] &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// æŸ¥æ‰¾å…ƒç´ </span><br>    <span class="hljs-keyword">auto</span> it = myMap.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>);<br>    <span class="hljs-comment">//findå‡½æ•°ç”¨æ¥è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œå¦‚æœæ‰¾åˆ°å°±è¿”å›ç‰¹å®šé”®å€¼çš„è¿­ä»£å™¨ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±è¿”å›å¯¹åº”çš„.end()è¿­ä»£å™¨</span><br>    <span class="hljs-keyword">if</span> (it != myMap.<span class="hljs-built_in">end</span>()) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Found key 3 with value: &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; std::endl;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key 3 not found.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// åˆ é™¤å…ƒç´ </span><br>    myMap.<span class="hljs-built_in">erase</span>(<span class="hljs-number">2</span>);<br><br>    <span class="hljs-comment">// æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</span><br>    <span class="hljs-keyword">if</span> (myMap.<span class="hljs-built_in">count</span>(<span class="hljs-number">2</span>)) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key 2 exists in the map.&quot;</span> &lt;&lt; std::endl;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key 2 does not exist in the map.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">Key <span class="hljs-number">1</span>: <span class="hljs-literal">one</span><br>Key <span class="hljs-number">2</span>: <span class="hljs-literal">two</span><br>Found key <span class="hljs-number">3</span> <span class="hljs-keyword">with</span> <span class="hljs-built_in">value</span>: <span class="hljs-literal">three</span><br>Key <span class="hljs-number">2</span> does <span class="hljs-keyword">not</span> exist <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> map.<br></code></pre></td></tr></table></figure><h3 id="æ€è·¯2ï¼šæ»‘åŠ¨çª—å£"><a href="#æ€è·¯2ï¼šæ»‘åŠ¨çª—å£" class="headerlink" title="æ€è·¯2ï¼šæ»‘åŠ¨çª—å£"></a>æ€è·¯2ï¼šæ»‘åŠ¨çª—å£</h3><p>æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„é¢˜ç›®çš„æ•°æ®éƒ½è¦ç”¨ä¸€ä¸ªæ•°ç»„è¿›è¡Œå‚¨å­˜å†æŸ¥æ‰¾çš„è¿‡ç¨‹ã€‚</p><p>æ€è·¯ï¼šè®¾ç½®æ»‘åŠ¨çª—å£çš„åŒæšä¸¾iï¼Œj</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsNearbyDuplicate</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;nums.<span class="hljs-built_in">size</span>();i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i<span class="hljs-number">+1</span>;j&lt;=i+k&amp;&amp;j&lt;nums.<span class="hljs-built_in">size</span>();j++)&#123;<br>                <span class="hljs-keyword">if</span>(nums[i]==nums[j])&#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(Kn)      ç©ºé—´å¤æ‚åº¦O(1)</p><p>ç®—æ³•ä¼˜åŒ–ï¼š</p><p>â€‹è€ƒè™‘æ•°ç»„ nums ä¸­çš„æ¯ä¸ªé•¿åº¦ä¸è¶…è¿‡ k+1 çš„æ»‘åŠ¨çª—å£ï¼ŒåŒä¸€ä¸ªæ»‘åŠ¨çª—å£ä¸­çš„ä»»æ„ä¸¤ä¸ªä¸‹æ ‡å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ kã€‚å¦‚æœå­˜åœ¨ä¸€ä¸ªæ»‘åŠ¨çª—å£ï¼Œå…¶ä¸­æœ‰é‡å¤å…ƒç´ ï¼Œåˆ™<strong>å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„ä¸‹æ ‡ i å’Œ j æ»¡è¶³ nums[i]&#x3D;nums[j] ä¸” âˆ£iâˆ’jâˆ£â‰¤k</strong>ã€‚å¦‚æœæ‰€æœ‰æ»‘åŠ¨çª—å£ä¸­éƒ½æ²¡æœ‰é‡å¤å…ƒç´ ï¼Œåˆ™ä¸å­˜åœ¨ç¬¦åˆè¦æ±‚çš„ä¸‹æ ‡ã€‚å› æ­¤ï¼Œåªè¦<strong>éå†æ¯ä¸ªæ»‘åŠ¨çª—å£ï¼Œåˆ¤æ–­æ»‘åŠ¨çª—å£ä¸­æ˜¯å¦æœ‰é‡å¤å…ƒç´ å³å¯</strong>ã€‚</p><p>â€‹å¦‚æœä¸€ä¸ªæ»‘åŠ¨çª—å£çš„ç»“æŸä¸‹æ ‡æ˜¯ iï¼Œåˆ™è¯¥æ»‘åŠ¨çª—å£çš„å¼€å§‹ä¸‹æ ‡æ˜¯ max(0,iâˆ’k)ã€‚å¯ä»¥ä½¿ç”¨å“ˆå¸Œé›†åˆå­˜å‚¨æ»‘åŠ¨çª—å£ä¸­çš„å…ƒç´ ã€‚ä»å·¦åˆ°å³éå†æ•°ç»„ numsï¼Œå½“éå†åˆ°ä¸‹æ ‡ i æ—¶ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><p>â€‹å¦‚æœ i&gt;kï¼Œåˆ™ä¸‹æ ‡ iâˆ’kâˆ’1 å¤„çš„å…ƒç´ è¢«ç§»å‡ºæ»‘åŠ¨çª—å£ï¼Œå› æ­¤å°† nums[iâˆ’kâˆ’1] ä»å“ˆå¸Œé›†åˆä¸­åˆ é™¤ï¼›</p><p>â€‹åˆ¤æ–­ nums[i] æ˜¯å¦åœ¨å“ˆå¸Œé›†åˆä¸­ï¼Œå¦‚æœåœ¨å“ˆå¸Œé›†åˆä¸­åˆ™åœ¨åŒä¸€ä¸ªæ»‘åŠ¨çª—å£ä¸­æœ‰é‡å¤å…ƒç´ ï¼Œè¿”å› trueï¼Œå¦‚æœä¸åœ¨å“ˆå¸Œé›†åˆä¸­åˆ™å°†å…¶åŠ å…¥å“ˆå¸Œé›†åˆã€‚</p><p>â€‹å½“éå†ç»“æŸæ—¶ï¼Œå¦‚æœæ‰€æœ‰æ»‘åŠ¨çª—å£ä¸­éƒ½æ²¡æœ‰é‡å¤å…ƒç´ ï¼Œè¿”å› falseã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">containsNearbyDuplicate</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> k)</span> </span>&#123;<br>        unordered_set&lt;<span class="hljs-type">int</span>&gt; s;<br>        <span class="hljs-comment">//så°±æ˜¯æ»‘åŠ¨çª—å£ï¼Œç”¨ä¸€ä¸ªunordered_setå­˜å‚¨ï¼Œå¯ä»¥å‡å°‘ä¸€ä¸ªforå¾ªç¯ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦</span><br>        <span class="hljs-type">int</span> length = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i &gt; k) &#123;<br>                s.<span class="hljs-built_in">erase</span>(nums[i - k - <span class="hljs-number">1</span>]);<br>            &#125;<br>            <span class="hljs-comment">//å½“i&gt;kæ—¶ï¼Œæ¯æ¬¡æ‰§è¡Œi++æ—¶éƒ½éœ€è¦å°†æ»‘åŠ¨çª—å£çš„æœ€åä¸€ä¸ªå…ƒç´ é©±é€å‡ºçª—å£</span><br>            <span class="hljs-keyword">if</span> (s.<span class="hljs-built_in">count</span>(nums[i])) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            s.<span class="hljs-built_in">emplace</span>(nums[i]);<br>            <span class="hljs-comment">//åœ¨æ¯ä¸€æ¬¡i++å‰ï¼Œéƒ½ä¼šæ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ï¼Œä¹‹åä¼šæ‰§è¡Œå‘½ä»¤countï¼Œåˆ¤æ–­æ–°æ’å…¥çš„å…ƒç´ æ˜¯å¦å·²ç»å­˜åœ¨åœ¨æ»‘åŠ¨çª—å£ä¸­ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥return true</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><h4 id="emplaceå‡½æ•°"><a href="#emplaceå‡½æ•°" class="headerlink" title="emplaceå‡½æ•°"></a>emplaceå‡½æ•°</h4><p><code>emplace</code> æ˜¯ C++11 å¼•å…¥çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œç”¨äºåœ¨å®¹å™¨ä¸­åŸåœ°æ„é€ å…ƒç´ ã€‚å¯¹äº <code>unordered_map</code>ï¼Œ<code>emplace</code> å¯ä»¥é¿å…ä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡åˆ›å»ºå’Œå¤åˆ¶ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚<code>emplace</code> æ–¹æ³•æ¥å—é”®å’Œå€¼çš„æ„é€ å‚æ•°ï¼Œå¹¶ç›´æ¥åœ¨å®¹å™¨ä¸­æ„é€ å…ƒç´ ã€‚</p><p><code>emplace</code> çš„ç”¨æ³•</p><p><code>emplace</code> çš„å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span>... Args&gt;<br><span class="hljs-function">std::pair&lt;iterator, <span class="hljs-type">bool</span>&gt; <span class="hljs-title">emplace</span><span class="hljs-params">(Args&amp;&amp;... args)</span></span>;<br></code></pre></td></tr></table></figure><ul><li><strong>å‚æ•°</strong>ï¼š<code>args</code> æ˜¯ä¼ é€’ç»™å…ƒç´ æ„é€ å‡½æ•°çš„å‚æ•°ã€‚</li><li><strong>è¿”å›å€¼</strong>ï¼šè¿”å›ä¸€ä¸ª <code>std::pair</code>ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æŒ‡å‘æ’å…¥å…ƒç´ çš„è¿­ä»£å™¨ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ’å…¥æ˜¯å¦æˆåŠŸã€‚</li></ul><p>ç¤ºä¾‹</p><p>ä»¥ä¸‹ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>emplace</code> åœ¨ <code>unordered_map</code> ä¸­æ’å…¥å…ƒç´ ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::unordered_map&lt;<span class="hljs-type">int</span>, std::string&gt; myMap;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ emplace æ’å…¥å…ƒç´ </span><br>    myMap.<span class="hljs-built_in">emplace</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;one&quot;</span>);<br>    myMap.<span class="hljs-built_in">emplace</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;two&quot;</span>);<br><br>    <span class="hljs-comment">// æ‰“å°åˆå§‹å†…å®¹</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Initial map:&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; pair : myMap) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key: &quot;</span> &lt;&lt; pair.first &lt;&lt; <span class="hljs-string">&quot;, Value: &quot;</span> &lt;&lt; pair.second &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// å°è¯•ä½¿ç”¨ emplace æ’å…¥ç›¸åŒé”®</span><br>    <span class="hljs-keyword">auto</span> result = myMap.<span class="hljs-built_in">emplace</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;uno&quot;</span>);<br><br>    <span class="hljs-keyword">if</span> (result.second) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Emplace succeeded.&quot;</span> &lt;&lt; std::endl;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Emplace failed. Key 1 already exists with value: &quot;</span> &lt;&lt; myMap[<span class="hljs-number">1</span>] &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// æ‰“å°æ›´æ–°åçš„å†…å®¹</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Updated map:&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; pair : myMap) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Key: &quot;</span> &lt;&lt; pair.first &lt;&lt; <span class="hljs-string">&quot;, Value: &quot;</span> &lt;&lt; pair.second &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">Initial map:</span><br><span class="hljs-attr">Key:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-attr">Value:</span> <span class="hljs-string">one</span><br><span class="hljs-attr">Key:</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-attr">Value:</span> <span class="hljs-string">two</span><br><span class="hljs-attr">Emplace failed. Key 1 already exists with value:</span> <span class="hljs-string">one</span><br><span class="hljs-attr">Updated map:</span><br><span class="hljs-attr">Key:</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-attr">Value:</span> <span class="hljs-string">one</span><br><span class="hljs-attr">Key:</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-attr">Value:</span> <span class="hljs-string">two</span><br></code></pre></td></tr></table></figure><p><code>emplace</code> ä¸ <code>insert</code> çš„åŒºåˆ«</p><ul><li>**<code>insert</code>**ï¼šéœ€è¦å…ˆæ„é€ ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œç„¶åå†æ’å…¥åˆ°å®¹å™¨ä¸­ï¼Œå¯èƒ½ä¼šæœ‰é¢å¤–çš„å¤åˆ¶æˆ–ç§»åŠ¨æ“ä½œã€‚</li><li>**<code>emplace</code>**ï¼šç›´æ¥åœ¨å®¹å™¨ä¸­æ„é€ å¯¹è±¡ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡åˆ›å»ºå’Œå¤åˆ¶æ“ä½œï¼Œæé«˜äº†æ€§èƒ½ã€‚</li></ul><p>æ€»ç»“</p><ul><li><code>emplace</code> æ–¹æ³•ç”¨äºåœ¨ <code>unordered_map</code> ä¸­åŸåœ°æ„é€ å…ƒç´ ï¼Œé¿å…ä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡åˆ›å»ºå’Œå¤åˆ¶æ“ä½œã€‚</li><li>å¦‚æœæ’å…¥çš„é”®å·²ç»å­˜åœ¨ï¼Œ<code>emplace</code> æ“ä½œå°†å¤±è´¥ï¼ŒåŸå€¼ä¿æŒä¸å˜ã€‚</li></ul><h1 id="ç¨‹è®¾é”™é¢˜-15-20-20241027-20241031"><a href="#ç¨‹è®¾é”™é¢˜-15-20-20241027-20241031" class="headerlink" title="ç¨‹è®¾é”™é¢˜ 15-20 20241027-20241031"></a>ç¨‹è®¾é”™é¢˜ 15-20 20241027-20241031</h1><h2 id="1-Leetcode-283-ç§»åŠ¨é›¶"><a href="#1-Leetcode-283-ç§»åŠ¨é›¶" class="headerlink" title="1.Leetcode 283 ç§»åŠ¨é›¶"></a>1.Leetcode 283 ç§»åŠ¨é›¶</h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ <code>nums</code>ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ <code>0</code> ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚</p><p><strong>è¯·æ³¨æ„</strong> ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog">è¾“å…¥: nums = <span class="hljs-string">[0,1,0,3,12]</span><br>è¾“å‡º: <span class="hljs-string">[1,3,12,0,0]</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs inform7">è¾“å…¥: nums = <span class="hljs-comment">[0]</span><br>è¾“å‡º: <span class="hljs-comment">[0]</span><br></code></pre></td></tr></table></figure><p><strong>æç¤º</strong>:</p><ul><li><code>1 &lt;= nums.length &lt;= 104</code></li><li><code>-231 &lt;= nums[i] &lt;= 231 - 1</code></li></ul><h3 id="è§£æ³•â‘ "><a href="#è§£æ³•â‘ " class="headerlink" title="è§£æ³•â‘ "></a>è§£æ³•â‘ </h3><p>ä½¿ç”¨vectoræ•°ç»„ä¸­çš„push_backå’Œeraseæˆå‘˜å‡½æ•°å¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œå¾—åˆ°ç§»åŠ¨å®Œæˆçš„æ•°ç»„</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">moveZeroes</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> counter=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> iter=nums.<span class="hljs-built_in">begin</span>();counter&lt;nums.<span class="hljs-built_in">size</span>();counter++)&#123;<br>            <span class="hljs-keyword">if</span>(*(iter)==<span class="hljs-number">0</span>)&#123;<br>                nums.<span class="hljs-built_in">erase</span>(iter,iter<span class="hljs-number">+1</span>);<br>                nums.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">0</span>);<br>                <span class="hljs-comment">//å¦‚æœå‘ç°0ï¼Œå¯¹æ•°ç»„è¿›è¡Œæ“ä½œï¼Œå°†0åˆ é™¤ï¼Œå¹¶æ·»åŠ è‡³æœ«å°¾</span><br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                iter++;<br>                <span class="hljs-comment">//å¦‚æœå‘ç°çš„ä¸æ˜¯0ï¼Œä¸è¿›è¡Œæ“ä½œï¼Œè¿­ä»£å™¨åç§»ä¸€ä½</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num:nums)&#123;<br>            cout&lt;&lt;num;<br>            <span class="hljs-comment">//éå†æ•°ç»„è¾“å‡ºç»“æœ</span><br>        &#125;<br>        <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)(eraseæ“ä½œçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå†åŠ ä¸Šå¤–å±‚çš„å¾ªç¯)</p><h3 id="è§£æ³•â‘¡"><a href="#è§£æ³•â‘¡" class="headerlink" title="è§£æ³•â‘¡"></a>è§£æ³•â‘¡</h3><p>è§£æ³•â‘ çš„ä½æ•ˆä¹‹å¤„ï¼šåœ¨äºeraseçš„æ¸…é™¤è¿‡ç¨‹å¤ªç¹ç</p><p>æ”¹è¿›ï¼šæ“ä½œæ‰€æœ‰éé›¶æ•°å€¼ï¼Œä½¿å…¶æŒ‰é¡ºåºæŒªåˆ°æ•°ç»„çš„å¼€å¤´ï¼Œè¦†ç›–å¼€å¤´çš„å€¼ï¼Œå¹¶å°†ç»“å°¾çš„æ‰€æœ‰å‰©ä½™å€¼ä¿®æ”¹æˆ0ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">moveZeroes</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> nonZeroIndex = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-comment">// å°†æ‰€æœ‰éé›¶å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„çš„å‰é¢</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (nums[i] != <span class="hljs-number">0</span>) &#123;<br>                nums[nonZeroIndex++] = nums[i];<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// å°†å‰©ä½™çš„ä½ç½®å¡«å……ä¸ºé›¶</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = nonZeroIndex; i &lt; n; ++i) &#123;<br>            nums[i] = <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// æ‰“å°æ•°ç»„</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> num : nums) &#123;<br>            cout &lt;&lt; num &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        &#125;<br>        cout &lt;&lt; endl;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><h3 id="è§£æ³•â‘¢-åŒæŒ‡é’ˆå¹¶è¡Œå¤„ç†"><a href="#è§£æ³•â‘¢-åŒæŒ‡é’ˆå¹¶è¡Œå¤„ç†" class="headerlink" title="è§£æ³•â‘¢ åŒæŒ‡é’ˆå¹¶è¡Œå¤„ç†"></a>è§£æ³•â‘¢ åŒæŒ‡é’ˆå¹¶è¡Œå¤„ç†</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">moveZeroes</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>(), left = <span class="hljs-number">0</span>, right = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (right &lt; n) &#123;<br>            <span class="hljs-keyword">if</span> (nums[right]) &#123;<br>                <span class="hljs-built_in">swap</span>(nums[left], nums[right]);<br>                left++;<br>                <span class="hljs-comment">//å¦‚æœnums[right]ä¸æ˜¯0ï¼Œé‚£ä¹ˆå’Œå·¦æŒ‡é’ˆå‘ç”Ÿäº¤æ¢ï¼Œå³æŒ‡é’ˆæ˜¯è¯•æ¢æŒ‡é’ˆï¼Œå·¦æŒ‡é’ˆä»£è¡¨å·²ç»æ£€æŸ¥è¿‡æ˜¯éé›¶å€¼çš„å…ƒç´ ï¼Œå¹¶å°†å·¦æŒ‡é’ˆå³ç§»ä¸€ä½</span><br>                <span class="hljs-comment">//æœ€åçš„æƒ…å†µ:æ²¡æœ‰0ï¼Œåˆ™å·¦æŒ‡é’ˆå’Œå³æŒ‡é’ˆå®Œå…¨åŒæ­¥</span><br>            &#125;<br>            right++;<br>        &#125;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ï¼šO(n)</p><h2 id="2-Leetcode-290-å•è¯æ˜ å°„"><a href="#2-Leetcode-290-å•è¯æ˜ å°„" class="headerlink" title="2.Leetcode 290 å•è¯æ˜ å°„"></a>2.Leetcode 290 å•è¯æ˜ å°„</h2><p>ç»™å®šä¸€ç§è§„å¾‹ <code>pattern</code> å’Œä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ï¼Œåˆ¤æ–­ <code>s</code> æ˜¯å¦éµå¾ªç›¸åŒçš„è§„å¾‹ã€‚</p><p>è¿™é‡Œçš„ <strong>éµå¾ª</strong> æŒ‡å®Œå…¨åŒ¹é…ï¼Œä¾‹å¦‚ï¼Œ <code>pattern</code> é‡Œçš„æ¯ä¸ªå­—æ¯å’Œå­—ç¬¦ä¸² <code>s</code> ä¸­çš„æ¯ä¸ªéç©ºå•è¯ä¹‹é—´å­˜åœ¨ç€åŒå‘è¿æ¥çš„å¯¹åº”è§„å¾‹ã€‚</p><p><strong>ç¤ºä¾‹1:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">è¾“å…¥: <span class="hljs-keyword">pattern</span> <span class="hljs-operator">=</span> &quot;abba&quot;, s <span class="hljs-operator">=</span> &quot;dog cat cat dog&quot;<br>è¾“å‡º: <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs elixir">è¾“å…¥<span class="hljs-symbol">:pattern</span> = <span class="hljs-string">&quot;abba&quot;</span>, s = <span class="hljs-string">&quot;dog cat cat fish&quot;</span><br>è¾“å‡º: <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p><strong>ç¤ºä¾‹ 3:</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">è¾“å…¥: <span class="hljs-keyword">pattern</span> <span class="hljs-operator">=</span> &quot;aaaa&quot;, s <span class="hljs-operator">=</span> &quot;dog cat cat dog&quot;<br>è¾“å‡º: <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><p> ä»£ç è§£æ³•</p><p>æ€è·¯ï¼š</p><ul><li><p>å¦‚ä½•è·å¾—å­å­—ç¬¦ä¸²ä½œä¸ºå•è¯ï¼Ÿ</p><ul><li><p>ä½¿ç”¨substr()</p></li><li><p>ä½¿ç”¨åŒæŒ‡é’ˆ</p></li><li><p><code>substr</code> æ˜¯ C++ ä¸­ <code>std::string</code> ç±»çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œç”¨äºä»å­—ç¬¦ä¸²ä¸­æå–å­å­—ç¬¦ä¸²ã€‚å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼š</p><ol><li><strong>èµ·å§‹ä½ç½®ï¼ˆposï¼‰</strong>ï¼šè¦æå–çš„å­å­—ç¬¦ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚</li><li><strong>é•¿åº¦ï¼ˆlenï¼‰</strong>ï¼šè¦æå–çš„å­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå¯é€‰ï¼‰ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™æå–åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚</li></ol><p>è¯­æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">std::string <span class="hljs-title">substr</span><span class="hljs-params">(<span class="hljs-type">size_t</span> pos = <span class="hljs-number">0</span>, <span class="hljs-type">size_t</span> len = npos)</span> <span class="hljs-type">const</span></span>;<br></code></pre></td></tr></table></figure><ul><li><code>pos</code>ï¼šå¼€å§‹æå–çš„ä½ç½®ã€‚</li><li><code>len</code>ï¼šè¦æå–çš„å­—ç¬¦æ•°ã€‚</li><li><code>npos</code>ï¼šä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œè¡¨ç¤ºç›´åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚</li></ul><p>ç¤ºä¾‹</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::string text = <span class="hljs-string">&quot;Hello, World!&quot;</span>;<br>    <br>    <span class="hljs-comment">// æå–ä»ä½ç½® 7 å¼€å§‹çš„å­å­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸º 5</span><br>    std::string sub1 = text.<span class="hljs-built_in">substr</span>(<span class="hljs-number">7</span>, <span class="hljs-number">5</span>);<br>    std::cout &lt;&lt; sub1 &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º &quot;World&quot;</span><br>    <br>    <span class="hljs-comment">// æå–ä»ä½ç½® 7 å¼€å§‹çš„å­å­—ç¬¦ä¸²ï¼Œç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾</span><br>    std::string sub2 = text.<span class="hljs-built_in">substr</span>(<span class="hljs-number">7</span>);<br>    std::cout &lt;&lt; sub2 &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º &quot;World!&quot;</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹</p><ul><li>å¦‚æœ <code>pos</code> è¶…å‡ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œä¼šæŠ›å‡º <code>std::out_of_range</code> å¼‚å¸¸ã€‚</li><li>å¦‚æœ <code>len</code> è¶…å‡ºå¯ç”¨é•¿åº¦ï¼Œåˆ™æå–åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚</li></ul><p><code>substr</code> æ˜¯å¤„ç†å­—ç¬¦ä¸²æ—¶éå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦æå–ç‰¹å®šéƒ¨åˆ†çš„åœºæ™¯ä¸­ã€‚</p></li></ul></li><li><p>å¦‚ä½•æ„å»ºä¸€ä¸€æ˜ å°„çš„å…³ç³»</p><ul><li>ä½¿ç”¨ä¸¤ä¸ªunordered_map</li></ul></li><li><p>å¦‚ä½•å¤„ç†ä¸¤ä¸ªæ•°é‡ä¸ç›¸ç­‰çš„æƒ…å†µ</p><ul><li>ä½¿ç”¨è®¡æ•°å™¨</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">wordPattern</span><span class="hljs-params">(string pattern, string str)</span> </span>&#123;<br>        unordered_map&lt;string, <span class="hljs-type">char</span>&gt; str2ch;<br>        unordered_map&lt;<span class="hljs-type">char</span>, string&gt; ch2str;<br>        <span class="hljs-type">int</span> m = str.<span class="hljs-built_in">length</span>();<br>        <span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> ch : pattern) &#123;<br>            <span class="hljs-keyword">if</span> (i &gt;= m) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                <span class="hljs-comment">//å¦‚æœ i è¶…è¿‡æˆ–ç­‰äº str çš„é•¿åº¦ï¼Œè¯´æ˜ str ä¸­çš„å•è¯æ•°é‡ä¸è¶³ä»¥åŒ¹é… patternï¼Œè¿”å› false(æ­¤æ—¶chè¿˜åœ¨éå†Patternï¼Œä½†æ˜¯iå·²ç»è¶…è¿‡strçš„é•¿åº¦äº†ï¼Œè¯´æ˜strä¸å¤Ÿé•¿)</span><br>            &#125;<br>            <span class="hljs-type">int</span> j = i;<br>            <span class="hljs-comment">//ç»å…¸çš„åŒæŒ‡é’ˆè§£æ³•ï¼Œæˆªå–ä¸€ä¸ªå­å­—ç¬¦ä¸²</span><br>            <span class="hljs-keyword">while</span> (j &lt; m &amp;&amp; str[j] != <span class="hljs-string">&#x27; &#x27;</span>) j++;<br>            <span class="hljs-comment">//æˆªå–ä¸€ä¸ªå•è¯</span><br>            <span class="hljs-type">const</span> string &amp;tmp = str.<span class="hljs-built_in">substr</span>(i, j - i);<br>            <span class="hljs-comment">//æ­¤å¤„å·²ç»è·³å‡ºå¾ªç¯ï¼Œæ•…åŒ…å«äº†&#x27; &#x27;çš„æƒ…å†µï¼Œå•è¯é•¿åº¦å°±æ˜¯j-i</span><br>            <span class="hljs-keyword">if</span> (str2ch.<span class="hljs-built_in">count</span>(tmp) &amp;&amp; str2ch[tmp] != ch) &#123;<br>                <span class="hljs-comment">//å¦‚æœmapæ˜ å°„ä¸­å·²ç»æœ‰äº†è¿™ä¸ªå•è¯çš„æ˜ å°„ï¼Œå¹¶ä¸”è¿™ä¸ªå•è¯çš„æ˜ å°„å¹¶ä¸ç­‰äºç°åœ¨éå†å¾—åˆ°çš„ch</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (ch2str.<span class="hljs-built_in">count</span>(ch) &amp;&amp; ch2str[ch] != tmp) &#123;<br>                <span class="hljs-comment">//åè¿‡æ¥ï¼Œå¦‚æœmapæ˜ å°„å·²ç»æœ‰äº†å­—ç¬¦çš„æ˜ å°„å¹¶ä¸”è¿™ä¸ªå­—ç¬¦çš„æ˜ å°„å¹¶ä¸ç­‰äºç°åœ¨å¾—åˆ°çš„å•è¯</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>            <span class="hljs-comment">//ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºfalseï¼Œæ•…åœ¨ä¸¤ä¸ªæ˜ å°„ä¸­å¡«å……è¿›æ–°çš„å€¼ã€‚</span><br>            str2ch[tmp] = ch;<br>            ch2str[ch] = tmp;<br>            i = j + <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">//æ›´æ–°åŒæŒ‡é’ˆijçš„ä½ç½®</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> i &gt;= m;<br>        <span class="hljs-comment">//å¦‚æœi&lt;m,è¯´æ˜è¿˜æœ‰å•è¯æœªè¢«è¾“å‡ºï¼Œè¯´æ˜Patternä¸å¤Ÿé•¿ï¼Œè¾“å‡ºfalse</span><br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="3-Leetcode-350-ä¸¤æ•°ç»„äº¤é›†"><a href="#3-Leetcode-350-ä¸¤æ•°ç»„äº¤é›†" class="headerlink" title="3. Leetcode 350 ä¸¤æ•°ç»„äº¤é›†"></a>3. Leetcode 350 ä¸¤æ•°ç»„äº¤é›†</h2><p>ç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code> ï¼Œè¯·ä½ ä»¥æ•°ç»„å½¢å¼è¿”å›ä¸¤æ•°ç»„çš„äº¤é›†ã€‚è¿”å›ç»“æœä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œåº”ä¸å…ƒç´ åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­éƒ½å‡ºç°çš„æ¬¡æ•°ä¸€è‡´ï¼ˆå¦‚æœå‡ºç°æ¬¡æ•°ä¸ä¸€è‡´ï¼Œåˆ™è€ƒè™‘å–è¾ƒå°å€¼ï¼‰ã€‚å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚</p><h3 id="è§£æ³•1-æœ€åŸºæœ¬çš„æ€è·¯"><a href="#è§£æ³•1-æœ€åŸºæœ¬çš„æ€è·¯" class="headerlink" title="è§£æ³•1   æœ€åŸºæœ¬çš„æ€è·¯"></a>è§£æ³•1   æœ€åŸºæœ¬çš„æ€è·¯</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">intersect</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-type">int</span> list1[<span class="hljs-number">1001</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>        <span class="hljs-type">int</span> list2[<span class="hljs-number">1001</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>        vector&lt;<span class="hljs-type">int</span>&gt; succedd;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num1:nums1)&#123;<br>            list1[num1]++;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> num2:nums2)&#123;<br>            list2[num2]++;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1001</span>;i++)&#123;<br>            <span class="hljs-keyword">if</span>(list1[i]&amp;&amp;list2[i])&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-built_in">min</span>(list1[i],list2[i]);j++)&#123;<br>                    succedd.<span class="hljs-built_in">push_back</span>(i);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> succedd;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•2-ä¼˜åŒ–ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å€¼"><a href="#è§£æ³•2-ä¼˜åŒ–ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å€¼" class="headerlink" title="è§£æ³•2 ä¼˜åŒ–ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å€¼"></a>è§£æ³•2 ä¼˜åŒ–ï¼šä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨å€¼</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">intersect</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>() &gt; nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>()) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">intersect</span>(nums2, nums1);<br>        &#125;<br>        <span class="hljs-comment">//ä¸ºäº†å‡å°‘ç©ºé—´å¤æ‚åº¦ï¼Œä¼˜å…ˆéå†å…ƒç´ æ•°è¾ƒå°‘çš„æ•°ç»„</span><br>        unordered_map &lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; m;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums1) &#123;<br>            ++m[num];<br>        &#125;<br>        <span class="hljs-comment">//éå†nums1</span><br>        vector&lt;<span class="hljs-type">int</span>&gt; intersection;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> num : nums2) &#123;<br>            <span class="hljs-keyword">if</span> (m.<span class="hljs-built_in">count</span>(num)) &#123;<br>                intersection.<span class="hljs-built_in">push_back</span>(num);<br>                <span class="hljs-comment">//å¦‚æœå‡ºç°ï¼Œåˆ™æ’å…¥åˆ°ç›®æ ‡åºåˆ—ä¸­</span><br>                --m[num];<br>                <span class="hljs-comment">//ç›¸å½“äºç”¨æ‰äº†num1ä¸­çš„ä¸€ä¸ªæ•°ï¼Œæ•…è¦å‡1</span><br>                <span class="hljs-keyword">if</span> (m[num] == <span class="hljs-number">0</span>) &#123;<br>                    m.<span class="hljs-built_in">erase</span>(num);<br>                &#125;<br>                <span class="hljs-comment">//è¸¢å‡ºnumå‡ºsï¼Œä»£è¡¨nums1ä¸­å¯¹åº”çš„æ•°å·²ç»è¢«ç”¨å®Œäº†</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> intersection;<br>    &#125;<br>&#125;;<br><br><br></code></pre></td></tr></table></figure><h3 id="è§£æ³•3-æ’åº-åŒæŒ‡é’ˆéå†"><a href="#è§£æ³•3-æ’åº-åŒæŒ‡é’ˆéå†" class="headerlink" title="è§£æ³•3  æ’åº+åŒæŒ‡é’ˆéå†"></a>è§£æ³•3  æ’åº+åŒæŒ‡é’ˆéå†</h3><p><strong>å¯¹äºæ•°ç»„é—®é¢˜ï¼Œå¯ä»¥å…ˆè¿›è¡Œæ’åºå†è¿›è¡Œæ“ä½œï¼</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">intersect</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums1, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums2)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(nums<span class="hljs-number">1.</span><span class="hljs-built_in">begin</span>(), nums<span class="hljs-number">1.</span><span class="hljs-built_in">end</span>());<br>        <span class="hljs-built_in">sort</span>(nums<span class="hljs-number">2.</span><span class="hljs-built_in">begin</span>(), nums<span class="hljs-number">2.</span><span class="hljs-built_in">end</span>());<br>        <span class="hljs-type">int</span> length1 = nums<span class="hljs-number">1.</span><span class="hljs-built_in">size</span>(), length2 = nums<span class="hljs-number">2.</span><span class="hljs-built_in">size</span>();<br>        vector&lt;<span class="hljs-type">int</span>&gt; intersection;<br>        <span class="hljs-type">int</span> index1 = <span class="hljs-number">0</span>, index2 = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (index1 &lt; length1 &amp;&amp; index2 &lt; length2) &#123;<br>            <span class="hljs-keyword">if</span> (nums1[index1] &lt; nums2[index2]) &#123;<br>                index1++;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums1[index1] &gt; nums2[index2]) &#123;<br>                index2++;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-comment">//nums1[]==nums2[]</span><br>                <span class="hljs-comment">//åŒæ—¶å‘å‰å‰è¿›ä¸€ä½</span><br>                intersection.<span class="hljs-built_in">push_back</span>(nums1[index1]);<br>                index1++;<br>                index2++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> intersection;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="4-Leetcode-438-å­—ç¬¦ä¸²çš„å­—æ¯å¼‚ä½è¯"><a href="#4-Leetcode-438-å­—ç¬¦ä¸²çš„å­—æ¯å¼‚ä½è¯" class="headerlink" title="4. Leetcode 438 å­—ç¬¦ä¸²çš„å­—æ¯å¼‚ä½è¯"></a>4. Leetcode 438 å­—ç¬¦ä¸²çš„å­—æ¯å¼‚ä½è¯</h2><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <code>s</code> å’Œ <code>p</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æ‰€æœ‰ <code>p</code> çš„ <strong>å¼‚ä½è¯</strong> çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs stylus">è¾“å…¥: s = <span class="hljs-string">&quot;cbaebabacd&quot;</span>, <span class="hljs-selector-tag">p</span> = <span class="hljs-string">&quot;abc&quot;</span><br>è¾“å‡º: <span class="hljs-selector-attr">[0,6]</span><br>è§£é‡Š:<br>èµ·å§‹ç´¢å¼•ç­‰äº <span class="hljs-number">0</span> çš„å­ä¸²æ˜¯ <span class="hljs-string">&quot;cba&quot;</span>, å®ƒæ˜¯ <span class="hljs-string">&quot;abc&quot;</span> çš„å¼‚ä½è¯ã€‚<br>èµ·å§‹ç´¢å¼•ç­‰äº <span class="hljs-number">6</span> çš„å­ä¸²æ˜¯ <span class="hljs-string">&quot;bac&quot;</span>, å®ƒæ˜¯ <span class="hljs-string">&quot;abc&quot;</span> çš„å¼‚ä½è¯ã€‚<br></code></pre></td></tr></table></figure><p> <strong>ç¤ºä¾‹ 2:</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">è¾“å…¥: s = <span class="hljs-string">&quot;abab&quot;</span>, <span class="hljs-selector-tag">p</span> = <span class="hljs-string">&quot;ab&quot;</span><br>è¾“å‡º: <span class="hljs-selector-attr">[0,1,2]</span><br>è§£é‡Š:<br>èµ·å§‹ç´¢å¼•ç­‰äº <span class="hljs-number">0</span> çš„å­ä¸²æ˜¯ <span class="hljs-string">&quot;ab&quot;</span>, å®ƒæ˜¯ <span class="hljs-string">&quot;ab&quot;</span> çš„å¼‚ä½è¯ã€‚<br>èµ·å§‹ç´¢å¼•ç­‰äº <span class="hljs-number">1</span> çš„å­ä¸²æ˜¯ <span class="hljs-string">&quot;ba&quot;</span>, å®ƒæ˜¯ <span class="hljs-string">&quot;ab&quot;</span> çš„å¼‚ä½è¯ã€‚<br>èµ·å§‹ç´¢å¼•ç­‰äº <span class="hljs-number">2</span> çš„å­ä¸²æ˜¯ <span class="hljs-string">&quot;ab&quot;</span>, å®ƒæ˜¯ <span class="hljs-string">&quot;ab&quot;</span> çš„å¼‚ä½è¯ã€‚<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•1-ä½¿ç”¨åŸºæœ¬æ€è·¯"><a href="#è§£æ³•1-ä½¿ç”¨åŸºæœ¬æ€è·¯" class="headerlink" title="è§£æ³•1 ä½¿ç”¨åŸºæœ¬æ€è·¯"></a>è§£æ³•1 ä½¿ç”¨åŸºæœ¬æ€è·¯</h3><p>ä»i&#x3D;0å¼€å§‹ï¼Œéå†sæ•°ç»„ï¼Œåˆ‡å‰²å¾—åˆ°å­ä¸²ï¼Œç„¶ååˆ¤å®šsçš„å­ä¸²å’Œpæ˜¯å¦ä¸ºå¼‚ä½ä¸²ã€‚</p><p><strong>æœ¬è´¨ä¸Šæ˜¯ä¼˜åŒ–çš„æ»‘åŠ¨çª—å£</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findAnagrams</span><span class="hljs-params">(string s, string p)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">if</span> (s.<span class="hljs-built_in">length</span>() &lt; p.<span class="hljs-built_in">length</span>()) &#123;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i + p.<span class="hljs-built_in">length</span>() - <span class="hljs-number">1</span> &lt; s.<span class="hljs-built_in">length</span>(); i++) &#123;<br>                string s2 = s.<span class="hljs-built_in">substr</span>(i, p.<span class="hljs-built_in">length</span>());<br>                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">judgeyiwei</span>(s2, p)) &#123;<br>                    ans.<span class="hljs-built_in">push_back</span>(i);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">judgeyiwei</span><span class="hljs-params">(string s1, string s2)</span> </span>&#123;<br>        <span class="hljs-type">int</span> numlist[<span class="hljs-number">26</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; s<span class="hljs-number">1.l</span>ength(); i++) &#123;<br>            numlist[s1[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>            numlist[s2[i] - <span class="hljs-string">&#x27;a&#x27;</span>]--;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) &#123;<br>            <span class="hljs-keyword">if</span> (numlist[i]) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•2-ä¸å®šé•¿æ»‘åŠ¨çª—å£ä¼˜åŒ–"><a href="#è§£æ³•2-ä¸å®šé•¿æ»‘åŠ¨çª—å£ä¼˜åŒ–" class="headerlink" title="è§£æ³•2 ä¸å®šé•¿æ»‘åŠ¨çª—å£ä¼˜åŒ–"></a>è§£æ³•2 ä¸å®šé•¿æ»‘åŠ¨çª—å£ä¼˜åŒ–</h3><p>åŸºæœ¬åŸç†ï¼šæšä¸¾å­ä¸² s â€²çš„å³ç«¯ç‚¹ï¼Œå¦‚æœå‘ç° s â€²å…¶ä¸­ä¸€ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°å¤§äº p çš„è¿™ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°ï¼Œåˆ™å³ç§» s â€²çš„å·¦ç«¯ç‚¹ã€‚å¦‚æœå‘ç° s â€²çš„é•¿åº¦ç­‰äº p çš„é•¿åº¦ï¼Œåˆ™è¯´æ˜ s â€²çš„æ¯ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°ï¼Œå’Œ p çš„æ¯ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°éƒ½ç›¸åŒï¼Œé‚£ä¹ˆ s â€²æ˜¯ p çš„å¼‚ä½è¯ã€‚</p><p><strong>æœ‰ç‚¹ç±»ä¼¼äºåŒæŒ‡é’ˆ</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findAnagrams</span><span class="hljs-params">(string s, string p)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-type">int</span> cnt[<span class="hljs-number">26</span>]&#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// ç»Ÿè®¡ p çš„æ¯ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">char</span> c : p) &#123;<br>            cnt[c - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>        &#125;<br>        <span class="hljs-comment">//æ¥ä¸‹æ¥å¯¹så­—ç¬¦ä¸²è¿›è¡Œéå†æ“ä½œ(éå†å³ç«¯ç‚¹ä½œä¸ºå¤–å±‚å¾ªç¯ï¼Œåœ¨å†…éƒ¨ç”¨whileå¾ªç¯æ§åˆ¶å·¦ç«¯ç‚¹)</span><br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> right = <span class="hljs-number">0</span>; right &lt; s.<span class="hljs-built_in">size</span>(); right++) &#123;<br>            <span class="hljs-type">int</span> c = s[right] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>            cnt[c]--; <span class="hljs-comment">// å³ç«¯ç‚¹å­—æ¯è¿›å…¥çª—å£ï¼Œç›¸å½“äºæŠŠpä¸­å‡æ‰ä¸€ä¸ªå¯¹åº”çš„å­—ç¬¦</span><br>            <span class="hljs-keyword">while</span> (cnt[c] &lt; <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// cå¯¹åº”çš„å­—ç¬¦(ASCII)å¤ªå¤šäº†</span><br>                cnt[s[left] - <span class="hljs-string">&#x27;a&#x27;</span>]++; <span class="hljs-comment">// å·¦ç«¯ç‚¹å­—æ¯ç¦»å¼€çª—å£</span><br>                left++; <br>            &#125;<br>            <span class="hljs-keyword">if</span> (right - left + <span class="hljs-number">1</span> == p.<span class="hljs-built_in">length</span>()) &#123; <span class="hljs-comment">// s&#x27; å’Œ p çš„æ¯ç§å­—æ¯çš„å‡ºç°æ¬¡æ•°éƒ½ç›¸åŒ</span><br>                ans.<span class="hljs-built_in">push_back</span>(left); <span class="hljs-comment">// s&#x27; å·¦ç«¯ç‚¹ä¸‹æ ‡åŠ å…¥ç­”æ¡ˆ</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h2 id="5-Leetcode-443-å­—ç¬¦ä¸²å‹ç¼©é—®é¢˜"><a href="#5-Leetcode-443-å­—ç¬¦ä¸²å‹ç¼©é—®é¢˜" class="headerlink" title="5.Leetcode 443 å­—ç¬¦ä¸²å‹ç¼©é—®é¢˜"></a>5.Leetcode 443 å­—ç¬¦ä¸²å‹ç¼©é—®é¢˜</h2><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦æ•°ç»„ <code>chars</code> ï¼Œè¯·ä½¿ç”¨ä¸‹è¿°ç®—æ³•å‹ç¼©ï¼š</p><p>ä»ä¸€ä¸ªç©ºå­—ç¬¦ä¸² <code>s</code> å¼€å§‹ã€‚å¯¹äº <code>chars</code> ä¸­çš„æ¯ç»„ <strong>è¿ç»­é‡å¤å­—ç¬¦</strong> ï¼š</p><ul><li>å¦‚æœè¿™ä¸€ç»„é•¿åº¦ä¸º <code>1</code> ï¼Œåˆ™å°†å­—ç¬¦è¿½åŠ åˆ° <code>s</code> ä¸­ã€‚</li><li>å¦åˆ™ï¼Œéœ€è¦å‘ <code>s</code> è¿½åŠ å­—ç¬¦ï¼Œåè·Ÿè¿™ä¸€ç»„çš„é•¿åº¦ã€‚</li></ul><p>å‹ç¼©åå¾—åˆ°çš„å­—ç¬¦ä¸² <code>s</code> <strong>ä¸åº”è¯¥ç›´æ¥è¿”å›</strong> ï¼Œéœ€è¦è½¬å‚¨åˆ°å­—ç¬¦æ•°ç»„ <code>chars</code> ä¸­ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç»„é•¿åº¦ä¸º <code>10</code> æˆ– <code>10</code> ä»¥ä¸Šï¼Œåˆ™åœ¨ <code>chars</code> æ•°ç»„ä¸­ä¼šè¢«æ‹†åˆ†ä¸ºå¤šä¸ªå­—ç¬¦ã€‚</p><p>è¯·åœ¨ <strong>ä¿®æ”¹å®Œè¾“å…¥æ•°ç»„å</strong> ï¼Œè¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚</p><p>ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°ä¸€ä¸ªåªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p><p><strong>å¿…é¡»åœ¨åŸæ¥çš„æ•°ç»„ä¸Šè¿›è¡Œä¿®æ”¹ï¼</strong></p><h3 id="è§£æ³•ï¼šåŒæŒ‡é’ˆ"><a href="#è§£æ³•ï¼šåŒæŒ‡é’ˆ" class="headerlink" title="è§£æ³•ï¼šåŒæŒ‡é’ˆ"></a>è§£æ³•ï¼šåŒæŒ‡é’ˆ</h3><p>ä¸ºäº†å®ç°åŸåœ°å‹ç¼©ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆåˆ†åˆ«æ ‡å¿—æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­è¯»å’Œå†™çš„ä½ç½®ã€‚æ¯æ¬¡å½“è¯»æŒ‡é’ˆ read ç§»åŠ¨åˆ°æŸä¸€æ®µè¿ç»­ç›¸åŒå­ä¸²çš„æœ€å³ä¾§ï¼Œæˆ‘ä»¬å°±åœ¨å†™æŒ‡é’ˆ write å¤„ä¾æ¬¡å†™å…¥è¯¥å­ä¸²å¯¹åº”çš„å­—ç¬¦å’Œå­ä¸²é•¿åº¦å³å¯ã€‚</p><p>åœ¨å®é™…ä»£ç ä¸­ï¼Œå½“è¯»æŒ‡é’ˆ read ä½äºå­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œæˆ–è¯»æŒ‡é’ˆ read æŒ‡å‘çš„å­—ç¬¦ä¸åŒäºä¸‹ä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬å°±è®¤ä¸º<strong>è¯»æŒ‡é’ˆ read ä½äºæŸä¸€æ®µè¿ç»­ç›¸åŒå­ä¸²çš„æœ€å³ä¾§</strong>ã€‚è¯¥å­ä¸²å¯¹åº”çš„å­—ç¬¦å³ä¸ºè¯»æŒ‡é’ˆ read æŒ‡å‘çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬ä½¿ç”¨å˜é‡ left è®°å½•è¯¥å­ä¸²çš„æœ€å·¦ä¾§çš„ä½ç½®ï¼Œè¿™æ ·å­ä¸²é•¿åº¦å³ä¸º readâˆ’left+1ã€‚</p><p>ç‰¹åˆ«åœ°ï¼Œä¸ºäº†è¾¾åˆ° O(1) ç©ºé—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬éœ€è¦è‡ªè¡Œå®ç°å°†æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å†™å…¥åˆ°åŸå­—ç¬¦ä¸²çš„åŠŸèƒ½ã€‚è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨çŸ­é™¤æ³•å°†å­ä¸²é•¿åº¦å€’åºå†™å…¥åŸå­—ç¬¦ä¸²ä¸­ï¼Œç„¶åå†å°†å…¶åè½¬å³å¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">compress</span><span class="hljs-params">(vector&lt;<span class="hljs-type">char</span>&gt;&amp; chars)</span> </span>&#123;<br>        <span class="hljs-type">int</span> n = chars.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> write = <span class="hljs-number">0</span>, left = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> read = <span class="hljs-number">0</span>; read &lt; n; read++) &#123;<br>            <span class="hljs-keyword">if</span> (read == n - <span class="hljs-number">1</span> || chars[read] != chars[read + <span class="hljs-number">1</span>]) &#123;<br>                <span class="hljs-comment">//ç”±äºå†™çš„é€Ÿåº¦è‚¯å®šæ²¡æœ‰è¯»çš„å¿«ï¼Œæ•…ä¸ç”¨æ‹…å¿ƒwriteä¼šè¦†ç›–æœªè¢«è¯»å–çš„åˆå§‹å€¼</span><br>                chars[write++] = chars[read];<br>                <span class="hljs-type">int</span> num = read - left + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span> (num &gt; <span class="hljs-number">1</span>) &#123;<br>                    <span class="hljs-type">int</span> anchor = write;<br>                    <span class="hljs-keyword">while</span> (num &gt; <span class="hljs-number">0</span>) &#123;<br>                        chars[write++] = num % <span class="hljs-number">10</span> + <span class="hljs-string">&#x27;0&#x27;</span>;<br>                        num /= <span class="hljs-number">10</span>;<br>                    &#125;<br>                    <span class="hljs-built_in">reverse</span>(&amp;chars[anchor], &amp;chars[write]);<br>                    <span class="hljs-comment">//å®ç°è¾“å…¥ä¸€ä¸ªæ•°å­—å€’åºæ’å…¥charæ•°ç»„ä¸­ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨stringstreamï¼‰</span><br>                &#125;<br>                left = read + <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">//åé¢è¿˜ä¼šæ‰§è¡Œread++ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ›´æ–°readå’Œleftçš„ä½ç½®ä½¿å…¶å¯¹é½</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> write;<br>    &#125;<br>&#125;;<br><br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>Leetcode notes</tag>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Leetcode-Mistake-Collection-1-10</title>
    <link href="/posts/Leetcode-Mistake-collection-1-10/"/>
    <url>/posts/Leetcode-Mistake-collection-1-10/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Mistake-collection-1-10"><a href="#Leetcode-Mistake-collection-1-10" class="headerlink" title="Leetcode-Mistake-collection-1-10"></a>Leetcode-Mistake-collection-1-10</h1><h1 id="ç¨‹è®¾é”™é¢˜æ€»ç»“-1-5"><a href="#ç¨‹è®¾é”™é¢˜æ€»ç»“-1-5" class="headerlink" title="ç¨‹è®¾é”™é¢˜æ€»ç»“ 1~5"></a>ç¨‹è®¾é”™é¢˜æ€»ç»“ 1~5</h1><p>ã€å®Œæˆæ—¶é—´ï¼š2024-10-15ã€‘</p><p>ã€è¡¥æ¡£æ—¶é—´ï¼š2024-12-9ã€‘</p><h2 id="1-Leetcode202-Happynumber"><a href="#1-Leetcode202-Happynumber" class="headerlink" title="1.Leetcode202 Happynumber"></a>1.Leetcode202 Happynumber</h2><p><a href="https://leetcode.cn/problems/happy-number/description/">åŸé¢˜é“¾æ¥</a></p><hr><p>ç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ä¸€ä¸ªæ•° <code>n</code> æ˜¯ä¸æ˜¯å¿«ä¹æ•°ã€‚</p><p><strong>ã€Œå¿«ä¹æ•°ã€</strong> å®šä¹‰ä¸ºï¼š</p><ul><li>å¯¹äºä¸€ä¸ªæ­£æ•´æ•°ï¼Œæ¯ä¸€æ¬¡å°†è¯¥æ•°æ›¿æ¢ä¸ºå®ƒæ¯ä¸ªä½ç½®ä¸Šçš„æ•°å­—çš„å¹³æ–¹å’Œã€‚</li><li>ç„¶åé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°è¿™ä¸ªæ•°å˜ä¸º 1ï¼Œä¹Ÿå¯èƒ½æ˜¯ <strong>æ— é™å¾ªç¯</strong> ä½†å§‹ç»ˆå˜ä¸åˆ° 1ã€‚</li><li>å¦‚æœè¿™ä¸ªè¿‡ç¨‹ <strong>ç»“æœä¸º</strong> 1ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯å¿«ä¹æ•°ã€‚</li></ul><p>å¦‚æœ <code>n</code> æ˜¯ <em>å¿«ä¹æ•°</em> å°±è¿”å› <code>true</code> ï¼›ä¸æ˜¯ï¼Œåˆ™è¿”å› <code>false</code> ã€‚</p><p> <strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs tap">è¾“å…¥ï¼šn = 19<br>è¾“å‡ºï¼štrue<br>è§£é‡Šï¼š<br>12 +<span class="hljs-number"> 92 </span>= 82<br>82 +<span class="hljs-number"> 22 </span>= 68<br>62 +<span class="hljs-number"> 82 </span>= 100<br>12 +<span class="hljs-number"> 02 </span>+<span class="hljs-number"> 02 </span>= 1<br></code></pre></td></tr></table></figure><hr><h3 id="1-ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆè§£å†³å¾ªç¯é—®é¢˜"><a href="#1-ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆè§£å†³å¾ªç¯é—®é¢˜" class="headerlink" title="1.ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆè§£å†³å¾ªç¯é—®é¢˜"></a>1.ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆè§£å†³å¾ªç¯é—®é¢˜</h3><p>å½“å¿«æŒ‡é’ˆè¿½ä¸Šæ…¢æŒ‡é’ˆæ—¶ï¼Œä»£è¡¨å®Œæˆäº†ä¸€æ¬¡å¾ªç¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">happynumber</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>        <span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(n!=<span class="hljs-number">0</span>)&#123;<br>            sum+=(n%<span class="hljs-number">10</span>)*(n%<span class="hljs-number">10</span>);<br>            n/=<span class="hljs-number">10</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> sum;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isHappy</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-type">int</span> i=n,j=n;<br>        <span class="hljs-keyword">do</span>&#123;<br>            i=<span class="hljs-built_in">happynumber</span>(i);<br>            j=<span class="hljs-built_in">happynumber</span>(j);<br>            j=<span class="hljs-built_in">happynumber</span>(j);<br>            <span class="hljs-keyword">if</span>(i==<span class="hljs-number">1</span>)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(i!=j);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="2-ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨"><a href="#2-ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨" class="headerlink" title="2.ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨"></a>2.ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨</h3><p>æ­¤å¤„ä½¿ç”¨å®¹å™¨ï¼šunordered_set</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">happynumber</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>        <span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(n!=<span class="hljs-number">0</span>)&#123;<br>            sum+=(n%<span class="hljs-number">10</span>)*(n%<span class="hljs-number">10</span>);<br>            n/=<span class="hljs-number">10</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> sum;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isHappy</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        unordered_set &lt;<span class="hljs-type">int</span>&gt; list;<br>        <span class="hljs-keyword">while</span>(n!=<span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">if</span>(list.<span class="hljs-built_in">find</span>(n)!=list.<span class="hljs-built_in">end</span>())&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                list.<span class="hljs-built_in">insert</span>(n);<br>            &#125;<br>            n=<span class="hljs-built_in">happynumber</span>(n);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="2-Acwing-817-æ•°ç»„å»é‡"><a href="#2-Acwing-817-æ•°ç»„å»é‡" class="headerlink" title="2.Acwing 817 æ•°ç»„å»é‡"></a>2.Acwing 817 æ•°ç»„å»é‡</h2><p><a href="https://www.acwing.com/problem/content/819/">åŸé¢˜é“¾æ¥</a></p><hr><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º nn çš„æ•°ç»„ aaï¼Œè¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_unique_count</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span></span>;  <span class="hljs-comment">// è¿”å›æ•°ç»„å‰nä¸ªæ•°ä¸­çš„ä¸åŒæ•°çš„ä¸ªæ•°</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° nnã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« nn ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°ç»„ aaã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæ•°ç»„ä¸­ä¸åŒæ•°çš„ä¸ªæ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>1â‰¤nâ‰¤10001â‰¤nâ‰¤1000,<br>1â‰¤aiâ‰¤10001â‰¤aiâ‰¤1000ã€‚</p><p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">4<br></code></pre></td></tr></table></figure><hr><h3 id="method1ï¼šä½¿ç”¨STL"><a href="#method1ï¼šä½¿ç”¨STL" class="headerlink" title="method1ï¼šä½¿ç”¨STL"></a>method1ï¼šä½¿ç”¨STL</h3><p><strong>uniqueå‡½æ•°</strong>ï¼š</p><p>uniqueæ˜¯C++è¯­è¨€ä¸­çš„STLå‡½æ•°ï¼ŒåŒ…å«äº<algorithm>å¤´æ–‡ä»¶ä¸­ã€‚ <strong>åŠŸèƒ½æ˜¯å°†æ•°ç»„ä¸­ç›¸é‚»çš„é‡å¤å…ƒç´ å»é™¤</strong>ã€‚ ç„¶è€Œå…¶æœ¬è´¨æ˜¯å°†é‡å¤çš„å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œæœ€åå†å°†è¿­ä»£å™¨æŒ‡å‘ç¬¬ä¸€ä¸ªé‡å¤å…ƒç´ çš„ä¸‹æ ‡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n, s[<span class="hljs-number">1010</span>];<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) cin &gt;&gt; s[i];<br>    <span class="hljs-built_in">sort</span>(s, s + n);<br>    cout &lt;&lt; <span class="hljs-built_in">unique</span>(s, s + n) - s;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="method2ï¼šåŸºæœ¬æ–¹æ³•"><a href="#method2ï¼šåŸºæœ¬æ–¹æ³•" class="headerlink" title="method2ï¼šåŸºæœ¬æ–¹æ³•"></a>method2ï¼šåŸºæœ¬æ–¹æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">int</span> b[<span class="hljs-number">1001</span>];<br><span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>;<br><span class="hljs-comment">/*ä¸¤ä¸ªæ•°ç»„çš„åŒºåˆ«ï¼š</span><br><span class="hljs-comment">a[]ä»£è¡¨è¾“å…¥çš„æ•°ç»„ï¼ˆå¾…å»é‡çš„æ•°ç»„ï¼‰</span><br><span class="hljs-comment">b[]æ•°ç»„æ˜¯ä¸€ä¸ªçŠ¶æ€æ•°ç»„ï¼Œå…¶ä¸‹æ ‡å¯¹åº”çš„å€¼å’Œa[]å¯¹åº”ï¼Œåˆå§‹å€¼å‡ä¸º0ï¼Œä¸€æ—¦å‡ºç°a[i],å³ä»£è¡¨ä¸‹æ ‡ä¸ºa[i]çš„b[]è¢«è®¿é—®è¿‡ï¼ŒçŠ¶æ€å€¼å˜ä¸º1ã€‚ï¼ˆä¸”åªæœ‰åˆæ¬¡è®¿é—®æ˜¯ç”Ÿæ•ˆçš„ï¼‰</span><br><span class="hljs-comment">*/</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get_unique_count</span><span class="hljs-params">(<span class="hljs-type">int</span> a[], <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b[a[i]]==<span class="hljs-number">0</span>)<br>        b[a[i]]=<span class="hljs-number">1</span>;<br>        sum++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br><span class="hljs-comment">//å‡½æ•°ä½œç”¨ï¼šç»Ÿè®¡æ•°ç»„ä¸­ä¸€å…±å‡ºç°äº†å¤šå°‘ä¸ç›¸åŒçš„æ•°ã€‚</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-type">int</span> n;<br>  cin&gt;&gt;n;<br>  <span class="hljs-type">int</span> a[n<span class="hljs-number">+1</span>];<br>  <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>  &#123;<br>      cin&gt;&gt;a[i];<br>  &#125;<br>  cout&lt;&lt;<span class="hljs-built_in">get_unique_count</span>(a,n);<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="3-ACwing-15-äºŒç»´æ•°ç»„çš„æŸ¥æ‰¾"><a href="#3-ACwing-15-äºŒç»´æ•°ç»„çš„æŸ¥æ‰¾" class="headerlink" title="3.ACwing 15 äºŒç»´æ•°ç»„çš„æŸ¥æ‰¾"></a>3.ACwing 15 äºŒç»´æ•°ç»„çš„æŸ¥æ‰¾</h2><p><a href="https://www.acwing.com/problem/content/16/">é¢˜ç›®é“¾æ¥</a></p><p>åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚</p><p>è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚</p><p><strong>æ•°æ®èŒƒå›´</strong></p><p>äºŒç»´æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°èŒƒå›´ [0,1000][0,1000]</p><p><strong>æ ·ä¾‹</strong></p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">è¾“å…¥æ•°ç»„ï¼š<br><span class="hljs-string"></span><br><span class="hljs-string">[</span><br><span class="hljs-string">  [1,2,8,9]</span>ï¼Œ<br><span class="hljs-string">  [2,4,9,12]</span>ï¼Œ<br><span class="hljs-string">  [4,7,10,13]</span>ï¼Œ<br><span class="hljs-string">  [6,8,11,15]</span><br>]<br><br>å¦‚æœè¾“å…¥æŸ¥æ‰¾æ•°å€¼ä¸º<span class="hljs-number">7</span>ï¼Œåˆ™è¿”å›<span class="hljs-literal">true</span>ï¼Œ<br><br>å¦‚æœè¾“å…¥æŸ¥æ‰¾æ•°å€¼ä¸º<span class="hljs-number">5</span>ï¼Œåˆ™è¿”å›<span class="hljs-literal">false</span>ã€‚<br></code></pre></td></tr></table></figure><p><img src="/posts/Leetcode-Mistake-collection-1-10/3.png" alt="Scanning"></p><p>æ€è·¯ï¼š</p><p>â€‹1.æš´åŠ›å¾ªç¯ï¼ˆä¸¤ä¸ªforå¾ªç¯åµŒå¥—ï¼‰</p><p>â€‹2.é€šè¿‡æ•°ç»„å¤§å°å…³ç³»çš„è§„å¾‹å®ç°<strong>é€æ­¥é€¼è¿‘</strong>çš„ç­–ç•¥</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">Find</span><span class="hljs-params">(<span class="hljs-type">int</span> target, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt; &gt; array)</span> </span>&#123;<br>        <span class="hljs-type">int</span> row=array.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> col=array[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> i=row<span class="hljs-number">-1</span>;<br>        <span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//å®šä¹‰æ‰«æçš„åˆå§‹ä½ç½®ï¼Œ(row-1,0),å³æ•°ç»„æ£‹ç›˜çš„å·¦ä¸‹è§’</span><br>        <span class="hljs-keyword">while</span>(i&gt;=<span class="hljs-number">0</span>&amp;&amp;j&lt;col)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(target==array[i][j])<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            <span class="hljs-comment">//å¾—åˆ°returnåå³å¯è·³å‡ºå¾ªç¯ï¼Œä»£è¡¨æŸ¥æ‰¾æˆåŠŸ</span><br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(target&lt;array[i][j])<br>                i--;<br>            <span class="hljs-comment">//åˆ å»æœ€ä¸‹é¢ä¸€è¡Œ(åˆ¤æ–­å¤§å°å…³ç³»)</span><br>            <span class="hljs-keyword">else</span><br>                j++;<br>            <span class="hljs-comment">//åˆ å»ç¬¬ä¸€åˆ—ï¼Œç§»åŠ¨åˆ°ç¬¬äºŒåˆ—(åˆ¤æ–­å¤§å°å…³ç³»)</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br></code></pre></td></tr></table></figure><h2 id="4-Acwing3801-æœ€ä½³è¿ç»­å­æ•°ç»„"><a href="#4-Acwing3801-æœ€ä½³è¿ç»­å­æ•°ç»„" class="headerlink" title="4.Acwing3801 æœ€ä½³è¿ç»­å­æ•°ç»„"></a>4.Acwing3801 æœ€ä½³è¿ç»­å­æ•°ç»„</h2><p><a href="https://www.acwing.com/problem/content/3804/">åŸé¢˜é“¾æ¥</a></p><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º nn çš„æ•°ç»„ a1,a2,â€¦,ana1,a2,â€¦,anã€‚</p><p>è¯·ä½ æ‰¾åˆ°å…¶ä¸­çš„æœ€ä½³<strong>è¿ç»­</strong>å­æ•°ç»„ã€‚</p><p>æœ€ä½³è¿ç»­å­æ•°ç»„éœ€æ»¡è¶³ï¼š</p><ol><li>å­æ•°ç»„å†…å„å…ƒç´ çš„ç®—æœ¯å¹³å‡æ•°ï¼ˆå³æ‰€æœ‰å…ƒç´ ä¹‹å’Œé™¤ä»¥å…ƒç´ ä¸ªæ•°ï¼‰å°½å¯èƒ½å¤§ã€‚</li><li>æ»¡è¶³æ¡ä»¶ 11 çš„å‰æä¸‹ï¼Œå­æ•°ç»„çš„é•¿åº¦å°½å¯èƒ½é•¿ã€‚</li></ol><p>è¾“å‡ºæœ€ä½³è¿ç»­å­æ•°ç»„çš„é•¿åº¦ã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° TTï¼Œè¡¨ç¤ºå…±æœ‰ TT ç»„æµ‹è¯•æ•°æ®ã€‚</p><p>æ¯ç»„æ•°æ®ï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nnã€‚</p><p>ç¬¬äºŒè¡ŒåŒ…å« nn ä¸ªæ•´æ•° a1,a2,â€¦,ana1,a2,â€¦,anã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œç»“æœï¼Œè¡¨ç¤ºæœ€ä½³è¿ç»­å­æ•°ç»„çš„é•¿åº¦ã€‚</p><h3 id="æœ€æš´åŠ›è§£æ³•ï¼šåˆ†åˆ«æšä¸¾é¦–é¡¹å’Œå°¾é¡¹-O-n-2"><a href="#æœ€æš´åŠ›è§£æ³•ï¼šåˆ†åˆ«æšä¸¾é¦–é¡¹å’Œå°¾é¡¹-O-n-2" class="headerlink" title="æœ€æš´åŠ›è§£æ³•ï¼šåˆ†åˆ«æšä¸¾é¦–é¡¹å’Œå°¾é¡¹ O(n^2)"></a>æœ€æš´åŠ›è§£æ³•ï¼šåˆ†åˆ«æšä¸¾é¦–é¡¹å’Œå°¾é¡¹ O(n^2)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">testbestarray</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n; cin&gt;&gt;n;<br>    <span class="hljs-type">int</span> numarray[n];<br>    <span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>,targetnumber=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">double</span> maxave=<span class="hljs-number">0</span>,ave;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;numarray[i];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=i;j&lt;n;j++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> k=i;k&lt;=j;k++)&#123;<br>                sum+=numarray[k];<br>            &#125;<br>            <span class="hljs-comment">//åœ¨å·²çŸ¥iï¼Œjçš„æƒ…å†µä¸‹ï¼Œéå†å¯¹å­æ•°ç»„æ±‚å’Œ</span><br>            ave=<span class="hljs-built_in">double</span>(sum)/(j-i<span class="hljs-number">+1</span>);<br>            <span class="hljs-keyword">if</span>(ave&gt;maxave)&#123;<br>                maxave=ave;<br>                targetnumber=(j-i<span class="hljs-number">+1</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(ave==maxave)&#123;<br>                <span class="hljs-keyword">if</span>((j-i<span class="hljs-number">+1</span>)&gt;targetnumber)&#123;<br>                    targetnumber=(j-i<span class="hljs-number">+1</span>);<br>                &#125;<br>            &#125;<br>            sum=<span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> targetnumber;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> T; cin&gt;&gt;T;<br>    <span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (count&lt;T)&#123;<br>        cout&lt;&lt;<span class="hljs-built_in">testbestarray</span>()&lt;&lt;endl;<br>        count++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•ä¼˜åŒ–ï¼š"><a href="#è§£æ³•ä¼˜åŒ–ï¼š" class="headerlink" title="è§£æ³•ä¼˜åŒ–ï¼š"></a>è§£æ³•ä¼˜åŒ–ï¼š</h3><p><strong>åˆ†æ²»çš„æ€æƒ³</strong>ï¼šå°†ä¸€ä¸ªå¤§é—®é¢˜æ‹†åˆ†æˆè‹¥å¹²ä¸ªå°é—®é¢˜å†åˆ†åˆ«è§£å†³ã€‚</p><p>å­é—®é¢˜1ï¼šæœ€å¤§å­æ•°åˆ—çš„å€¼</p><p>â€‹<em><strong>æœ€å¤§å­æ•°åˆ—çš„å€¼ä¸€å®šç­‰äºæ•°åˆ—ä¸­æœ€å¤§é¡¹çš„å€¼</strong></em></p><p>å­é—®é¢˜2ï¼šåœ¨å­æ•°åˆ—å¹³å‡å€¼æœ€å¤§çš„æƒ…å†µä¸‹ï¼Œæ‰¾åˆ°æœ€é•¿é•¿åº¦ï¼š</p><p>â€‹<em><strong>æ‰¾åˆ°æ•°åˆ—ä¸­æ˜¯å¦æœ‰è‹¥å¹²é¡¹è¿ç»­ï¼Œä¸”å€¼å‡ä¸ºæœ€å¤§å€¼ã€‚</strong></em></p><p>ä¼˜åŒ–ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">testbestarray</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n; cin&gt;&gt;n;<br>    <span class="hljs-type">int</span> numarray[n];<br>    <span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>,max=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<span class="hljs-type">int</span> countmax=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;numarray[i];<br>        max=(numarray[i]&gt;max?numarray[i]:max);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;)&#123;<br>        <span class="hljs-keyword">if</span>(i&lt;n&amp;&amp;numarray[i]==max)&#123;<br>            <span class="hljs-keyword">while</span>(i&lt;n&amp;&amp;numarray[i]==max)&#123;<br>            count++;<br>            i++;<br>            &#125;<br>            i++;<br>            countmax=(countmax&lt;count?count:countmax);<br>            count=<span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i&lt;n)&#123;<br>            i++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//è¿™ä¸€æ®µforå¾ªç¯æ˜¯ç­›æŸ¥çš„æ ¸å¿ƒï¼Œå¦‚æœæŸå…ƒç´ æ˜¯åˆ—è¡¨ä¸­æœ€å¤§å€¼ï¼Œåˆ™è¿›å…¥whileå¾ªç¯ç›´åˆ°ç¬¬ä¸€ä¸ªéæœ€å¤§å€¼å…ƒç´ çš„å‡ºç°ç»ˆæ­¢whileå¾ªç¯ï¼ŒåŒæ—¶ç»“æŸcount++ï¼Œå¹¶æœ€å¤§åŒ–countmaxã€‚åœ¨éå†å®Œä¸€æ•´ä¸ªæ•°ç»„åï¼Œå³å¯å¾—åˆ°æœ€å¤§å­åŒºé—´çš„é•¿åº¦ã€‚</span><br>    <span class="hljs-keyword">return</span> countmax;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> T; cin&gt;&gt;T;<br>    <span class="hljs-type">int</span> count=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (count&lt;T)&#123;<br>        cout&lt;&lt;<span class="hljs-built_in">testbestarray</span>()&lt;&lt;endl;<br>        count++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h3 id="è¿›ä¸€æ­¥ç®€åŒ–ï¼š"><a href="#è¿›ä¸€æ­¥ç®€åŒ–ï¼š" class="headerlink" title="è¿›ä¸€æ­¥ç®€åŒ–ï¼š"></a>è¿›ä¸€æ­¥ç®€åŒ–ï¼š</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">10e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> a[N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-type">int</span> n;<br>        cin &gt;&gt; n;<br><br>        <span class="hljs-type">int</span> m = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>        &#123;<br>            cin &gt;&gt; a[i];<br>            m = <span class="hljs-built_in">max</span>(m, a[i]);<span class="hljs-comment">//mä¿å­˜æœ€å¤§å€¼</span><br>        &#125;<br><br>        <span class="hljs-type">int</span> res = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n;i++)<span class="hljs-comment">//æ±‚é•¿åº¦</span><br>        &#123;<br>            <span class="hljs-type">int</span> t = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span>(i &lt; n &amp;&amp; a[i] == m)<br>            &#123;<br>                t++;<br>                i++;<br>            &#125;<br>            res = <span class="hljs-built_in">max</span>(res, t);<br>        &#125;<br>        <span class="hljs-comment">/*æ ¸å¿ƒwhileå¾ªç¯ï¼š</span><br><span class="hljs-comment">        æ­¤å¤„ä¸ç”¨å†æ·»åŠ ifè¯­å¥ï¼Œç›´æ¥ä½¿ç”¨å¤–éƒ¨çš„forå¾ªç¯å³å¯ã€‚</span><br><span class="hljs-comment">        */</span><br>        cout &lt;&lt; res &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="5-ACwing-862-ä¸‰å…ƒç»„æ’åº"><a href="#5-ACwing-862-ä¸‰å…ƒç»„æ’åº" class="headerlink" title="5.ACwing 862 ä¸‰å…ƒç»„æ’åº"></a>5.ACwing 862 ä¸‰å…ƒç»„æ’åº</h2><p><a href="https://www.acwing.com/problem/content/864/">åŸé¢˜é“¾æ¥</a></p><p>ç»™å®š N ä¸ªä¸‰å…ƒç»„(x,y,z)ï¼Œå…¶ä¸­ xx æ˜¯æ•´æ•°ï¼Œyy æ˜¯æµ®ç‚¹æ•°ï¼Œzz æ˜¯å­—ç¬¦ä¸²ã€‚</p><p>è¯·ä½ æŒ‰ç…§ x ä»å°åˆ°å¤§çš„é¡ºåºå°†è¿™äº›ä¸‰å…ƒç»„æ‰“å°å‡ºæ¥ã€‚</p><p>æ•°æ®ä¿è¯ä¸åŒä¸‰å…ƒç»„çš„ xx å€¼äº’ä¸ç›¸åŒã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nã€‚</p><p>æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° xï¼Œä¸€ä¸ªæµ®ç‚¹æ•° yï¼Œä¸€ä¸ªå­—ç¬¦ä¸² zï¼Œè¡¨ç¤ºä¸€ä¸ªä¸‰å…ƒç»„ï¼Œä¸‰è€…ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…± N è¡Œï¼ŒæŒ‰ç…§ x ä»å°åˆ°å¤§çš„é¡ºåºï¼Œæ¯è¡Œè¾“å‡ºä¸€ä¸ªä¸‰å…ƒç»„ã€‚</p><p>æ³¨æ„ï¼Œæ‰€æœ‰è¾“å…¥å’Œè¾“å‡ºçš„æµ®ç‚¹æ•° y å‡ä¿ç•™ä¸¤ä½å°æ•°ã€‚</p><h3 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h3><ul><li>æœ€åŸºæœ¬çš„æ’åºä½¿ç”¨æ’åºç®—æ³•ï¼ˆæ­¤å¤„ç”¨algorithmåº“ä¸­çš„sortï¼ˆï¼‰å‡½æ•°ï¼‰</li><li>å¦‚ä½•æ„å»ºä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Ÿ<ul><li>mapå®¹å™¨</li><li>pairï¼šå°†ä¸¤ç»„æ•°æ®æ•´åˆæˆä¸€ä¸ªæ•°æ®å¯¹<ul><li>ï¼ˆint,ï¼ˆdouble,stringï¼‰ï¼‰</li><li>å¯¹pairç±»å‹çš„intæ•°æ’åºï¼Œä¸€ä¸€å¯¹åº”çš„ï¼ˆdoubleï¼Œstringï¼‰æ»¡è¶³æ˜ å°„</li></ul></li></ul></li></ul><h3 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h3><h4 id="â‘ æœ€åŸºæœ¬çš„æ•°ç»„å®ç°"><a href="#â‘ æœ€åŸºæœ¬çš„æ•°ç»„å®ç°" class="headerlink" title="â‘ æœ€åŸºæœ¬çš„æ•°ç»„å®ç°"></a>â‘ æœ€åŸºæœ¬çš„æ•°ç»„å®ç°</h4><p>æ’åºç®—æ³•ï¼ˆBubblesortï¼‰+äº¤æ¢å‡½æ•°swapï¼ˆï¼‰ï¼ˆå†…ç½®åœ¨C++åº“ä¸­ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n; cin&gt;&gt;n;<br>    <span class="hljs-type">int</span> intlist[n];<br>    <span class="hljs-type">double</span> doublelist[n];<br>    string stringlist[n];<br>    <span class="hljs-comment">//å®šä¹‰ä¸‰ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å‚¨å­˜ä¸‰ç§ä¸åŒçš„æ•°æ®ç»“æ„ã€‚</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;intlist[i]&gt;&gt;doublelist[i]&gt;&gt;stringlist[i];<br>    &#125;<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=n;j&gt;<span class="hljs-number">1</span>;j--)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;j<span class="hljs-number">-1</span>;i++)&#123;<br>            <span class="hljs-keyword">if</span>(intlist[i]&gt;intlist[i<span class="hljs-number">+1</span>])&#123;<br>                <span class="hljs-built_in">swap</span>(intlist[i],intlist[i<span class="hljs-number">+1</span>]);<br>                <span class="hljs-built_in">swap</span>(doublelist[i],doublelist[i<span class="hljs-number">+1</span>]);<br>                <span class="hljs-built_in">swap</span>(stringlist[i],stringlist[i<span class="hljs-number">+1</span>]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//æ ¸å¿ƒç®—æ³•ï¼šå†’æ³¡æ’åº</span><br>    <span class="hljs-comment">//ä»ç¬¬ä¸€ä½å¼€å§‹é€é¡¹ä¸åä¸€ä½å†’æ³¡æ¯”è¾ƒç¡®å®šæ˜¯å¦äº¤æ¢ï¼Œç¬¬ä¸€è½®ä¸‹æ¥å°±ç¡®å®šæœ«å°¾é¡¹ä¸ºæœ€å¤§å€¼ã€‚</span><br>    <span class="hljs-comment">//ä¹‹åé€šè¿‡å¤–å±‚çš„forå¾ªç¯é€æ­¥ç¡®å®šç›´è‡³é¦–é¡¹</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %.2lf&quot;</span>,intlist[i],doublelist[i]);<br>        cout&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;stringlist[i]&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="â‘¡mapæ˜ å°„"><a href="#â‘¡mapæ˜ å°„" class="headerlink" title="â‘¡mapæ˜ å°„"></a>â‘¡mapæ˜ å°„</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;map&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">double</span>, string&gt; PII;<br>map&lt;<span class="hljs-type">int</span>, PII&gt; ans;<br><span class="hljs-comment">//å®šä¹‰äº†ä¸€ä¸ªä»intå‘PIIçš„æ˜ å°„ï¼Œå°±ä¸ç”¨ä½¿ç”¨ä¸¤æ¬¡pairäº†</span><br><span class="hljs-type">int</span> n;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> a;<br>    <span class="hljs-type">double</span> b;<br>    string c;<br>    cin &gt;&gt; n;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>        ans.<span class="hljs-built_in">insert</span>(&#123;a, &#123;b, c&#125;&#125;);<br>    &#125;<br><br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> iter = ans.<span class="hljs-built_in">begin</span>(); iter != ans.<span class="hljs-built_in">end</span>(); iter ++ )<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %.2f %s\n&quot;</span>, iter-&gt;x, iter-&gt;y.x, iter-&gt;y.y.<span class="hljs-built_in">c_str</span>());  <br>    <span class="hljs-comment">/*è¿™é‡Œ iteræ˜¯ä¸€ä¸ªè¿­ä»£å™¨</span><br><span class="hljs-comment">    iter-&gt;firstä»£è¡¨æŒ‡å‘mapç±»å‹çš„firstæˆå‘˜å‡½æ•°ï¼ˆå³è‡ªå˜é‡ï¼‰</span><br><span class="hljs-comment">    iter-&gt;secondä»£è¡¨æŒ‡å‘å› å˜é‡</span><br><span class="hljs-comment">    iter-&gt;second.firstä»£è¡¨æŒ‡å‘å› å˜é‡pairçš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">    iter-&gt;second.second               ç¬¬äºŒä¸ªå…ƒç´ </span><br><span class="hljs-comment">    c_str()è¿”å›ä¸€ä¸ªæŒ‡å‘å­—ç¬¦ä¸²çš„æŒ‡é’ˆ</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="â‘¢ä½¿ç”¨pairç±»å‹"><a href="#â‘¢ä½¿ç”¨pairç±»å‹" class="headerlink" title="â‘¢ä½¿ç”¨pairç±»å‹"></a>â‘¢ä½¿ç”¨pairç±»å‹</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> y second</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">typedef</span> pair&lt;<span class="hljs-type">int</span>, pair&lt;<span class="hljs-type">double</span>, string &gt;&gt; PII;<br><br>vector&lt;PII&gt; ans;<br><span class="hljs-type">int</span> n, a;<br><span class="hljs-type">double</span> b;<br>string s;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cin &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++ )<br>    &#123;<br>        cin &gt;&gt; a &gt;&gt; b &gt;&gt; s;<br>        ans.<span class="hljs-built_in">push_back</span>(&#123;a, &#123;b, s&#125;&#125;);<br>        <span class="hljs-comment">//vectorç±»å‹çš„push_backå‡½æ•°ï¼Œ&#123;a,&#123;b,s&#125;&#125;æ˜¯ä¸€ä¸ªPIIç±»å‹çš„æ•°æ®</span><br>    &#125;<br>    <span class="hljs-built_in">sort</span>(ans.<span class="hljs-built_in">begin</span>(), ans.<span class="hljs-built_in">end</span>());<br>    <span class="hljs-comment">//ä½¿ç”¨sort()å‡½æ•°å®ç°ansè¿™ä¸ªvectorçš„è‡ªåŠ¨æ’åº(é»˜è®¤å‡åº)</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> i: ans)<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %.2lf %s\n&quot;</span>,i.x, i.y.x, i.y.y.<span class="hljs-built_in">c_str</span>());   <br>    <span class="hljs-comment">//è‹¥iæ˜¯ä¸€ä¸ªpairç±»å‹ï¼Œåˆ™i.firstä»£è¡¨pairçš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè€Œi.secondä»£è¡¨pairçš„ç¬¬äºŒä¸ªå…ƒç´ ã€‚</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç¨‹è®¾é”™é¢˜-610-2024101520241020"><a href="#ç¨‹è®¾é”™é¢˜-610-2024101520241020" class="headerlink" title="ç¨‹è®¾é”™é¢˜ 610 2024101520241020"></a>ç¨‹è®¾é”™é¢˜ 6<del>10 20241015</del>20241020</h1><h2 id="1-ç»å…¸é—®é¢˜ï¼šæ‰¾è´¨æ•°"><a href="#1-ç»å…¸é—®é¢˜ï¼šæ‰¾è´¨æ•°" class="headerlink" title="1.ç»å…¸é—®é¢˜ï¼šæ‰¾è´¨æ•°"></a>1.ç»å…¸é—®é¢˜ï¼šæ‰¾è´¨æ•°</h2><h3 id="æ–¹æ³•1ï¼šåŸºæœ¬æšä¸¾æ³•-O-n-3-2"><a href="#æ–¹æ³•1ï¼šåŸºæœ¬æšä¸¾æ³•-O-n-3-2" class="headerlink" title="æ–¹æ³•1ï¼šåŸºæœ¬æšä¸¾æ³• O(n^3&#x2F;2)"></a>æ–¹æ³•1ï¼šåŸºæœ¬æšä¸¾æ³• O(n^3&#x2F;2)</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isprime</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">2</span>||n==<span class="hljs-number">3</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i*i&lt;=n;i++)&#123;<br>            <span class="hljs-keyword">if</span>(n%i==<span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countPrimes</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-type">int</span> sum=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i&lt;n;i++)&#123;<br>            sum+=<span class="hljs-built_in">isprime</span>(i);<br>        &#125;<br>        <span class="hljs-keyword">return</span> sum;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="æ–¹æ³•2ï¼šåŸƒæ°ç­›"><a href="#æ–¹æ³•2ï¼šåŸƒæ°ç­›" class="headerlink" title="æ–¹æ³•2ï¼šåŸƒæ°ç­›"></a>æ–¹æ³•2ï¼šåŸƒæ°ç­›</h3><p>â€‹æšä¸¾æ²¡æœ‰è€ƒè™‘åˆ°æ•°ä¸æ•°çš„å…³è”æ€§ï¼Œå› æ­¤éš¾ä»¥å†ç»§ç»­ä¼˜åŒ–æ—¶é—´å¤æ‚åº¦ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ä¸ªå¸¸è§çš„ç®—æ³•ï¼Œè¯¥ç®—æ³•ç”±å¸Œè…Šæ•°å­¦å®¶å„æ‹‰å¤šå¡ï¼ˆEratosthenesï¼‰æå‡ºï¼Œç§°ä¸ºå„æ‹‰å¤šå¡ç­›æ³•ï¼Œç®€ç§°åŸƒæ°ç­›ã€‚</p><p>â€‹æˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ä¸ªäº‹å®ï¼š<strong>å¦‚æœ x æ˜¯è´¨æ•°ï¼Œé‚£ä¹ˆå¤§äº x çš„ x çš„å€æ•° 2x,3x,â€¦ ä¸€å®šä¸æ˜¯è´¨æ•°</strong>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä»è¿™é‡Œå…¥æ‰‹ã€‚</p><p>â€‹æˆ‘ä»¬è®¾ isPrime[i] è¡¨ç¤ºæ•° i æ˜¯ä¸æ˜¯è´¨æ•°ï¼Œå¦‚æœæ˜¯è´¨æ•°åˆ™ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚ä»å°åˆ°å¤§éå†æ¯ä¸ªæ•°ï¼Œå¦‚æœè¿™ä¸ªæ•°ä¸ºè´¨æ•°ï¼Œåˆ™å°†å…¶æ‰€æœ‰çš„å€æ•°éƒ½æ ‡è®°ä¸ºåˆæ•°ï¼ˆé™¤äº†è¯¥è´¨æ•°æœ¬èº«ï¼‰ï¼Œå³ 0ï¼Œè¿™æ ·åœ¨è¿è¡Œç»“æŸçš„æ—¶å€™æˆ‘ä»¬å³èƒ½çŸ¥é“è´¨æ•°çš„ä¸ªæ•°ã€‚</p><p>â€‹è¿™ç§æ–¹æ³•çš„æ­£ç¡®æ€§æ˜¯æ¯”è¾ƒæ˜¾ç„¶çš„ï¼šè¿™ç§æ–¹æ³•æ˜¾ç„¶ä¸ä¼šå°†è´¨æ•°æ ‡è®°æˆåˆæ•°ï¼›å¦ä¸€æ–¹é¢ï¼Œå½“ä»å°åˆ°å¤§éå†åˆ°æ•° x æ—¶ï¼Œå€˜è‹¥å®ƒæ˜¯åˆæ•°ï¼Œåˆ™å®ƒä¸€å®šæ˜¯æŸä¸ªå°äº x çš„è´¨æ•° y çš„æ•´æ•°å€ï¼Œæ•…æ ¹æ®æ­¤æ–¹æ³•çš„æ­¥éª¤ï¼Œæˆ‘ä»¬åœ¨éå†åˆ° y æ—¶ï¼Œå°±ä¸€å®šä¼šåœ¨æ­¤æ—¶å°† x æ ‡è®°ä¸º isPrime[x]&#x3D;0ã€‚å› æ­¤ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿä¸ä¼šå°†åˆæ•°æ ‡è®°ä¸ºè´¨æ•°ã€‚</p><p>â€‹å½“ç„¶è¿™é‡Œè¿˜å¯ä»¥ç»§ç»­ä¼˜åŒ–ï¼Œå¯¹äºä¸€ä¸ªè´¨æ•° xï¼Œå¦‚æœæŒ‰ä¸Šæ–‡è¯´çš„æˆ‘ä»¬ä» 2x å¼€å§‹æ ‡è®°å…¶å®æ˜¯å†—ä½™çš„ï¼Œåº”è¯¥ç›´æ¥ä» xâ‹…x å¼€å§‹æ ‡è®°ï¼Œå› ä¸º 2x,3x,â€¦ è¿™äº›æ•°ä¸€å®šåœ¨ x ä¹‹å‰å°±è¢«å…¶ä»–æ•°çš„å€æ•°æ ‡è®°è¿‡äº†ï¼Œä¾‹å¦‚ 2 çš„æ‰€æœ‰å€æ•°ï¼Œ3 çš„æ‰€æœ‰å€æ•°ç­‰ã€‚</p><p><strong>è¿™ç§æ–¹æ³•ä¸ç”¨å†åˆ¤æ–­å•ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°ï¼Œå¯ä»¥å‡å°‘ç­›æŸ¥ä»1~nçš„æ¬¡æ•°</strong></p><p><strong>åŸƒæ°ç­›çš„ç­›æŸ¥æ–¹æ³•ï¼šä»ä¸€ä¸ªå·²çŸ¥çš„è´¨æ•°å¼€å§‹æ’é™¤æ— é™å¤šæ¯”ä»–å¤§çš„åˆæ•°</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countPrimes</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">isPrime</span><span class="hljs-params">(n, <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-comment">//åˆå§‹åŒ–</span><br>        <span class="hljs-type">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (isPrime[i]) &#123;<br>                <span class="hljs-comment">//åˆ™è¯¥æ•°ä¸ºè´¨æ•°</span><br>                ans += <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">//æ¥ä¸‹æ¥çš„æ“ä½œï¼šæ ‡å¿—å…¶å€æ•°ä¸ºåˆæ•°</span><br>                <span class="hljs-comment">//ä»n^2å¼€å§‹æ ‡è®°ï¼(å¯¹äºå€æ•°kn,k&lt;n,ä¸€å®šæœ‰æ•°kä¸ºè´¨æ•°ï¼Œåœ¨ä¹‹å‰è¢«æ ‡è®°è¿‡)</span><br>                <span class="hljs-keyword">if</span> ((<span class="hljs-type">long</span> <span class="hljs-type">long</span>)i * i &lt; n) &#123;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i * i; j &lt; n; j += i) &#123;<br>                        isPrime[j] = <span class="hljs-number">0</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="3-çº¿æ€§ç­›O-n"><a href="#3-çº¿æ€§ç­›O-n" class="headerlink" title="3.çº¿æ€§ç­›O(n)"></a>3.çº¿æ€§ç­›O(n)</h3><p><img src="/posts/Leetcode-Mistake-collection-1-10/1.png" alt="Linear Time Complexity"></p><p>x&#x3D;k*primes[i]ï¼Œåˆ™å¯¹äºæ•°x*primes[i+1]&#x3D;k*primes[i]*primes[i+1],å¯ä»¥åœ¨primes[i+1]éå†çš„æ—¶å€™å–åˆ°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">countPrimes</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; primes;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">isPrime</span><span class="hljs-params">(n, <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (isPrime[i]) &#123;<br>                primes.<span class="hljs-built_in">push_back</span>(i);<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; primes.<span class="hljs-built_in">size</span>() &amp;&amp; i * primes[j] &lt; n; ++j) &#123;<br>                isPrime[i * primes[j]] = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">if</span> (i % primes[j] == <span class="hljs-number">0</span>) &#123;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> primes.<span class="hljs-built_in">size</span>();<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="2-æ•°ç»„è¾“å‡ºï¼šå¹³æ–¹çŸ©é˜µé—®é¢˜"><a href="#2-æ•°ç»„è¾“å‡ºï¼šå¹³æ–¹çŸ©é˜µé—®é¢˜" class="headerlink" title="2.æ•°ç»„è¾“å‡ºï¼šå¹³æ–¹çŸ©é˜µé—®é¢˜"></a>2.æ•°ç»„è¾“å‡ºï¼šå¹³æ–¹çŸ©é˜µé—®é¢˜</h2><p><img src="/posts/Leetcode-Mistake-collection-1-10/2.png" alt="Question 2"></p><p>æ€è·¯ï¼š<strong>æœ€åŸºæœ¬çš„æ•°ç»„è¾“å‡ºï¼š</strong>ä¸¤å±‚forå¾ªç¯åµŒå¥—ï¼ˆé€šè¿‡å¤–å±‚å¾ªç¯æ¯æ‰§è¡Œä¸€æ¬¡å›è½¦è·³è½¬åˆ°ä¸‹ä¸€è¡Œè¿›è¡Œè¾“å‡ºï¼‰</p><h3 id="è§£æ³•ä¸€ï¼šæ›¼å“ˆé¡¿è·ç¦»-åæ ‡æ³•"><a href="#è§£æ³•ä¸€ï¼šæ›¼å“ˆé¡¿è·ç¦»-åæ ‡æ³•" class="headerlink" title="è§£æ³•ä¸€ï¼šæ›¼å“ˆé¡¿è·ç¦»+åæ ‡æ³•"></a>è§£æ³•ä¸€ï¼šæ›¼å“ˆé¡¿è·ç¦»+åæ ‡æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printarray</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">while</span>(n!=<span class="hljs-number">0</span>)&#123;<br>        <span class="hljs-built_in">printarray</span>(n);<br>        cout&lt;&lt;endl;<br>        cin&gt;&gt;n;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printarray</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span>&#123;<br>    <span class="hljs-type">double</span> maxi;<br>    <span class="hljs-type">int</span> list[n][n];<br>    <span class="hljs-keyword">if</span>(n%<span class="hljs-number">2</span>==<span class="hljs-number">1</span>)&#123;<br>        maxi=(n<span class="hljs-number">+1</span>)/<span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>                list[i][j]=<span class="hljs-built_in">int</span>(maxi-<span class="hljs-built_in">max</span>(<span class="hljs-built_in">abs</span>((n<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>-i),<span class="hljs-built_in">abs</span>((n<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>-j)));<br>                <span class="hljs-comment">//æ ¸å¿ƒä»£ç ï¼šå¯¹åº”ä½ç½®ä¸Šçš„æ•°å’Œå…¶åˆ°ä¸­å¿ƒç‚¹çš„æ›¼å“ˆé¡¿è·ç¦»æœ‰å…³ï¼</span><br>                cout&lt;&lt;list[i][j]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>            &#125;<br>            cout&lt;&lt;endl;<br>        &#125;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        maxi=n/<span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>;j&lt;n;j++)&#123;<br>                list[i][j]=<span class="hljs-built_in">int</span>(maxi<span class="hljs-number">+0.5</span>-<span class="hljs-built_in">max</span>(<span class="hljs-built_in">abs</span>(<span class="hljs-built_in">double</span>(n<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>-i),<span class="hljs-built_in">abs</span>(<span class="hljs-built_in">double</span>(n<span class="hljs-number">-1</span>)/<span class="hljs-number">2</span>-j)));<br>                <span class="hljs-comment">//å¶æ•°çš„æƒ…å†µä¸å­˜åœ¨å”¯ä¸€çš„ä¸­å¿ƒç‚¹ï¼Œä½†ä¸­å¿ƒç‚¹çš„ä½œç”¨åªæ˜¯é€šè¿‡æ›¼å“ˆé¡¿è·ç¦»çš„åæ ‡è¡¨ç¤ºæ¥ç¡®å®šå¯¹åº”ä½ç½®ä¸Šçš„æ•°çš„å€¼ã€‚æ•…å¯ä»¥å¼•å…¥ä¸€ä¸ªè™šæ‹Ÿä¸­å¿ƒç‚¹ï¼ˆæµ®ç‚¹æ•°ï¼š(n-1)/2ï¼‰</span><br>                cout&lt;&lt;list[i][j]&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>            &#125;<br>            cout&lt;&lt;endl;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¼˜åŒ–è§£æ³•ï¼šä¸å†ä¾èµ–ä¸­å¿ƒç‚¹ï¼Œç›´æ¥æ ¹æ®åæ ‡è¾“å‡ºå€¼"><a href="#ä¼˜åŒ–è§£æ³•ï¼šä¸å†ä¾èµ–ä¸­å¿ƒç‚¹ï¼Œç›´æ¥æ ¹æ®åæ ‡è¾“å‡ºå€¼" class="headerlink" title="ä¼˜åŒ–è§£æ³•ï¼šä¸å†ä¾èµ–ä¸­å¿ƒç‚¹ï¼Œç›´æ¥æ ¹æ®åæ ‡è¾“å‡ºå€¼"></a>ä¼˜åŒ–è§£æ³•ï¼šä¸å†ä¾èµ–ä¸­å¿ƒç‚¹ï¼Œç›´æ¥æ ¹æ®åæ ‡è¾“å‡ºå€¼</h3><blockquote><p>â‘ é€šè¿‡è§‚å¯Ÿå›å­—å½¢çŸ©é˜µ, çŸ©é˜µå…³äºå¯¹è§’çº¿æ˜¯å·¦ä¸Šæ–¹å’Œå³ä¸‹æ–¹å¯¹ç§°çš„<br>â‘¡åˆ©ç”¨äºŒç»´è¡Œåˆ—å¾ªç¯, <strong>è·å–è¡Œåˆ—+1çš„æœ€å°å€¼(å³min(i + 1, j + 1))</strong>, å¯å¾—å¦‚ä¸‹å›¾å½¢(ä¾‹å¦‚n &#x3D;&#x3D; 4):<br>1 1 1 1<br>1 2 2 <del>2</del><br>1 2 <del>3 3</del><br>1 <del>2 3 4</del><br>å¯ä»¥çœ‹å‡ºæœªåˆ’æ¨ªçº¿éƒ¨åˆ†ï¼ˆå·¦ä¸Šéƒ¨åˆ†ï¼‰æ»¡è¶³é¢˜è§£,æ­¤æ—¶å¦‚æœä½¿å›¾åƒæ²¿ç€å¯¹è§’çº¿ç¿»è½¬,å†é‡åˆ,å³å¯æ±‚è§£ç­”æ¡ˆ<br>â‘¢ç¿»è½¬å›¾åƒ,é‡‡ç”¨min(n - i, n - j)å³å¯, å¾—åˆ°å›¾åƒå¦‚ä¸‹(ä¾‹å¦‚n &#x3D;&#x3D; 4):<br><del>4 3 2</del> 1<br><del>3 3</del> 2 1<br><del>2</del> 2 2 1<br>1 1 1 1<br>â‘£è¿›è¡Œå›¾åƒçš„é‡åˆ, å¯¹åº”ä½ç½®å–æœ€å°å€¼å³å¯æ±‚è§£min(Leftä¸Š, rightä¸‹)</p></blockquote><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br> <span class="hljs-type">int</span> n;<br><span class="hljs-keyword">while</span> (cin &gt;&gt; n, n)&#123;<br> <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++)&#123;<br>     <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++)&#123;<br>         cout &lt;&lt; <span class="hljs-built_in">min</span>(<span class="hljs-built_in">min</span>(i + <span class="hljs-number">1</span>, j + <span class="hljs-number">1</span>), <span class="hljs-built_in">min</span>(n - i, n - j)) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>         <span class="hljs-comment">//é€šè¿‡ä¸€ä¸ªminï¼ˆï¼‰,è¾“å‡ºå¯¹åº”çš„æ•°å­—</span><br>     &#125;<br>     cout &lt;&lt; endl ;<br> &#125;<br> cout &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure></blockquote><h3 id="æ–¹æ³•äºŒï¼šè›‡å½¢çŸ©é˜µæ±‚è§£"><a href="#æ–¹æ³•äºŒï¼šè›‡å½¢çŸ©é˜µæ±‚è§£" class="headerlink" title="æ–¹æ³•äºŒï¼šè›‡å½¢çŸ©é˜µæ±‚è§£"></a>æ–¹æ³•äºŒï¼š<strong>è›‡å½¢çŸ©é˜µ</strong>æ±‚è§£</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">100</span> + <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> m[N][N];<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n;<br>    <span class="hljs-type">int</span> dx[] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, dy[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br>    <span class="hljs-comment">//æ¯ä¸ªå‘é‡ä»£è¡¨å‘ä¸åŒæ–¹å‘ç§»åŠ¨</span><br><br>    <span class="hljs-keyword">while</span>(cin &gt;&gt; n, n )&#123;<br>        <span class="hljs-built_in">memset</span>(m, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> m);<span class="hljs-comment">//åˆå§‹åŒ–æ•°ç»„</span><br>        <span class="hljs-type">int</span> d = <span class="hljs-number">1</span>, x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;  <span class="hljs-comment">// è¡¨ç¤ºæ”¹å˜æ–¹å‘æ¬¡æ•°</span><br>        <span class="hljs-type">int</span> res = <span class="hljs-number">1</span>;  <span class="hljs-comment">// å›å½¢å½“å‰åœˆæ•°</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n * n; i ++)&#123;<br>            <span class="hljs-comment">//iæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œä»£è¡¨ä¸€å…±è¾“å‡ºiä¸ªæ•°</span><br>            <span class="hljs-type">int</span> a = x + dx[d], b = y + dy[d];<br>            <span class="hljs-comment">//(x,y) is the previous point,and (a,b)is the point that has moved</span><br>            <span class="hljs-comment">//ä¸€ä¸ªå¾ˆå…³é”®çš„ç‚¹ï¼š(a,b)ç›¸å½“äºæ¢è·¯çš„åæ ‡ï¼Œå¹¶ä¸ä¼šç›´æ¥èµ‹å€¼ç»™(x,y)ã€‚ä¸€æ—¦ifè¯­å¥å‘ç°(a,b)å¼‚å¸¸(ä¾‹å¦‚éœ€è¦æ‹å¼¯æˆ–è¿›å…¥å°å¾ªç¯)ï¼Œåˆ™ä¼šé‡æ–°è°ƒæ•´æ–¹å‘åå†èµ‹å€¼ç»™x,y</span><br>            m[x][y] = res;<br><br>            <span class="hljs-keyword">if</span> (a &lt; <span class="hljs-number">0</span> || a &gt;= n || b &lt; <span class="hljs-number">0</span> || b &gt;= n || m[a][b])&#123;<br>                <span class="hljs-comment">//å¯èƒ½çš„éœ€è¦æ”¹å˜æ–¹å‘çš„æƒ…å†µï¼šèµ°åˆ°åº•éœ€è¦æ‹å¼¯ï¼Œèµ°åˆ°å¤´(m[a][b]å·²ç»è¢«å¡«å……ï¼Œè¾“å‡ºä¸€ä¸ªé0å€¼)</span><br>                d = (d + <span class="hljs-number">1</span>) % <span class="hljs-number">4</span>;<br>                <span class="hljs-comment">//dçš„æ”¹å˜ï¼š1â€”â€”2â€”â€”3â€”â€”4</span><br>                a = x + dx[d], b = y + dy[d];<br>                cnt ++;<br>                <span class="hljs-keyword">if</span> (!(cnt % <span class="hljs-number">4</span>)) res ++;<br>                <span class="hljs-comment">//å½“cnt==4æ—¶ï¼Œä»£è¡¨è½¬å®Œäº†ä¸€åœˆï¼Œåˆ™è¿›å…¥å°åœˆä¸­</span><br>            &#125;<br>            x = a, y = b;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++)&#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j ++)<br>                cout &lt;&lt; m[i][j] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;<br>            cout &lt;&lt; endl;<br>        &#125;<br>        cout &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="3-æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#3-æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="3.æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>3.æ–æ³¢é‚£å¥‘æ•°åˆ—</h2><h3 id="ï¼ˆ1ï¼‰åŸºæœ¬çš„é€’å½’åšæ³•"><a href="#ï¼ˆ1ï¼‰åŸºæœ¬çš„é€’å½’åšæ³•" class="headerlink" title="ï¼ˆ1ï¼‰åŸºæœ¬çš„é€’å½’åšæ³•"></a>ï¼ˆ1ï¼‰åŸºæœ¬çš„é€’å½’åšæ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span>  <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Fib</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> n,m;<br>    cin&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<br>        cin&gt;&gt;m;<br>        cout&lt;&lt;<span class="hljs-built_in">Fib</span>(m)&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Fib</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(x==<span class="hljs-number">1</span>||x==<span class="hljs-number">2</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Fib</span>(x<span class="hljs-number">-1</span>)+<span class="hljs-built_in">Fib</span>(x<span class="hljs-number">-2</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ï¼ˆ2ï¼‰æ–¹æ³•ä¼˜åŒ–"><a href="#ï¼ˆ2ï¼‰æ–¹æ³•ä¼˜åŒ–" class="headerlink" title="ï¼ˆ2ï¼‰æ–¹æ³•ä¼˜åŒ–"></a>ï¼ˆ2ï¼‰æ–¹æ³•ä¼˜åŒ–</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> t;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>  cin&gt;&gt;t;<br>  <span class="hljs-keyword">while</span>(t--)<br>  &#123;<br>    <span class="hljs-type">int</span> n;<br>    cin&gt;&gt;n;<br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> number=<span class="hljs-number">0</span>,numberfront=<span class="hljs-number">1</span>,numberfrofront;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;=n; i++)<br>    &#123;<br>      <span class="hljs-keyword">if</span> (i==n)&#123;<br>          <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Fib(%d) = %lld\n&quot;</span>,n,number);<br>      &#125;<br>      numberfrofront=number+numberfront;<br>      number=numberfront;<br>      numberfrofront=numberfront;<br>      <span class="hljs-comment">//ç›¸å½“äºåšè¿­ä»£ï¼Œä¸æ–­å‘å‰è¿›ï¼ˆæ¯”é€’å½’çš„æ—¶é—´å¤æ‚åº¦è¦ä½ï¼‰</span><br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Â·æ­¤å¤„ä¹Ÿå¯ä»¥ä½¿ç”¨vectoræ•°ç»„å­˜å‚¨ç”Ÿæˆçš„æ¯ä¸€é¡¹ï¼Œå¯å‡å°‘è®¡ç®—çš„å¤æ‚ï¼ˆä¸ç”¨æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„æ—¶å€™éƒ½è¦é‡æ–°è®¡ç®—ä¸€éï¼‰</p><h2 id="4-ACwing-åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"><a href="#4-ACwing-åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦" class="headerlink" title="4.ACwing åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦"></a>4.ACwing åªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦</h2><p>é¢˜ç›®æè¿°<br>ç»™ä½ ä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²ã€‚</p><p>è¯·ä½ åˆ¤æ–­æ˜¯å¦å­˜åœ¨åªåœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°è¿‡ä¸€æ¬¡çš„å­—ç¬¦ã€‚</p><p>å¦‚æœå­˜åœ¨ï¼Œåˆ™è¾“å‡ºæ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ä¸­ä½ç½®æœ€é å‰çš„é‚£ä¸ªã€‚</p><p>å¦‚æœæ²¡æœ‰ï¼Œè¾“å‡º noã€‚</p><p>è¾“å…¥æ ¼å¼<br>å…±ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªç”±å°å†™å­—æ¯æ„æˆçš„å­—ç¬¦ä¸²ã€‚</p><p>æ•°æ®ä¿è¯å­—ç¬¦ä¸²çš„é•¿åº¦ä¸è¶…è¿‡ 100000</p><p>è¾“å‡ºæ ¼å¼<br>è¾“å‡ºæ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ã€‚</p><p>å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¾“å‡º noã€‚</p><h3 id="æ€è·¯ï¼šæ„å»ºä¸€ç§æ˜ å°„çš„å…³ç³»"><a href="#æ€è·¯ï¼šæ„å»ºä¸€ç§æ˜ å°„çš„å…³ç³»" class="headerlink" title="æ€è·¯ï¼šæ„å»ºä¸€ç§æ˜ å°„çš„å…³ç³»"></a>æ€è·¯ï¼šæ„å»ºä¸€ç§æ˜ å°„çš„å…³ç³»</h3><p>ç›´æ¥ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„æ„å»ºæ˜ å°„çš„å…³ç³»ï¼ˆå‰ææ˜¯æ•°ç»„çš„é•¿åº¦å·²çŸ¥ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    string test;<br>    cin&gt;&gt;test;<br>    <span class="hljs-type">int</span> list[<span class="hljs-number">1000</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i:test)&#123;<br>            list[i]++;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i:test)&#123;<br>        <span class="hljs-comment">//æ³¨æ„è¿™é‡Œéå†ä¸æ˜¯æŒ‰listçš„é¡ºåºè¿›è¡Œéå†ï¼Œè€Œæ˜¯è¿˜æ˜¯æŒ‰ç…§testçš„å€¼(ä¸åŒå­—ç¬¦çš„ASCIIç )æ¥è¿›è¡Œéå†ï¼Œç¡®ä¿è¾“å‡ºçš„å§‹ç»ˆæ˜¯æœ€å¤§ä¸”æœ€é å‰çš„ä¸€é¡¹ã€‚</span><br>        <span class="hljs-keyword">if</span>(list[i]==<span class="hljs-number">1</span>)&#123;<br>            cout&lt;&lt;i;<br>            <span class="hljs-keyword">goto</span> end;<br>        &#125; <br>    &#125;<br>    cout&lt;&lt;<span class="hljs-string">&quot;no&quot;</span>;<br>    end:<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-ACwing-å­—ç¬¦ä¸²ä¸­æœ€é•¿çš„è¿ç»­å‡ºç°çš„å­—ç¬¦"><a href="#5-ACwing-å­—ç¬¦ä¸²ä¸­æœ€é•¿çš„è¿ç»­å‡ºç°çš„å­—ç¬¦" class="headerlink" title="5.ACwing å­—ç¬¦ä¸²ä¸­æœ€é•¿çš„è¿ç»­å‡ºç°çš„å­—ç¬¦"></a>5.ACwing å­—ç¬¦ä¸²ä¸­æœ€é•¿çš„è¿ç»­å‡ºç°çš„å­—ç¬¦</h2><p>æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æœ€é•¿çš„è¿ç»­å‡ºç°çš„å­—ç¬¦ï¼Œè¾“å‡ºè¯¥å­—ç¬¦åŠå…¶å‡ºç°æ¬¡æ•°ï¼Œå­—ç¬¦ä¸²ä¸­æ— ç©ºç™½å­—ç¬¦ï¼ˆç©ºæ ¼ã€å›è½¦å’Œ tabtabï¼‰ï¼Œå¦‚æœè¿™æ ·çš„å­—ç¬¦ä¸æ­¢ä¸€ä¸ªï¼Œåˆ™è¾“å‡ºç¬¬ä¸€ä¸ªã€‚</p><p><strong>è¾“å…¥æ ¼å¼</strong></p><p>ç¬¬ä¸€è¡Œè¾“å…¥æ•´æ•° NNï¼Œè¡¨ç¤ºæµ‹è¯•æ•°æ®çš„ç»„æ•°ã€‚</p><p>æ¯ç»„æ•°æ®å ä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªä¸å«ç©ºç™½å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡ 200200ã€‚</p><p><strong>è¾“å‡ºæ ¼å¼</strong></p><p>å…±ä¸€è¡Œï¼Œè¾“å‡ºæœ€é•¿çš„è¿ç»­å‡ºç°çš„å­—ç¬¦åŠå…¶å‡ºç°æ¬¡æ•°ï¼Œä¸­é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚</p><h4 id="è§£æ³•â‘ ï¼šæœ€åŸºæœ¬çš„æ€è·¯"><a href="#è§£æ³•â‘ ï¼šæœ€åŸºæœ¬çš„æ€è·¯" class="headerlink" title="è§£æ³•â‘ ï¼šæœ€åŸºæœ¬çš„æ€è·¯"></a>è§£æ³•â‘ ï¼šæœ€åŸºæœ¬çš„æ€è·¯</h4><ul><li>ä½¿ç”¨å‰åæŒ‡é’ˆå’Œflagåˆ¤æ–­è¿ç»­å­—ç¬¦</li><li>ä½¿ç”¨countlistæ•°ç»„è®°å½•æ¯ä¸ªå­—ç¬¦è¿ç»­å‡ºç°çš„æœ€å¤§å€¼</li><li>ä½¿ç”¨vectoræ•°ç»„successfulæŒ‰é¡ºåºå‚¨å­˜è¿ç»­å‡ºç°çš„å­—ç¬¦ï¼Œå¹¶ä¸”åœ¨å…¶å€¼æ›´æ–°æ—¶è‡ªåŠ¨ç§»åŠ¨åˆ°åºåˆ—å°¾ç«¯</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">findthelongest</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> countlist[<span class="hljs-number">300</span>]=&#123;<span class="hljs-number">0</span>&#125;;<br>    vector &lt;<span class="hljs-type">char</span>&gt; successful;<br>    <span class="hljs-type">int</span> flag=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> tempcount=<span class="hljs-number">0</span>;<br>    string teststring;<br>    cin&gt;&gt;teststring;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;teststring.<span class="hljs-built_in">length</span>()<span class="hljs-number">-1</span>;i++)&#123;<br>        <span class="hljs-keyword">if</span>(teststring[i]==teststring[i<span class="hljs-number">+1</span>])&#123;<br>            flag=<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">find</span>(successful.<span class="hljs-built_in">begin</span>(),successful.<span class="hljs-built_in">end</span>(),teststring[i])==successful.<span class="hljs-built_in">end</span>())&#123;<br>                successful.<span class="hljs-built_in">push_back</span>(teststring[i]);<br>            &#125;<br>            <br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            flag=<span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">if</span>(tempcount&gt;countlist[teststring[i]])&#123;<br>                countlist[teststring[i]]=tempcount;<br>                successful.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">remove</span>(successful.<span class="hljs-built_in">begin</span>(),successful.<span class="hljs-built_in">end</span>(),teststring[i]));<br>                successful.<span class="hljs-built_in">push_back</span>(teststring[i]);<br>            &#125;<br>            tempcount=<span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag==<span class="hljs-number">1</span>)&#123;<br>            tempcount++;<br>            <span class="hljs-keyword">if</span>(i==teststring.<span class="hljs-built_in">length</span>()<span class="hljs-number">-2</span>)&#123;<br>                <span class="hljs-keyword">if</span>(tempcount&gt;countlist[teststring[i]])&#123;<br>                countlist[teststring[i]]=tempcount;<br>                successful.<span class="hljs-built_in">erase</span>(<span class="hljs-built_in">remove</span>(successful.<span class="hljs-built_in">begin</span>(),successful.<span class="hljs-built_in">end</span>(),teststring[i]));<br>                successful.<span class="hljs-built_in">push_back</span>(teststring[i]);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-type">int</span> max=<span class="hljs-number">0</span>;<br>    <span class="hljs-type">char</span> maxchar=teststring[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">if</span>(!successful.<span class="hljs-built_in">empty</span>())&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> tes:successful)&#123;<br>        <span class="hljs-keyword">if</span>(countlist[tes]&gt;max)&#123;<br>            maxchar=tes;<br>            max=countlist[tes];<br>        &#125;<br>    &#125;<br>    &#125;<br>    cout&lt;&lt;maxchar&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;max<span class="hljs-number">+1</span>&lt;&lt;endl;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-type">int</span> N;cin&gt;&gt;N;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;N;i++)&#123;<br>        <span class="hljs-built_in">findthelongest</span>();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è§£æ³•â‘¡å¯ç§»åŠ¨çš„åŒæŒ‡é’ˆ"><a href="#è§£æ³•â‘¡å¯ç§»åŠ¨çš„åŒæŒ‡é’ˆ" class="headerlink" title="è§£æ³•â‘¡å¯ç§»åŠ¨çš„åŒæŒ‡é’ˆ"></a>è§£æ³•â‘¡å¯ç§»åŠ¨çš„åŒæŒ‡é’ˆ</h3><p>è§£æ³•ä¼˜åŒ–ï¼š</p><ul><li>ä½¿ç”¨å¯ç§»åŠ¨çš„åŒæŒ‡é’ˆijï¼Œæ¯æ¬¡åªæœ‰jå‘å‰ä¸æ–­ç§»åŠ¨ç›´åˆ°é‡åˆ°ä¸åŒçš„å…ƒç´ ï¼Œiæœ€åè¿½ä¸Šj</li><li>é€‚åº”è¦†ç›–çš„æ€æƒ³è€Œä¸ä½¿ç”¨æŒ‡é’ˆå­˜å‚¨</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> T;<br>    cin &gt;&gt; T;<br>    <span class="hljs-keyword">while</span>(T --)<br>    &#123;<br>        <span class="hljs-type">int</span> maxn = <span class="hljs-number">-1</span>;<span class="hljs-comment">//maxnè®°å½•æœ€å¤§é•¿åº¦</span><br>        string str, maxs;<span class="hljs-comment">//maxsè®°å½•æœ€å¤§é•¿åº¦æ—¶çš„å­—ç¬¦</span><br>        cin &gt;&gt; str;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-built_in">size</span>();)<br>        &#123;<br>            <span class="hljs-type">int</span> j = i;<br>            <span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">while</span>(str[j] == str[i] &amp;&amp; j &lt; str.<span class="hljs-built_in">size</span>())<span class="hljs-comment">//å½“æŒ‡é’ˆjæ²¡æœ‰è¶Šç•Œä¸”ä¸æŒ‡é’ˆiçš„å†…å®¹ç›¸åŒæ—¶ç§»åŠ¨</span><br>                j ++, cnt ++;<br>            <span class="hljs-keyword">if</span>(cnt &gt; maxn)<span class="hljs-comment">//æ›´æ–°æœ€å¤§å€¼</span><br>                maxn = cnt, maxs = str[i];<br>            i = j ;<span class="hljs-comment">//ç§»åŠ¨æŒ‡é’ˆi</span><br>        &#125;<br>        cout &lt;&lt; maxs &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; maxn &lt;&lt; endl;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>Leetcode notes</tag>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Leetcode-Mistake-Collection</title>
    <link href="/posts/Leetcode-Mistake-collection/"/>
    <url>/posts/Leetcode-Mistake-collection/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Mistake-collection"><a href="#Leetcode-Mistake-collection" class="headerlink" title="Leetcode-Mistake-collection"></a>Leetcode-Mistake-collection</h1><p>ç¬”è€…åˆæ¥å¼€æ–°å‘å•¦ï¼</p><h2 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h2><p>åœ¨ç¬”è€…åˆšåˆšæ­¥å…¥å¤§ä¸€æ—¶ï¼ˆä¹Ÿå°±æ˜¯è¿™å­¦æœŸï¼‰ï¼Œä»—ç€è‡ªå·±æš‘å‡ä¸ºæ•°ä¸å¤šçš„Cè¯­è¨€è¯­æ³•å­˜è´§ï¼Œè§‰å¾—å­¦æ ¡C++çš„è¯¾ç¨‹è¿›åº¦æœ‰äº›è½åï¼Œä¾¿åœ¨ç½‘ä¸Šå¯»å¯»è§…è§…ï¼Œæƒ³é€šè¿‡<strong>åˆ·é¢˜</strong>çš„æ–¹å¼æå‡è‡ªå·±çš„ä»£ç æ°´å¹³ã€‚</p><p>å½“åœ¨ç½‘ä¸Šæœç´¢â€œæ–°æ‰‹å°ç™½åˆ·ç¼–ç¨‹é¢˜ä»€ä¹ˆç½‘ç«™ä¸Šæœ€å¥½â€ï¼Œåæœ‰å…«ä¹è·³å‡ºæ¥çš„éƒ½æ˜¯<strong>Leetcode</strong>ã€‚ç¡®å®ï¼Œ<a href="https://leetcode.cn/">Leetcode</a>å¯ä»¥ç®—ä½œæ˜¯æ•°ä¸€æ•°äºŒä¼˜ç§€çš„ç¼–ç¨‹è®­ç»ƒç½‘ç«™äº†ï¼Œå„ç§ç•Œé¢è®¾è®¡ä¹Ÿå¾ˆç¬¦åˆæˆ‘çš„å®¡ç¾ã€‚ï¼ˆå°±åƒä»–è‡ªå·±è¯´çš„ï¼Œ<strong>å…¨çƒæå®¢æŒšçˆ±çš„æŠ€æœ¯æˆé•¿å¹³å°</strong>ï¼‰ã€‚ä½†æ˜¯ï¼Œå¯¹äºå½“æ—¶ä¹ æƒ¯äºæŠŠæ‰€æœ‰ä»£ç å…¨éƒ¨æ”¾è¿›ä¸€ä¸ªè‡ƒè‚¿çš„<code>main</code>å‡½æ•°çš„æˆ‘æ¥è¯´ï¼ŒLeetcodeçŠ¹å¦‚ä¸€åº§é«˜ä¸å¯æ”€çš„å±±å³°ï¼Œå¥½ä¸å®¹æ˜“å¼„æ‡‚äº†ä»€ä¹ˆå«<strong>å‡½æ•°å°è£…</strong>ï¼Œç«­å°½å…¨åŠ›ä¹Ÿæ²¡åŠæ³•åšå‡º <a href="https://leetcode.cn/problems/two-sum/">ç¬¬ä¸€é“é¢˜</a>ã€‚ğŸ¤¡</p><p>ä¹‹ååœ¨çœ‹ <a href="https://www.hello-algo.com/chapter_hello_algo/">Hello ç®—æ³•</a>çš„æ—¶å€™åœ¨åºè¨€çœ‹åˆ°äº†ä¸€æ®µæ„ŸåŒèº«å—çš„è¯ï¼š</p><blockquote><p>ä¸¤çœ¼ä¸€æŠ¹é»‘åœ°åˆ·é¢˜ä¼¼ä¹æ˜¯æœ€å—æ¬¢è¿çš„æ–¹æ³•ï¼Œç®€å•ã€ç›´æ¥ä¸”æœ‰æ•ˆã€‚ç„¶è€Œåˆ·é¢˜å°±å¦‚åŒç©â€œæ‰«é›·â€æ¸¸æˆï¼Œè‡ªå­¦èƒ½åŠ›å¼ºçš„äººèƒ½å¤Ÿé¡ºåˆ©å°†åœ°é›·é€ä¸ªæ’æ‰ï¼Œè€ŒåŸºç¡€ä¸è¶³çš„äººå¾ˆå¯èƒ½è¢«ç‚¸å¾—æ»¡å¤´æ˜¯åŒ…ï¼Œå¹¶åœ¨æŒ«æŠ˜ä¸­æ­¥æ­¥é€€ç¼©ã€‚é€šè¯»æ•™æä¹Ÿæ˜¯ä¸€ç§å¸¸è§åšæ³•ï¼Œä½†å¯¹äºé¢å‘æ±‚èŒçš„äººæ¥è¯´ï¼Œæ¯•ä¸šè®ºæ–‡ã€æŠ•é€’ç®€å†ã€å‡†å¤‡ç¬”è¯•å’Œé¢è¯•å·²ç»æ¶ˆè€—äº†å¤§éƒ¨åˆ†ç²¾åŠ›ï¼Œå•ƒåšé‡çš„ä¹¦å¾€å¾€å˜æˆäº†ä¸€é¡¹è‰°å·¨çš„æŒ‘æˆ˜ã€‚</p></blockquote><p>å›æƒ³è‡ªå·±Leetcodeçš„åˆ·é¢˜ä¹‹æ—…ï¼ŒçœŸçš„æ˜¯<strong>ç—›å¹¶å¿«ä¹ç€</strong>ï¼Œç—›åœ¨ç®—æ³•é¢˜å†·é…·æ— æƒ…ï¼Œå°†ä½ æ‰€æœ‰çš„bugæš´éœ²æ— é—ï¼Œæ ¹æœ¬ä¸ç»™ä½ ä¾¥å¹¸çš„æœºä¼šï¼Œå¿«ä¹åœ¨é’»ç ”ä¸€é“é¢˜åç»ˆäºçœ‹è§<strong>è¶…è¿‡äº†100%çš„äºº</strong>ï¼Œå¿«ä¹åœ¨ä»ä¸€å¼€å§‹çš„ä¸¾æ­¥ç»´è‰°ï¼Œåˆ°é€æ¸èƒ½å¤Ÿå°è¯•é»„è‰²ä¸­æ¡£é¢˜ï¼Œå†åˆ°å¾—å¿ƒåº”æ‰‹ï¼Œå¿ƒå¹³æ°”å’Œã€‚</p><p><strong>å› æ­¤ï¼Œæˆ‘åœ¨æ­¤å¼€å‘ï¼Œå°†è‡ªå·±è¿‡å»ï¼Œç°åœ¨ä»¥åŠå°†æ¥åœ¨Leetcodeä¸Šæ‰€åšçš„å¥½é¢˜ï¼Œé”™é¢˜ï¼Œçœ‹åˆ°çš„ä¼˜ç§€é¢˜è§£ä»¥åŠæˆ‘è‡ªå·±æ•´ç†ä¸€äº›ç¬”è®°ç­‰ç­‰æ•´ç†æˆåšå®¢çš„å½¢å¼ï¼Œä¸€ç¯‡åšå®¢äº”é“é¢˜ï¼Œå¸Œæœ›ä»¥æ­¤ç•™ä½œçºªå¿µï¼Œå¹¶èƒ½å¤Ÿç»™æœ‰ç›¸åŒå¿—å‘çš„å°ä¼™ä¼´ä»¬ä¸€ç‚¹é¼“åŠ±å’ŒæŒ‡å¼•ã€‚</strong></p><h2 id="å†…å®¹ï¼ˆå®æ—¶æ›´æ–°ï¼‰"><a href="#å†…å®¹ï¼ˆå®æ—¶æ›´æ–°ï¼‰" class="headerlink" title="å†…å®¹ï¼ˆå®æ—¶æ›´æ–°ï¼‰"></a>å†…å®¹ï¼ˆå®æ—¶æ›´æ–°ï¼‰</h2><h3 id="ç¬¬ä¸€å­¦æœŸï¼ˆä¸»è¦ä»¥è¯­æ³•é¢˜å’Œæœ€åŸºæœ¬çš„ç®—æ³•é¢˜ä¸ºä¸»ï¼‰"><a href="#ç¬¬ä¸€å­¦æœŸï¼ˆä¸»è¦ä»¥è¯­æ³•é¢˜å’Œæœ€åŸºæœ¬çš„ç®—æ³•é¢˜ä¸ºä¸»ï¼‰" class="headerlink" title="ç¬¬ä¸€å­¦æœŸï¼ˆä¸»è¦ä»¥è¯­æ³•é¢˜å’Œæœ€åŸºæœ¬çš„ç®—æ³•é¢˜ä¸ºä¸»ï¼‰"></a>ç¬¬ä¸€å­¦æœŸï¼ˆä¸»è¦ä»¥è¯­æ³•é¢˜å’Œæœ€åŸºæœ¬çš„ç®—æ³•é¢˜ä¸ºä¸»ï¼‰</h3><ul><li>åŸºæœ¬è¯­æ³•é¢˜<ul><li>æ•°ç»„ã€å¼•ç”¨å’ŒæŒ‡é’ˆçš„ç›¸å…³æ“ä½œ</li><li>OOP</li><li>STLå…¥é—¨</li></ul></li><li>åŸºæœ¬ç®—æ³•å…¥é—¨<ul><li>æ’åºç®—æ³•</li><li>åˆ†æ²»ç®—æ³•</li><li>å›æº¯ç®—æ³•å’Œé€’å½’ç®—æ³•</li><li>åŠ¨æ€è§„åˆ’</li><li>è´ªå¿ƒç®—æ³•</li></ul></li></ul><h3 id="ç¬¬äºŒå­¦æœŸï¼ˆé‡ç‚¹ï¼šæ•°æ®ç»“æ„ï¼‰"><a href="#ç¬¬äºŒå­¦æœŸï¼ˆé‡ç‚¹ï¼šæ•°æ®ç»“æ„ï¼‰" class="headerlink" title="ç¬¬äºŒå­¦æœŸï¼ˆé‡ç‚¹ï¼šæ•°æ®ç»“æ„ï¼‰"></a>ç¬¬äºŒå­¦æœŸï¼ˆé‡ç‚¹ï¼šæ•°æ®ç»“æ„ï¼‰</h3><p>ï¼ˆæœŸå¾…ä¸€æ³¢æ¥å¹´å¼€æ˜¥çš„ç–¯ç‹‚æ›´æ–°~ï¼‰</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://leetcode.cn/u/affectionate-hamiltonyhv/">æˆ‘çš„Leetcodeä¸»é¡µ</a></p><p><a href="https://leetcode.cn/">Leetcode</a></p><p><a href="https://books.halfrost.com/leetcode/">Leetcode Cookbook</a></p><hr><blockquote><p>English Version</p></blockquote><h1 id="Starting-a-New-Adventure-Again"><a href="#Starting-a-New-Adventure-Again" class="headerlink" title="Starting a New Adventure Again!"></a>Starting a New Adventure Again!</h1><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>When I first started university (this semester), armed with my limited knowledge of C language syntax from a short summer learning stint, I felt the pace of my C++ course at school was a bit slow. So, I searched online for ways to improve my coding skills through <strong>problem-solving practice</strong>.</p><p>When looking up â€œbest websites for beginners to practice coding,â€ <strong>LeetCode</strong> popped up in most results. Indeed, <a href="https://leetcode.cn/">LeetCode</a> is one of the best programming training platforms, and its interface design aligns perfectly with my aesthetic (as they call themselves, <strong>â€œThe beloved tech growth platform for geeks worldwideâ€</strong>). However, for someone like me who used to put all the code into one bloated <code>main</code> function, LeetCode seemed like an insurmountable mountain. After finally understanding what <strong>function encapsulation</strong> was, I still couldnâ€™t manage to solve <a href="https://leetcode.cn/problems/two-sum/">the first problem</a>. ğŸ¤¡</p><p>While reading <a href="https://www.hello-algo.com/chapter_hello_algo/">Hello Algorithm</a>, I came across a sentiment in the preface that resonated deeply with me:</p><blockquote><p>Diving blindly into problem-solving is perhaps the most popular methodâ€”itâ€™s simple, direct, and effective. However, itâ€™s like playing a â€œMinesweeperâ€ game: self-learners with a strong foundation can defuse the mines one by one, while those lacking fundamentals might get blown up and retreat in frustration. Reading textbooks is another common approach, but for job seekers, writing theses, submitting resumes, and preparing for tests and interviews consume most of their energy, making heavy textbooks a daunting challenge.</p></blockquote><p>Looking back on my LeetCode journey, it truly has been a mix of <strong>pain and joy</strong>. The pain lies in the ruthless nature of algorithm problems, exposing all your bugs without mercy, leaving no room for luck. The joy comes from finally solving a problem and seeing <strong>â€œoutperformed 100% of usersâ€</strong>, from struggling with initial problems to tackling mid-level yellow questions, and eventually solving problems calmly and confidently.</p><p><strong>Thatâ€™s why Iâ€™m starting this seriesâ€”to document the good problems, mistakes, excellent solutions, and notes from my past, present, and future LeetCode journey in the form of blog posts. Each post will include five problems, serving as a record and hopefully providing encouragement and guidance to like-minded peers.</strong></p><hr><h2 id="Content-Updated-in-Real-Time"><a href="#Content-Updated-in-Real-Time" class="headerlink" title="Content (Updated in Real-Time)"></a>Content (Updated in Real-Time)</h2><h3 id="First-Semester-Primarily-syntax-and-basic-algorithm-problems"><a href="#First-Semester-Primarily-syntax-and-basic-algorithm-problems" class="headerlink" title="First Semester (Primarily syntax and basic algorithm problems)"></a>First Semester (Primarily syntax and basic algorithm problems)</h3><ul><li><strong>Basic Syntax Problems</strong><ul><li>Array, reference, and pointer operations</li><li>OOP (Object-Oriented Programming)</li><li>Intro to STL (Standard Template Library)</li></ul></li><li><strong>Basic Algorithms</strong><ul><li>Sorting algorithms</li><li>Divide-and-conquer</li><li>Backtracking and recursion</li><li>Dynamic programming</li><li>Greedy algorithms</li></ul></li></ul><h3 id="Second-Semester-Focus-Data-Structures"><a href="#Second-Semester-Focus-Data-Structures" class="headerlink" title="Second Semester (Focus: Data Structures)"></a>Second Semester (Focus: Data Structures)</h3><p><em>(Looking forward to some crazy updates next spring!)</em></p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li><a href="https://leetcode.cn/u/affectionate-hamiltonyhv/">My LeetCode Profile</a></li><li><a href="https://leetcode.cn/">LeetCode</a></li><li><a href="https://books.halfrost.com/leetcode/">LeetCode Cookbook</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Announcement</tag>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>Leetcode notes</tag>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Class-Inheritance</title>
    <link href="/posts/Class-Inheritance/"/>
    <url>/posts/Class-Inheritance/</url>
    
    <content type="html"><![CDATA[<h1 id="C-Primer-Plus-Tutorial-13"><a href="#C-Primer-Plus-Tutorial-13" class="headerlink" title="C++ Primer Plus Tutorial-13"></a>C++ Primer Plus Tutorial-13</h1><h1 id="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¢"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¢" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¢"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¢</h1><center><p style="color: red;"><b><font size=6.5>Chapter 13 Class Inheritance</font></b></p></center><center><p style="color: red;"><b><font size=6.5>ç±»çš„ç»§æ‰¿</font></b></p></center><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p><a href="https://xiyuanyang-code.github.io/posts/C-plus-plus-Primer-Plus-tutorial/">C++ Primer Plus Tutorial</a></p><p><a href="https://xiyuanyang-code.github.io/tags/OOP/">ç³»åˆ—æ–‡ç« </a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>åœ¨æœ¬æ–‡ä¸­ï¼Œä½ å°†å­¦åˆ°é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„åˆä¸€ä¸ªæ ¸å¿ƒæ€æƒ³ï¼šç»§æ‰¿ä¸å¤šæ€ã€‚æœ¬æ–‡ä»ä¸€ä¸ªåŸºæœ¬çš„åŸºç±»è®²èµ·å¹¶å»¶ä¼¸åˆ°æ´¾ç”Ÿç±»çš„å®šä¹‰å’ŒåŸºæœ¬ä½¿ç”¨ï¼Œæ¢è®¨æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»ã€‚æ¥ä¸‹æ¥æœ¬æ–‡æ·±å…¥ç»§æ‰¿çš„åŸç†ï¼Œä»‹ç»åœ¨å¤šæ€å…¬æœ‰ç»§æ‰¿ä¸­çš„<strong>is-a</strong>å…³ç³»å’Œè™šå‡½æ•°ï¼Œå·²ç»åŠ¨æ€è”ç¼–å’Œé™æ€è”ç¼–çš„åŸºæœ¬çŸ¥è¯†ã€‚æ¥ç€æœ¬æ–‡ä»‹ç»äº†æŠ½è±¡åŸºç±»çš„ä½¿ç”¨æé«˜æ•ˆç‡ä»¥åŠåœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„æ³¨æ„äº‹é¡¹ã€‚æœ€åæœ¬æ–‡å¯¹OOPçš„åŸºæœ¬ç²¾ç¥â€”â€”å°è£…ã€ç»§æ‰¿ä¸å¤šæ€å’Œç›¸å…³åŸºç¡€çŸ¥è¯†åšäº†æ¢³ç†ã€‚</p><blockquote><p>In this article, you will learn another core concept in object-oriented programming: inheritance and polymorphism. The article begins with a basic base class and extends to the definition and basic usage of derived classes, exploring the special relationship between derived and base classes. Next, the article delves into the principles of inheritance, introducing the <strong>is-a</strong> relationship in polymorphic public inheritance, virtual functions, and the basics of dynamic and static binding. Then, the article discusses the use of abstract base classes to improve efficiency, as well as considerations for using dynamic memory allocation in derived classes. Finally, the article summarizes the fundamental principles of OOPâ€”encapsulation, inheritance, and polymorphismâ€”along with related foundational knowledge.</p></blockquote><h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul><li>åŸºç±»å‡½æ•°å’Œæ´¾ç”Ÿç±»å‡½æ•°çš„ç®€å•ç¤ºä¾‹<ul><li>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°</li><li>ä½¿ç”¨æ´¾ç”Ÿç±»</li><li>æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»</li></ul></li><li>ç»§æ‰¿<ul><li>å¤šæ€å…¬æœ‰ç»§æ‰¿</li><li>è™šå‡½æ•°</li><li>é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–</li></ul></li><li>æŠ½è±¡åŸºç±»</li><li>ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…</li><li>å¯¹é¢å‘å¯¹è±¡åŸºæœ¬çŸ¥è¯†çš„æ€»ç»“</li></ul><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œä»£ç çš„é‡ç”¨æ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™ä¸€ç‚¹åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¹Ÿä¸ä¾‹å¤–ã€‚ä¸€ç§æœ€ç®€å•çš„â€œä»£ç é‡ç”¨â€æ˜¯æœ€ç®€å•çš„<code>Ctrl-C,Ctrl-V</code>ç¨‹åºå‘˜ï¼Œæ‰‹åŠ¨ä¿®æ”¹ä»£ç å®ç°é‡ç”¨ï¼ˆä¹ï¼‰ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•åœ¨ä¸ä¿®æ”¹ä»£ç çš„åŸºç¡€ä¸Šå®ç°ä»£ç ï¼ˆå¯¹äºOOPè€Œè¨€ï¼Œä¸»è¦æ˜¯ç±»å’Œå¯¹è±¡ï¼‰çš„é‡ç”¨å‘¢ï¼Ÿè¿™ä¾¿æ˜¯<strong>ç±»çš„ç»§æ‰¿</strong>ï¼šä»å·²æœ‰çš„ç±»ï¼ˆåŸºç±»ï¼‰å°†ç‰¹å¾å’Œæ–¹æ³•ç»§æ‰¿ç»™ä¸€ä¸ªæ–°çš„ç±»ï¼ˆæ´¾ç”Ÿç±»ï¼‰ã€‚åŒæ—¶ï¼Œç±»çš„ç»§æ‰¿ä¹Ÿä¿è¯äº†å®‰å…¨æ€§ï¼Œæ´¾ç”Ÿç±»å¯ä»¥æä¾›æ–°ç‰¹æ€§ï¼Œç”šè‡³ä¸éœ€è¦è®¿é—®æºä»£ç å°±å¯ä»¥æ´¾ç”Ÿå‡ºç±»ï¼Œå®ç°<strong>æ•°æ®çš„å°è£…</strong>ã€‚ï¼ˆè¿™ä¸æ­£æ˜¯OOPçš„æ ¸å¿ƒå’Œç²¾é«“å—ï¼‰</p><p>æ¥ä¸‹æ¥çš„ä¸€ç« ï¼Œè®©æˆ‘ä»¬èµ°è¿›ç±»ç»§æ‰¿çš„ä¸–ç•Œã€‚</p><h2 id="Example-Base-class-and-derived-class"><a href="#Example-Base-class-and-derived-class" class="headerlink" title="Example: Base class and derived class"></a>Example: Base class and derived class</h2><p>æ–‡ç« é¦–å…ˆç»™å‡ºä¸€ä¸ªæ¯”è¾ƒç®€å•çš„åŸºç±»</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// tabtenn0.h -- a table-tennis base class</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> TABTENN0_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TABTENN0_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> std::string;<br><span class="hljs-comment">// simple base class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TableTennisPlayer</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    string firstname;<br>    string lastname;<br>    <span class="hljs-type">bool</span> hasTable;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">TableTennisPlayer</span> (<span class="hljs-type">const</span> string &amp; fn = <span class="hljs-string">&quot;none&quot;</span>,<span class="hljs-type">const</span> string &amp; ln = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">bool</span> ht = <span class="hljs-literal">false</span>);<br>    <span class="hljs-comment">//é»˜è®¤æ„é€ å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-comment">//è¾“å‡ºä¼šå‘˜çš„å§“å</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">HasTable</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> hasTable; &#125;;<br>    <span class="hljs-comment">//åˆ¤æ–­ä¼šå‘˜æ˜¯å¦æœ‰çƒæ¡Œ</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetTable</span><span class="hljs-params">(<span class="hljs-type">bool</span> v)</span> </span>&#123; hasTable = v; &#125;;<br>    <span class="hljs-comment">//é‡è®¾çƒæ¡ŒçŠ¶æ€</span><br>&#125;;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//tabtenn0.cpp -- simple base-class methods</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;tabtenn0.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br>TableTennisPlayer::<span class="hljs-built_in">TableTennisPlayer</span> (<span class="hljs-type">const</span> string &amp; fn, <br>    <span class="hljs-type">const</span> string &amp; ln, <span class="hljs-type">bool</span> ht) : <span class="hljs-built_in">firstname</span>(fn),<span class="hljs-built_in">lastname</span>(ln), <span class="hljs-built_in">hasTable</span>(ht) &#123;&#125;<br>    <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">TableTennisPlayer::Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    std::cout &lt;&lt; lastname &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; firstname;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// usett0.cpp -- using a base class</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;tabtenn0.h&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">( <span class="hljs-type">void</span> )</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">using</span> std::cout;<br>    <span class="hljs-function">TableTennisPlayer <span class="hljs-title">player1</span><span class="hljs-params">(<span class="hljs-string">&quot;Chuck&quot;</span>, <span class="hljs-string">&quot;Blizzard&quot;</span>, <span class="hljs-literal">true</span>)</span></span>;<br>    <span class="hljs-function">TableTennisPlayer <span class="hljs-title">player2</span><span class="hljs-params">(<span class="hljs-string">&quot;Tara&quot;</span>, <span class="hljs-string">&quot;Boomdea&quot;</span>, <span class="hljs-literal">false</span>)</span></span>;<br>    player<span class="hljs-number">1.</span><span class="hljs-built_in">Name</span>();<br>    <span class="hljs-keyword">if</span> (player<span class="hljs-number">1.</span><span class="hljs-built_in">HasTable</span>())<br>        cout &lt;&lt; <span class="hljs-string">&quot;: has a table.\n&quot;</span>;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;: hasn&#x27;t a table.\n&quot;</span>;<br>    player<span class="hljs-number">2.</span><span class="hljs-built_in">Name</span>();<br>    <span class="hljs-keyword">if</span> (player<span class="hljs-number">2.</span><span class="hljs-built_in">HasTable</span>())<br>        cout &lt;&lt; <span class="hljs-string">&quot;: has a table&quot;</span>;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;: hasn&#x27;t a table.\n&quot;</span>;<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘è¦åœ¨è¿™ä¸ªç±»çš„åŸºç¡€ä¹‹ä¸Šæ´¾ç”Ÿå‡ºä¸€ä¸ªæ–°çš„ç±»ï¼Œæ¥è®°å½•ä¹’ä¹“çƒè¿åŠ¨å‘˜åœ¨æ¯”èµ›ä¸­çš„å¾—åˆ†ã€‚</p><p>å…ˆæ¥çœ‹å†™å¥½çš„å¤´æ–‡ä»¶ï¼Œå†æ¥é€è¡Œè§£æï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// tabtenn1.h -- a table-tennis base class</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> TABTENN1_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> TABTENN1_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> std::string;<br><span class="hljs-comment">// simple base class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TableTennisPlayer</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    string firstname;<br>    string lastname;<br>    <span class="hljs-type">bool</span> hasTable;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">TableTennisPlayer</span> (<span class="hljs-type">const</span> string &amp; fn = <span class="hljs-string">&quot;none&quot;</span>,<span class="hljs-type">const</span> string &amp; ln = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">bool</span> ht = <span class="hljs-literal">false</span>);<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">HasTable</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> hasTable; &#125;;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetTable</span><span class="hljs-params">(<span class="hljs-type">bool</span> v)</span> </span>&#123; hasTable = v; &#125;;<br>&#125;;<br><br><span class="hljs-comment">// simple derived class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RatedPlayer</span> : <span class="hljs-keyword">public</span> TableTennisPlayer<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> rating;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">RatedPlayer</span> (<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>, <span class="hljs-type">const</span> string &amp; fn = <span class="hljs-string">&quot;none&quot;</span>,<br>                 <span class="hljs-type">const</span> string &amp; ln = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">bool</span> ht = <span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> TableTennisPlayer &amp; tp);<br>    <span class="hljs-function"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> <span class="hljs-title">Rating</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> rating; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetRating</span> <span class="hljs-params">(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r)</span> </span>&#123;rating = r;&#125;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><p>å¾ˆå®¹æ˜“çš„çœ‹å‡ºï¼Œ<code>RatedPlayer</code>æ˜¯ä»<code>TableTennisPlayer</code>æ´¾ç”Ÿå‡ºæ¥çš„æ´¾ç”Ÿç±»ã€‚æœ€åŸºæœ¬çš„è¯­æ³•å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RatedPlayer</span> : <span class="hljs-keyword">public</span> TableTennisPlayer<br>&#123;<br><span class="hljs-keyword">private</span>:<br><span class="hljs-comment">//your Declaration here</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">//your Declaration here</span><br>&#125;;<br><br></code></pre></td></tr></table></figure><p>å†’å·æŒ‡å‡º <code>RatedPlayer</code> ç±»çš„åŸºç±»æ˜¯ <code>TableTennisplayer</code> ç±»ã€‚ä¸Šè¿°ç‰¹æ®Šçš„å£°æ˜å¤´è¡¨æ˜ <code>TableTennisPlayer</code> æ˜¯ä¸€ä¸ª<strong>å…¬æœ‰åŸºç±»</strong>ï¼Œè¿™è¢«ç§°ä¸º<strong>å…¬æœ‰æ´¾ç”Ÿ</strong>ã€‚<strong>æ´¾ç”Ÿç±»å¯¹è±¡åŒ…å«åŸºç±»å¯¹è±¡</strong>ã€‚ä½¿ç”¨å…¬æœ‰æ´¾ç”Ÿï¼Œ<strong>åŸºç±»çš„å…¬æœ‰æˆå‘˜å°†æˆä¸ºæ´¾ç”Ÿç±»çš„å…¬æœ‰æˆå‘˜</strong>ï¼›<strong>åŸºç±»çš„ç§æœ‰éƒ¨åˆ†ä¹Ÿå°†æˆä¸ºæ´¾ç”Ÿç±»çš„ä¸€éƒ¨åˆ†</strong>ï¼Œä½†åªèƒ½é€šè¿‡åŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æ–¹æ³•è®¿é—®ï¼ˆç¨åå°†ä»‹ç»ä¿æŠ¤æˆå‘˜ï¼‰ã€‚</p><p><code>Ratedplayer</code>å¯¹è±¡å°†å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>æ´¾ç”Ÿç±»å¯¹è±¡å­˜å‚¨äº†åŸºç±»çš„æ•°æ®æˆå‘˜ï¼ˆæ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»çš„å®ç°ï¼‰ï¼›</li><li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼ˆæ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»çš„æ¥å£ï¼‰ã€‚</li></ul><blockquote><p>æ´¾ç”Ÿç±»å°±åƒåŸºç±»çš„â€œå„¿å­â€ï¼Œå­æ‰¿çˆ¶ä¸šï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿çˆ¶äº²çš„æ‰€æœ‰é—äº§ã€‚</p></blockquote><p>è¿™æ˜¯<strong>ç»§æ‰¿</strong>çš„éƒ¨åˆ†ï¼ŒåŒæ—¶ï¼Œæ´¾ç”Ÿç±»ä¹Ÿå¯ä»¥å®ç°è‡ªå·±çš„æ–°æ–¹æ³•å’Œæ–°æˆå‘˜ï¼Œè¿™ä¹Ÿåœ¨3~6è¡Œçš„ä»£ç å¤„å®šä¹‰ã€‚</p><ul><li>æ´¾ç”Ÿç±»<strong>éœ€è¦</strong>è‡ªå·±çš„æ„é€ å‡½æ•°ï¼ˆ<strong>è¿™å¾ˆé‡è¦ï¼</strong>ï¼‰</li><li>æ´¾ç”Ÿç±»å¯ä»¥æ·»åŠ é¢å¤–çš„æ•°æ®æ–¹æ³•å’Œæ•°æ®æˆå‘˜ã€‚</li></ul><h3 id="æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼šè®¿é—®æƒé™çš„è€ƒè™‘"><a href="#æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼šè®¿é—®æƒé™çš„è€ƒè™‘" class="headerlink" title="æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼šè®¿é—®æƒé™çš„è€ƒè™‘"></a>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ï¼šè®¿é—®æƒé™çš„è€ƒè™‘</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">RatedPlayer</span> (<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>, <span class="hljs-type">const</span> string &amp; fn = <span class="hljs-string">&quot;none&quot;</span>,<br>             <span class="hljs-type">const</span> string &amp; ln = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">bool</span> ht = <span class="hljs-literal">false</span>);<br><span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> TableTennisPlayer &amp; tp);<br></code></pre></td></tr></table></figure><p>ä¸Šæ–‡ä»£ç æ˜¯æ´¾ç”Ÿç±»ä¸­å®ç°çš„ä¸¤ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥çœ‹å‡ºï¼Œæ„é€ å‡½æ•°è¦åŒæ—¶å®šä¹‰<strong>åŸæœ‰åŸºç±»çš„æ•°æ®æˆå‘˜å’Œæ–°æ·»åŠ çš„æ•°æ®æˆå‘˜</strong>ï¼ˆç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°ï¼‰ã€‚å½“ç„¶ï¼Œå·æ‡’ä¸€ç‚¹ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨åˆ°<strong>åŸºç±»çš„å¯¹è±¡</strong>ï¼ˆç¬¬äºŒä¸ªæ„é€ å‡½æ•°ï¼‰ã€‚</p><p>ä½†æ˜¯ï¼Œæ„é€ å‡½æ•°çš„è®¾è®¡å¹¶ä¸æ˜¯åƒæƒ³è±¡çš„é‚£ä¹ˆç®€å•ã€‚å‰æ–‡çš„<code>Introduction</code>è®²è¿‡ï¼Œæ´¾ç”Ÿç±»ç”šè‡³å¯ä»¥åœ¨ä¸è®¿é—®åŸºç±»çš„æƒ…å†µä¸‹å®ç°ç»§æ‰¿ã€‚å®é™…ä¸Šï¼Œ<strong>æ´¾ç”Ÿç±»ä¸å¯ä»¥ç›´æ¥è®¿é—®åŸºç±»çš„ç§æœ‰æˆå‘˜ï¼Œè€Œå¿…é¡»é€šè¿‡åŸºç±»å®šä¹‰çš„æ–¹æ³•è¿›è¡Œè®¿é—®ï¼ˆå’Œå¤–éƒ¨çš„å‡½æ•°ä¸€æ ·ï¼Œåªèƒ½é€šè¿‡æ¥å£è¿›è¡Œè®¿é—®ï¼‰</strong>ï¼Œæ¢å¥è¯æ¥è¯´ï¼Œ<strong>æ´¾ç”Ÿç±»æ„é€ å‡½æ•°å¿…é¡»ä½¿ç”¨åŸºç±»æ„é€ å‡½æ•°</strong>ã€‚</p><h4 id="ç¬¬ä¸€ç§æ„é€ å‡½æ•°"><a href="#ç¬¬ä¸€ç§æ„é€ å‡½æ•°" class="headerlink" title="ç¬¬ä¸€ç§æ„é€ å‡½æ•°"></a>ç¬¬ä¸€ç§æ„é€ å‡½æ•°</h4><p>è¿™ç‚¹å°±æ˜¾å¾—éå¸¸çŸ›ç›¾äº†ï¼Œå› ä¸ºä»ä¸Šæ–‡ç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°çš„è§†è§’çœ‹è¿‡å»ï¼Œæˆ‘ä»¬è²Œä¼¼<strong>ç»™æ´¾ç”Ÿç±»çš„æ¯ä¸€ä¸ªç§æœ‰æˆå‘˜æä¾›äº†æ•°æ®ï¼Œè²Œä¼¼å¯ä»¥ç›´æ¥è®¿é—®æ‰€æœ‰çš„ç§æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬åŸºç±»å’Œæ´¾ç”Ÿç±»</strong>ã€‚å®é™…ä¸Šï¼Œå¹¶ä¸æ˜¯è¿™æ ·ï¼Œä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†è§£é‡Šè¿™ä¸€ç‚¹ã€‚</p><p>æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ï¼Œç»™å‡ºç¬¬ä¸€ä¸ªæ„é€ å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//å‡½æ•°å£°æ˜</span><br><span class="hljs-built_in">RatedPlayer</span> (<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>, <span class="hljs-type">const</span> string &amp; fn = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">const</span> string &amp; ln = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">bool</span> ht = <span class="hljs-literal">false</span>);<br><br><span class="hljs-comment">//å‡½æ•°å®šä¹‰</span><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> string &amp; fn,<span class="hljs-type">const</span> string &amp; ln, <span class="hljs-type">bool</span> ht) : <span class="hljs-built_in">TableTennisPlayer</span>(fn, ln, ht)<br>&#123;<br>    rating = r;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œç¨‹åºé¦–å…ˆä¼šåˆ›å»º<strong>åŸºç±»å¯¹è±¡</strong>ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨æ´¾ç”Ÿç±»å¯¹è±¡çš„æ„é€ å‡½æ•°æ—¶ï¼Œå¯¹åº”çš„åŸºç±»å¯¹è±¡å·²ç»å­˜åœ¨ã€‚</p><blockquote><p>è¿™å¾ˆå¥½ç†è§£ï¼Œå„¿å­å‡ºç”Ÿä¹‹å‰ï¼Œçˆ¸çˆ¸è‚¯å®šå¾—å‡ºç”Ÿã€‚</p></blockquote><p>ç†è§£äº†è¿™ä¸€ç‚¹åï¼Œæˆ‘ä»¬å†æ¥çœ‹å‡½æ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬ä¼šå‘ç°å¾ˆç‹¬ç‰¹çš„ä¸€è¡Œï¼Œ<code>TableTennisPlayer(fn, ln, ht)</code>ã€‚è¿™è¡Œä»£ç å«<strong>æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨</strong>ï¼Œæ˜¯å¯æ‰§è¡Œçš„ä»£ç ï¼Œç”¨æ¥è°ƒç”¨åŸºç±»<code>TableTennisPlayer</code>çš„æ„é€ å‡½æ•°ã€‚<code>fn, ln, ht</code>ä½œä¸ºä¸‰ä¸ªå½¢å¼å‚æ•°ï¼Œæ¥å—å®å‚å¹¶å°†å…¶æœ¬èº«ä¼ é€’ç»™<code>TableTennisPlayer</code>æ„é€ å‡½æ•°çš„å½¢å¼å‚æ•°ï¼Œåè€…å°†åˆ›å»ºä¸€ä¸ª<strong>åµŒå¥—çš„åŸºç±»å¯¹è±¡</strong>ï¼ˆå…ˆåˆ›å»ºçˆ¸çˆ¸ï¼‰ï¼Œæ¥ç€ï¼Œè¿›å…¥æ´¾ç”Ÿç±»å‡½æ•°çš„å‡½æ•°ä½“ï¼Œå®Œæˆå¯¹æ´¾ç”Ÿç±»å¯¹è±¡çš„åˆ›å»ºã€‚ï¼ˆå†åˆ›å»ºå„¿å­ï¼‰</p><p>å¦‚æœçœç•¥äº†æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ï¼Œé‚£ä¹ˆç¨‹åºä¼šè°ƒç”¨<strong>é»˜è®¤çš„æ„é€ å‡½æ•°</strong>åˆ›å»ºä¸€ä¸ªåŸºç±»å¯¹è±¡ï¼Œè€Œæ— æ³•ä½¿ç”¨æ˜¾å¼çš„æ„é€ å‡½æ•°ï¼Œç¨‹åºå°±æ— æ³•è¯»å–åˆ°æˆ‘ä»¬å¸Œæœ›èµ‹ç»™å¯¹è±¡çš„æ•°æ®ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//æ²¡æœ‰æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨çš„æƒ…å†µ</span><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> string &amp; fn,<span class="hljs-type">const</span> string &amp; ln, <span class="hljs-type">bool</span> ht) : <br>&#123;<br>    rating = r;<br>&#125;<br><br><span class="hljs-comment">//ä¸ä¸‹é¢çš„ä»£ç ç­‰æ•ˆ</span><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> string &amp; fn,<span class="hljs-type">const</span> string &amp; ln, <span class="hljs-type">bool</span> ht) : <br><span class="hljs-built_in">TableTennisPlayer</span>()<br><span class="hljs-comment">//ä½¿ç”¨æ— å‚æ•°çš„é»˜è®¤æ„é€ å‡½æ•°</span><br>&#123;<br>    rating = r;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç¬¬äºŒç§æ„é€ å‡½æ•°"><a href="#ç¬¬äºŒç§æ„é€ å‡½æ•°" class="headerlink" title="ç¬¬äºŒç§æ„é€ å‡½æ•°"></a>ç¬¬äºŒç§æ„é€ å‡½æ•°</h4><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ç¬¬äºŒç§æ›´åŠ ç®€æ´çš„æ„é€ å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//å‡½æ•°å£°æ˜</span><br><span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> TableTennisPlayer &amp; tp);<br><br><span class="hljs-comment">//å‡½æ•°å®šä¹‰</span><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> TableTennisPlayer &amp; tp)<br>    : <span class="hljs-built_in">TableTennisPlayer</span>(tp)<br>&#123;<br>        rating=r;<br>&#125;<br><br><span class="hljs-comment">//å‡½æ•°å®šä¹‰çš„ç­‰ä»·å½¢å¼</span><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> TableTennisPlayer &amp; tp)<br>    : <span class="hljs-built_in">TableTennisPlayer</span>(tp), <span class="hljs-built_in">rating</span>(r)<br>&#123;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ¥çœ‹è¿™é‡Œçš„åˆå§‹åŒ–æˆå‘˜åˆ—è¡¨ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ª<code>const TableTennisPlayer &amp;</code>ç±»å‹ï¼Œå› æ­¤ï¼Œç³»ç»Ÿä¼šè°ƒç”¨é»˜è®¤çš„<strong>å¤åˆ¶æ„é€ å‡½æ•°</strong>ï¼ˆè¿™æ˜¯ä¸ªå¾ˆæœ‰è¶£çš„é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨<a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">ç¬¬åäºŒç« </a>çš„æ—¶å€™é‡ç‚¹è®¨è®ºäº†ï¼Œè¿™é‡Œä½¿ç”¨é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°æ˜¯ä¸ä¼šäº§ç”Ÿä»»ä½•é—®é¢˜çš„ï¼‰ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹<strong>æ´¾ç”Ÿç±»æˆå‘˜ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</strong>ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨æˆå‘˜åè€Œä¸æ˜¯ç±»åã€‚</p><blockquote><p>é‡Šæ”¾å¯¹è±¡çš„é¡ºåºä¸åˆ›å»ºå¯¹è±¡çš„é¡ºåºç›¸åï¼Œå³é¦–å…ˆæ‰§è¡Œæ´¾ç”Ÿç±»çš„ææ„å‡½æ•°ï¼Œç„¶åè‡ªåŠ¨è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ã€‚  </p></blockquote><div class="note note-success">            <p><strong>å°æ€»ç»“</strong>ï¼š åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œç¨‹åºé¦–å…ˆ<strong>è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°</strong>ï¼Œç„¶åå†<strong>è°ƒç”¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°</strong>ã€‚åŸºç±»æ„é€ å‡½æ•°è´Ÿè´£åˆå§‹åŒ–ç»§æ‰¿çš„æ•°æ®æˆå‘˜ï¼›æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¸»è¦ç”¨äºåˆå§‹åŒ–æ–°å¢çš„æ•°æ®æˆå‘˜ã€‚æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°æ€»æ˜¯è°ƒç”¨ä¸€ä¸ªåŸºç±»æ„é€ å‡½æ•°ã€‚å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–å™¨åˆ—è¡¨è¯­æ³•æŒ‡æ˜è¦ä½¿ç”¨çš„åŸºç±»æ„é€ å‡½æ•°ï¼Œå¦åˆ™å°†ä½¿ç”¨é»˜è®¤çš„åŸºç±»æ„é€ å‡½æ•°ã€‚æ´¾ç”Ÿç±»å¯¹è±¡è¿‡æœŸæ—¶ï¼Œç¨‹åºå°†é¦–å…ˆè°ƒç”¨æ´¾ç”Ÿç±»ææ„å‡½æ•°ï¼Œç„¶åå†è°ƒç”¨åŸºç±»ææ„å‡½æ•°ã€‚</p>          </div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºæ´¾ç”Ÿç±»çš„å…¨éƒ¨å‡½æ•°å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//tabtenn1.cpp -- simple base-class methods</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;tabtenn1.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br>TableTennisPlayer::<span class="hljs-built_in">TableTennisPlayer</span> (<span class="hljs-type">const</span> string &amp; fn, <br>    <span class="hljs-type">const</span> string &amp; ln, <span class="hljs-type">bool</span> ht) : <span class="hljs-built_in">firstname</span>(fn),<span class="hljs-built_in">lastname</span>(ln), <span class="hljs-built_in">hasTable</span>(ht) &#123;&#125;<br>    <br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">TableTennisPlayer::Name</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    std::cout &lt;&lt; lastname &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; firstname;<br>&#125;<br><br><span class="hljs-comment">// RatedPlayer methods</span><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> string &amp; fn,<br>    <span class="hljs-type">const</span> string &amp; ln, <span class="hljs-type">bool</span> ht) : <span class="hljs-built_in">TableTennisPlayer</span>(fn, ln, ht)<br>&#123;<br>    rating = r;<br>&#125;<br><br>RatedPlayer::<span class="hljs-built_in">RatedPlayer</span>(<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> r, <span class="hljs-type">const</span> TableTennisPlayer &amp; tp)<br>    : <span class="hljs-built_in">TableTennisPlayer</span>(tp), <span class="hljs-built_in">rating</span>(r)<br>&#123;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨æ´¾ç”Ÿç±»"><a href="#ä½¿ç”¨æ´¾ç”Ÿç±»" class="headerlink" title="ä½¿ç”¨æ´¾ç”Ÿç±»"></a>ä½¿ç”¨æ´¾ç”Ÿç±»</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// usett1.cpp -- using base class and derived class</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;tabtenn1.h&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">( <span class="hljs-type">void</span> )</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">using</span> std::cout;<br>    <span class="hljs-keyword">using</span> std::endl;<br>    <span class="hljs-function">TableTennisPlayer <span class="hljs-title">player1</span><span class="hljs-params">(<span class="hljs-string">&quot;Tara&quot;</span>, <span class="hljs-string">&quot;Boomdea&quot;</span>, <span class="hljs-literal">false</span>)</span></span>;<br>    <span class="hljs-function">RatedPlayer <span class="hljs-title">rplayer1</span><span class="hljs-params">(<span class="hljs-number">1140</span>, <span class="hljs-string">&quot;Mallory&quot;</span>, <span class="hljs-string">&quot;Duck&quot;</span>, <span class="hljs-literal">true</span>)</span></span>;<br>    rplayer<span class="hljs-number">1.</span><span class="hljs-built_in">Name</span>();          <span class="hljs-comment">// derived object uses base method</span><br>    <span class="hljs-keyword">if</span> (rplayer<span class="hljs-number">1.</span><span class="hljs-built_in">HasTable</span>())<br>        cout &lt;&lt; <span class="hljs-string">&quot;: has a table.\n&quot;</span>;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;: hasn&#x27;t a table.\n&quot;</span>;<br>    player<span class="hljs-number">1.</span><span class="hljs-built_in">Name</span>();           <span class="hljs-comment">// base object uses base method</span><br>    <span class="hljs-keyword">if</span> (player<span class="hljs-number">1.</span><span class="hljs-built_in">HasTable</span>())<br>        cout &lt;&lt; <span class="hljs-string">&quot;: has a table&quot;</span>;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;: hasn&#x27;t a table.\n&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Name: &quot;</span>;<br>    rplayer<span class="hljs-number">1.</span><span class="hljs-built_in">Name</span>();<br>    cout &lt;&lt; <span class="hljs-string">&quot;; Rating: &quot;</span> &lt;&lt; rplayer<span class="hljs-number">1.</span><span class="hljs-built_in">Rating</span>() &lt;&lt; endl;<br><span class="hljs-comment">// initialize RatedPlayer using TableTennisPlayer object</span><br>    <span class="hljs-function">RatedPlayer <span class="hljs-title">rplayer2</span><span class="hljs-params">(<span class="hljs-number">1212</span>, player1)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Name: &quot;</span>;<br>    rplayer<span class="hljs-number">2.</span><span class="hljs-built_in">Name</span>();<br>    cout &lt;&lt; <span class="hljs-string">&quot;; Rating: &quot;</span> &lt;&lt; rplayer<span class="hljs-number">2.</span><span class="hljs-built_in">Rating</span>() &lt;&lt; endl;<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»"><a href="#æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»" class="headerlink" title="æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»"></a>æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»</h3><p>ç”¨å½¢è±¡çš„è¯è¯´ï¼Œæ´¾ç”Ÿç±»æ˜¯å„¿å­ï¼Œç»§æ‰¿è‡ªåŸºç±»ï¼ˆçˆ¸çˆ¸ï¼‰çš„æ–¹æ³•å’Œæ•°æ®æˆå‘˜ã€‚ä½†æ˜¯ï¼ŒåŸºç±»åˆæœ‰è‡ªå·±çš„â€œéšç§â€ï¼Œæ´¾ç”Ÿç±»æ˜¯èƒ½é€šè¿‡å…¬å…±æ¥å£å®ç°å¯¹åŸºç±»çš„è®¿é—®ï¼Œå³æ— æ³•ç›´æ¥è®¿é—®å…¶ç§æœ‰æˆå‘˜ã€‚</p><blockquote><p>æ´¾ç”Ÿç±»ç›¸å½“äºä¸€ç§<strong>åœ¨å®šä¹‰å’Œç»“æ„ä¸Š</strong>è·å¾—â€œæƒé™â€çš„ç±»ï¼Œæƒé™åœ¨äºå¯ä»¥ç›´æ¥ç»§æ‰¿åŸºç±»æ‰€å®šä¹‰å¥½çš„æˆå‘˜å’Œæ–¹æ³•ï¼ˆåœ¨å®šä¹‰å±‚é¢çš„<strong>ç»§æ‰¿</strong>ï¼‰ï¼Œä½†æ˜¯<strong>åœ¨æ“ä½œä¸Š</strong>ï¼Œæ´¾ç”Ÿç±»å¹¶æ²¡æœ‰ä»åŸºç±»å¤„è·å¾—ä»»ä½•ç‰¹æƒï¼Œä¸èƒ½è®¿é—®çš„è¿˜æ˜¯ä¸èƒ½è®¿é—®ã€‚</p></blockquote><p>ä»è¿™æ¡å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥å½’çº³æ´¾ç”Ÿç±»å’ŒåŸºç±»ä¹‹é—´çš„ç‰¹æ®Šå…³ç³»ï¼š</p><ul><li>æ´¾ç”Ÿç±»å¯¹è±¡å¯ä»¥ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ï¼Œæ¡ä»¶æ˜¯<strong>æ–¹æ³•ä¸æ˜¯ç§æœ‰çš„</strong>ã€‚</li><li><strong>åŸºç±»æŒ‡é’ˆå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</strong></li><li><strong>åŸºç±»å¼•ç”¨å¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</strong></li></ul><blockquote><p>äºŒã€ä¸‰ä¸¤æ¡éå¸¸çš„é‡è¦ï¼Œ<strong>æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§</strong>ç¡®ä¿äº†å…¶å¯ä»¥åœ¨åŸºç±»å’Œæ´¾ç”Ÿç±»ä¹‹é—´åå¤æ¨ªè·³ï¼Œæ›´åŠ çš„çµæ´»ã€‚ï¼ˆåŒæ—¶ä¹Ÿæ›´åŠ çš„å¤æ‚å’Œå±é™©ï¼‰</p></blockquote><h4 id="åŸºç±»æŒ‡é’ˆå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡"><a href="#åŸºç±»æŒ‡é’ˆå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡" class="headerlink" title="åŸºç±»æŒ‡é’ˆå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡"></a>åŸºç±»æŒ‡é’ˆå¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123; cout &lt;&lt; <span class="hljs-string">&quot;Base class&quot;</span> &lt;&lt; endl; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123; cout &lt;&lt; <span class="hljs-string">&quot;Derived class&quot;</span> &lt;&lt; endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Derived d;<br>    Base* basePtr = &amp;d; <span class="hljs-comment">// åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</span><br>    basePtr-&gt;<span class="hljs-built_in">display</span>(); <span class="hljs-comment">// è¾“å‡º: Derived class (å¤šæ€è¡Œä¸º)</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="åŸºç±»å¼•ç”¨å¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚"><a href="#åŸºç±»å¼•ç”¨å¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚" class="headerlink" title="åŸºç±»å¼•ç”¨å¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚"></a>åŸºç±»å¼•ç”¨å¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾ç¤ºè½¬æ¢çš„æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡ã€‚</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123; cout &lt;&lt; <span class="hljs-string">&quot;Base class&quot;</span> &lt;&lt; endl; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123; cout &lt;&lt; <span class="hljs-string">&quot;Derived class&quot;</span> &lt;&lt; endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Derived d;<br>    Base&amp; baseRef = d; <span class="hljs-comment">// åŸºç±»å¼•ç”¨ç»‘å®šåˆ°æ´¾ç”Ÿç±»å¯¹è±¡</span><br>    baseRef.<span class="hljs-built_in">display</span>(); <span class="hljs-comment">// è¾“å‡º: Derived class (å¤šæ€è¡Œä¸º)</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>æ³¨æ„å…³é”®è¯<code>virtual</code>ï¼Œä¹‹åä¼šè®²åˆ°ï¼Œå¦åˆ™ä¼šå‘ç”Ÿé™æ€ç»‘å®šç°è±¡ã€‚</p></blockquote><ul><li>åŸºç±»æŒ‡é’ˆå’Œå¼•ç”¨åªèƒ½è°ƒç”¨åŸºç±»æ–¹æ³•ï¼Œè€Œä¸å¯ä»¥è°ƒç”¨æ´¾ç”Ÿç±»çš„æ–¹æ³•ã€‚<ul><li>å› ä¸ºæ´¾ç”Ÿç±»å…è®¸æ·»åŠ æ–°çš„æ•°æ®æˆå‘˜ï¼Œå¦‚æœå…è®¸è°ƒç”¨ä¼šäº§ç”Ÿå¾ˆå¤šå¥‡æ€ªçš„é—®é¢˜ã€‚</li></ul></li><li>åŸºç±»æŒ‡é’ˆå’Œåº”ç”¨å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»çš„å¯¹è±¡<ul><li><a href="https://blog.csdn.net/goodgoodstudy___/article/details/124905482">è¿™ç¯‡è®²çš„å¾ˆæ¸…æ¥š</a></li><li>è¿™é‡Œæ¶‰åŠåˆ°ä¸€äº›æœ‰å…³è™šå‡½æ•°çš„çŸ¥è¯†ç‚¹ï¼Œæš‚æ—¶å…ˆè·³è¿‡ã€‚</li></ul></li><li><strong>åŸºç±»å¯¹è±¡ä¹Ÿå¯ä»¥è¢«æ´¾ç”Ÿç±»å¯¹è±¡åˆå§‹åŒ–ï¼ˆæˆ–èµ‹å€¼ï¼‰</strong></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">RatedPlayer <span class="hljs-title">player1</span><span class="hljs-params">(<span class="hljs-number">1840</span>,<span class="hljs-string">&quot;o1&quot;</span>,<span class="hljs-string">&quot;Loaf&quot;</span>,<span class="hljs-literal">true</span>)</span></span>;<br><span class="hljs-function">TableTennisPlayer <span class="hljs-title">player2</span><span class="hljs-params">(player1)</span></span>;    <span class="hljs-comment">//VALID</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥ç”¨<strong>å¼•ç”¨å…¼å®¹æ€§</strong>çš„å±æ€§æ¥è§£é‡Šè¿™ä¸ªé—®é¢˜ï¼Œè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°æ—¶ä¸å­˜åœ¨åŒ¹é…çš„æ„é€ å‡½æ•°ï¼Œæ•…ä¼šè°ƒç”¨éšå¼å¤åˆ¶æ„é€ å‡½æ•°<code>TableTennisPlayer(const TableTennisPlayer&amp;)</code>ï¼Œå½¢å‚æ˜¯<strong>å¯¹åŸºç±»çš„å¼•ç”¨</strong>ï¼Œ<strong>å¯ä»¥åœ¨ä¸è¿›è¡Œæ˜¾å¼è½¬æ¢çš„</strong>æƒ…å†µä¸‹å¼•ç”¨æ´¾ç”Ÿç±»å¯¹è±¡<code>player1</code>ã€‚å› æ­¤ï¼Œå¤åˆ¶æ„é€ å‡½æ•°å°†åµŒå¥—åœ¨<code>player1</code>åŸºç±»ä¸­çš„<code>TableTennisPlayer</code>èµ‹å€¼ç»™äº†<code>player2</code>ã€‚</p><h2 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h2><p>æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»åœ¨æœ¬è´¨ä¸ŠåŸºäºC++ç»§æ‰¿çš„åº•å±‚æ¨¡å‹ã€‚C++æœ‰å¸¸è§çš„ä¸‰ç§ç»§æ‰¿æ–¹å¼ï¼š</p><ul><li><p>å…¬æœ‰ç»§æ‰¿ï¼ˆ<strong>is-aå…³ç³»</strong>ï¼‰</p><ul><li>æ´¾ç”Ÿç±»ä¹Ÿæ˜¯ä¸€ä¸ªåŸºç±»å¯¹è±¡ï¼Œå¯ä»¥æ‰§è¡ŒåŸºç±»å¯¹è±¡æ‰§è¡Œçš„ä»»ä½•æ“ä½œã€‚</li><li><strong>is-aï¼šis a kind of</strong>ï¼ˆå¾€å¾€æ˜¯æŠ½è±¡ä¸å…·è±¡çš„å…³ç³»ï¼‰</li></ul><blockquote><p>å¦‚æœä¸€ä¸ªæ´¾ç”Ÿç±»é€‰æ‹©ä»¥<strong>å…¬æœ‰ç»§æ‰¿</strong>çš„æ–¹å¼ï¼Œé‚£ä¹ˆåº”è¯¥å¯ä»¥è¢«æ”¹å†™æˆ<strong>XX is a kind of XXX</strong>çš„å½¢å¼ã€‚ä¾‹å¦‚ï¼Œé¦™è•‰ç±»å…¬æœ‰ç»§æ‰¿æ°´æœç±»ï¼ˆé¦™è•‰ç±»å¯ä»¥ä½¿ç”¨æ°´æœç±»çš„æ‰€æœ‰æ•°æ®å’Œæ–¹æ³•ï¼ŒåŒæ—¶é¦™è•‰ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„æ•°æ®æˆå‘˜å’Œæ–¹æ³•ï¼‰ï¼Œå¯ä»¥è¯´Banana is a kind of fruit.</p></blockquote><blockquote><p>é™¤äº†<strong>is a</strong>è¿˜æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿæœ‰å¾ˆå¤šï¼Œæ¯”å¦‚<strong>has-a, is-like-a, is-implemented-as-a, uses-a</strong>ç­‰ç­‰å…³ç³»ï¼Œä¸è¿‡ï¼Œè¿™äº›éƒ½ä¸é€‚åˆä½¿ç”¨å…¬æœ‰ç»§æ‰¿çš„æ–¹å¼å®ç°ã€‚</p></blockquote></li><li><p>ä¿æŠ¤ç»§æ‰¿</p></li><li><p>ç§æœ‰ç»§æ‰¿</p></li></ul><h3 id="å¤šæ€å…¬æœ‰ç»§æ‰¿"><a href="#å¤šæ€å…¬æœ‰ç»§æ‰¿" class="headerlink" title="å¤šæ€å…¬æœ‰ç»§æ‰¿"></a>å¤šæ€å…¬æœ‰ç»§æ‰¿</h3><p>åœ¨ä¼ ç»Ÿçš„ç»§æ‰¿å…³ç³»ä¸­ï¼Œæ´¾ç”Ÿç±»å¯ä»¥ä½¿ç”¨åŸºç±»çš„æˆå‘˜å‡½æ•°ï¼ˆåªè¦ä»–ä¸æ˜¯ç§æœ‰æˆå‘˜ï¼‰ã€‚ä½†æœ‰æ—¶ï¼Œæ´¾ç”Ÿç±»å¸Œæœ›ä¸ªæ€§åŒ–åœ°ä¿®æ”¹åŸºç±»æˆå‘˜å‡½æ•°çš„æ–¹æ³•æ¥å®ç°ä¸ªæ€§åŒ–çš„ç›®çš„ï¼Œå› æ­¤æœ‰å¿…è¦å¯¹åŸºç±»æˆå‘˜å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œè€Œé<strong>å®Œå…¨å®ç°</strong>ã€‚è¿™ç§æ€æƒ³è¢«ç§°ä½œ<strong>å¤šæ€</strong>ï¼Œè¿™ç§ç»§æ‰¿æ–¹å¼ä¹Ÿè¢«ç§°ä½œå¤šæ€å…¬æœ‰ç»§æ‰¿ã€‚</p><h4 id="ä¾‹å­ï¼šBrass-Plusç±»å’ŒBrassç±»"><a href="#ä¾‹å­ï¼šBrass-Plusç±»å’ŒBrassç±»" class="headerlink" title="ä¾‹å­ï¼šBrass Plusç±»å’ŒBrassç±»"></a>ä¾‹å­ï¼š<code>Brass Plusç±»</code>å’Œ<code>Brassç±»</code></h4><p>ä¹¦ä¸Šç»™å‡ºäº†å¦ä¸€ä¸ªæœ‰å…³é“¶è¡Œçš„ä¾‹å­ï¼Œæœ‰å…³ç±»çš„å®ç°åŸç†è¯·è‡ªè¡Œé˜…è¯»ã€‚</p><blockquote><p>ç°åœ¨æ¥çœ‹å¦ä¸€ä¸ªä¾‹å­ã€‚ç”±äº Webtown ä¿±ä¹éƒ¨çš„å·¥ä½œç»å†ï¼Œæ‚¨æˆäº† Pontoon é“¶è¡Œçš„é¦–å¸­ç¨‹åºå‘˜ã€‚é“¶è¡Œè¦æ±‚æ‚¨å®Œæˆçš„ç¬¬ä¸€é¡¹å·¥ä½œæ˜¯å¼€å‘ä¸¤ä¸ªç±»ã€‚ä¸€ä¸ªç±»ç”¨äºè¡¨ç¤ºåŸºæœ¬æ”¯ç¥¨è´¦æˆ·â€”Brass Accountï¼Œå¦ä¸€ä¸ªç±»ç”¨äºè¡¨ç¤ºä»£è¡¨ Brass Plus æ”¯ç¥¨è´¦æˆ·ï¼Œå®ƒæ·»åŠ äº†é€æ”¯ä¿æŠ¤ç‰¹æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”¨æˆ·ç­¾å‡ºä¸€å¼ è¶…å‡ºå…¶å­˜æ¬¾ä½™é¢çš„æ”¯ç¥¨â€”â€”ä½†æ˜¯è¶…å‡ºçš„æ•°é¢å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œé“¶è¡Œå°†æ”¯ä»˜è¿™å¼ æ”¯ç¥¨ï¼Œå¯¹è¶…å‡ºçš„éƒ¨åˆ†æ”¶å–é¢å¤–çš„è´¹ç”¨ï¼Œå¹¶è¿½åŠ ç½šæ¬¾ã€‚å¯ä»¥æ ¹æ®è¦ä¿å­˜çš„æ•°æ®ä»¥åŠå…è®¸æ‰§è¡Œçš„æ“ä½œæ¥ç¡®å®šè¿™ä¸¤ç§è´¦æˆ·çš„ç‰¹å¾ã€‚</p><p>ä¸‹é¢æ˜¯ç”¨äº Brass Account æ”¯ç¥¨è´¦æˆ·çš„ä¿¡æ¯ï¼š</p><ul><li>å®¢æˆ·å§“åï¼›</li><li>è´¦å·ï¼›</li><li>å½“å‰ç»“ä½™ã€‚</li></ul><p>ä¸‹é¢æ˜¯å¯ä»¥æ‰§è¡Œçš„æ“ä½œï¼š</p><ul><li>åˆ›å»ºè´¦æˆ·ï¼›</li><li>å­˜æ¬¾ï¼›</li><li>å–æ¬¾ï¼›</li><li>æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯ã€‚</li></ul><p>Pontoon é“¶è¡Œå¸Œæœ› Brass Plus æ”¯ç¥¨è´¦æˆ·åŒ…å« Brass Account çš„æ‰€æœ‰ä¿¡æ¯åŠå¦‚ä¸‹ä¿¡æ¯ï¼š</p><ul><li>é€æ”¯ä¸Šé™ï¼›</li><li>é€æ”¯è´·æ¬¾åˆ©ç‡ï¼›</li><li>å½“å‰çš„é€æ”¯æ€»é¢ã€‚</li></ul><p>ä¸éœ€è¦æ–°å¢æ“ä½œï¼Œä½†æœ‰ä¸¤ç§æ“ä½œçš„å®ç°ä¸åŒï¼š</p><ul><li>å¯¹äºå–æ¬¾æ“ä½œï¼Œå¿…é¡»è€ƒè™‘é€æ”¯ä¿æŠ¤ï¼›</li><li>æ˜¾ç¤ºæ“ä½œå¿…é¡»æ˜¾ç¤º Brass Plus è´¦æˆ·çš„å…¶ä»–ä¿¡æ¯ã€‚</li></ul><p>å‡è®¾å°†ç¬¬ä¸€ä¸ªç±»å‘½åä¸º Brassï¼Œç¬¬äºŒä¸ªç±»ä¸º BrassPlusã€‚åº”ä» Brass å…¬æœ‰æ´¾ç”Ÿå‡º BrassPlus å—ï¼Ÿè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»å…ˆå›ç­”å¦ä¸€ä¸ªé—®é¢˜ï¼š BrassPlus ç±»æ˜¯å¦æ»¡è¶³ is-a æ¡ä»¶ï¼Ÿå½“ç„¶æ»¡è¶³ã€‚å¯¹äº Brass å¯¹è±¡æ˜¯æ­£ç¡®çš„äº‹æƒ…ï¼Œå¯¹äº BrassPlus å¯¹è±¡ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚å®ƒä»¬éƒ½å°†ä¿å­˜å®¢æˆ·å§“åã€è´¦å·ä»¥åŠç»“ä½™ã€‚ä½¿ç”¨è¿™ä¸¤ä¸ªç±»éƒ½å¯ä»¥å­˜æ¬¾ã€å–æ¬¾å’Œæ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯ã€‚è¯·æ³¨æ„ï¼Œ is-a å…³ç³»é€šå¸¸æ˜¯ä¸å¯é€†çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ°´æœä¸æ˜¯é¦™è•‰ï¼›åŒæ ·ï¼Œ Brass å¯¹è±¡ä¸å…·å¤‡ BrassPlus å¯¹è±¡çš„æ‰€æœ‰åŠŸèƒ½ã€‚</p></blockquote><p>æˆ‘ä»¬ç›´æ¥æ¥çœ‹ä»£ç ï¼Œä»¥ä¸‹æ˜¯æœ‰å…³ä¸¤ä¸ªç±»å®ç°çš„å¤´æ–‡ä»¶å£°æ˜ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// brass.h  -- bank account classes</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> BRASS_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> BRASS_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-comment">// Brass Account Class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Brass</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    std::string fullName;<br>    <span class="hljs-type">long</span> acctNum;<br>    <span class="hljs-type">double</span> balance;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Brass</span>(<span class="hljs-type">const</span> std::string &amp; s = <span class="hljs-string">&quot;Nullbody&quot;</span>, <span class="hljs-type">long</span> an = <span class="hljs-number">-1</span>,<br>                <span class="hljs-type">double</span> bal = <span class="hljs-number">0.0</span>);<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Deposit</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Balance</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Brass</span>() &#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//Brass Plus Account Class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BrassPlus</span> : <span class="hljs-keyword">public</span> Brass<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> maxLoan;<br>    <span class="hljs-type">double</span> rate;<br>    <span class="hljs-type">double</span> owesBank;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> std::string &amp; s = <span class="hljs-string">&quot;Nullbody&quot;</span>, <span class="hljs-type">long</span> an = <span class="hljs-number">-1</span>,<br>            <span class="hljs-type">double</span> bal = <span class="hljs-number">0.0</span>, <span class="hljs-type">double</span> ml = <span class="hljs-number">500</span>,<br>            <span class="hljs-type">double</span> r = <span class="hljs-number">0.11125</span>);<br>    <span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> Brass &amp; ba, <span class="hljs-type">double</span> ml = <span class="hljs-number">500</span>, <br>                        <span class="hljs-type">double</span> r = <span class="hljs-number">0.11125</span>);<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">ViewAcct</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetMax</span><span class="hljs-params">(<span class="hljs-type">double</span> m)</span> </span>&#123; maxLoan = m; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetRate</span><span class="hljs-params">(<span class="hljs-type">double</span> r)</span> </span>&#123; rate = r; &#125;;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetOwes</span><span class="hljs-params">()</span> </span>&#123; owesBank = <span class="hljs-number">0</span>; &#125;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><code>BrassPlus</code>ç±»å’Œ<code>Brass</code>ç±»éƒ½å®šä¹‰äº†åŒåå‡½æ•°<code>Withdraw()</code>å’Œ<code>Viewacct()</code>ã€‚<ul><li>ç¼–è¯‘å™¨å°†æ ¹æ®å¯¹è±¡çš„ç±»å‹è‡ªåŠ¨é€‰æ‹©ä½¿ç”¨å“ªä¸ªç±»å®šä¹‰ä¸­çš„å‡½æ•°ã€‚</li></ul></li><li>å‡ºç°äº†æ–°å…³é”®è¯<code>virtual</code><strong>ï¼ˆè™šæ–¹æ³•ï¼‰</strong></li></ul><h4 id="è™šå‡½æ•°"><a href="#è™šå‡½æ•°" class="headerlink" title="è™šå‡½æ•°"></a>è™šå‡½æ•°</h4><p>å‡½æ•°<code>Withdraw()</code>å’Œ<code>Viewacct()</code>ä¸åŒäºä¸€èˆ¬çš„æ–¹æ³• ï¼Œåœ¨åŸºç±»å’Œæ´¾ç”Ÿç±»ä¸­éƒ½æœ‰è‡ªå·±çš„å®šä¹‰ï¼ˆè€Œä¸”å®šä¹‰ä¸€èˆ¬æ˜¯ä¸åŒçš„ï¼‰ï¼Œè¿™äº›å‡½æ•°åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­è¢«ç§°ä¸º<strong>è™šå‡½æ•°</strong>ã€‚</p><div class="note note-info">            <p>è™šå‡½æ•°æ˜¯æŒ‡ä¸€ä¸ª<strong>åœ¨åŸºç±»ä¸­å£°æ˜å¹¶å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™çš„æˆå‘˜å‡½æ•°</strong>ã€‚è™šå‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯å®ç°<strong>è¿è¡Œæ—¶å¤šæ€</strong>ï¼ˆRuntime Polymorphismï¼‰ï¼Œå³ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹è°ƒç”¨ç›¸åº”çš„å‡½æ•°ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯<strong>æ ¹æ®æŒ‡é’ˆæˆ–å¼•ç”¨çš„ç±»å‹æ¥å†³å®š</strong>ã€‚</p>          </div><p>ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿™ä¸ªå®šä¹‰ï¼Œè¯·çœ‹å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Base class show&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Derived class show&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Base* basePtr;  <span class="hljs-comment">// åŸºç±»æŒ‡é’ˆ</span><br>    Derived derivedObj;  <span class="hljs-comment">// æ´¾ç”Ÿç±»å¯¹è±¡</span><br>    <br>    basePtr = &amp;derivedObj;  <span class="hljs-comment">// åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</span><br>    <br>    <span class="hljs-comment">// è™šå‡½æ•°çš„è°ƒç”¨</span><br>    basePtr-&gt;<span class="hljs-built_in">show</span>();  <span class="hljs-comment">// è¿è¡Œæ—¶ä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„ show()ï¼Œè¾“å‡º: Derived class show</span><br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼ŒæŒ‡é’ˆ<code>basePtr</code>çš„<strong>å®šä¹‰ç±»å‹</strong>æ˜¯Baseï¼ˆåŸºç±»ï¼‰ï¼Œä½†æ˜¯æŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼ˆä¸Šæ–‡æåˆ°è¿‡è¿™ç§è¡Œä¸ºæ˜¯åˆæ³•çš„ï¼‰ã€‚é‚£ä¹ˆåœ¨ä¸‹ä¸€è¡Œè°ƒç”¨<code>show</code>å‡½æ•°çš„æ—¶å€™æ˜¯åº”è¯¥<strong>ä¼˜å…ˆè€ƒè™‘æŒ‡é’ˆæœ¬èº«çš„ç±»å‹</strong>ï¼Œè¿˜æ˜¯è€ƒè™‘<strong>æŒ‡é’ˆæŒ‡å‘å¯¹è±¡çš„ç±»å‹</strong>å‘¢ï¼Ÿå› æ­¤ï¼ŒC++å¼•å…¥äº†å…³é”®è¯<code>virtual</code>æ¥å£°æ˜ä¸€ä¸ªè™šå‡½æ•°ï¼Œå¯¹äºè™šå‡½æ•°è€Œè¨€ï¼Œåœ¨è°ƒç”¨æ—¶ä¼š<strong>æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨ç›¸å¯¹åº”çš„åŒåå‡½æ•°</strong>ï¼Œæ¯”å¦‚åœ¨ä¸Šæ–‡ç”±äºbaseptræŒ‡å‘çš„<strong>å®é™…å¯¹è±¡</strong>æ˜¯ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¼š<strong>è°ƒç”¨æ´¾ç”Ÿç±»çš„å‡½æ•°</strong>ã€‚</p><blockquote><p>å¦‚æœä¸åŠ virtualå…³é”®è¯ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼ˆè¿™ä¸ªéœ€è¦æ›´åŠ æ·±å…¥çš„çŸ¥è¯†äº†ï¼‰</p></blockquote><p>æœ‰æ„æ€çš„æ˜¯ï¼ŒåŸºç±»<code>Brass</code>çš„è™šæ„å‡½æ•°åŒæ ·ä½¿ç”¨äº†<code>virtual</code>å…³é”®è¯æ¥å®šä¹‰ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†ç¡®ä¿é‡Šæ”¾æ´¾ç”Ÿå¯¹è±¡æ—¶ï¼ŒæŒ‰ç…§æ­£ç¡®çš„é¡ºåºè°ƒç”¨ææ„å‡½æ•°ã€‚ï¼ˆè¿™å½¢æˆäº†ä¸€ç§æƒ¯ä¾‹ï¼Œåæ–‡ä¼šå†æåˆ°ï¼‰</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªç±»çš„å…·ä½“å®šä¹‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// brass.cpp -- bank account class methods</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;brass.h&quot;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::endl;<br><span class="hljs-keyword">using</span> std::string;<br><br><span class="hljs-comment">// formatting stuff</span><br><span class="hljs-keyword">typedef</span> std::ios_base::fmtflags format;<br><span class="hljs-keyword">typedef</span> std::streamsize precis;<br><span class="hljs-function">format <span class="hljs-title">setFormat</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">restore</span><span class="hljs-params">(format f, precis p)</span></span>;<br><br><span class="hljs-comment">// Brass methods</span><br><br>Brass::<span class="hljs-built_in">Brass</span>(<span class="hljs-type">const</span> string &amp; s, <span class="hljs-type">long</span> an, <span class="hljs-type">double</span> bal)<br>&#123;<br>    fullName = s;<br>    acctNum = an;<br>    balance = bal;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Brass::Deposit</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (amt &lt; <span class="hljs-number">0</span>)<br>        cout &lt;&lt; <span class="hljs-string">&quot;Negative deposit not allowed; &quot;</span><br>             &lt;&lt; <span class="hljs-string">&quot;deposit is cancelled.\n&quot;</span>;<br>    <span class="hljs-keyword">else</span><br>        balance += amt;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Brass::Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// set up ###.## format</span><br>    format initialState = <span class="hljs-built_in">setFormat</span>();<br>    precis prec = cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">2</span>);<br><br>    <span class="hljs-keyword">if</span> (amt &lt; <span class="hljs-number">0</span>)<br>        cout &lt;&lt; <span class="hljs-string">&quot;Withdrawal amount must be positive; &quot;</span><br><br>             &lt;&lt; <span class="hljs-string">&quot;withdrawal canceled.\n&quot;</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (amt &lt;= balance)<br>        balance -= amt;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Withdrawal amount of $&quot;</span> &lt;&lt; amt<br>             &lt;&lt; <span class="hljs-string">&quot; exceeds your balance.\n&quot;</span><br>             &lt;&lt; <span class="hljs-string">&quot;Withdrawal canceled.\n&quot;</span>;<br>    <span class="hljs-built_in">restore</span>(initialState, prec);<br>&#125;<br><span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Brass::Balance</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> balance;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Brass::ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>     <span class="hljs-comment">// set up ###.## format</span><br>    format initialState = <span class="hljs-built_in">setFormat</span>();<br>    precis prec = cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">2</span>);<br>    cout &lt;&lt; <span class="hljs-string">&quot;Client: &quot;</span> &lt;&lt; fullName &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Account Number: &quot;</span> &lt;&lt; acctNum &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Balance: $&quot;</span> &lt;&lt; balance &lt;&lt; endl;<br>    <span class="hljs-built_in">restore</span>(initialState, prec); <span class="hljs-comment">// Restore original format</span><br>&#125;<br><br><span class="hljs-comment">// BrassPlus Methods</span><br>BrassPlus::<span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> string &amp; s, <span class="hljs-type">long</span> an, <span class="hljs-type">double</span> bal,<br>           <span class="hljs-type">double</span> ml, <span class="hljs-type">double</span> r) : <span class="hljs-built_in">Brass</span>(s, an, bal)<br>&#123;<br>    maxLoan = ml;<br>    owesBank = <span class="hljs-number">0.0</span>;<br>    rate = r;<br>&#125;<br><br>BrassPlus::<span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> Brass &amp; ba, <span class="hljs-type">double</span> ml, <span class="hljs-type">double</span> r)<br>           : <span class="hljs-built_in">Brass</span>(ba)   <span class="hljs-comment">// uses implicit copy constructor</span><br>&#123;<br>    maxLoan = ml;<br>    owesBank = <span class="hljs-number">0.0</span>;<br>    rate = r;<br>&#125;<br><br><span class="hljs-comment">// redefine how ViewAcct() works</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">BrassPlus::ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// set up ###.## format</span><br>    format initialState = <span class="hljs-built_in">setFormat</span>();<br>    precis prec = cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">2</span>);<br><br>    Brass::<span class="hljs-built_in">ViewAcct</span>();   <span class="hljs-comment">// display base portion</span><br>    <span class="hljs-comment">//æ³¨æ„ï¼šè¿™é‡Œå¿…é¡»è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼Œå¦åˆ™ä¼šå‘ç”Ÿæ— ç»ˆæ­¢é€’å½’ã€‚ï¼ˆå› ä¸ºç¼–è¯‘å™¨ä¼šé»˜è®¤è®¤ä¸ºè¿™é‡Œçš„ViewAcctæ˜¯è°ƒç”¨BrassPlusç±»ä¸­çš„æ–¹æ³•ï¼‰</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Maximum loan: $&quot;</span> &lt;&lt; maxLoan &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Owed to bank: $&quot;</span> &lt;&lt; owesBank &lt;&lt; endl;<br>    cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">3</span>);  <span class="hljs-comment">// ###.### format</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Loan Rate: &quot;</span> &lt;&lt; <span class="hljs-number">100</span> * rate &lt;&lt; <span class="hljs-string">&quot;%\n&quot;</span>;<br>    <span class="hljs-built_in">restore</span>(initialState, prec); <br>&#125;<br><br><span class="hljs-comment">// redefine how Withdraw() works</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">BrassPlus::Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// set up ###.## format</span><br>    format initialState = <span class="hljs-built_in">setFormat</span>();<br>    precis prec = cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">2</span>);<br><br>    <span class="hljs-type">double</span> bal = <span class="hljs-built_in">Balance</span>();<br>    <span class="hljs-keyword">if</span> (amt &lt;= bal)<br>        Brass::<span class="hljs-built_in">Withdraw</span>(amt);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( amt &lt;= bal + maxLoan - owesBank)<br>    &#123;<br>        <span class="hljs-type">double</span> advance = amt - bal;<br>        owesBank += advance * (<span class="hljs-number">1.0</span> + rate);<br>        cout &lt;&lt; <span class="hljs-string">&quot;Bank advance: $&quot;</span> &lt;&lt; advance &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Finance charge: $&quot;</span> &lt;&lt; advance * rate &lt;&lt; endl;<br>        <span class="hljs-built_in">Deposit</span>(advance);<br>        Brass::<span class="hljs-built_in">Withdraw</span>(amt);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Credit limit exceeded. Transaction cancelled.\n&quot;</span>;<br>    <span class="hljs-built_in">restore</span>(initialState, prec); <br>&#125;<br><br><span class="hljs-function">format <span class="hljs-title">setFormat</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// set up ###.## format</span><br>    <span class="hljs-keyword">return</span> cout.<span class="hljs-built_in">setf</span>(std::ios_base::fixed, <br>                std::ios_base::floatfield);<br>&#125; <br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">restore</span><span class="hljs-params">(format f, precis p)</span></span><br><span class="hljs-function"></span>&#123;<br>    cout.<span class="hljs-built_in">setf</span>(f, std::ios_base::floatfield);<br>    cout.<span class="hljs-built_in">precision</span>(p);<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>ä»£ç é™¤äº†æ³¨æ„åœ¨å®šä¹‰åŒåå‡½æ•°çš„æ—¶å€™<strong>ä½¿ç”¨ä½œç”¨åŸŸè¿ç®—ç¬¦ä»¥é˜²æ··æ·†</strong>ï¼Œå…¶ä»–éƒ½å’Œç±»çš„ç»§æ‰¿çš„è¯­æ³•çŸ¥è¯†ç‚¹æ²¡æœ‰å¤ªå¤šçš„è”ç³»ï¼Œå¯è‡ªè¡Œè·³è¿‡ã€‚</p></blockquote><h3 id="é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–"><a href="#é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–" class="headerlink" title="é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–"></a>é™æ€è”ç¼–å’ŒåŠ¨æ€è”ç¼–</h3><p><strong>å‡½æ•°åè”ç¼–ï¼š</strong>å°†æºä»£ç çš„å‡½æ•°è°ƒç”¨è§£é‡Šä¸ºæ‰§è¡Œç‰¹å®šçš„å‡½æ•°ä»£ç å—ã€‚</p><p>å¦‚æœç¼–è¯‘å™¨åœ¨<strong>ç¼–è¯‘æ—¶</strong>å®Œæˆäº†è¿™ç§è”ç¼–ï¼Œé‚£ä¹ˆè¢«ç§°ä¸º<strong>é™æ€è”ç¼–</strong>ã€‚ä½†æ˜¯ï¼Œç”±äºè™šå‡½æ•°çš„å­˜åœ¨ï¼ŒOOPçš„<strong>å¤šæ€æ€§</strong>è®©è¿™ç§è¡Œä¸ºå˜å¾—å›°éš¾ï¼ˆè™šå‡½æ•°ä¿è¯äº†è°ƒç”¨çš„å‡½æ•°å’Œå¯¹è±¡çš„å®é™…ç±»å‹ç›¸åŒ¹é…ï¼Œè€ŒåŸºç±»æŒ‡é’ˆå³å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»ä¹Ÿå¯ä»¥æŒ‡å‘åŸºç±»ï¼Œè¿™å°±è®©ç¼–è¯‘å™¨å¾ˆéš¾ç¡®å®šè°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ï¼‰ã€‚å› æ­¤ï¼Œç¼–è¯‘å™¨ç”Ÿæˆä¸€ç§<strong>åœ¨ç¨‹åºè¿è¡Œæ—¶é€‰æ‹©æ­£ç¡®çš„è™šæ–¹æ³•çš„ä»£ç </strong>ï¼Œè¿™ç§æ–¹æ³•è¢«ç§°ä¸º<strong>åŠ¨æ€è”ç¼–</strong>ã€‚</p><blockquote><p>å’Œ<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>æœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼å¦‚æœéœ€è¦å†ç¨‹åºè¿è¡Œæ—¶ç¡®å®šæ•°ç»„çš„å¤§å°Nï¼Œåˆ™éœ€è¦ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„æ–¹æ³•åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åœ°åœ¨<strong>å †</strong>ä¸Šåˆ†é…ç›¸åŒ¹é…çš„å†…å­˜å®¹é‡ã€‚</p></blockquote><h4 id="æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§"><a href="#æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§" class="headerlink" title="æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§"></a>æŒ‡é’ˆå’Œå¼•ç”¨ç±»å‹çš„å…¼å®¹æ€§</h4><p>ï¼ˆè¿™ä¸€å—æœ‰ç‚¹å¤æ‚å¹¶ä¸”æ— èŠï¼Œç¬”è€…ç›´æ¥ç»™å‡ºç»“è®ºï¼‰</p><ul><li><strong>å‘ä¸Šå¼ºåˆ¶è½¬æ¢</strong>ï¼šå°†æ´¾ç”Ÿç±»åº”ç”¨æˆ–æŒ‡é’ˆè½¬æ¢ä¸ºåŸºç±»å¼•ç”¨æˆ–æŒ‡é’ˆ<ul><li>ä¸éœ€è¦è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ï¼ˆis-aå…³ç³»å¯ä»¥çœ‹åšä¸€ç§å­é›†å…³ç³»ï¼‰</li><li>å…·æœ‰å¯ä¼ é€’æ€§å’Œå…¼å®¹æ€§</li></ul></li><li><strong>å‘ä¸‹å¼ºåˆ¶è½¬æ¢</strong>ï¼šå°†åŸºç±»åº”ç”¨æˆ–æŒ‡é’ˆè½¬æ¢ä¸ºæ´¾ç”Ÿç±»å¼•ç”¨æˆ–æŒ‡é’ˆ<ul><li>å¿…é¡»ä½¿ç”¨æ˜¾å¼ç±»å‹è½¬æ¢</li></ul></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123;  <span class="hljs-comment">// åŸºç±»çš„è™šå‡½æ•°</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Base class display&quot;</span> &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Base</span>() &#123;&#125;  <span class="hljs-comment">// è™šææ„å‡½æ•°ï¼Œç¡®ä¿æ´¾ç”Ÿç±»å¯¹è±¡èƒ½å¤Ÿè¢«æ­£ç¡®é”€æ¯</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123;  <span class="hljs-comment">// æ´¾ç”Ÿç±»é‡å†™ display å‡½æ•°</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Derived class display&quot;</span> &lt;&lt; endl;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123;  <span class="hljs-comment">// æ´¾ç”Ÿç±»çš„ç‰¹æœ‰å‡½æ•°</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Derived class show&quot;</span> &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// å‘ä¸Šè½¬æ¢</span><br>    Derived derivedObj;<br>    Base* basePtr = &amp;derivedObj;  <span class="hljs-comment">// Derived* -&gt; Base* å‘ä¸Šè½¬æ¢</span><br><br>    <span class="hljs-comment">// ä½¿ç”¨ basePtr è°ƒç”¨ display()ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ Derived çš„ display()</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Using basePtr (upcasting):&quot;</span> &lt;&lt; endl;<br>    basePtr-&gt;<span class="hljs-built_in">display</span>();  <span class="hljs-comment">// è¾“å‡º: Derived class display</span><br><br>    <span class="hljs-comment">// å‘ä¸‹è½¬æ¢</span><br>    Derived* derivedPtr = <span class="hljs-built_in">dynamic_cast</span>&lt;Derived*&gt;(basePtr);  <span class="hljs-comment">// Base* -&gt; Derived* å‘ä¸‹è½¬æ¢</span><br>    <span class="hljs-keyword">if</span> (derivedPtr) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Using derivedPtr (downcasting):&quot;</span> &lt;&lt; endl;<br>        derivedPtr-&gt;<span class="hljs-built_in">show</span>();  <span class="hljs-comment">// è¾“å‡º: Derived class show</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Downcasting failed&quot;</span> &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-comment">// å‘ä¸‹è½¬æ¢å¤±è´¥çš„ä¾‹å­</span><br>    Base* anotherBasePtr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Base</span>();  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªçº¯ Base ç±»å‹çš„å¯¹è±¡</span><br>    Derived* failedCastPtr = <span class="hljs-built_in">dynamic_cast</span>&lt;Derived*&gt;(anotherBasePtr);  <span class="hljs-comment">// Base* -&gt; Derived* å‘ä¸‹è½¬æ¢ï¼ˆå°è¯•è½¬æ¢ä½†æ˜¯è½¬æ¢å¤±è´¥ï¼‰</span><br>    <span class="hljs-keyword">if</span> (failedCastPtr) &#123;<br>        failedCastPtr-&gt;<span class="hljs-built_in">show</span>();  <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œåˆ°è¿™é‡Œ</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Failed downcasting Base* to Derived*&quot;</span> &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º: Failed downcasting Base* to Derived*</span><br>    &#125;<br><br>    <span class="hljs-keyword">delete</span> anotherBasePtr;  <span class="hljs-comment">// é‡Šæ”¾å†…å­˜</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="è™šå‡½æ•°æˆå‘˜å’ŒåŠ¨æ€è”ç¼–"><a href="#è™šå‡½æ•°æˆå‘˜å’ŒåŠ¨æ€è”ç¼–" class="headerlink" title="è™šå‡½æ•°æˆå‘˜å’ŒåŠ¨æ€è”ç¼–"></a>è™šå‡½æ•°æˆå‘˜å’ŒåŠ¨æ€è”ç¼–</h4><blockquote><p>åœ¨åŸä¹¦ä¸­ï¼Œæ­¤èŠ‚ä»‹ç»äº†ä¸‰éƒ¨åˆ†çŸ¥è¯†ï¼š</p><ul><li>ä¸ºä»€ä¹ˆæœ‰ä¸¤ç§ç±»å‹çš„è”ç¼–</li><li>åŠ¨æ€è”ç¼–ä¸ºä½•ä¸è®¾ç½®ä¸ºé»˜è®¤çš„è”ç¼–æ–¹å¼</li><li>åŠ¨æ€è”ç¼–çš„å·¥ä½œåŸç†<ul><li>è™šå‡½æ•°è¡¨</li></ul></li></ul></blockquote><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬æš‚ä¸”è·³è¿‡è¿™ä¸€éƒ¨åˆ†ï¼ŒæŠŠé‡ç‚¹æ”¾åœ¨è™šå‡½æ•°ä½¿ç”¨çš„ç›¸å…³æ³¨æ„äº‹é¡¹ï¼š</p><div class="note note-info">            <ul><li><p>åœ¨åŸºç±»æ–¹æ³•çš„å£°æ˜ä¸­ä½¿ç”¨å…³é”®å­— <code>virtual</code> å¯ä½¿è¯¥æ–¹æ³•åœ¨åŸºç±»ä»¥åŠæ‰€æœ‰çš„æ´¾ç”Ÿç±»ï¼ˆåŒ…æ‹¬ä»æ´¾ç”Ÿç±»æ´¾ç”Ÿå‡ºæ¥çš„ç±»ï¼‰ä¸­æ˜¯è™šçš„ã€‚</p></li><li><p>å¦‚æœä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆæ¥è°ƒç”¨è™šæ–¹æ³•ï¼Œç¨‹åºå°†ä½¿ç”¨ä¸ºå¯¹è±¡ç±»å‹å®šä¹‰çš„æ–¹æ³•ï¼Œè€Œä¸ä½¿ç”¨ä¸ºå¼•ç”¨æˆ–æŒ‡é’ˆç±»å‹å®šä¹‰çš„æ–¹æ³•ã€‚è¿™ç§°ä¸ºåŠ¨æ€è”ç¼–æˆ–æ™šæœŸè”ç¼–ã€‚è¿™ç§è¡Œä¸ºéå¸¸é‡è¦ï¼Œå› ä¸ºè¿™æ ·<strong>åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨å¯ä»¥æŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</strong>ã€‚</p></li><li><p>å¦‚æœå®šä¹‰çš„ç±»å°†è¢«ç”¨ä½œåŸºç±»ï¼Œåˆ™åº”å°†é‚£äº›è¦åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰çš„ç±»æ–¹æ³•å£°æ˜ä¸ºè™šçš„ã€‚</p></li><li><p>æ„é€ å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•°ã€‚</p><ul><li>åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ä¼šè°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥æ²¡å•¥æ„ä¹‰ã€‚ï¼ˆåæ­£è‚¯å®šä¼šè¢«è°ƒç”¨ï¼‰</li></ul></li><li><p><strong>ææ„å‡½æ•°åº”å½“æ˜¯è™šå‡½æ•°ã€‚</strong></p><ul><li>å¦‚æœæ´¾ç”Ÿç±»æ–°å®šä¹‰äº†åŠ¨æ€å†…å­˜åˆ†é…ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨æ—¶å¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œé‚£ä¹ˆå¦‚æœä¸€ä¸ªåŸºç±»æŒ‡é’ˆæŒ‡å‘äº†æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œåœ¨è°ƒç”¨ææ„å‡½æ•°çš„æ—¶å€™ä¼š<strong>è°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°</strong>ï¼Œè¿™åœ¨æ´¾ç”Ÿç±»ä¸­æ–°å®šä¹‰çš„æˆå‘˜ä¸ä¼šè¢«<code>delete</code>æ‰ï¼Œäº§ç”Ÿå†…å­˜æ³„æ¼ã€‚</li></ul></li><li><p>å‹å…ƒä¸èƒ½æ˜¯è™šå‡½æ•°ï¼ˆå‹å…ƒä¸æ˜¯ç±»æˆå‘˜ï¼‰</p></li><li><p>é‡æ–°å®šä¹‰çš„é—®é¢˜</p><ul><li><p>å¦‚æœæ´¾ç”Ÿç±»æ²¡æœ‰é‡æ–°å®šä¹‰å‡½æ•°ï¼Œå°±ç›´æ¥ä½¿ç”¨åŸºç±»çš„ç‰ˆæœ¬ã€‚</p></li><li><p>å¦‚æœæ´¾ç”Ÿç±»ä½äºæ´¾ç”Ÿé“¾ä¸­ï¼ˆä¸€ä¸²æ´¾ç”Ÿç±»ï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨<strong>æœ€æ–°çš„è™šå‡½æ•°ç‰ˆæœ¬</strong>ã€‚</p></li><li><p><strong>é‡æ–°å®šä¹‰åŸºç±»çš„æ–¹æ³•ä¸æ˜¯é‡è½½ã€‚</strong>å¦‚æœåœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰å‡½æ•°ï¼Œå°†ä¸æ˜¯ä½¿ç”¨ç›¸åŒçš„å‡½æ•°ç‰¹å¾æ ‡è¦†ç›–åŸºç±»å£°æ˜ï¼Œè€Œæ˜¯éšè—åŒåçš„åŸºç±»æ–¹æ³•ï¼Œä¸ç®¡å‚æ•°ç‰¹å¾æ ‡å¦‚ä½•ã€‚</p><ul><li><p>å¦‚æœé‡æ–°å®šä¹‰ç»§æ‰¿çš„æ–¹æ³•ï¼Œåº”ç¡®ä¿ä¸åŸæ¥çš„åŸå‹å®Œå…¨ç›¸åŒï¼Œä½†å¦‚æœè¿”å›ç±»å‹æ˜¯åŸºç±»å¼•ç”¨æˆ–æŒ‡é’ˆï¼Œåˆ™å¯ä»¥ä¿®æ”¹ä¸ºæŒ‡å‘æ´¾ç”Ÿç±»çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼ˆè¿™ç§ä¾‹å¤–æ˜¯æ–°å‡ºç°çš„ï¼‰ã€‚è¿™ç§ç‰¹æ€§è¢«ç§°ä¸ºè¿”å›ç±»å‹åå˜ï¼ˆcovariance of return typeï¼‰ï¼Œå› ä¸ºå…è®¸è¿”å›ç±»å‹éšç±»ç±»å‹çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p></li><li><p>å¦‚æœåŸºç±»å£°æ˜è¢«é‡è½½ï¼Œåº”è¯¥åœ¨æ´¾ç”Ÿç±»ä¸­é‡æ–°å®šä¹‰æ‰€æœ‰çš„åŸºç±»ç‰ˆæœ¬ã€‚</p></li></ul></li></ul></li></ul>          </div><p><img src="https://ooo.0x0.ooo/2025/01/11/OEfRai.png" alt="Covirance of Return Type"></p><p><img src="https://ooo.0x0.ooo/2025/01/11/OEftNX.png" alt="åŸºç±»å£°æ˜è¢«é‡è½½"></p><h2 id="Protected"><a href="#Protected" class="headerlink" title="Protected"></a>Protected</h2><p>æˆ‘ä»¬ä½¿ç”¨<code>public</code>å’Œ<code>private</code>æ¥å®ç°å¯¹ç±»æˆå‘˜è®¿é—®æƒé™çš„æ§åˆ¶ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å­˜åœ¨<code>protected</code>å…³é”®è¯ã€‚</p><ul><li>ä¸<code>private</code>ç›¸æ¯”ï¼Œ<code>protected</code>å¯ä»¥è¢«æ´¾ç”Ÿç±»æˆå‘˜ç›´æ¥è®¿é—®ã€‚</li><li>ä¸<code>public</code>ç›¸æ¯”ï¼Œ<code>protected</code><strong>åªèƒ½</strong>è¢«æ´¾ç”Ÿç±»æˆå‘˜ç›´æ¥è®¿é—®ï¼Œè€Œä¸èƒ½åœ¨å¤–éƒ¨ç›´æ¥è®¿é—®ã€‚</li></ul><blockquote><p>é€šè¿‡protectedçš„å®ç°ï¼ŒåŸºç±»ç»ˆäºç»™æ´¾ç”Ÿç±»èµ‹äºˆäº†ä¸€äº›åœ¨è®¿é—®ä¸Šçš„<strong>ç‰¹æƒ</strong>ï¼</p></blockquote><h2 id="Abstract-Base-Class"><a href="#Abstract-Base-Class" class="headerlink" title="Abstract Base Class"></a>Abstract Base Class</h2><p>åœ¨is-aå…³ç³»ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›<strong>æ´¾ç”Ÿç±» is a kind of åŸºç±»</strong>ï¼Œå› ä¸ºè¿™æ ·æ´¾ç”Ÿç±»ä½¿ç”¨åŸºç±»çš„æˆå‘˜æ–¹æ³•æ‰æœ‰æ„ä¹‰ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ä½¿ç”¨åŸºç±»çš„æ–¹æ³•ä¼šæˆä¸ºç´¯èµ˜ã€‚</p><blockquote><p>ä¾‹å¦‚åœ†æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¤­åœ†ã€‚åœ¨åŸºç±»æ¤­åœ†ç±»ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå®šä¹‰æ¤­åœ†çš„ä¸€äº›å‚æ•°å’Œæ–¹æ³•ï¼Œæ¯”å¦‚é•¿è½´çŸ­è½´ç¦»å¿ƒç‡ï¼Œåœ¨ç»§æ‰¿ç»™åœ†çš„æ—¶å€™ï¼Œå½“ç„¶å¯ä»¥æŠŠ<strong>åœ†çœ‹åšä¸€ç§ç‰¹æ®Šçš„æ¤­åœ†</strong>ã€‚ä½†æ˜¯å®é™…ä¸Šå¦‚æœä»é›¶å¼€å§‹è®¾è®¡åœ†ç±»ï¼Œæˆ‘ä»¬å¯èƒ½åªéœ€è¦åœ†å¿ƒå’ŒåŠå¾„å³å¯ï¼Œè¿™æ ·åŸºç±»çš„æ–¹æ³•åè€Œæ˜¯ä¸€ç§ä½¿é—®é¢˜å˜çš„æ›´åŠ å¤æ‚çš„ç´¯èµ˜ã€‚</p></blockquote><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥<strong>ä»åœ†å’Œæ¤­åœ†ä¸­æå–å‡ºæŠ½è±¡çš„å…±æ€§ï¼Œæ”¾åœ¨ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼ˆABCï¼‰ä¸­ï¼Œæ¯”å¦‚è®¡ç®—é¢ç§¯ç­‰æ–¹æ³•</strong>ï¼Œå®ç°ä»£ç çš„é‡ç”¨ã€‚å¦‚æœæŠ½è±¡åŸºç±»æ²¡æœ‰åŒ…å«å¿…è¦çš„æ•°æ®æˆå‘˜æ¥å®ç°æœ‰å…±æ€§çš„å‡½æ•°ï¼ŒC++ä½¿ç”¨<strong>çº¯è™šå‡½æ•°ï¼ˆpure virtual functionï¼‰</strong>æä¾›æœªå®ç°çš„å‡½æ•°ã€‚</p><blockquote><p>ABCæ˜¯ä¸€ç§å¾ˆé«˜æ·±çš„æ€æƒ³ï¼Œä¸‡äº‹ä¸‡ç‰©çš„æœ¬è´¨åŸç†æ˜¯ä»€ä¹ˆï¼Ÿäºšé‡Œå£«å¤šå¾·æå‡ºäº†<strong>ç¬¬ä¸€æ€§åŸç†</strong>çš„é˜é‡Šã€‚åœ¨C++ä¸­ï¼ŒæŠ½è±¡åŸºç±»ä¾¿åƒç¬¬ä¸€æ€§åŸç†ï¼Œåç»­çš„æ´¾ç”Ÿç±»éƒ½å»ºç«‹åœ¨æŠ½è±¡åŸºç±»çš„åŸºç¡€ä¹‹ä¸Šã€‚çœŸå¯è°“ä¸€ç”ŸäºŒï¼ŒäºŒç”Ÿä¸‰ï¼Œä¸‰ç”Ÿä¸‡ç‰©ã€‚è¿™ä¾¿æ˜¯ABCçš„å“²å­¦ï¼</p></blockquote><p>æˆ‘ä»¬æ¥çœ‹ä»£ç çš„ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// acctabc.h  -- bank account classes</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> ACCTABC_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> ACCTABC_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-comment">// Abstract Base Class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AcctABC</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    std::string fullName;<br>    <span class="hljs-type">long</span> acctNum;<br>    <span class="hljs-type">double</span> balance;<br><span class="hljs-keyword">protected</span>:<br>    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Formatting</span> <br>    &#123;<br>        std::ios_base::fmtflags flag;<br>        std::streamsize pr;<br>        <span class="hljs-comment">//ç”¨æ¥è®¾ç½®å’Œæ¢å¤æ ¼å¼</span><br>    &#125;;<br>    <span class="hljs-function"><span class="hljs-type">const</span> std::string &amp; <span class="hljs-title">FullName</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> fullName;&#125;<br>    <span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-title">AcctNum</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> acctNum;&#125;<br>    <span class="hljs-function">Formatting <span class="hljs-title">SetFormat</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Restore</span><span class="hljs-params">(Formatting &amp; f)</span> <span class="hljs-type">const</span></span>;<br><span class="hljs-keyword">public</span>: <br>    <span class="hljs-built_in">AcctABC</span>(<span class="hljs-type">const</span> std::string &amp; s = <span class="hljs-string">&quot;Nullbody&quot;</span>, <span class="hljs-type">long</span> an = <span class="hljs-number">-1</span>,<br>                <span class="hljs-type">double</span> bal = <span class="hljs-number">0.0</span>);<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Deposit</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span> </span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span> </span>= <span class="hljs-number">0</span>; <span class="hljs-comment">// pure virtual function</span><br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">Balance</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> balance;&#125;;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>= <span class="hljs-number">0</span>;     <span class="hljs-comment">// pure virtual function</span><br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">AcctABC</span>() &#123;&#125;<br>    <span class="hljs-comment">//æä¾›çº¯è™šå‡½æ•°æ¥å£</span><br>&#125;;<br><br><span class="hljs-comment">// Brass Account Class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Brass</span> :<span class="hljs-keyword">public</span> AcctABC<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Brass</span>(<span class="hljs-type">const</span> std::string &amp; s = <span class="hljs-string">&quot;Nullbody&quot;</span>, <span class="hljs-type">long</span> an = <span class="hljs-number">-1</span>,<br>           <span class="hljs-type">double</span> bal = <span class="hljs-number">0.0</span>) : <span class="hljs-built_in">AcctABC</span>(s, an, bal) &#123; &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Brass</span>() &#123;&#125;<br>&#125;;<br><br><span class="hljs-comment">//Brass Plus Account Class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BrassPlus</span> : <span class="hljs-keyword">public</span> AcctABC<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> maxLoan;<br>    <span class="hljs-type">double</span> rate;<br>    <span class="hljs-type">double</span> owesBank;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> std::string &amp; s = <span class="hljs-string">&quot;Nullbody&quot;</span>, <span class="hljs-type">long</span> an = <span class="hljs-number">-1</span>,<br>            <span class="hljs-type">double</span> bal = <span class="hljs-number">0.0</span>, <span class="hljs-type">double</span> ml = <span class="hljs-number">500</span>,<br>            <span class="hljs-type">double</span> r = <span class="hljs-number">0.10</span>);<br>    <span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> Brass &amp; ba, <span class="hljs-type">double</span> ml = <span class="hljs-number">500</span>, <span class="hljs-type">double</span> r = <span class="hljs-number">0.1</span>);<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">ViewAcct</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetMax</span><span class="hljs-params">(<span class="hljs-type">double</span> m)</span> </span>&#123; maxLoan = m; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetRate</span><span class="hljs-params">(<span class="hljs-type">double</span> r)</span> </span>&#123; rate = r; &#125;;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ResetOwes</span><span class="hljs-params">()</span> </span>&#123; owesBank = <span class="hljs-number">0</span>; &#125;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯ä¸€äº›å¯¹ä»£ç å’ŒæŠ½è±¡åŸºç±»çš„è§£è¯»ï¼š</p><ul><li>çº¯è™šå‡½æ•°åœ¨å£°æ˜æ—¶éœ€è¦å†å°¾éƒ¨åŠ ä¸Šâ€0â€ã€‚</li><li>ABCçš„ä¸»è¦ä½œç”¨æ˜¯ä¸º<strong>æ´¾ç”Ÿç±»æä¾›ä¸€äº›å…±æ€§çš„çº¯è™šå‡½æ•°æ¥å£</strong>ã€‚</li></ul><p>æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹å‡½æ•°å®šä¹‰ä¸­çº¯è™šå‡½æ•°æ˜¯æ€ä¹ˆå®šä¹‰çš„ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// acctabc.cpp -- bank account class methods</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;acctabc.h&quot;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-keyword">using</span> std::ios_base;<br><span class="hljs-keyword">using</span> std::endl;<br><span class="hljs-keyword">using</span> std::string;<br><br><span class="hljs-comment">// Abstract Base Class</span><br>AcctABC::<span class="hljs-built_in">AcctABC</span>(<span class="hljs-type">const</span> string &amp; s, <span class="hljs-type">long</span> an, <span class="hljs-type">double</span> bal)<br>&#123;<br>    fullName = s;<br>    acctNum = an;<br>    balance = bal;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AcctABC::Deposit</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (amt &lt; <span class="hljs-number">0</span>)<br>        cout &lt;&lt; <span class="hljs-string">&quot;Negative deposit not allowed; &quot;</span>&lt;&lt; <span class="hljs-string">&quot;deposit is cancelled.\n&quot;</span>;<br>    <span class="hljs-keyword">else</span><br>        balance += amt;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AcctABC::Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    balance -= amt;<br>&#125;<br><br><span class="hljs-comment">// protected methods for formatting</span><br><span class="hljs-function">AcctABC::Formatting <span class="hljs-title">AcctABC::SetFormat</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br> <span class="hljs-comment">// set up ###.## format</span><br>    Formatting f;<br>    f.flag = <br>        cout.<span class="hljs-built_in">setf</span>(ios_base::fixed, ios_base::floatfield);<br>    f.pr = cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">return</span> f; <br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">AcctABC::Restore</span><span class="hljs-params">(Formatting &amp; f)</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    cout.<span class="hljs-built_in">setf</span>(f.flag, ios_base::floatfield);<br>    cout.<span class="hljs-built_in">precision</span>(f.pr);<br>&#125;<br><br><span class="hljs-comment">// Brass methods</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Brass::Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (amt &lt; <span class="hljs-number">0</span>)<br>        cout &lt;&lt; <span class="hljs-string">&quot;Withdrawal amount must be positive; &quot;</span><br>             &lt;&lt; <span class="hljs-string">&quot;withdrawal canceled.\n&quot;</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (amt &lt;= <span class="hljs-built_in">Balance</span>())<br>        AcctABC::<span class="hljs-built_in">Withdraw</span>(amt);<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Withdrawal amount of $&quot;</span> &lt;&lt; amt<br>             &lt;&lt; <span class="hljs-string">&quot; exceeds your balance.\n&quot;</span><br>             &lt;&lt; <span class="hljs-string">&quot;Withdrawal canceled.\n&quot;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Brass::ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>   <br>    Formatting f = <span class="hljs-built_in">SetFormat</span>();<br>    cout &lt;&lt; <span class="hljs-string">&quot;Brass Client: &quot;</span> &lt;&lt; <span class="hljs-built_in">FullName</span>() &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Account Number: &quot;</span> &lt;&lt; <span class="hljs-built_in">AcctNum</span>() &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Balance: $&quot;</span> &lt;&lt; <span class="hljs-built_in">Balance</span>() &lt;&lt; endl;<br>    <span class="hljs-built_in">Restore</span>(f);<br>&#125;<br><br><span class="hljs-comment">// BrassPlus Methods</span><br>BrassPlus::<span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> string &amp; s, <span class="hljs-type">long</span> an, <span class="hljs-type">double</span> bal,<br>           <span class="hljs-type">double</span> ml, <span class="hljs-type">double</span> r) : <span class="hljs-built_in">AcctABC</span>(s, an, bal)<br>&#123;<br>    maxLoan = ml;<br>    owesBank = <span class="hljs-number">0.0</span>;<br>    rate = r; <br>&#125;<br><br>BrassPlus::<span class="hljs-built_in">BrassPlus</span>(<span class="hljs-type">const</span> Brass &amp; ba, <span class="hljs-type">double</span> ml, <span class="hljs-type">double</span> r)<br>           : <span class="hljs-built_in">AcctABC</span>(ba)   <span class="hljs-comment">// uses implicit copy constructor</span><br>&#123;<br>    maxLoan = ml;<br>    owesBank = <span class="hljs-number">0.0</span>;<br>    rate = r;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">BrassPlus::ViewAcct</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span><br><span class="hljs-function"></span>&#123;<br>    Formatting f = <span class="hljs-built_in">SetFormat</span>();<br><br>    cout &lt;&lt; <span class="hljs-string">&quot;BrassPlus Client: &quot;</span> &lt;&lt; <span class="hljs-built_in">FullName</span>() &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Account Number: &quot;</span> &lt;&lt; <span class="hljs-built_in">AcctNum</span>() &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Balance: $&quot;</span> &lt;&lt; <span class="hljs-built_in">Balance</span>() &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Maximum loan: $&quot;</span> &lt;&lt; maxLoan &lt;&lt; endl;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Owed to bank: $&quot;</span> &lt;&lt; owesBank &lt;&lt; endl;<br>    cout.<span class="hljs-built_in">precision</span>(<span class="hljs-number">3</span>);<br>    cout &lt;&lt; <span class="hljs-string">&quot;Loan Rate: &quot;</span> &lt;&lt; <span class="hljs-number">100</span> * rate &lt;&lt; <span class="hljs-string">&quot;%\n&quot;</span>;<br>    <span class="hljs-built_in">Restore</span>(f);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">BrassPlus::Withdraw</span><span class="hljs-params">(<span class="hljs-type">double</span> amt)</span></span><br><span class="hljs-function"></span>&#123;<br>    Formatting f = <span class="hljs-built_in">SetFormat</span>();<br><br>    <span class="hljs-type">double</span> bal = <span class="hljs-built_in">Balance</span>();<br>    <span class="hljs-keyword">if</span> (amt &lt;= bal)<br>        AcctABC::<span class="hljs-built_in">Withdraw</span>(amt);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( amt &lt;= bal + maxLoan - owesBank)<br>    &#123;<br>        <span class="hljs-type">double</span> advance = amt - bal;<br>        owesBank += advance * (<span class="hljs-number">1.0</span> + rate);<br>        cout &lt;&lt; <span class="hljs-string">&quot;Bank advance: $&quot;</span> &lt;&lt; advance &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Finance charge: $&quot;</span> &lt;&lt; advance * rate &lt;&lt; endl;<br>        <span class="hljs-built_in">Deposit</span>(advance);<br>        AcctABC::<span class="hljs-built_in">Withdraw</span>(amt);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;Credit limit exceeded. Transaction cancelled.\n&quot;</span>;<br>    <span class="hljs-built_in">Restore</span>(f); <br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…"><a href="#ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…" class="headerlink" title="ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…"></a>ç»§æ‰¿å’ŒåŠ¨æ€å†…å­˜åˆ†é…</h2><p>åœ¨é˜…è¯»è¿™ä¸€éƒ¨åˆ†ä¹‹å‰ï¼Œå»ºè®®è¯»è€…å…ˆé˜…è¯»<a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">ç¬¬åäºŒç« </a>äº†è§£æœ‰å…³C++ä¸­çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼Œææ„å‡½æ•°ï¼Œèµ‹å€¼è¿ç®—ç¬¦ç­‰ç­‰ç›¸å…³çŸ¥è¯†ã€‚æœ¬éƒ¨åˆ†å°†ç»§ç»­å›´ç»•åœ¨ç±»çš„ç»§æ‰¿èƒŒæ™¯ä¸‹ï¼Œå¦‚ä½•å®ç°åŠ¨æ€å†…å­˜åˆ†é…ã€‚</p><h3 id="æ´¾ç”Ÿç±»ä¸ä½¿ç”¨new"><a href="#æ´¾ç”Ÿç±»ä¸ä½¿ç”¨new" class="headerlink" title="æ´¾ç”Ÿç±»ä¸ä½¿ç”¨new"></a>æ´¾ç”Ÿç±»ä¸ä½¿ç”¨<code>new</code></h3><p>å…ˆæ¥çœ‹è¿™æ ·ä¸€ä¸ªä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…çš„åŸºç±»ï¼š</p><p><img src="https://ooo.0x0.ooo/2025/01/11/OEfJdL.png" alt="baseDMA"></p><p>è¿™ä¸ªåŸºç±»åŠ¨æ€åˆ†é…å†…å­˜ç»™ä¸€ä¸ªæŒ‡å‘å­—ç¬¦çš„æŒ‡é’ˆï¼ˆ<strong>æ¶‰åŠåˆ°äº†æŒ‰å€ä¼ é€’ï¼Œæ•…ä½¿ç”¨é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°ä¼šå­˜åœ¨é£é™©</strong>ï¼‰ï¼ŒåŒæ—¶ä¹Ÿæ‰‹åŠ¨å®šä¹‰äº†æ˜¾å¼çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œå¤åˆ¶æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ã€‚é‚£ä¹ˆï¼Œå¦‚æœä»¥æ­¤ä¸ºåŸºç±»çš„æ´¾ç”Ÿç±»æ²¡æœ‰ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œä¾¿<strong>ä¸éœ€è¦å†ä¸ºæ´¾ç”Ÿç±»æ˜¾å¼åœ°å®šä¹‰æ˜¾å¼ææ„å‡½æ•°ï¼Œå¤åˆ¶æ„é€ å‡½æ•°å’Œé‡è½½èµ‹å€¼è¿ç®—ç¬¦ã€‚</strong></p><blockquote><p>ä¸ºä»€ä¹ˆï¼Ÿä½ å½“ç„¶å¯ä»¥æ˜¾å¼å®šä¹‰ï¼Œä½†æ²¡æœ‰ä»»ä½•çš„å¿…è¦ã€‚å› ä¸ºé»˜è®¤çš„èµ‹å€¼è¿ç®—ç¬¦å’Œå¤åˆ¶æ„é€ å‡½æ•°éƒ½æ˜¯åœ¨ä½¿ç”¨åŠ¨æ€å†…å­˜æ—¶ä¼šäº§ç”Ÿå†²çªï¼ŒåŸºç±»çš„åŠ¨æ€å†…å­˜å·²ç»æ‰‹åŠ¨æ˜¾ç¤ºå®šä¹‰ï¼Œæ•…ä¸å­˜åœ¨éšæ‚£ã€‚</p><p>åœ¨å¤åˆ¶ç±»æ‰€ç»§æ‰¿çš„ç±»ç»„ä»¶æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨è¢«ç»§æ‰¿ç±»çš„æ˜¾å¼æ„é€ å‡½æ•°ã€‚ï¼ˆå¯¹èµ‹å€¼åŒæ ·ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰</p></blockquote><h3 id="æ´¾ç”Ÿç±»ä½¿ç”¨new"><a href="#æ´¾ç”Ÿç±»ä½¿ç”¨new" class="headerlink" title="æ´¾ç”Ÿç±»ä½¿ç”¨new"></a>æ´¾ç”Ÿç±»ä½¿ç”¨<code>new</code></h3><p>è¿™ä¾¿æ˜¯æ›´åŠ å¤æ‚çš„æƒ…å†µï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ´¾ç”Ÿç±»ï¼š</p><p><img src="https://ooo.0x0.ooo/2025/01/11/OEfJdL.png" alt="Derived Class with DMA.png"></p><div class="note note-danger">            <p><strong>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¿…é¡»ä¸ºæ´¾ç”Ÿç±»å®šä¹‰æ˜¾å¼ææ„å‡½æ•°ã€å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ ã€‚</strong>å› ä¸ºæ´¾ç”Ÿç±»æ·»åŠ äº†æ–°çš„æ•°æ®æˆå‘˜ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œè€ŒåŸºç±»çš„æ–¹æ³•ä¸­å¹¶ä¸åŒ…å«è¿™ä¸ªæˆå‘˜çš„æ“ä½œã€‚å› æ­¤éœ€è¦é¢å¤–å®šä¹‰æ¥é˜²æ­¢å†…å­˜æ³„æ¼ç­‰ä¸¥é‡é—®é¢˜ã€‚</p>          </div><h3 id="ä½¿ç”¨å‹å…ƒ"><a href="#ä½¿ç”¨å‹å…ƒ" class="headerlink" title="ä½¿ç”¨å‹å…ƒ"></a>ä½¿ç”¨å‹å…ƒ</h3><p>æ¥çœ‹ä¸‹é¢çš„ç»¼åˆä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// dma.h  -- inheritance and dynamic memory allocation</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> DMA_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> DMA_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-comment">//  Base Class Using DMA</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">baseDMA</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">char</span> * label;<br>    <span class="hljs-type">int</span> rating;<br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">baseDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * l = <span class="hljs-string">&quot;null&quot;</span>, <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">baseDMA</span>(<span class="hljs-type">const</span> baseDMA &amp; rs);<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">baseDMA</span>();<br>    <span class="hljs-comment">//ä½¿ç”¨è™šå‡½æ•°</span><br>    baseDMA &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> baseDMA &amp; rs);<br>    <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <br>                                     <span class="hljs-type">const</span> baseDMA &amp; rs);<br>    <span class="hljs-comment">//å‹å…ƒå‡½æ•°ï¼ˆæµè¾“å‡ºè¿ç®—ç¬¦ï¼‰</span><br>&#125;;<br><br><span class="hljs-comment">// derived class without DMA</span><br><span class="hljs-comment">// no destructor needed</span><br><span class="hljs-comment">// uses implicit copy constructor</span><br><span class="hljs-comment">// uses implicit assignment operator</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">lacksDMA</span> :<span class="hljs-keyword">public</span> baseDMA<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">enum</span> &#123; COL_LEN = <span class="hljs-number">40</span>&#125;;<br>    <span class="hljs-type">char</span> color[COL_LEN];<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">lacksDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * c = <span class="hljs-string">&quot;blank&quot;</span>, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * l = <span class="hljs-string">&quot;null&quot;</span>,<br>              <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">lacksDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * c, <span class="hljs-type">const</span> baseDMA &amp; rs);<br>    <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <br>                                     <span class="hljs-type">const</span> lacksDMA &amp; rs);<br>&#125;;<br><br><span class="hljs-comment">// derived class with DMA</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">hasDMA</span> :<span class="hljs-keyword">public</span> baseDMA<br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">char</span> * style;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">hasDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s = <span class="hljs-string">&quot;none&quot;</span>, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * l = <span class="hljs-string">&quot;null&quot;</span>,<br>              <span class="hljs-type">int</span> r = <span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">hasDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s, <span class="hljs-type">const</span> baseDMA &amp; rs);<br>    <span class="hljs-built_in">hasDMA</span>(<span class="hljs-type">const</span> hasDMA &amp; hs);<br>    ~<span class="hljs-built_in">hasDMA</span>();<br>    hasDMA &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> hasDMA &amp; rs);  <br>    <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <br>                                     <span class="hljs-type">const</span> hasDMA &amp; rs);<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// dma.cpp --dma class methods</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;dma.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-comment">// baseDMA methods</span><br>baseDMA::<span class="hljs-built_in">baseDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * l, <span class="hljs-type">int</span> r)<br>&#123;<br>    label = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(l) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(label, l);<br>    rating = r;<br>&#125;<br><br>baseDMA::<span class="hljs-built_in">baseDMA</span>(<span class="hljs-type">const</span> baseDMA &amp; rs)<br>&#123;<br>    label = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(rs.label) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(label, rs.label);<br>    rating = rs.rating;<br>&#125;<br><br>baseDMA::~<span class="hljs-built_in">baseDMA</span>()<br>&#123;<br>    <span class="hljs-keyword">delete</span> [] label;<br>&#125;<br><br>baseDMA &amp; baseDMA::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> baseDMA &amp; rs)<br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;rs)<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    <span class="hljs-keyword">delete</span> [] label;<br>    label = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(rs.label) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(label, rs.label);<br>    rating = rs.rating;<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br>    <br>std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> baseDMA &amp; rs)<br>&#123;<br>    os &lt;&lt; <span class="hljs-string">&quot;Label: &quot;</span> &lt;&lt; rs.label &lt;&lt; std::endl;<br>    os &lt;&lt; <span class="hljs-string">&quot;Rating: &quot;</span> &lt;&lt; rs.rating &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-comment">// lacksDMA methods</span><br>lacksDMA::<span class="hljs-built_in">lacksDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * c, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * l, <span class="hljs-type">int</span> r)<br>    : <span class="hljs-built_in">baseDMA</span>(l, r)<br>&#123;<br>    std::<span class="hljs-built_in">strncpy</span>(color, c, <span class="hljs-number">39</span>);<br>    color[<span class="hljs-number">39</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>&#125;<br><br>lacksDMA::<span class="hljs-built_in">lacksDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * c, <span class="hljs-type">const</span> baseDMA &amp; rs)<br>    : <span class="hljs-built_in">baseDMA</span>(rs)<br>&#123;<br>    std::<span class="hljs-built_in">strncpy</span>(color, c, COL_LEN - <span class="hljs-number">1</span>);<br>    color[COL_LEN - <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>&#125;<br><br>std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> lacksDMA &amp; ls)<br>&#123;<br>    os &lt;&lt; (<span class="hljs-type">const</span> baseDMA &amp;) ls;<br>    os &lt;&lt; <span class="hljs-string">&quot;Color: &quot;</span> &lt;&lt; ls.color &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br><span class="hljs-comment">// hasDMA methods</span><br>hasDMA::<span class="hljs-built_in">hasDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s, <span class="hljs-type">const</span> <span class="hljs-type">char</span> * l, <span class="hljs-type">int</span> r)<br>         : <span class="hljs-built_in">baseDMA</span>(l, r)<br>&#123;<br>    style = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(s) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(style, s);<br>&#125;<br><br>hasDMA::<span class="hljs-built_in">hasDMA</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s, <span class="hljs-type">const</span> baseDMA &amp; rs)<br>         : <span class="hljs-built_in">baseDMA</span>(rs)<br>&#123;<br>    style = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(s) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(style, s);<br>&#125;<br><br>hasDMA::<span class="hljs-built_in">hasDMA</span>(<span class="hljs-type">const</span> hasDMA &amp; hs)<br>         : <span class="hljs-built_in">baseDMA</span>(hs)  <span class="hljs-comment">// invoke base class copy constructor</span><br>&#123;<br>    style = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(hs.style) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(style, hs.style);<br>&#125;<br><br>hasDMA::~<span class="hljs-built_in">hasDMA</span>()<br>&#123;<br>    <span class="hljs-keyword">delete</span> [] style;<br>&#125;<br><br>hasDMA &amp; hasDMA::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> hasDMA &amp; hs)<br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;hs)<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    baseDMA::<span class="hljs-keyword">operator</span>=(hs);  <span class="hljs-comment">// copy base portionï¼Œèµ‹å€¼åŸºç±»çš„æ•°æ®æˆå‘˜</span><br>    <span class="hljs-comment">//è¿™ä¸ªè¯­å¥ç­‰ä»·äº *this = hs;</span><br>    <span class="hljs-keyword">delete</span> [] style;         <span class="hljs-comment">// prepare for new style</span><br>    style = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[std::<span class="hljs-built_in">strlen</span>(hs.style) + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(style, hs.style);<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br>    <br>std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> hasDMA &amp; hs)<br>&#123;<br>    os &lt;&lt; (<span class="hljs-type">const</span> baseDMA &amp;) hs;<br>    <span class="hljs-comment">//ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä½¿å¾—è¯¥è¡Œå¯ä»¥è°ƒç”¨åŸºç±»çš„å‹å…ƒå‡½æ•°</span><br>    os &lt;&lt; <span class="hljs-string">&quot;Style: &quot;</span> &lt;&lt; hs.style &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> os;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>åœ¨ C++ ä¸­ï¼Œ<strong>å‹å…ƒå‡½æ•°</strong>çš„è¡Œä¸ºä¸æ™®é€šæˆå‘˜å‡½æ•°ä¸åŒã€‚å‹å…ƒå‡½æ•°æ˜¯ <strong>æ ¹æ®å®ƒæ‰€å£°æ˜çš„ç±»</strong> æ¥ç¡®å®šæ˜¯å¦æœ‰æƒé™è®¿é—®è¯¥ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜çš„ï¼Œè€Œä¸å¯¹è±¡çš„åŠ¨æ€ç±»å‹æ— å…³ã€‚å› æ­¤ï¼Œå‹å…ƒå‡½æ•°å¹¶ä¸éµå¾ª <strong>å¤šæ€æ€§</strong> è§„åˆ™ã€‚</p><p>ä¾‹å¦‚æœ‰ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>;  <span class="hljs-comment">// å‰ç½®å£°æ˜</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> baseValue;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Base</span>() : <span class="hljs-built_in">baseValue</span>(<span class="hljs-number">10</span>) &#123;&#125;<br><br>    <span class="hljs-comment">// å‹å…ƒå‡½æ•°å£°æ˜</span><br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-title">printBaseValue</span><span class="hljs-params">(Base&amp; b)</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> derivedValue;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Derived</span>() : <span class="hljs-built_in">derivedValue</span>(<span class="hljs-number">20</span>) &#123;&#125;<br><br>    <span class="hljs-comment">// å‹å…ƒå‡½æ•°å£°æ˜ï¼ŒåŒåå‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">void</span> <span class="hljs-title">printBaseValue</span><span class="hljs-params">(Derived&amp; d)</span></span>;<br>&#125;;<br><br><span class="hljs-comment">// åŸºç±»çš„å‹å…ƒå‡½æ•°å®šä¹‰</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printValue</span><span class="hljs-params">(Base&amp; b)</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Base Value: &quot;</span> &lt;&lt; b.baseValue &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-comment">// æ´¾ç”Ÿç±»çš„å‹å…ƒå‡½æ•°å®šä¹‰</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printValue</span><span class="hljs-params">(Derived&amp; d)</span> </span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Derived Value: &quot;</span> &lt;&lt; d.derivedValue &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Derived d;<br>    Base* basePtr = &amp;d;  <span class="hljs-comment">// åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡</span><br>    <span class="hljs-comment">// ä½¿ç”¨åŸºç±»æŒ‡é’ˆè°ƒç”¨åŸºç±»çš„å‹å…ƒå‡½æ•°</span><br>    <span class="hljs-built_in">printValue</span>(*basePtr);  <span class="hljs-comment">// å°†ä¼šè°ƒç”¨ Base ç±»çš„å‹å…ƒå‡½æ•°</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š<code>Base Value: 10</code></p><p><code>basePtr</code>æŒ‡é’ˆçš„ç±»å‹æ˜¯åŸºç±»æŒ‡é’ˆï¼Œä½†æ˜¯æŒ‡å‘äº†ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ã€‚å¯¹äºæˆå‘˜å‡½æ•°ä½¿ç”¨<strong>è™šå‡½æ•°å£°æ˜</strong>ä¿è¯äº†è°ƒç”¨çš„å‡½æ•°ä¸å®é™…æŒ‡å‘çš„å¯¹è±¡ç±»å‹ç›¸ç¬¦ã€‚ï¼ˆä¼šè°ƒç”¨æ´¾ç”Ÿç±»çš„å‡½æ•°ï¼‰<strong>ä½†å‹å…ƒå‡½æ•°è™½ç„¶æœ‰è®¿é—®ç§æœ‰æ•°æ®æˆå‘˜çš„ç‰¹æƒ</strong>ï¼Œä½†ä»–ä¸æ˜¯æˆå‘˜å‡½æ•°ï¼Œå› æ­¤å‹å…ƒå‡½æ•°æ ¹æ®ç±»çš„å£°æ˜ä½ç½®ï¼ˆå³å‡½æ•°ç‰¹å¾æ ‡çš„åŒ¹é…ç¨‹åº¦ï¼‰æ¥å†³å®šè°ƒç”¨çš„ã€‚åœ¨è¿™é‡Œç¼–è¯‘å™¨åˆ¤å®š<code>basePtr</code>æŒ‡é’ˆçš„ç±»å‹æ˜¯åŸºç±»æŒ‡é’ˆï¼Œå› æ­¤ä¼šè°ƒç”¨**åŸºç±»çš„<code>printValue()</code>**å‡½æ•°ï¼Œå“ªæ€•å®ƒæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ´¾ç”Ÿç±»æŒ‡é’ˆå¦‚æœæƒ³ä½¿ç”¨åŸºç±»çš„å‹å…ƒå‡½æ•°å¿…é¡»å…ˆ<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢æˆ</strong>ä¸€ä¸ªåŸºç±»çš„æŒ‡é’ˆï¼ˆå°±åƒä»£ç çš„ç¬¬105~110è¡Œï¼‰ã€‚</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p><strong>æ­å–œä½ ï¼ä½ å·²ç»æŒæ¡OOPçš„åŸºæœ¬çŸ¥è¯†ï¼Œå¯ä»¥è¿›è¡Œä¸€äº›å®æ“é”»ç‚¼äº†ï¼</strong>ç¬”è€…è‡ªå·±åœ¨é˜…è¯»10,11,12,13å››ç« æ—¶éå¸¸çš„ç—›è‹¦ï¼Œæ„Ÿè§‰éå¸¸çš„ä¸é€‚åº”ï¼Œä½†æ˜¯ä¸€è·¯èµ°æ¥ï¼Œåœ¨æŒæ¡äº†OOPçš„å“²å­¦å’Œæœ€åŸºæœ¬çš„åŸåˆ™ä¹‹åï¼Œä¸€åˆ‡çº·ç¹å¤æ‚çš„è¯­æ³•åŸç†ä¼¼ä¹éƒ½æœ‰ç†å¯ä¾ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ç³»ç»Ÿæ¢³ç†è¿™å››ç« çš„ä¸€äº›å†…å®¹ï¼Œå—ç¯‡å¹…é™åˆ¶ï¼Œæœ¬éƒ¨åˆ†ä¸»è¦ä»¥æ€ç»´å¯¼å›¾å’Œå…³é”®è¯çš„å½¢å¼å‘ˆç°ï¼Œè¯¦ç»†å†…å®¹å¤§å®¶å¯ä»¥çœ‹åŸä¹¦çš„13.8èŠ‚ã€‚</p><p>OOPçš„åŸºæœ¬ç²¾ç¥ï¼š</p><ul><li><p>å°è£…ï¼ˆä¿è¯æ“ä½œçš„å®‰å…¨æ€§å’Œä¾¿åˆ©æ€§ï¼‰</p><ul><li><code>private</code><ul><li>å‚¨å­˜ç§æœ‰çš„æ•°æ®æˆå‘˜</li></ul></li><li><code>public</code><ul><li>ä¸€äº›æ–¹æ³•ï¼ˆå‡½æ•°ï¼‰<ul><li>æ„é€ å‡½æ•°<ul><li>é»˜è®¤æ„é€ å‡½æ•°</li><li>å¤åˆ¶æ„é€ å‡½æ•°</li><li>æ˜¾ç¤ºå®šä¹‰çš„æ„é€ å‡½æ•°å’Œå¤åˆ¶æ„é€ å‡½æ•°ï¼ˆæ·±æ‹·è´ï¼‰</li></ul></li><li>ææ„å‡½æ•°ï¼ˆæ˜¾ç¤ºå®šä¹‰ï¼‰<ul><li>åœ¨12èŠ‚é‡ç‚¹ä»‹ç»äº†è¿™äº›å‡½æ•°å’Œ<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong></li></ul></li><li>è¿ç®—ç¬¦é‡è½½<ul><li>ä½¿ç”¨å‹å…ƒå‡½æ•°ï¼ŒthisæŒ‡é’ˆ</li><li>æ˜¾ç¤ºå®šä¹‰èµ‹å€¼è¿ç®—ç¬¦</li></ul></li></ul></li><li>æä¾›äº†è®¿é—®ç§æœ‰æ•°æ®æˆå‘˜çš„æ¥å£</li><li>å‹å…ƒå‡½æ•°çš„å£°æ˜</li></ul></li><li><code>protected</code><ul><li>åŸºç±»æˆå‘˜ç»™äºˆæ´¾ç”Ÿç±»æˆå‘˜çš„ä¸€äº›ç‰¹æƒ</li></ul></li></ul></li><li><p>ç»§æ‰¿ä¸å¤šæ€</p><ul><li>åŸºç±»â€”â€”æ´¾ç”Ÿç±»</li><li>å…¬æœ‰ç»§æ‰¿çš„<strong>is-a</strong>å…³ç³»</li><li>ç»§æ‰¿å‡½æ•°çš„ä½“ç³»å°±æ˜¯è¿™ä¸€ç« èŠ‚çš„ç›®å½•ï¼ˆä¸å†å½’çº³ï¼‰</li></ul><p><img src="https://ooo.0x0.ooo/2025/01/11/OEf4Et.png" alt="Conclusion"></p></li></ul><p>å½“ç„¶ï¼ŒOOPçš„ç²¾ç¥è¿œä¸æ­¢äºæ­¤ï¼åœ¨æ¥ä¸‹æ¥çš„ç¬¬åå››ç« ï¼Œæˆ‘ä»¬å°†æ›´åŠ æ·±å…¥çš„æ¢å¯»<strong>C++ä¸­çš„å…¶ä»–ç»§æ‰¿å…³ç³»å’Œä»£ç é‡ç”¨é—®é¢˜ã€‚</strong></p><div class="note note-info">            <p>æ— è®ºå¦‚ä½•ï¼Œè¯·ä½ è®°ä½ï¼Œé¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ä¸€ç§ç²¾ç¥ï¼Œè€Œä¸æ˜¯ç¹æ–‡ç¼›èŠ‚çš„è¯­æ³•ã€‚</p>          </div><blockquote><p>THE END                     â€”â€”2024&#x2F;12&#x2F;11</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>OOP</tag>
      
      <tag>C++ Primer Plus</tag>
      
      <tag>tutorial</tag>
      
      <tag>Inheritance</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linked-List-Implementation-Based-on-Structs</title>
    <link href="/posts/Linked-List-Implementation-Based-on-Structs/"/>
    <url>/posts/Linked-List-Implementation-Based-on-Structs/</url>
    
    <content type="html"><![CDATA[<h1 id="Linked-List-Implementation-Based-on-Structs"><a href="#Linked-List-Implementation-Based-on-Structs" class="headerlink" title="Linked List Implementation Based on Structs"></a>Linked List Implementation Based on Structs</h1><p>å°é¢æ’å›¾æˆªè‡ª <a href="https://www.hello-algo.com/">Hello ç®—æ³•</a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><blockquote><p>è¿™ç¯‡åšå®¢ä»0å¼€å§‹å®ç°äº†å¦‚ä½•<strong>ä½¿ç”¨ç»“æ„ä½“å®Œæˆé“¾è¡¨</strong>è¿™ä¸€æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”å®ç°äº†é“¾è¡¨çš„æ’å…¥ï¼Œåˆ é™¤ï¼Œéå†ï¼ŒæŸ¥æ‰¾ç­‰åŸºæœ¬æ“ä½œ</p><p>This blog starts from scratch to demonstrate how to <strong>implement a linked list data structure using structs</strong>, covering the basic operations including insertion, deletion, traversal, and searching.</p></blockquote><h2 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h2><p>æ•°ç»„ç»å¸¸ç”¨äºåŒç±»å‹æ•°æ®çš„å‚¨å­˜ï¼Œä½†æ˜¯æ•°ç»„è§„æ¨¡å¿…é¡»åœ¨ä½¿ç”¨å‰ç¡®å®šï¼ˆ<strong>è¿ç»­çš„é¡ºåºæ•°æ®ç»“æ„</strong>ï¼‰ï¼Œè¿™æ ·ä¼šå¸¦æ¥ç©ºé—´çš„æµªè´¹å’Œè¯¸å¤šä¸åˆ©ã€‚ä½†<strong>é“¾è¡¨ï¼ˆLinked Listï¼‰</strong>å¯ä»¥å®ç°åœ¨å¢åŠ å…ƒç´ çš„æ—¶å€™æŒ‰éœ€åŠ¨æ€åˆ†é…æ–°çš„å†…å­˜ï¼Œå®ç°äº†ä¸€ç§<strong>éè¿ç»­å­˜å‚¨</strong>ã€‚</p><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/array.assets/array_definition.png" alt="æ•°ç»„å®šä¹‰ä¸å­˜å‚¨æ–¹å¼"></p><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list.assets/linkedlist_definition.png" alt="é“¾è¡¨å®šä¹‰ä¸å­˜å‚¨æ–¹å¼"></p><blockquote><p>ä»¥ä¸Šä¸¤å›¾èŠ‚é€‰è‡ª <a href="https://www.hello-algo.com/chapter_array_and_linkedlist/array/">Hello ç®—æ³•ï¼šæ•°ç»„å’Œé“¾è¡¨</a></p></blockquote><p>å¯¹äºæ•°æ®çš„å­˜å‚¨ï¼Œæœ€å¸¸è§çš„ä¸€é¡¹æ“ä½œå°±æ˜¯<strong>éå†æ•°æ®ç±»å‹ä¸­çš„æ‰€æœ‰ï¼ˆæˆ–è€…ï¼‰éƒ¨åˆ†å…ƒç´ </strong>ï¼Œæ•°ç»„é€šè¿‡æŒ‡é’ˆçš„<strong>è‡ªå¢æ“ä½œ</strong>å®ç°éå†ï¼Œä½†å—é™äºéçº¿æ€§çš„å­˜å‚¨æ–¹å¼ï¼Œé“¾è¡¨æ— æ³•å®ç°è¿™ä¸€ç‚¹ã€‚å› æ­¤ï¼Œä¸ºäº†èƒ½å¤Ÿè¾¾åˆ°å’Œæ•°ç»„ç›¸åŒçš„éå†åŠŸèƒ½ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆæˆ–è¢«ç§°ä¸º<strong>èŠ‚ç‚¹</strong>ï¼‰ï¼Œéƒ½éœ€è¦ä¸€å—å†…å­˜æ¥ä¸“é—¨å­˜å‚¨<strong>æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„èŠ‚ç‚¹</strong>ã€‚</p><h2 id="Categories"><a href="#Categories" class="headerlink" title="Categories"></a>Categories</h2><ul><li><strong>å•å‘é“¾è¡¨</strong>ï¼šå³å‰é¢ä»‹ç»çš„æ™®é€šé“¾è¡¨ã€‚å•å‘é“¾è¡¨çš„èŠ‚ç‚¹åŒ…å«å€¼å’ŒæŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„å¼•ç”¨ä¸¤é¡¹æ•°æ®ã€‚æˆ‘ä»¬å°†é¦–ä¸ªèŠ‚ç‚¹ç§°ä¸ºå¤´èŠ‚ç‚¹ï¼Œå°†æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§°ä¸º<strong>å°¾èŠ‚ç‚¹</strong>ï¼Œå°¾èŠ‚ç‚¹æŒ‡å‘**ç©º <code>None</code>**ï¼ˆæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘ç©ºæŒ‡é’ˆï¼‰ ã€‚</li><li><strong>ç¯å½¢é“¾è¡¨</strong>ï¼šå¦‚æœæˆ‘ä»¬ä»¤å•å‘é“¾è¡¨çš„å°¾èŠ‚ç‚¹æŒ‡å‘å¤´èŠ‚ç‚¹ï¼ˆé¦–å°¾ç›¸æ¥ï¼‰ï¼Œåˆ™å¾—åˆ°ä¸€ä¸ªç¯å½¢é“¾è¡¨ã€‚åœ¨ç¯å½¢é“¾è¡¨ä¸­ï¼Œä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥è§†ä½œå¤´èŠ‚ç‚¹ã€‚<ul><li>ç¯å½¢åˆ—è¡¨ä¹Ÿå¯ä»¥åˆ†ä¸ºåŒå¾ªç¯é“¾è¡¨å’Œå•å¾ªç¯é“¾è¡¨</li></ul></li><li><strong>åŒå‘é“¾è¡¨</strong>ï¼šä¸å•å‘é“¾è¡¨ç›¸æ¯”ï¼ŒåŒå‘é“¾è¡¨è®°å½•äº†ä¸¤ä¸ªæ–¹å‘çš„å¼•ç”¨ã€‚<strong>åŒå‘é“¾è¡¨çš„èŠ‚ç‚¹å®šä¹‰åŒæ—¶åŒ…å«æŒ‡å‘åç»§èŠ‚ç‚¹ï¼ˆä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼‰å’Œå‰é©±èŠ‚ç‚¹ï¼ˆä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼‰çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰</strong>ã€‚ç›¸è¾ƒäºå•å‘é“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨æ›´å…·çµæ´»æ€§ï¼Œå¯ä»¥æœä¸¤ä¸ªæ–¹å‘éå†é“¾è¡¨ï¼Œä½†ç›¸åº”åœ°ä¹Ÿéœ€è¦å ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´ã€‚</li></ul><p><img src="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list.assets/linkedlist_common_types.png" alt="Categories"></p><p>å›¾ç‰‡æ¥æºï¼š<a href="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list/#423">4.2  é“¾è¡¨ - Hello ç®—æ³•</a></p><h2 id="Definition-and-Implementaition"><a href="#Definition-and-Implementaition" class="headerlink" title="Definition and Implementaition"></a>Definition and Implementaition</h2><p>é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š<strong>æ•°æ®å…ƒç´ æœ¬èº«å’ŒæŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</strong>ä»¥ä¸‹ä»¥å•é“¾è¡¨çš„ç›¸å…³æ“ä½œä¸ºä¾‹ï¼š</p><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">linkNode</span>&#123;<br>    datatype data;ã€<br>    <span class="hljs-comment">//datatypeå¯ä»¥ä¸ºä»»ä½•ä¸€ç§æ•°æ®ç±»å‹ï¼Œç”¨æ¥æè¿°æ•°æ®å…ƒç´ çš„æœ¬èº«çš„å€¼</span><br>    linkNode* next;<br>&#125;;<br></code></pre></td></tr></table></figure><p>â‘ <code>datatype</code>é™¤äº†å¯ä»¥æ˜¯ä¸€äº›<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼Œä¾‹å¦‚<code>int</code>ï¼Œ<code>double</code>ç­‰ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥æ˜¯<strong>è‡ªå®šä¹‰çš„éåŸºæœ¬æ•°æ®ç±»å‹ã€‚</strong>ä¾‹å¦‚ï¼Œå¯ä»¥å®šä¹‰å•é“¾è¡¨çš„æ•°æ®å…ƒç´ ä¸ºå¦ä¸€ä¸ªç»“æ„ä½“ç±»å‹çš„å˜é‡ï¼Œåˆ™<code>datatype</code>éœ€è¦ç›¸å¯¹åº”çš„æ”¹å˜ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node1</span>&#123;<br>    <span class="hljs-type">int</span> thenum;<br>    Node1 *next;<br>&#125;;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node2</span>&#123;<br>    Node1 data;<br>    Node2 *next;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    Node1 *linklist1;<br>    <span class="hljs-comment">//å®šä¹‰äº†ä¸€ä¸ªå•é“¾è¡¨</span><br>    Node2 *linklist2;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>â‘¡nextæ˜¯<strong>æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆ</strong>ï¼Œå› æ­¤æ•°æ®ç±»å‹å°±æ˜¯<strong>æŒ‡å‘è‡ªèº«ç±»å‹ï¼ˆè‡ªèº«ç»“æ„ä½“ï¼‰</strong>ï¼Œè¿™ç§ç»“æ„è¢«ç§°ä¸º<strong>è‡ªå¼•ç”¨ç»“æ„</strong>ã€‚</p><h3 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h3><p>å¯¹äºåŸºæœ¬æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šå…³æ³¨ä¸€äº›åŸºæœ¬çš„â€œ<strong>æ“ä½œ</strong>â€ï¼Œä¾‹å¦‚æ’å…¥ï¼Œä¿®æ”¹ï¼Œåˆ é™¤ï¼Œæ’åºï¼Œè®¿é—®ï¼ˆéå†ï¼‰ç­‰ç­‰ã€‚è¿™æ˜¯æ•°æ®ç»“æ„èµ°å‘ç®—æ³•çš„å…·ä½“å®ç°ï¼ˆä¸€ä¸ªä»æŠ½è±¡åˆ°å…·è±¡çš„è¿‡ç¨‹ï¼‰ï¼ŒåŒæ—¶ï¼Œç”±äºæ¯ä¸€ç§æ•°æ®ç»“æ„å®ç°çš„åº•å±‚åŸç†æœ‰æ‰€ä¸åŒï¼Œå…¶å…·ä½“çš„æ“ä½œçš„æ–¹æ³•å’Œå¤æ‚åº¦ã€ä¼˜åŠ£åŠ¿ç­‰ä¹Ÿå„ä¸ç›¸åŒã€‚ä¸‹æ–‡å°†ä»‹ç»<strong>é“¾è¡¨çš„åˆ›å»ºï¼Œæ’å…¥ï¼Œè®¿é—®ï¼Œåˆ é™¤ç­‰åŸºæœ¬æ“ä½œé€šè¿‡ç»“æ„ä½“å®ç°çš„åº•å±‚åŸç†</strong>ï¼Œå¹¶ç»™å‡ºä¸€äº›å…·ä½“çš„åº”ç”¨ã€‚</p><p>é“¾è¡¨ç”±äºå…¶è‡ªèº«<strong>éè¿ç»­çš„ç‰©ç†ç»“æ„ç‰¹å¾</strong>ï¼Œ<strong>æ¯”æ•°ç»„å ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼ˆç”¨æ¥å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ï¼‰ï¼Œä½†æ˜¯æ›´åŠ çš„çµæ´»ï¼Œæ‰©å±•æ€§å¼ºã€‚</strong>å¦‚æ­¤ç»“æ„ä½¿é“¾è¡¨ç›¸æ¯”äºæ•°ç»„å…·æœ‰æ›´å¿«çš„æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„é€Ÿåº¦ï¼Œä½†æ˜¯ç‰ºç‰²äº†è®¿é—®éå†å…ƒç´ çš„å¤æ‚åº¦ã€‚</p><center>è¡¨ 4-1  æ•°ç»„ä¸é“¾è¡¨çš„æ•ˆç‡å¯¹æ¯”</center><table><thead><tr><th align="center"></th><th align="center">æ•°ç»„</th><th align="center">é“¾è¡¨</th></tr></thead><tbody><tr><td align="center">å­˜å‚¨æ–¹å¼</td><td align="center">è¿ç»­å†…å­˜ç©ºé—´</td><td align="center">åˆ†æ•£å†…å­˜ç©ºé—´</td></tr><tr><td align="center">å®¹é‡æ‰©å±•</td><td align="center">é•¿åº¦ä¸å¯å˜</td><td align="center">å¯çµæ´»æ‰©å±•</td></tr><tr><td align="center">å†…å­˜æ•ˆç‡</td><td align="center">å…ƒç´ å ç”¨å†…å­˜å°‘</td><td align="center">å…ƒç´ å ç”¨å†…å­˜å¤š</td></tr><tr><td align="center">è®¿é—®å…ƒç´ </td><td align="center">O(1)</td><td align="center">O(n)</td></tr><tr><td align="center">æ·»åŠ å…ƒç´ </td><td align="center">O(n)</td><td align="center">O(1)</td></tr><tr><td align="center">åˆ é™¤å…ƒç´ </td><td align="center">O(n)</td><td align="center">O(1)</td></tr></tbody></table><p>é€‰è‡ª <a href="https://www.hello-algo.com/chapter_array_and_linkedlist/linked_list/#422-vs">Helloç®—æ³•ï¼šæ•°ç»„å’Œé“¾è¡¨çš„æ¯”è¾ƒ</a></p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥å®ç°è‡ªå·±çš„é“¾è¡¨ã€‚</p><p>é¦–å…ˆå®šä¹‰<strong>èŠ‚ç‚¹</strong>ï¼Œè¿™æ˜¯æ¯ä¸ªé“¾è¡¨çš„åŸºæœ¬å•å…ƒï¼ŒåŒ…æ‹¬<code>val</code>ï¼ˆå‚¨å­˜å½“å‰èŠ‚ç‚¹çš„å€¼ï¼‰å’Œ<code>next</code>æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åœ°å€çš„æŒ‡é’ˆï¼Œåœ¨åæ–‡ç¬”è€…ä¹ æƒ¯æŠŠå®ƒç§°ä¸ºè¿™ä¸ªèŠ‚ç‚¹çš„<strong>å¼•ç”¨</strong>ã€‚</p><p>æ³¨æ„åˆ°åœ¨ç»“æ„ä½“ä¸­å¢åŠ äº†ä¸€è¡Œéšå¼æ„é€ å‡½æ•°ï¼Œå¯ä»¥åœ¨æ–°åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹æ—¶è®¾ç½®é»˜è®¤å‚æ•°ï¼ˆé¿å…æŒ‡é’ˆäº§ç”Ÿè®¸å¤šå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span> &#123;<br>    <span class="hljs-type">int</span> val;<br>    ListNode *next;<br>    <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> value = <span class="hljs-number">0</span>, ListNode *next = <span class="hljs-literal">nullptr</span>) : <span class="hljs-built_in">val</span>(value), <span class="hljs-built_in">next</span>(next) &#123;&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å•é“¾è¡¨çš„åˆ›å»º"><a href="#å•é“¾è¡¨çš„åˆ›å»º" class="headerlink" title="å•é“¾è¡¨çš„åˆ›å»º"></a>å•é“¾è¡¨çš„åˆ›å»º</h4><p>å¦‚ä½•åˆå§‹åŒ–ä¸€ä¸ªå•é“¾è¡¨ï¼Ÿéš¾é“å°±æ˜¯<strong>ç©ºç©ºå¦‚ä¹Ÿï¼Ÿ</strong>æ˜¾ç„¶ä¸æ˜¯ï¼Œåœ¨ä¹‹åçš„è®¸å¤šæ“ä½œæ—¶ï¼Œä¸ºäº†é¿å…æŒ‡é’ˆäº§ç”Ÿè¶Šç•Œçš„æƒ…å†µï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¯¹é“¾è¡¨è¿›è¡Œ<strong>ç½®ç©ºæ£€æŸ¥</strong>ï¼ˆåˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å†åˆå§‹åŒ–ä¸€ä¸ªæ–°é“¾è¡¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ª<strong>å¤´ç»“ç‚¹</strong>ï¼Œå¹¶å¯¹å¤´èŠ‚ç‚¹çš„æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆåˆå§‹åŒ–ä¸º<strong>ç©ºæŒ‡é’ˆ</strong>ã€‚</p><blockquote><p>ä»¥ä¸‹å¯¹é“¾è¡¨çš„è‹¥å¹²æ“ä½œéƒ½å†™æˆå‡½æ•°çš„å½¢å¼ï¼Œæ–¹ä¾¿å‘OOPçš„è¿‡æ¸¡ã€‚</p><p>æˆ‘æ—¢ç„¶éƒ½å†™ææ„å‡½æ•°å’Œæ„é€ å‡½æ•°äº†ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥åˆ›å»ºä¸€ä¸ªç±»å‘¢ï¼ˆä¹ï¼‰</p></blockquote><p><strong>å¤´ç»“ç‚¹éå¸¸çš„é‡è¦</strong>ï¼ï¼ï¼å®ƒä»£è¡¨ç€é“¾è¡¨è¿™ä¸€æ¡é•¿è›‡çš„å¼€ç«¯ï¼Œå¾ˆå¤šæ“ä½œéƒ½æ˜¯ä»å¤´ç»“ç‚¹å¼€å§‹çš„ã€‚</p><p>åœ¨ä¹‹åçš„æ“ä½œä¸­ï¼Œ<code>head-&gt;next==nullptr</code>å°±æ˜¯å¯¹é“¾è¡¨çš„ç½®ç©ºæ£€æŸ¥ï¼ˆå¯ä»¥å†™æˆå‡½æ•°å°è£…çš„å½¢å¼ï¼‰ï¼Œå¦‚æœè¿”å›å€¼ä¸º<code>true</code>ï¼Œåˆ™ä»£è¡¨é“¾è¡¨ä¸ºç©ºï¼Œéœ€è¦å¯¹å¤´ç»“ç‚¹ç›´æ¥æ“ä½œã€‚</p><p><strong>å¤´ç»“ç‚¹æ˜¯é“¾è¡¨ä¸­é¢å¤–åŠ å…¥çš„ä¸€ä¸ªç‰¹æ®Šç»“ç‚¹ï¼Œå®ƒä¸å­˜æ”¾æ•°æ®ï¼Œåªæ˜¯ä½œä¸ºé“¾è¡¨çš„å¼€å§‹æ ‡è®°ï¼Œä½äºé“¾è¡¨çš„æœ€å‰é¢ï¼Œå®ƒçš„æŒ‡é’ˆéƒ¨åˆ†æŒ‡å‘è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿™æ ·å°±ä¿è¯äº†é“¾è¡¨ä¸­æ¯ä¸ªç»“ç‚¹å‰é¢éƒ½æœ‰ä¸€ä¸ªç»“ç‚¹ ã€‚</strong></p><blockquote><p>å…¶å®å¤´ç»“ç‚¹ä¹Ÿå¯ä»¥æŒ‡å‘ç¬¬ä¸€ä¸ªå®é™…æ•°æ®ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´åœ¨åç»­çš„é“¾è¡¨æ“ä½œä¸­å¦‚æœæ¶‰åŠå¯¹å¤´ç»“ç‚¹ï¼ˆä¹Ÿå°±æ˜¯é¦–å…ƒç´ ï¼‰çš„ä¿®æ”¹ï¼Œä¼šå˜å¾—éå¸¸å¤æ‚ï¼Œåœ¨è¿™é‡Œç¬”è€…ç»™å‡ºå¤´ç»“ç‚¹ä¸å‚¨å­˜æ•°æ®çš„é“¾è¡¨å®ç°ã€‚</p></blockquote><p>æˆ‘ä»¬å®šä¹‰çš„ç¬¬ä¸€ä¸ªå‡½æ•°å°±æ˜¯ç»“æ„ä½“çš„<strong>é»˜è®¤æ„é€ å‡½æ•°</strong>ï¼Œåªæœ‰åœ¨åˆ›å»ºä¸€ä¸ªæ–°é“¾è¡¨çš„æ—¶å€™æ‰ä¼šä½¿ç”¨åˆ°ï¼Œå…¶åŠŸèƒ½æ˜¯å°†å¤´ç»“ç‚¹çš„å¼•ç”¨è®¾ç½®ä¸ºç©ºæŒ‡é’ˆã€‚åŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®<strong>ææ„å‡½æ•°</strong>ï¼Œåœ¨é“¾è¡¨ç»“æŸå…¶ç”Ÿå‘½å‘¨æœŸçš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼Œé€šè¿‡whileå¾ªç¯è‡ªåŠ¨<code>delete</code>æ‰€æœ‰èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬å¤´ç»“ç‚¹ï¼‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LinkedList</span> &#123;<br>    <span class="hljs-comment">// By default, construct a sentinel node that does not store any value, and its reference points to the first element of the list</span><br>    <span class="hljs-comment">// Initially, it points to nullptr</span><br>    ListNode* sentinel;<br>    <span class="hljs-type">int</span> size = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">//size represents the number of nodes in the Linkedlist</span><br><br>    <span class="hljs-comment">// Constructor: Initialize the sentinel node, allocate memory on the heap for it</span><br>    <span class="hljs-built_in">LinkedList</span>(): <span class="hljs-built_in">sentinel</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>()), <span class="hljs-built_in">size</span>(<span class="hljs-number">0</span>) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Created successfully&quot;</span> &lt;&lt; endl;<br>    &#125;;<br><br>    <span class="hljs-comment">// Destructor: Iteratively delete all nodes (including the memory pointed to by the sentinel node initially)</span><br>    <span class="hljs-comment">// Once the sentinel points to a null pointer, the destruction process is complete</span><br>    ~<span class="hljs-built_in">LinkedList</span>() &#123;<br>        <span class="hljs-keyword">while</span> (sentinel != <span class="hljs-literal">nullptr</span>) &#123;<br>            ListNode* temp = sentinel;<br>            sentinel = sentinel-&gt;next;<br>            <span class="hljs-keyword">delete</span> temp;<br>        &#125;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Destroyed successfully&quot;</span> &lt;&lt; endl;<br>    &#125;<br></code></pre></td></tr></table></figure><h4 id="å•é“¾è¡¨çš„æ’å…¥"><a href="#å•é“¾è¡¨çš„æ’å…¥" class="headerlink" title="å•é“¾è¡¨çš„æ’å…¥"></a>å•é“¾è¡¨çš„æ’å…¥</h4><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ç§æ¯”è¾ƒåŸå§‹çš„æ’å…¥æ–¹å¼ï¼š</p><p><img src="/posts/Linked-List-Implementation-Based-on-Structs/Insert.png" alt="Insert"></p><p>ç”±ä¸Šå›¾å¯çŸ¥ï¼Œå¦‚æœè¦å†èŠ‚ç‚¹pçš„åé¢æ’å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹tempï¼Œéœ€è¦å®Œæˆä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p><ul><li>ä¿®æ”¹èŠ‚ç‚¹pä¸­æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘æ–°èŠ‚ç‚¹tempçš„åœ°å€</li><li>ä¿®æ”¹èŠ‚ç‚¹tempä¸­æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘åŸæ¥åœ¨påé¢çš„èŠ‚ç‚¹çš„åœ°å€</li></ul><blockquote><p>çœ‹åˆ°äº†å—ï¼Ÿé“¾è¡¨çš„æ“ä½œæœ¬è´¨ä¸Šå°±æ˜¯å¯¹æŒ‡é’ˆçš„æ“ä½œï¼</p></blockquote><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡ºæ’å…¥æ–°èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå‡½æ•° <code>insertAfter</code>ï¼Œå®ç°åœ¨å½“å‰èŠ‚ç‚¹currentåé¢æ’å…¥æ–°çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹å€¼æ˜¯valueã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAfter</span><span class="hljs-params">(ListNode* current, <span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-comment">// If the current node is null, return or throw an exception</span><br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">&quot;Current node is null&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// Create a new node</span><br>        ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, current-&gt;next&#125;;<br>        <span class="hljs-comment">// Insert the new node after the current node</span><br>        current-&gt;next = newNode;<br>        size++;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="Modifyâ‘ æ’å…¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹"><a href="#Modifyâ‘ æ’å…¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹" class="headerlink" title="Modifyâ‘ æ’å…¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹"></a>Modifyâ‘ æ’å…¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</h5><p>è¿™ä¸ªé—®é¢˜éå¸¸å¥½è§£å†³ï¼Œç›¸å½“äºæ›´æ¢äº†é“¾è¡¨çš„å¤´ç»“ç‚¹ï¼Œåªéœ€è¦æ›´æ”¹æ’å…¥èŠ‚ç‚¹çš„å¼•ç”¨å³å¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-comment">// Set the reference of the new node to the reference of the sentinel node</span><br>        ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, sentinel-&gt;next&#125;;<br>        <span class="hljs-comment">// Change the reference of the sentinel node because the first element of the list has changed</span><br>        sentinel-&gt;next = newNode;<br>        size++;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="Modifyâ‘¡å¦‚ä½•æ›´åŠ çš„é«˜æ•ˆï¼Ÿï¼ˆé…åˆæŸ¥æ‰¾ï¼‰"><a href="#Modifyâ‘¡å¦‚ä½•æ›´åŠ çš„é«˜æ•ˆï¼Ÿï¼ˆé…åˆæŸ¥æ‰¾ï¼‰" class="headerlink" title="Modifyâ‘¡å¦‚ä½•æ›´åŠ çš„é«˜æ•ˆï¼Ÿï¼ˆé…åˆæŸ¥æ‰¾ï¼‰"></a>Modifyâ‘¡å¦‚ä½•æ›´åŠ çš„é«˜æ•ˆï¼Ÿï¼ˆé…åˆæŸ¥æ‰¾ï¼‰</h5><p>å¦‚æœæˆ‘ä»¬ç°åœ¨éœ€è¦æ’å…¥ä¸€ä¸ªæ–°èŠ‚ç‚¹ä½¿æ–°èŠ‚ç‚¹çš„ç´¢å¼•ä¸º3ï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿé‚£æˆ‘ä»¬éœ€è¦å…ˆéå†èŠ‚ç‚¹ç›´åˆ°è¾¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œç„¶åå†è°ƒç”¨<code>insertAfter</code>å‡½æ•°è¿›è¡Œç›®æ ‡çš„æ’å…¥ï¼Œå½“ç„¶ï¼Œå¦‚æœç´¢å¼•ä¸º0ï¼Œç›´æ¥<code>insertAtHead</code>å³å¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtPosition</span><span class="hljs-params">(<span class="hljs-type">int</span> value, <span class="hljs-type">int</span> position)</span> </span>&#123;<br>        <span class="hljs-comment">// If the position is 0 or the list is empty, insert at the head</span><br>        <span class="hljs-keyword">if</span> (position == <span class="hljs-number">0</span> || sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-built_in">insertAtHead</span>(value);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-type">int</span> currentPosition = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// Set a pointer to start the traversal</span><br><br>        <span class="hljs-comment">// Find the node before the insertion position</span><br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span> &amp;&amp; currentPosition &lt; position - <span class="hljs-number">1</span>) &#123;<br>            current = current-&gt;next;<br>            currentPosition++;<br>        &#125;<br><br>        <span class="hljs-comment">// If the position exceeds the end of the list, insert at the end</span><br>        <span class="hljs-keyword">if</span> (currentPosition &lt; position - <span class="hljs-number">1</span>) &#123;<br>            ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>            current-&gt;next = newNode;<br>            size++;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Insert the new node</span><br>            <span class="hljs-comment">// current represents the node at index n-1, inserting after it achieves the desired index</span><br>            <span class="hljs-built_in">insertAfter</span>(current, value);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="Modifyâ‘¢ç›´æ¥åœ¨å°¾éƒ¨æ’å…¥"><a href="#Modifyâ‘¢ç›´æ¥åœ¨å°¾éƒ¨æ’å…¥" class="headerlink" title="Modifyâ‘¢ç›´æ¥åœ¨å°¾éƒ¨æ’å…¥"></a>Modifyâ‘¢ç›´æ¥åœ¨å°¾éƒ¨æ’å…¥</h5><p>è¿™é‡Œæä¾›äº†ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„æ’å…¥å‡½æ•°ï¼Œå½“ç„¶æˆ‘ä»¬åœ¨å®šä¹‰ç»“æ„ä½“æ—¶ä¹Ÿå®šä¹‰äº†sizeæ¥ç»´æŠ¤ç»“æ„ä½“ä¸­çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå› æ­¤ä¹Ÿå¯ä»¥é€šè¿‡<code>insertAtPosition</code>æ¥å®ç°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// Insert directly at the end</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtEnd</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>            ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>            sentinel-&gt;next = newNode;<br>            size++;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span>) &#123;<br>            current = current-&gt;next;<br>        &#125;<br>        <span class="hljs-comment">// Traverse to the last node</span><br>        <span class="hljs-comment">// Create a new node</span><br>        ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>        current-&gt;next = newNode;<br>        size++;<br>    &#125;<br></code></pre></td></tr></table></figure><p>å› æ­¤ï¼Œæˆ‘ä»¬å®ç°äº†é“¾è¡¨çš„æ’å…¥æ“ä½œçš„å‡½æ•°ï¼Œç”¨äºä¸åŒçš„åŠŸèƒ½ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//æ’å…¥å‡½æ•°</span><br>    <span class="hljs-comment">// åœ¨é“¾è¡¨å¤´éƒ¨æ’å…¥èŠ‚ç‚¹</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        Node* newNode = <span class="hljs-keyword">new</span> Node&#123;value, head&#125;; <span class="hljs-comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–æ–°èŠ‚ç‚¹</span><br>        head = newNode;<br>    &#125;<br><br>    <span class="hljs-comment">// åœ¨æŒ‡å®šèŠ‚ç‚¹ä¹‹åæ’å…¥æ–°èŠ‚ç‚¹</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAfter</span><span class="hljs-params">(Node* current, <span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-comment">// å¦‚æœå½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›æˆ–æŠ›å‡ºå¼‚å¸¸</span><br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">&quot;Current node is null&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// åˆ›å»ºæ–°èŠ‚ç‚¹</span><br>        Node* newNode = <span class="hljs-keyword">new</span> Node&#123;value, current-&gt;next&#125;;<br>        <span class="hljs-comment">// å°†æ–°èŠ‚ç‚¹æ’å…¥åˆ°å½“å‰èŠ‚ç‚¹ä¹‹å</span><br>        current-&gt;next = newNode;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtPosition</span><span class="hljs-params">(<span class="hljs-type">int</span> value, <span class="hljs-type">int</span> position)</span> </span>&#123;<br>        <span class="hljs-comment">// å¦‚æœä½ç½®æ˜¯0æˆ–é“¾è¡¨ä¸ºç©ºï¼Œåˆ™åœ¨å¤´éƒ¨æ’å…¥</span><br>        <span class="hljs-keyword">if</span> (position == <span class="hljs-number">0</span> || head == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-built_in">insertAtHead</span>(value);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        Node* current = head;<br>        <span class="hljs-type">int</span> currentPosition = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">//è®¾ç½®ä¸€ä¸ªæŒ‡é’ˆï¼Œå¼€å§‹æ‰§è¡Œéå†</span><br>    <br>    <br>        <span class="hljs-comment">// æ‰¾åˆ°æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span> &amp;&amp; currentPosition &lt; position - <span class="hljs-number">1</span>) &#123;<br>            current = current-&gt;next;<br>            currentPosition++;<br>        &#125;<br><br>        <span class="hljs-comment">// å¦‚æœä½ç½®è¶…å‡ºäº†é“¾è¡¨çš„æœ«å°¾ï¼Œåˆ™åœ¨æœ«å°¾æ’å…¥</span><br>        <span class="hljs-keyword">if</span> (currentPosition &lt; position - <span class="hljs-number">1</span>) &#123;<br>            Node* newNode = <span class="hljs-keyword">new</span> Node&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>            current-&gt;next = newNode;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// æ’å…¥æ–°èŠ‚ç‚¹</span><br>            <span class="hljs-comment">//currentä»£è¡¨çš„æ˜¯n-1ç´¢å¼•ä¸Šçš„èŠ‚ç‚¹ï¼Œæ’å…¥åˆ°ä»–çš„åé¢å°±æ˜¯éœ€è¦è¾¾åˆ°çš„ç›®æ ‡ç´¢å¼•</span><br>            <span class="hljs-built_in">insertAfter</span>(current, value);<br>        &#125;<br>    &#125;<br>    <br></code></pre></td></tr></table></figure><h4 id="å•é“¾è¡¨çš„åˆ é™¤"><a href="#å•é“¾è¡¨çš„åˆ é™¤" class="headerlink" title="å•é“¾è¡¨çš„åˆ é™¤"></a>å•é“¾è¡¨çš„åˆ é™¤</h4><p><img src="/posts/Linked-List-Implementation-Based-on-Structs/erase.png" alt="erase"></p><p>åŸç†å’Œå•é“¾è¡¨çš„æ’å…¥å¤§åŒå°å¼‚ï¼š</p><ul><li>å°†<code>delPtr</code>å‰é¢çš„ä¸€ä¸ªèŠ‚ç‚¹pçš„å¼•ç”¨æ›´æ”¹ï¼Œä½¿å…¶ç›´æ¥æŒ‡å‘åé¢çš„ä¸€ä¸ªèŠ‚ç‚¹å³å¯</li><li>ä½†æ˜¯åœ¨åˆ é™¤æ—¶ï¼Œè¦é¢å¤–å…³æ³¨å¤´å’Œå°¾çš„ç‰¹æ®Šæƒ…å†µ<ul><li>å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™éœ€è¦æ›´æ”¹å¤´ç»“ç‚¹çš„å¯¹åº”çš„å€¼</li><li>å¦‚æœæ˜¯å°¾éƒ¨å…ƒç´ ï¼Œç›´æ¥å°†ä¸Šä¸€ä¸ªå…ƒç´ çš„åº”ç”¨è®¾ç½®ä¸ºç©ºæŒ‡é’ˆå³å¯</li></ul></li><li><strong>ä¸€å®šè¦æ³¨æ„deleteï¼ï¼ï¼</strong></li></ul><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ¯”è¾ƒåŸºç¡€çš„åŠŸèƒ½å®ç°ï¼šåˆ é™¤æœ«å°¾çš„å…ƒç´ ï¼Œæ€è·¯å¦‚ä¸‹ï¼š</p><ul><li>é¦–å…ˆéå†æ•°ç»„èµ°åˆ°æœ€åä¸€ä¸ªå…ƒç´ <ul><li>ç”±äºé“¾è¡¨éè¿ç»­çš„ç‰©ç†ç»“æ„çš„ç‰¹ç‚¹ï¼Œå…¶éå†çš„è¿‡ç¨‹çš„å¤æ‚åº¦ä¼šé«˜äºæ•°ç»„ï¼Œè¾¾åˆ°äº†Oï¼ˆnï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚</li></ul></li><li>ä¿®æ”¹å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ çš„å¼•ç”¨ä¸ºç©ºæŒ‡é’ˆ</li><li><code>delete</code>æ‰æœ€åä¸€ä¸ªå…ƒç´ çš„å†…å­˜</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// Delete the last element of the list</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deletetheend</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Empty list</span><br><br>        ListNode* current = sentinel-&gt;next;<br>        ListNode* prev = sentinel;<br><br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span>) &#123;<br>            prev = current;<br>            current = current-&gt;next;<br>        &#125;<br>        <span class="hljs-comment">// At this point, current is the last element of the list</span><br>        prev-&gt;next = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">delete</span> current;<br>        size--;<br>    &#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å·²ç»å®ç°äº†é“¾è¡¨çš„éå†åŠŸèƒ½ï¼Œå› æ­¤ç¨å¾®æ›´æ”¹ä¸€ä¸‹ï¼Œä¾¿å¯ä»¥å®ç°æ›´å¤šçš„åˆ é™¤åŠŸèƒ½ã€‚</p><blockquote><p>ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œä¿®æ”¹å‰ä¸€ä¸ªçš„å¼•ç”¨ï¼Œåˆ é™¤åä¸€ä¸ªã€‚è¦åšçš„åªæœ‰è¿™ä¸¤ä»¶äº‹ï¼</p></blockquote><h5 id="Modifyâ‘ -æ ¹æ®å€¼åˆ é™¤"><a href="#Modifyâ‘ -æ ¹æ®å€¼åˆ é™¤" class="headerlink" title="Modifyâ‘  æ ¹æ®å€¼åˆ é™¤"></a>Modifyâ‘  æ ¹æ®å€¼åˆ é™¤</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteNode</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Empty list</span><br><br>        ListNode* current = sentinel-&gt;next;<br>        ListNode* prev = sentinel;<br><br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">if</span> (current-&gt;val == key) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            prev = current;<br>            current = current-&gt;next;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Node does not exist</span><br><br>        prev-&gt;next = current-&gt;next;<br>        <span class="hljs-keyword">delete</span> current;<br>        size--;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="Modifyâ‘¡-æ ¹æ®ç´¢å¼•åˆ é™¤"><a href="#Modifyâ‘¡-æ ¹æ®ç´¢å¼•åˆ é™¤" class="headerlink" title="Modifyâ‘¡ æ ¹æ®ç´¢å¼•åˆ é™¤"></a>Modifyâ‘¡ æ ¹æ®ç´¢å¼•åˆ é™¤</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deletetheplace</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Empty list</span><br><br>        ListNode* current = sentinel-&gt;next;<br>        ListNode* prev = sentinel;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span> &amp;&amp; count &lt; index) &#123;<br>            prev = current;<br>            current = current-&gt;next;<br>            count++;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (count &lt; index) &#123;<br>            <span class="hljs-comment">// Index is too large, no corresponding index</span><br>            <span class="hljs-keyword">return</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Then current is the node at the target index</span><br>            prev-&gt;next = current-&gt;next;<br>            <span class="hljs-keyword">delete</span> current;<br>            size--;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h4 id="å…¶ä»–æ“ä½œ"><a href="#å…¶ä»–æ“ä½œ" class="headerlink" title="å…¶ä»–æ“ä½œ"></a>å…¶ä»–æ“ä½œ</h4><p><strong>éå†ï¼Œæ’å…¥å’Œåˆ é™¤æ˜¯é“¾è¡¨åŸºæœ¬æ“ä½œä¸­æœ€åŸºæœ¬çš„ä¸‰ä¸ªæ“ä½œï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥è½»è€Œæ˜“ä¸¾åœ°å®ç°å…¶ä»–å¯¹é“¾è¡¨çš„æ“ä½œäº†ã€‚</strong></p><h5 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h5><p>è¿”å›ç‰¹å®šç´¢å¼•å€¼çš„valå€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-comment">// At this point, current points to the address of the first element of the list</span><br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (count &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Out of range&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">while</span> (count &lt; index) &#123;<br>                current = current-&gt;next;<br>                count++;<br>            &#125;<br>            <span class="hljs-comment">// At this point, current points to the element at the target index</span><br>            <span class="hljs-keyword">return</span> current-&gt;val;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h5><p>ä¿®æ”¹ç‰¹å®šç´¢å¼•å€¼çš„valå€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-type">int</span> index,<span class="hljs-type">int</span> replacement)</span></span>&#123;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-comment">// At this point, current points to the address of the first element of the list</span><br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (count &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Out of range&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">while</span> (count &lt; index) &#123;<br>                current = current-&gt;next;<br>                count++;<br>            &#125;<br>            <span class="hljs-comment">// At this point, current points to the element at the target index</span><br>            current-&gt;val=replacement;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><blockquote><p>ä»¥ä¸Šä¸¤ä¸ªåŠŸèƒ½çš„å®ç°æœ¬è´¨ä¸Šéƒ½æ˜¯å…ˆé€šè¿‡é“¾è¡¨çš„éå†æ‰¾åˆ°ç›®æ ‡ç´¢å¼•æ‰€å¯¹åº”çš„å†…å­˜ï¼ˆcurrentï¼‰ï¼Œç„¶åå†åœ¨å·²ç»æ‰¾åˆ°çš„å†…å­˜å—ä¸Šåšæ“ä½œã€‚</p></blockquote><h5 id="æŒ‰å€¼æŸ¥æ‰¾"><a href="#æŒ‰å€¼æŸ¥æ‰¾" class="headerlink" title="æŒ‰å€¼æŸ¥æ‰¾"></a>æŒ‰å€¼æŸ¥æ‰¾</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-comment">// At this point, current points to the address of the first element of the list</span><br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">if</span> (current-&gt;val == target) &#123;<br>                <span class="hljs-keyword">return</span> count;<br>            &#125;<br>            count++;<br>            current = current-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="æ‰“å°åˆ—è¡¨ï¼ˆå¯è§†åŒ–ï¼‰"><a href="#æ‰“å°åˆ—è¡¨ï¼ˆå¯è§†åŒ–ï¼‰" class="headerlink" title="æ‰“å°åˆ—è¡¨ï¼ˆå¯è§†åŒ–ï¼‰"></a>æ‰“å°åˆ—è¡¨ï¼ˆå¯è§†åŒ–ï¼‰</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">()</span> </span>&#123;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            std::cout &lt;&lt; current-&gt;val &lt;&lt; <span class="hljs-string">&quot; -&gt; &quot;</span>;<br>            current = current-&gt;next;<br>        &#125;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;NULL&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br></code></pre></td></tr></table></figure><h5 id="ç½®ç©ºæ£€æŸ¥"><a href="#ç½®ç©ºæ£€æŸ¥" class="headerlink" title="ç½®ç©ºæ£€æŸ¥"></a>ç½®ç©ºæ£€æŸ¥</h5><p>åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰å…ƒç´ </p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// Check if the list is empty</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isempty</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h3 id="Outlook"><a href="#Outlook" class="headerlink" title="Outlook"></a>Outlook</h3><p>Congratulationsï¼ç°åœ¨ä½ å·²ç»å®ç°äº†é“¾è¡¨æ‰€æœ‰çš„åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬<strong>åˆå§‹åŒ–ï¼Œéå†ï¼Œæ’å…¥ï¼Œåˆ é™¤ï¼Œç´¢å¼•ï¼Œä¿®æ”¹ï¼ŒæŒ‰å€¼æŸ¥æ‰¾ï¼Œæ‰“å°ç­‰ç­‰</strong>ã€‚ä½ å¯ä»¥ä½¿ç”¨è‡ªå·±å†™çš„é“¾è¡¨å»å®Œæˆä¸€äº›æ›´åŠ å¼ºå¤§çš„åŠŸèƒ½ï¼ä¸‹é¢æ˜¯ä¸€äº›å±•æœ›å’Œæœªæ¥å¯ä»¥ç»§ç»­æ”¹è¿›çš„æ–¹å‘ï¼š</p><ul><li>ä¼˜åŒ–å‹ç¼©ä»£ç ï¼Œç²¾ç®€å¤æ‚åº¦</li><li>å°†ä»£ç æ”¹å†™æˆOOPçš„å½¢åŠ¿ï¼Œå†™æˆå¤´æ–‡ä»¶</li><li>å®ç°ä¸€äº›æ›´åŠ é«˜çº§çš„åŠŸèƒ½<ul><li>é“¾è¡¨çš„åˆå¹¶</li><li>é“¾è¡¨çš„ç¿»è½¬</li><li>é“¾è¡¨çš„è®¡æ•°</li><li>Itâ€™s up to you!</li></ul></li></ul><h2 id="All-codes"><a href="#All-codes" class="headerlink" title="All codes"></a>All codes</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * @Author: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @Date: 2024-12-08 10:28:07</span><br><span class="hljs-comment"> * @LastEditors: Xiyuan Yang   xiyuan_yang@outlook.com</span><br><span class="hljs-comment"> * @LastEditTime: 2024-12-08 13:48:56</span><br><span class="hljs-comment"> * @FilePath: \CODE_for_Vscode\C++_project\Linked_list_copy.cpp</span><br><span class="hljs-comment"> * @Description: </span><br><span class="hljs-comment"> * Do you code and make progress today?</span><br><span class="hljs-comment"> * Copyright (c) 2024 by Xiyuan Yang, All Rights Reserved. </span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span> &#123;<br>    <span class="hljs-type">int</span> val;<br>    ListNode *next;<br>    <span class="hljs-built_in">ListNode</span>(<span class="hljs-type">int</span> value = <span class="hljs-number">0</span>, ListNode *next = <span class="hljs-literal">nullptr</span>) : <span class="hljs-built_in">val</span>(value), <span class="hljs-built_in">next</span>(next) &#123;&#125;<br>&#125;;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">LinkedList</span> &#123;<br>    <span class="hljs-comment">// By default, construct a sentinel node that does not store any value, and its reference points to the first element of the list</span><br>    <span class="hljs-comment">// Initially, it points to nullptr</span><br>    ListNode* sentinel;<br>    <span class="hljs-type">int</span> size = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-comment">// Constructor: Initialize the sentinel node, allocate memory on the heap for it</span><br>    <span class="hljs-built_in">LinkedList</span>(): <span class="hljs-built_in">sentinel</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>()), <span class="hljs-built_in">size</span>(<span class="hljs-number">0</span>) &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Created successfully&quot;</span> &lt;&lt; endl;<br>    &#125;;<br><br>    <span class="hljs-comment">// Destructor: Iteratively delete all nodes (including the memory pointed to by the sentinel node initially)</span><br>    <span class="hljs-comment">// Once the sentinel points to a null pointer, the destruction process is complete</span><br>    ~<span class="hljs-built_in">LinkedList</span>() &#123;<br>        <span class="hljs-keyword">while</span> (sentinel != <span class="hljs-literal">nullptr</span>) &#123;<br>            ListNode* temp = sentinel;<br>            sentinel = sentinel-&gt;next;<br>            <span class="hljs-keyword">delete</span> temp;<br>        &#125;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Destroyed successfully&quot;</span> &lt;&lt; endl;<br>    &#125;<br><br>    <span class="hljs-comment">// Four insertion functions</span><br>    <span class="hljs-comment">// Insert a node at the head of the list</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-comment">// Set the reference of the new node to the reference of the sentinel node</span><br>        ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, sentinel-&gt;next&#125;;<br>        <span class="hljs-comment">// Change the reference of the sentinel node because the first element of the list has changed</span><br>        sentinel-&gt;next = newNode;<br>        size++;<br>    &#125;<br><br>    <span class="hljs-comment">// Insert a new node after the specified node</span><br>    <span class="hljs-comment">// current represents the node after which you want to insert</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAfter</span><span class="hljs-params">(ListNode* current, <span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-comment">// If the current node is null, return or throw an exception</span><br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">invalid_argument</span>(<span class="hljs-string">&quot;Current node is null&quot;</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// Create a new node</span><br>        ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, current-&gt;next&#125;;<br>        <span class="hljs-comment">// Insert the new node after the current node</span><br>        current-&gt;next = newNode;<br>        size++;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtPosition</span><span class="hljs-params">(<span class="hljs-type">int</span> value, <span class="hljs-type">int</span> position)</span> </span>&#123;<br>        <span class="hljs-comment">// If the position is 0 or the list is empty, insert at the head</span><br>        <span class="hljs-keyword">if</span> (position == <span class="hljs-number">0</span> || sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-built_in">insertAtHead</span>(value);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-type">int</span> currentPosition = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// Set a pointer to start the traversal</span><br><br>        <span class="hljs-comment">// Find the node before the insertion position</span><br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span> &amp;&amp; currentPosition &lt; position - <span class="hljs-number">1</span>) &#123;<br>            current = current-&gt;next;<br>            currentPosition++;<br>        &#125;<br><br>        <span class="hljs-comment">// If the position exceeds the end of the list, insert at the end</span><br>        <span class="hljs-keyword">if</span> (currentPosition &lt; position - <span class="hljs-number">1</span>) &#123;<br>            ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>            current-&gt;next = newNode;<br>            size++;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Insert the new node</span><br>            <span class="hljs-comment">// current represents the node at index n-1, inserting after it achieves the desired index</span><br>            <span class="hljs-built_in">insertAfter</span>(current, value);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// Insert directly at the end</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insertAtEnd</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>            ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>            sentinel-&gt;next = newNode;<br>            size++;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span>) &#123;<br>            current = current-&gt;next;<br>        &#125;<br>        <span class="hljs-comment">// Traverse to the last node</span><br>        <span class="hljs-comment">// Create a new node</span><br>        ListNode* newNode = <span class="hljs-keyword">new</span> ListNode&#123;value, <span class="hljs-literal">nullptr</span>&#125;;<br>        current-&gt;next = newNode;<br>        size++;<br>    &#125;<br><br>    <span class="hljs-comment">// Delete operation</span><br>    <span class="hljs-comment">// Delete the node with the specified value</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteNode</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Empty list</span><br><br>        ListNode* current = sentinel-&gt;next;<br>        ListNode* prev = sentinel;<br><br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">if</span> (current-&gt;val == key) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            prev = current;<br>            current = current-&gt;next;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (current == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Node does not exist</span><br><br>        prev-&gt;next = current-&gt;next;<br>        <span class="hljs-keyword">delete</span> current;<br>        size--;<br>    &#125;<br><br>    <span class="hljs-comment">// Delete the last element of the list</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deletetheend</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Empty list</span><br><br>        ListNode* current = sentinel-&gt;next;<br>        ListNode* prev = sentinel;<br><br>        <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span>) &#123;<br>            prev = current;<br>            current = current-&gt;next;<br>        &#125;<br>        <span class="hljs-comment">// At this point, current is the last element of the list</span><br>        prev-&gt;next = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">delete</span> current;<br>        size--;<br>    &#125;<br><br>    <span class="hljs-comment">// Delete the element at a specific index in the list</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deletetheplace</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// Empty list</span><br><br>        ListNode* current = sentinel-&gt;next;<br>        ListNode* prev = sentinel;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span> &amp;&amp; count &lt; index) &#123;<br>            prev = current;<br>            current = current-&gt;next;<br>            count++;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (count &lt; index) &#123;<br>            <span class="hljs-comment">// Index is too large, no corresponding index</span><br>            <span class="hljs-keyword">return</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// Then current is the node at the target index</span><br>            prev-&gt;next = current-&gt;next;<br>            <span class="hljs-keyword">delete</span> current;<br>            size--;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">modify</span><span class="hljs-params">(<span class="hljs-type">int</span> index,<span class="hljs-type">int</span> replacement)</span></span>&#123;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-comment">// At this point, current points to the address of the first element of the list</span><br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (count &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Out of range&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">while</span> (count &lt; index) &#123;<br>                current = current-&gt;next;<br>                count++;<br>            &#125;<br>            <span class="hljs-comment">// At this point, current points to the element at the target index</span><br>            current-&gt;val=replacement;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// List search</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">at</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-comment">// At this point, current points to the address of the first element of the list</span><br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span> (count &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Out of range&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">while</span> (count &lt; index) &#123;<br>                current = current-&gt;next;<br>                count++;<br>            &#125;<br>            <span class="hljs-comment">// At this point, current points to the element at the target index</span><br>            <span class="hljs-keyword">return</span> current-&gt;val;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-comment">// At this point, current points to the address of the first element of the list</span><br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">if</span> (current-&gt;val == target) &#123;<br>                <span class="hljs-keyword">return</span> count;<br>            &#125;<br>            count++;<br>            current = current-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// Print list content</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">()</span> </span>&#123;<br>        ListNode* current = sentinel-&gt;next;<br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            std::cout &lt;&lt; current-&gt;val &lt;&lt; <span class="hljs-string">&quot; -&gt; &quot;</span>;<br>            current = current-&gt;next;<br>        &#125;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;NULL&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// Check if the list is empty</span><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isempty</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (sentinel-&gt;next == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    LinkedList thelklist;<br>    cout &lt;&lt; thelklist.<span class="hljs-built_in">isempty</span>() &lt;&lt; endl;<br>    thelklist.<span class="hljs-built_in">insertAtEnd</span>(<span class="hljs-number">6</span>);<br>    thelklist.<span class="hljs-built_in">insertAtEnd</span>(<span class="hljs-number">5</span>);<br>    thelklist.<span class="hljs-built_in">insertAtEnd</span>(<span class="hljs-number">3</span>);<br>    thelklist.<span class="hljs-built_in">insertAfter</span>(thelklist.sentinel, <span class="hljs-number">2</span>);<br>    thelklist.<span class="hljs-built_in">insertAtHead</span>(<span class="hljs-number">11</span>);<br>    thelklist.<span class="hljs-built_in">insertAtPosition</span>(<span class="hljs-number">7</span>, <span class="hljs-number">4</span>);<br>    thelklist.<span class="hljs-built_in">deleteNode</span>(<span class="hljs-number">2</span>);<br>    thelklist.<span class="hljs-built_in">deletetheend</span>();<br>    thelklist.<span class="hljs-built_in">deletetheplace</span>(<span class="hljs-number">3</span>);<br>    cout &lt;&lt; thelklist.<span class="hljs-built_in">isempty</span>() &lt;&lt; endl;<br>    cout &lt;&lt; thelklist.<span class="hljs-built_in">search</span>(<span class="hljs-number">6</span>) &lt;&lt; endl;<br>    cout &lt;&lt; thelklist.<span class="hljs-built_in">search</span>(<span class="hljs-number">2</span>) &lt;&lt; endl;<br>    thelklist.<span class="hljs-built_in">printList</span>();<br>    cout &lt;&lt; thelklist.size &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>æ”¹è‰¯åçš„ä»£ç å°†ä¼šæ”¾åœ¨æˆ‘çš„githubä»“åº“ï¼Œæ•¬è¯·æœŸå¾…~</p></blockquote><h2 id="Extensions1-Linked-List-of-both-sides"><a href="#Extensions1-Linked-List-of-both-sides" class="headerlink" title="Extensions1 Linked-List-of-both-sides"></a>Extensions1 Linked-List-of-both-sides</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹åŒé“¾è¡¨ã€‚å•é“¾è¡¨çš„éå†æ“ä½œæ˜¯æ•ˆç‡æ¯”è¾ƒä½çš„ï¼Œè¾¾åˆ°äº†Oï¼ˆnï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚åŒæ—¶å•é“¾è¡¨è¿˜æœ‰ä¸€ä¸ªè‡´å‘½çš„ç¼ºé™·ï¼š<strong>å•é“¾è¡¨åªèƒ½å¤Ÿå®ç°å•å‘çš„éå†</strong>ï¼Œå› ä¸ºèŠ‚ç‚¹æ— æ³•è·å–å…¶å‰ç»§èŠ‚ç‚¹çš„åœ°å€ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯¹é“¾è¡¨è¿›è¡Œå¼ºåŒ–ï¼Œä»å•é“¾è¡¨å»¶ä¼¸å‡º<strong>åŒå‘é“¾è¡¨</strong>ï¼š</p><ul><li>æ¯ä¸ªèŠ‚ç‚¹éœ€è¦å‚¨å­˜<strong>å‰é©±ç»“ç‚¹</strong>å’Œ<strong>åç»§èŠ‚ç‚¹</strong>çš„åœ°å€ã€‚</li><li>å¢åŠ äº†<strong>å°¾èŠ‚ç‚¹</strong>ï¼ˆå’Œ<strong>å¤´ç»“ç‚¹</strong>å¼‚æ›²åŒå·¥ï¼‰<ul><li>å¤´ç»“ç‚¹çš„å‰ç»§æŒ‡é’ˆä¸º<code>nullptr</code></li><li>å°¾èŠ‚ç‚¹çš„åç»§æŒ‡é’ˆä¸º<code>nullptr</code></li></ul></li></ul><p>ç”±äºç¯‡å¹…é™åˆ¶ï¼Œæˆ‘ä»¬ä¸å†è¯¦ç»†è§£é‡ŠåŒé“¾è¡¨çš„OOPå®ç°ï¼ˆæˆ–è€…ç»“æ„ä½“å®ç°ï¼‰ï¼Œä¸‹é¢ç¬”è€…ç®€å•çš„ä»‹ç»ä¸€ä¸‹åŒé“¾è¡¨ä¸­çš„<strong>æ’å…¥</strong>æ“ä½œå¦‚ä½•å®ç°ï¼š</p><ul><li>åŠ¨æ€åˆ†é…ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹<code>inserted</code></li><li>éå†åˆ°éœ€è¦æ’å…¥åˆ°çš„ä½ç½®ï¼Œå³æ’å…¥åˆ°<code>current</code>è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹åé¢<ul><li>currentä¹Ÿå¯èƒ½æ˜¯å¤´æŒ‡é’ˆ</li></ul></li><li>æ›´æ–°<code>inserted</code>çš„æŒ‡é’ˆçš„å‰é©±ç»“ç‚¹çš„å€¼ï¼ˆ<code>current</code>çš„åœ°å€ï¼‰</li><li>æ›´æ–°<code>inserted</code>çš„æŒ‡é’ˆçš„åç»§ç»“ç‚¹çš„å€¼ï¼ˆ<code>current</code>çš„åç»§ç»“ç‚¹ï¼‰</li><li>æ›´æ–°<code>current</code>çš„åç»§ç»“ç‚¹çš„å€¼ä¸ºå½“å‰<code>inserted</code>çš„åœ°å€ã€‚</li></ul><div class="note note-warning">            <p>åœ¨è‡ªå·±æ„é€ å‡½æ•°å®ç°çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨æ„<strong>æ¯ä¸€æ­¥çš„æ“ä½œé¡ºåºï¼ï¼ï¼</strong>ä¾‹å¦‚åœ¨è¿™é‡Œ2,3ä¸¤æ­¥çš„é¡ºåºå°±ä¸å¯ä»¥è°ƒæ¢ï¼Œå¦åˆ™<code>current</code>åç»§ç»“ç‚¹çš„å€¼ä¼šè¢«æŠ¹å»ï¼Œå¯¼è‡´<strong>é“¾è¡¨ä¸­æ–­</strong>ã€‚</p>          </div><p>ä¼˜åŒ–åï¼ŒåŒé“¾è¡¨ä¾¿æœ‰äº†åŒå‘éå†çš„èƒ½åŠ›ã€‚åŒæ—¶ï¼ŒåŒé“¾è¡¨åœ¨<strong>æ’å…¥å’Œåˆ é™¤</strong>ç­‰æ“ä½œä¸Šä¹Ÿå…·æœ‰æ›´é«˜çš„ä¾¿åˆ©æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨è®¿é—®æŸä¸ªèŠ‚ç‚¹çš„æ—¶å€™éœ€è¦åˆ é™¤è¯¥èŠ‚ç‚¹ï¼Œåˆ™å¯¹åº”å•é“¾è¡¨è€Œè¨€ï¼Œéœ€è¦<strong>ä»å¤´å¼€å§‹éå†åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„å‰é©±ç»“ç‚¹</strong>ï¼Œç„¶åå°†åç»§èŠ‚ç‚¹å’Œå‰é©±ç»“ç‚¹ç›´æ¥å»ºç«‹è”ç³»ã€‚ï¼ˆ<strong>æœ¬è´¨åŸå› ï¼šå•é“¾è¡¨çš„è®¾è®¡åªå…è®¸å•å‘çš„éå†æ“ä½œï¼Œä¸å¯ä»¥èµ°å›å¤´è·¯</strong>ï¼‰</p><p>ä½†æ˜¯ï¼Œåœ¨åŒé“¾è¡¨ä¸­ï¼Œæˆ‘å¯ä»¥<strong>ç›´æ¥è·å–ç‰¹å®šèŠ‚ç‚¹çš„å‰é©±ç»“ç‚¹å’Œåç»§ç»“ç‚¹çš„åœ°å€</strong>ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œåˆ é™¤æ“ä½œã€‚</p><h2 id="Extensions2-Bidirectional-circular-linked-lists"><a href="#Extensions2-Bidirectional-circular-linked-lists" class="headerlink" title="Extensions2 Bidirectional circular linked lists"></a>Extensions2 Bidirectional circular linked lists</h2><p><strong>å¾ªç¯é“¾è¡¨</strong>å¾ˆå¤§çš„ä¸åŒä¹‹å¤„åœ¨äº<strong>ä¸å†éœ€è¦è®¾ç½®å¤´å°¾èŠ‚ç‚¹</strong>ã€‚ä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯ä¸åŒå‘é“¾è¡¨çš„å…¼å®¹æ€§ï¼Œå¯ä»¥ä¿ç•™å¤´å°¾èŠ‚ç‚¹ï¼Œè€Œæ˜¯<strong>å°†å¤´ç»“ç‚¹çš„å‰é©±ç»“ç‚¹çš„åœ°å€è®¾ç½®ä¸ºå°¾èŠ‚ç‚¹çš„åœ°å€ï¼Œå°†å°¾èŠ‚ç‚¹çš„åç»§ç»“ç‚¹çš„åœ°å€è®¾ç½®ä¸ºå¤´ç»“ç‚¹çš„åœ°å€</strong>ã€‚ï¼ˆè¿™æ ·å°±è¿›éœ€è¦ä¿®æ”¹ä¸¤ä¸ªå€¼ä¾¿å¯ä»¥å°†åŒå‘é“¾è¡¨å‡çº§ä¸º<strong>åŒå‘å¾ªç¯é“¾è¡¨</strong>ï¼‰ã€‚</p><blockquote><p>ä½†æ˜¯è¿™ç§æ–¹å¼æœ‰ä¸€ç§å¼Šç«¯å°±æ˜¯é“¾è¡¨æˆç¯åï¼Œ<strong>å¤´ç»“ç‚¹å’Œå°¾èŠ‚ç‚¹å¹¶ä¸å‚¨å­˜æœ‰æ•ˆçš„ä¿¡æ¯ï¼Œæ¯”è¾ƒçš„å†—ä½™</strong>ã€‚</p></blockquote><p>å› æ­¤ï¼Œä¸€èˆ¬æ›´é€šç”¨çš„åšæ³•æ˜¯ä¸è®¾ç½®å¤´ç»“ç‚¹å’Œå°¾èŠ‚ç‚¹ï¼Œè¿™æ ·åªè¦è®¨è®º<strong>ç©ºé“¾è¡¨çš„ç‰¹æ®Šæ€§</strong>ï¼Œå…¶ä»–æ“ä½œä¹Ÿèƒ½å¤Ÿæ­£å¸¸çš„å®Œæˆã€‚</p><p>[æ¨èè¿™ä¸€ç¯‡åšå®¢ï¼Œä¸è¿‡æ˜¯Cè¯­è¨€çš„](<a href="https://www.cnblogs.com/wyfm/p/18533925">æ•°æ®ç»“æ„_é“¾è¡¨_å•å‘å¾ªç¯é“¾è¡¨ &amp; åŒå‘é“¾è¡¨çš„åˆå§‹åŒ–ã€æ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢æ‰“å°ï¼ˆåŸºäºCè¯­è¨€å®ç°ï¼‰ - é€¸é¢¨æ˜ - åšå®¢å›­</a>)</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p>ã€ŠC++ç¨‹åºè®¾è®¡â€”â€”æ€æƒ³ä¸æ–¹æ³•ã€‹</p><p>ã€ŠHello ç®—æ³•ã€‹</p><p>ã€Šæ•°æ®ç»“æ„ï¼šæ€æƒ³å’Œå®ç°ã€‹</p><p><a href="https://www.hello-algo.com/">Hello ç®—æ³•</a></p><blockquote><p>THE END</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Linked list</tag>
      
      <tag>Structs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dynamic-Memory-and-Classes</title>
    <link href="/posts/Dynamic-Memory-and-Classes/"/>
    <url>/posts/Dynamic-Memory-and-Classes/</url>
    
    <content type="html"><![CDATA[<h1 id="C-Primer-Plus-Tutorial-12"><a href="#C-Primer-Plus-Tutorial-12" class="headerlink" title="C++ Primer Plus Tutorial-12"></a>C++ Primer Plus Tutorial-12</h1><h1 id="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¡"><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¡" class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¡"></a>é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘¡</h1><center><p style="color: red;"><b><font size=6.5>Chapter 12 Dynamic-Memory-and-Classes</font></b></p></center><center><p style="color: red;"><b><font size=6.5>åŠ¨æ€å†…å­˜å’Œç±»</font></b></p></center><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p><a href="https://xiyuanyang-code.github.io/posts/C-plus-plus-Primer-Plus-tutorial/">C++ Primer Plus Tutorial</a></p><p><a href="https://xiyuanyang-code.github.io/tags/OOP/">ç³»åˆ—æ–‡ç« </a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>æœ¬ç« å°†é‡ç‚¹æ”¾åœ¨å¦‚ä½•å¯¹<strong>è‡ªå®šä¹‰ç±»å’Œå¯¹è±¡</strong>è°¨æ…åœ°ä½¿ç”¨<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>ï¼Œä»¥åŠå†…å­˜ç®¡ç†çš„ç›¸å…³çŸ¥è¯†ã€‚é¦–å…ˆä»ä¸€ä¸ªä»£ç ç¤ºä¾‹StringBadè®²èµ·ï¼Œåˆ†æå› ä¸ºC++è‡ªå¸¦çš„éšå¼å¤åˆ¶æ„é€ å‡½æ•°å¯¼è‡´<strong>æŒ‰å€¼ä¼ é€’</strong>å’Œ<strong>æŒ‰å€ä¼ é€’</strong>å‘ç”Ÿå†²çªè€Œå¯¼è‡´ç¨‹åºæ— æ³•æ­£ç¡®è¾“å‡ºï¼Œå¹¶ä»¥æ­¤ä¸ºæ•™æä»‹ç»äº†å¦‚ä½•<strong>æ˜¾å¼</strong>åœ°å®šä¹‰<strong>å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦</strong>ï¼Œå¹¶ç»™å‡ºäº†ä¿®æ”¹åçš„Stringç±»çš„ç±»å®šä¹‰å’Œä½¿ç”¨ç¤ºèŒƒã€‚æ¥ç€ï¼Œæ–‡ç« èšç„¦äºåœ¨ç±»ä¸­ä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ˜“é”™ç‚¹ï¼ŒåŒ…æ‹¬newå’Œdeleteçš„ä¸€ä¸€å¯¹åº”é—®é¢˜ã€‚æœ€åï¼Œæ–‡ç« åˆ†æäº†ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…åœ¨è®¾è®¡ç±»å’Œå¯¹è±¡è¿‡ç¨‹ä¸­çš„åº”ç”¨ï¼š<strong>è®¾ç½®åˆç†çš„è¿”å›å¯¹è±¡</strong>å’Œ<strong>ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ</strong>ï¼ŒåŒæ—¶ä»‹ç»äº†åŠ¨æ€å†…å­˜ç®¡ç†çš„ä¸€äº›é«˜çº§æ“ä½œï¼ŒåŒ…æ‹¬<strong>æ­£ç¡®åœ°ä½¿ç”¨ææ„å‡½æ•°</strong>å’Œ<strong>ä½¿ç”¨å®šä½newè¿ç®—ç¬¦</strong>ã€‚</p><blockquote><p>This chapter focuses on how to <strong>cautiously use dynamic memory allocation with</strong> <strong>custom classes and objects</strong>, along with related knowledge on memory management. It begins with a code example, StringBad, to analyze how the implicit copy constructor provided by C++ leads to conflicts between <strong>pass-by-value</strong> and <strong>pass-by-reference</strong>, resulting in incorrect program output. Using this example as a teaching tool, the chapter introduces how to <strong>explicitly</strong> define <strong>copy constructors and assignment operators</strong>, and provides an updated class definition and usage demonstration for the String class. Next, the article focuses on common pitfalls when using dynamic memory in classes, including the one-to-one correspondence issue between new and delete. Finally, the chapter discusses the application of dynamic memory allocation in the design of classes and objects: <strong>setting appropriate return objects</strong> and <strong>using pointers to objects</strong>, while also introducing some advanced operations in dynamic memory management, such as <strong>correctly using destructors</strong> and <strong>using placement new operator</strong>.</p><p><strong>Key words: OOP, Dynamic Memory, C++, Classes</strong></p></blockquote><h2 id="Introductionï¼šC-ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°"><a href="#Introductionï¼šC-ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°" class="headerlink" title="Introductionï¼šC++ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°"></a>Introductionï¼šC++ä¸­çš„ç‰¹æ®Šæˆå‘˜å‡½æ•°</h2><h3 id="ç¤ºä¾‹ä»£ç ï¼ˆstringbadç±»çš„å®ç°ï¼‰"><a href="#ç¤ºä¾‹ä»£ç ï¼ˆstringbadç±»çš„å®ç°ï¼‰" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼ˆstringbadç±»çš„å®ç°ï¼‰"></a>ç¤ºä¾‹ä»£ç ï¼ˆstringbadç±»çš„å®ç°ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// strngbad.h -- flawed string class definition</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> STRNGBAD_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STRNGBAD_H_</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBad</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">char</span> * str;                <span class="hljs-comment">// pointer to string</span><br>    <span class="hljs-type">int</span> len;                   <span class="hljs-comment">// length of string</span><br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> num_strings;    <span class="hljs-comment">// number of objects</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">StringBad</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s); <span class="hljs-comment">// constructor</span><br>    <span class="hljs-built_in">StringBad</span>();               <span class="hljs-comment">// default constructor</span><br>    ~<span class="hljs-built_in">StringBad</span>();              <span class="hljs-comment">// destructor</span><br><span class="hljs-comment">// friend function</span><br>    <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> StringBad &amp; st);<br>&#125;;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// strngbad.cpp -- StringBad class methods</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span>                    <span class="hljs-comment">// string.h for some</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;strngbad.h&quot;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><br><span class="hljs-comment">// initializing static class member</span><br><span class="hljs-type">int</span> StringBad::num_strings = <span class="hljs-number">0</span>;<br><br><span class="hljs-comment">// class methods</span><br><br><span class="hljs-comment">// construct StringBad from C string</span><br>StringBad::<span class="hljs-built_in">StringBad</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s)<br>&#123;<br>    len = std::<span class="hljs-built_in">strlen</span>(s);             <span class="hljs-comment">// set size</span><br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[len + <span class="hljs-number">1</span>];          <span class="hljs-comment">// allot storage</span><br>    std::<span class="hljs-built_in">strcpy</span>(str, s);              <span class="hljs-comment">// initialize pointer</span><br>    num_strings++;                    <span class="hljs-comment">// set object count</span><br>    cout &lt;&lt; num_strings &lt;&lt; <span class="hljs-string">&quot;: \&quot;&quot;</span> &lt;&lt; str<br>         &lt;&lt; <span class="hljs-string">&quot;\&quot; object created\n&quot;</span>;    <span class="hljs-comment">// For Your Information</span><br>&#125;<br><br>StringBad::<span class="hljs-built_in">StringBad</span>()                <span class="hljs-comment">// default constructor</span><br>&#123;<br>    len = <span class="hljs-number">4</span>;<br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-number">4</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(str, <span class="hljs-string">&quot;C++&quot;</span>);          <span class="hljs-comment">// default string</span><br>    num_strings++;<br>    cout &lt;&lt; num_strings &lt;&lt; <span class="hljs-string">&quot;: \&quot;&quot;</span> &lt;&lt; str<br>         &lt;&lt; <span class="hljs-string">&quot;\&quot; default object created\n&quot;</span>;  <span class="hljs-comment">// FYI</span><br>&#125;<br><br>StringBad::~<span class="hljs-built_in">StringBad</span>()               <span class="hljs-comment">// necessary destructor</span><br>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;\&quot;&quot;</span> &lt;&lt; str &lt;&lt; <span class="hljs-string">&quot;\&quot; object deleted, &quot;</span>;    <span class="hljs-comment">// FYI</span><br>    --num_strings;                    <span class="hljs-comment">// required</span><br>    cout &lt;&lt; num_strings &lt;&lt; <span class="hljs-string">&quot; left\n&quot;</span>; <span class="hljs-comment">// FYI</span><br>    <span class="hljs-keyword">delete</span> [] str;                    <span class="hljs-comment">// required</span><br>&#125;<br><br>std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> StringBad &amp; st)<br>&#123;<br>    os &lt;&lt; st.str;<br>    <span class="hljs-keyword">return</span> os; <br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// vegnews.cpp -- using new and delete with classes</span><br><span class="hljs-comment">// compile with strngbad.cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::cout;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;strngbad.h&quot;</span></span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">callme1</span><span class="hljs-params">(StringBad &amp;)</span></span>;  <span class="hljs-comment">// pass by reference</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">callme2</span><span class="hljs-params">(StringBad)</span></span>;    <span class="hljs-comment">// pass by value</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">using</span> std::endl;<br>    &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Starting an inner block.\n&quot;</span>;<br>        <span class="hljs-function">StringBad <span class="hljs-title">headline1</span><span class="hljs-params">(<span class="hljs-string">&quot;Celery Stalks at Midnight&quot;</span>)</span></span>;<br>        <span class="hljs-function">StringBad <span class="hljs-title">headline2</span><span class="hljs-params">(<span class="hljs-string">&quot;Lettuce Prey&quot;</span>)</span></span>;<br>        <span class="hljs-function">StringBad <span class="hljs-title">sports</span><span class="hljs-params">(<span class="hljs-string">&quot;Spinach Leaves Bowl for Dollars&quot;</span>)</span></span>;<br>        cout &lt;&lt; <span class="hljs-string">&quot;headline1: &quot;</span> &lt;&lt; headline1 &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;headline2: &quot;</span> &lt;&lt; headline2 &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;sports: &quot;</span> &lt;&lt; sports &lt;&lt; endl;<br>        <span class="hljs-built_in">callme1</span>(headline1);<br>        cout &lt;&lt; <span class="hljs-string">&quot;headline1: &quot;</span> &lt;&lt; headline1 &lt;&lt; endl;<br>        <span class="hljs-built_in">callme2</span>(headline2);<br>        cout &lt;&lt; <span class="hljs-string">&quot;headline2: &quot;</span> &lt;&lt; headline2 &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Initialize one object to another:\n&quot;</span>;<br>        StringBad sailor = sports;<br>        cout &lt;&lt; <span class="hljs-string">&quot;sailor: &quot;</span> &lt;&lt; sailor &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Assign one object to another:\n&quot;</span>;<br>        StringBad knot;<br>        knot = headline1;<br>        cout &lt;&lt; <span class="hljs-string">&quot;knot: &quot;</span> &lt;&lt; knot &lt;&lt; endl; <br>        cout &lt;&lt; <span class="hljs-string">&quot;Exiting the block.\n&quot;</span>;<br>    &#125;<br>    cout &lt;&lt; <span class="hljs-string">&quot;End of main()\n&quot;</span>;<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">callme1</span><span class="hljs-params">(StringBad &amp; rsb)</span></span><br><span class="hljs-function"></span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;String passed by reference:\n&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;    \&quot;&quot;</span> &lt;&lt; rsb &lt;&lt; <span class="hljs-string">&quot;\&quot;\n&quot;</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">callme2</span><span class="hljs-params">(StringBad sb)</span></span><br><span class="hljs-function"></span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;String passed by value:\n&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;    \&quot;&quot;</span> &lt;&lt; sb &lt;&lt; <span class="hljs-string">&quot;\&quot;\n&quot;</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç å®ç°äº†ä¸€ä¸ªå¯¹å­—ç¬¦ä¸²ç±»<code>StringBad</code>ç±»çš„å£°æ˜ä¸å®šä¹‰ï¼Œä»£ç ç¤ºä¾‹å‚è§æ³¨é‡Šï¼Œä¸åšè§£é‡Šã€‚</p><p>ä»¥ä¸‹æ˜¯åŸä¹¦ç»™å‡ºçš„è¾“å‡ºç¤ºä¾‹ï¼š</p><p><img src="/posts/Dynamic-Memory-and-Classes/input1.png"></p><p><img src="/posts/Dynamic-Memory-and-Classes/input2.png" alt="Output"></p><h3 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h3><p>é€šè¿‡è¾“å‡ºå¯ä»¥å¤§è‡´åˆ¤æ–­<code>stringbad</code>ç±»å‡ºç°å¥‡æ€ªé—®é¢˜çš„åŸå› å¯èƒ½å¦‚ä¸‹ï¼š</p><ul><li>é™æ€å˜é‡<code>num_strings</code>å‡ºç°äº†è´Ÿå€¼ï¼Œè¯´æ˜åœ¨ç¨‹åºä¸­<strong>ä½¿ç”¨ææ„å‡½æ•°çš„æ¬¡æ•°</strong>å¤šäº<strong>ä½¿ç”¨æ„é€ å‡½æ•°çš„æ¬¡æ•°</strong></li><li>å‡ºç°äº†<strong>éæ ‡å‡†å­—ç¬¦</strong>ï¼Œè¯´æ˜å­—ç¬¦ä¸²åœ¨ä¼ é€’è¿‡ç¨‹ä¸­çš„å€¼å‡ºç°äº†é—®é¢˜ã€‚</li></ul><h3 id="é—®é¢˜åˆ†æ1"><a href="#é—®é¢˜åˆ†æ1" class="headerlink" title="é—®é¢˜åˆ†æ1"></a>é—®é¢˜åˆ†æ1</h3><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå­˜åœ¨<strong>ä¸¤ä¸ªæ„é€ å‡½æ•°</strong>ï¼Œåˆ†åˆ«å¯¹åº”æœ‰å‚æ•°å’Œæ— å‚æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++">StringBad::<span class="hljs-built_in">StringBad</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s)<br>&#123;<br>    len = std::<span class="hljs-built_in">strlen</span>(s);             <span class="hljs-comment">// set size</span><br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[len + <span class="hljs-number">1</span>];          <span class="hljs-comment">// allot storage</span><br>    std::<span class="hljs-built_in">strcpy</span>(str, s);              <span class="hljs-comment">// initialize pointer</span><br>    num_strings++;                    <span class="hljs-comment">// set object count</span><br>    cout &lt;&lt; num_strings &lt;&lt; <span class="hljs-string">&quot;: \&quot;&quot;</span> &lt;&lt; str<br>         &lt;&lt; <span class="hljs-string">&quot;\&quot; object created\n&quot;</span>;    <span class="hljs-comment">// For Your Information</span><br>&#125;<br><br>StringBad::<span class="hljs-built_in">StringBad</span>()                <span class="hljs-comment">// default constructor</span><br>&#123;<br>    len = <span class="hljs-number">4</span>;<br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-number">4</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(str, <span class="hljs-string">&quot;C++&quot;</span>);          <span class="hljs-comment">// default string</span><br>    num_strings++;<br>    cout &lt;&lt; num_strings &lt;&lt; <span class="hljs-string">&quot;: \&quot;&quot;</span> &lt;&lt; str<br>         &lt;&lt; <span class="hljs-string">&quot;\&quot; default object created\n&quot;</span>;  <span class="hljs-comment">// FYI</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯ææ„å‡½æ•°çš„å®šä¹‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++">StringBad::~<span class="hljs-built_in">StringBad</span>()               <span class="hljs-comment">// necessary destructor</span><br>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;\&quot;&quot;</span> &lt;&lt; str &lt;&lt; <span class="hljs-string">&quot;\&quot; object deleted, &quot;</span>;    <span class="hljs-comment">// FYI</span><br>    --num_strings;                    <span class="hljs-comment">// required</span><br>    cout &lt;&lt; num_strings &lt;&lt; <span class="hljs-string">&quot; left\n&quot;</span>; <span class="hljs-comment">// FYI</span><br>    <span class="hljs-keyword">delete</span> [] str;                    <span class="hljs-comment">// required</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸‰ä¸ªå‡½æ•°å®šä¹‰æ˜¯éƒ½æ²¡æœ‰å¿˜è®°å¯¹é™æ€æˆå‘˜å˜é‡<code>num_strings</code>çš„æ“ä½œï¼ˆ++&#x2F;â€“ï¼‰ã€‚å› æ­¤ï¼ŒåŸå› â‘ å¯ä»¥è¢«æ›´åŠ è§„èŒƒåœ°è¡¨è¿°ä¸ºï¼š<strong>åœ¨ç¨‹åºè¿è¡Œä¸­ä½¿ç”¨æ˜¾å¼å®šä¹‰çš„æ„é€ å‡½æ•°çš„æ¬¡æ•°å°‘äºä½¿ç”¨ææ„å‡½æ•°çš„æ¬¡æ•°</strong>ï¼Œæ¢å¥è¯è¯´ï¼Œç¨‹åºä½¿ç”¨äº†<strong>ç¬¬ä¸‰ç§æ„é€ å‡½æ•°</strong>ï¼Œè¿™ä¸ªâ€œç¬¬ä¸‰ç§æ„é€ å‡½æ•°â€ä¸ºç¨‹åºè‡ªåŠ¨ç”Ÿæˆï¼Œå› æ­¤æ²¡æœ‰å¯¹<code>num_strings</code>çš„++æ“ä½œï¼Œå¯¼è‡´è´Ÿå€¼çš„å‡ºç°ã€‚ï¼ˆæ¯•ç«Ÿåœ¨ä½œç”¨åŸŸä¸­æ¯ä¸ªå¯¹è±¡åªèƒ½æ„é€ ä¸€æ¬¡ï¼Œææ„ä¸€æ¬¡ï¼Œä¸¤è€…çš„æ•°é‡åº”è¯¥æ˜¯ç›¸ç­‰çš„ã€‚ï¼‰</p><p>ç¨‹åºä¸­ä¸€å…±æ¶‰åŠåˆ°5ä¸ªå¯¹è±¡ï¼Œè¿™æ˜¯ä»–ä»¬çš„æ„é€ æ–¹æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">StringBad <span class="hljs-title">headline1</span><span class="hljs-params">(<span class="hljs-string">&quot;Celery Stalks at Midnight&quot;</span>)</span></span>;<br><span class="hljs-function">StringBad <span class="hljs-title">headline2</span><span class="hljs-params">(<span class="hljs-string">&quot;Lettuce Prey&quot;</span>)</span></span>;<br><span class="hljs-function">StringBad <span class="hljs-title">sports</span><span class="hljs-params">(<span class="hljs-string">&quot;Spinach Leaves Bowl for Dollars&quot;</span>)</span></span>;<br><br>StringBad sailor = sports;<br><br>StringBad knot;<br>knot = headline1;<br></code></pre></td></tr></table></figure><p>å‰ä¸‰ä¸ªå¯¹è±¡ï¼Œ<code>headline1</code>ï¼Œ<code>headline2</code>ï¼Œ<code>sports</code>éƒ½æ˜¯æœ‰å‡½æ•°å®šä¹‰ä¸­<code>StringBad::StringBad(const char * s)</code>çš„æ„é€ å‡½æ•°è¿›è¡Œæ„é€ ï¼›æœ€åä¸€ä¸ª<code>knot</code>ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°<code>StringBad::StringBad()</code>è¿›è¡Œæ„é€ ï¼Œå› æ­¤ï¼Œé—®é¢˜å‡ºç°åœ¨<code>StringBad sailor = sports</code>ä¸Šã€‚</p><blockquote><p>sailorå’Œknotçš„åˆå§‹åŒ–å¾ˆåƒï¼Œä½†ç¨‹åºå¤„ç†çš„æ–¹å¼å®Œå…¨ä¸åŒã€‚knotåœ¨ä½¿ç”¨<strong>é»˜è®¤æ„é€ å‡½æ•°</strong>æ„é€ åç”¨headline1è¿›è¡Œèµ‹å€¼ï¼›è€Œsailorå¯¹è±¡ä½¿ç”¨äº†ä¸€ç§åå«<strong>å¤åˆ¶æ„é€ å‡½æ•°</strong>çš„æ„é€ æ–¹å¼ï¼</p></blockquote><h4 id="å¤åˆ¶æ„é€ å‡½æ•°ï¼šéšè—çš„â€œç¬¬ä¸‰è€…â€"><a href="#å¤åˆ¶æ„é€ å‡½æ•°ï¼šéšè—çš„â€œç¬¬ä¸‰è€…â€" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°ï¼šéšè—çš„â€œç¬¬ä¸‰è€…â€"></a>å¤åˆ¶æ„é€ å‡½æ•°ï¼šéšè—çš„â€œç¬¬ä¸‰è€…â€</h4><h5 id="å¤åˆ¶æ„é€ å‡½æ•°çš„å£°æ˜"><a href="#å¤åˆ¶æ„é€ å‡½æ•°çš„å£°æ˜" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°çš„å£°æ˜"></a>å¤åˆ¶æ„é€ å‡½æ•°çš„å£°æ˜</h5><p>sailorçš„æ„é€ å‡½æ•°åŸå‹ç­‰ä»·äºå¦‚ä¸‹è¯­å¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">StringBad sailor = <span class="hljs-built_in">StringBad</span> (sports);<br><span class="hljs-comment">//ç›¸å½“äºæŠŠsailorçš„å‰¯æœ¬æ‹·è´ç»™sailor</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>StringBad()</code>å°±æ˜¯C++è‡ªåŠ¨æä¾›çš„<strong>å¤åˆ¶æ„é€ å‡½æ•°</strong>ï¼Œç”¨äº<strong>å°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åˆ°ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡çš„åˆå§‹åŒ–ä¸­</strong>ï¼Œæ³¨æ„ï¼Œæ˜¯<strong>åˆå§‹åŒ–ä¸æ˜¯èµ‹å€¼ï¼ï¼ï¼</strong>knotå¯¹è±¡çš„èµ‹å€¼æ“ä½œå’Œå¤åˆ¶æ„é€ å‡½æ•°æ— å…³ï¼ˆåæ–‡ä¼šè®²åˆ°ï¼Œä½¿ç”¨çš„æ˜¯<code>èµ‹å€¼è¿ç®—ç¬¦</code>ï¼‰ï¼Œå› ä¸ºå¯¹knotçš„åˆå§‹åŒ–æ“ä½œå·²ç»åœ¨ä¸Šä¸€è¡Œä»£ç ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°å®Œæˆäº†ã€‚</p><p>ä¸‹é¢æ˜¯å¤åˆ¶æ„é€ å‡½æ•°çš„åŸå‹ï¼Œå®ƒ<strong>æ¥å—ä¸€ä¸ªæŒ‡å‘ç±»å¯¹è±¡çš„å¸¸é‡å¼•ç”¨ä½œä¸ºå‚æ•°</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">Class_name</span>(<span class="hljs-type">const</span> Class_name &amp;);<br><br><span class="hljs-built_in">StringBad</span>(<span class="hljs-type">const</span> StringBad &amp;);<br></code></pre></td></tr></table></figure><h5 id="å¤åˆ¶æ„é€ å‡½æ•°çš„ä½¿ç”¨åœºæ™¯"><a href="#å¤åˆ¶æ„é€ å‡½æ•°çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°çš„ä½¿ç”¨åœºæ™¯"></a>å¤åˆ¶æ„é€ å‡½æ•°çš„ä½¿ç”¨åœºæ™¯</h5><p>å¤åˆ¶æ„é€ å‡½æ•°çš„ä½¿ç”¨éå¸¸å¸¸è§ï¼Œå°¤å…¶åœ¨<strong>å°†æ–°å¯¹è±¡ä¸ç°æœ‰å¯¹è±¡ä¹‹é—´å»ºç«‹è”ç³»çš„æ—¶å€™</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">StringBad <span class="hljs-title">sailor</span><span class="hljs-params">(sports)</span></span>;<br>StringBad sailor=sports;<br>StringBad sailor = <span class="hljs-built_in">StringBad</span> (sports);<br>StringBad *sailor = <span class="hljs-keyword">new</span> <span class="hljs-built_in">StringBad</span>(sports); <br><span class="hljs-comment">//ä»¥ä¸Šå››ç§åˆå§‹åŒ–æ–¹å¼ç­‰ä»·ï¼Œéƒ½ä¼šä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°</span><br></code></pre></td></tr></table></figure><p>æ›´æ·±å…¥åœ°è®²ï¼Œå½“å‡½æ•°<strong>æŒ‰å€¼ä¼ é€’å¯¹è±¡æˆ–è¿”å›å¯¹è±¡æ—¶</strong>ï¼Œä¼šä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°åˆ›å»ºåŸå§‹å¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬ä½œä¸ºä¸´æ—¶å¯¹è±¡ï¼Œç„¶åå°†<strong>ä¸´æ—¶å¯¹è±¡çš„å†…å®¹èµ‹ç»™è¦è¢«åˆå§‹åŒ–çš„å¯¹è±¡</strong>ï¼ˆç¬¬å››ç§åˆå§‹åŒ–æ–¹å¼æ‰€èµ‹å€¼çš„æ˜¯æ‰€åˆ›å»ºçš„åŒ¿åå¯¹è±¡çš„æŒ‡é’ˆï¼‰ã€‚</p><p>ä¾‹å¦‚ç¨‹åºä¸­çš„ <code>callme2()</code>å‡½æ•°ä½¿ç”¨æŒ‰å€¼ä¼ é€’ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼ˆ<strong>è¿™é‡Œå’Œå‡½æ•°çš„å½¢å‚å®å‚ä¼ é€’æœ¬è´¨æ˜¯ç›¸åŒçš„</strong>ï¼‰ï¼Œå› æ­¤ä¼šä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">callme2</span><span class="hljs-params">(StringBad sb)</span></span><br><span class="hljs-function"></span>&#123;<br>    cout &lt;&lt; <span class="hljs-string">&quot;String passed by value:\n&quot;</span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;    \&quot;&quot;</span> &lt;&lt; sb &lt;&lt; <span class="hljs-string">&quot;\&quot;\n&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="å¤åˆ¶æ„é€ å‡½æ•°çš„åŠŸèƒ½"><a href="#å¤åˆ¶æ„é€ å‡½æ•°çš„åŠŸèƒ½" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°çš„åŠŸèƒ½"></a>å¤åˆ¶æ„é€ å‡½æ•°çš„åŠŸèƒ½</h5><p>é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°<strong>é€ä¸ªå¤åˆ¶éé™æ€æˆå‘˜ï¼ˆæˆå‘˜å¤åˆ¶ä¹Ÿç§°ä¸ºæµ…å¤åˆ¶ï¼‰</strong>ï¼Œå¤åˆ¶çš„æ˜¯æˆå‘˜çš„å€¼ã€‚  </p><ul><li><p>è¡¥å……ï¼šæ˜¾å¼ä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°æä¾›äº†å¯¹å¯¹è±¡å¤åˆ¶è¡Œä¸ºçš„ç²¾ç»†æ§åˆ¶ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä½œ<strong>æ·±æ‹·è´</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">int</span>* data;<br>    <span class="hljs-built_in">MyClass</span>() &#123; data = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">0</span>); &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123; <span class="hljs-keyword">delete</span> data; &#125;<br>    <br>    <span class="hljs-comment">// æ˜¾å¼çš„å¤åˆ¶æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">const</span> MyClass&amp; other) &#123;<br>        <span class="hljs-comment">// æ·±æ‹·è´</span><br>        data = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(*other.data);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass a;<br>    *a.data = <span class="hljs-number">10</span>;<br>    MyClass b = a; <span class="hljs-comment">// è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span><br>    <span class="hljs-comment">// ç°åœ¨b.dataæŒ‡å‘ä¸€ä¸ªæ–°çš„intï¼Œå…¶å€¼ä¸º10</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>æ˜¾å¼å£°æ˜</strong>ï¼šå¦‚æœä½ ä¸å¸Œæœ›ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡åœ¨ç±»ä¸­å£°æ˜ä¸€ä¸ªç§æœ‰çš„å¤åˆ¶æ„é€ å‡½æ•°å¹¶å°†å…¶æ ‡è®°ä¸º<code>delete</code>æ¥é˜»æ­¢é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°çš„ç”Ÿæˆã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// å…¶ä»–æˆå‘˜å‡½æ•°å’Œå˜é‡...</span><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">const</span> MyClass&amp;) = <span class="hljs-keyword">delete</span>; <span class="hljs-comment">// é˜»æ­¢é»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°çš„ç”Ÿæˆ</span><br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><h4 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h4><p>åœ¨äº†è§£çš„å¤åˆ¶æ„é€ å‡½æ•°åï¼Œå°±ä¸éš¾ç†è§£ä¸ºä½•é™æ€å˜é‡<code>num_strings</code>å‡ºç°äº†è´Ÿå€¼äº†ã€‚åœ¨ä¸»ç¨‹åº <code>vegnews.cpp</code> ä¸­ï¼Œæœ‰ä¸€ä¸‹ä»£ç ç”¨åˆ°äº†éšå¼çš„å¤åˆ¶æ„é€ å‡½æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">callme2</span>(headline2);<br>StringBad sailor = sports;<br><span class="hljs-comment">//ä½¿ç”¨éšå¼å¤åˆ¶æ„é€ å‡½æ•°ä¸¤æ¬¡ï¼Œå› æ­¤è®¡æ•°å™¨ä¼šå‡ºç°-2ï¼Œproblems solved!</span><br></code></pre></td></tr></table></figure><blockquote><p>é—®é¢˜çš„è§£å†³æ–¹å¼å·²ç»åœ¨ä¸Šæ–‡ç»™å‡ºï¼Œæ„å»ºæ˜¾å¼æ„é€ å‡½æ•°ã€‚</p></blockquote><h3 id="é—®é¢˜åˆ†æ2"><a href="#é—®é¢˜åˆ†æ2" class="headerlink" title="é—®é¢˜åˆ†æ2"></a>é—®é¢˜åˆ†æ2</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨ <code>å­—ç¬¦ä¸²ä¹±ç </code>çš„é—®é¢˜ä¸Šã€‚</p><h4 id="è¿˜æ˜¯å¤åˆ¶æ„é€ å‡½æ•°çš„é”…ï¼"><a href="#è¿˜æ˜¯å¤åˆ¶æ„é€ å‡½æ•°çš„é”…ï¼" class="headerlink" title="è¿˜æ˜¯å¤åˆ¶æ„é€ å‡½æ•°çš„é”…ï¼"></a>è¿˜æ˜¯å¤åˆ¶æ„é€ å‡½æ•°çš„é”…ï¼</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++">StringBad sailor = sports;<br></code></pre></td></tr></table></figure><p>ä¸Šæ–‡æåˆ°ï¼Œéšå¼å¤åˆ¶æ„é€ å‡½æ•°å¥‰è¡Œ<strong>æŒ‰å€¼ä¼ é€’</strong>çš„åŸºæœ¬æ€æƒ³ï¼Œè€Œè¿™å¯¹äºå­—ç¬¦ä¸²æˆå‘˜è€Œè¨€æ˜¯éå¸¸å±é™©ã€‚å› ä¸ºCé£æ ¼å­—ç¬¦ä¸²çš„æœ¬è´¨å°±æ˜¯<code>char</code>æ•°ç»„ï¼Œæˆ–è€…è¯´æŒ‡å‘<code>char</code>ç±»å‹çš„ç‰¹æ®ŠæŒ‡é’ˆã€‚</p><p>å› æ­¤ï¼Œåœ¨ä½¿ç”¨éšå¼å¤åˆ¶æ„é€ å‡½æ•°æ—¶ï¼Œ<code>sports.str</code>å°†è‡ªå·±çš„<strong>å€¼</strong>å¤åˆ¶ç»™äº†<code>sailor.str</code>ã€‚<strong>æ­¤æ—¶è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼ˆæŒ‡å‘charç±»å‹çš„æŒ‡é’ˆï¼‰æŒ‡å‘äº†åŒä¸€å—å†…å­˜ï¼</strong>ï¼Œå› æ­¤ï¼Œå½“é‡Šæ”¾å…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¢«è°ƒç”¨çš„ææ„å‡½æ•°ä¼šæ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">delete</span> [] str;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œ<code>sailor</code>å…ˆäº <code>sports</code>è¢«ææ„å‡½æ•°è°ƒç”¨ï¼Œå› æ­¤ï¼Œ<code>sailor.str</code>ä¼šå…ˆè¢«<code>delete</code>æ‰ï¼Œè¿™æ ·ï¼Œ**<code>sports.str</code>å°±å˜æˆäº†â€œæ— å®¶å¯å½’â€çš„æ‚¬æŒ‚æŒ‡é’ˆ**ï¼Œåç»­ç”Ÿæˆä¹±ç ä¹Ÿå°±å¾ˆå¥½ç†è§£äº†ã€‚</p><p>æ›´ä¸¥é‡åœ°ï¼Œåœ¨åç»­<code>delete``sports.str</code>çš„æ—¶å€™ï¼Œç›¸å½“äºç¨‹åºå¯¹åŒä¸€å—å†…å­˜è¿ç»­deleteä¸¤æ¬¡ï¼Œè¿™ä¼šå¯¼è‡´ç¨‹åºçš„å¼‚å¸¸ç»ˆæ­¢ã€‚</p><h4 id="solution-1"><a href="#solution-1" class="headerlink" title="solution"></a>solution</h4><p>æŒ‰å€¼ä¼ é€’æ›´åŠ ç›´è§‚ï¼Œæ˜“äºç†è§£ï¼Œä½†æ˜¯ï¼Œä¸€æ—¦ç¨‹åºæ¶‰åŠäºæŒ‡é’ˆå’Œå†…å­˜ç®¡ç†ç›¸å…³çš„æ“ä½œæ—¶ï¼Œ<strong>æŒ‰å€¼ä¼ é€’å’ŒæŒ‰å€ä¼ é€’ï¼ˆæŒ‡é’ˆï¼‰ä¼šäº§ç”Ÿå†²çª</strong>ã€‚å› æ­¤ï¼Œæ‰‹åŠ¨æ„å»ºä¸€ä¸ªæ˜¾å¼çš„å¤åˆ¶æ„é€ å‡½æ•°è¿«åœ¨çœ‰ç«ã€‚</p><p>è¿™æ˜¯åŸä¹¦ç»™å‡ºçš„æ˜¾ç¤ºå¤åˆ¶æ„é€ å‡½æ•°ï¼ˆæ·±æ‹·è´ï¼‰ï¼Œæ‰‹åŠ¨ä½¿ç”¨ <code>strcpy</code>å‡½æ•°å®ç°å­—ç¬¦ä¸²çš„æ‹·è´ï¼ˆæŒ‰å€æ‹·è´ï¼‰ã€‚</p><p><img src="/posts/Dynamic-Memory-and-Classes/3.png" alt="Explicit Copy Constructor"></p><h3 id="é—®é¢˜è¿˜æœªè¢«è§£å†³â€¦"><a href="#é—®é¢˜è¿˜æœªè¢«è§£å†³â€¦" class="headerlink" title="é—®é¢˜è¿˜æœªè¢«è§£å†³â€¦"></a>é—®é¢˜è¿˜æœªè¢«è§£å†³â€¦</h3><p>æˆ‘ä»¬å·²ç»è§£å†³äº†å› ä¸º<strong>éšå¼å¤åˆ¶æ„é€ å‡½æ•°</strong>å¸¦æ¥çš„ä¸€äº›é—®é¢˜ï¼Œå…¶ä¸­ï¼Œé—®é¢˜â‘¡ä¸»è¦æ˜¯å› ä¸ºæµ…æ‹·è´çš„<strong>èµ‹å€¼æ“ä½œ</strong>å¯¼è‡´çš„<strong>æŒ‰å€¼ä¼ é€’ä¸æŒ‰å€ä¼ é€’çš„å†²çª</strong>ã€‚è¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++">StringBad sailor = sports;<br><br>StringBad knot;<br>knot = headline1;<br></code></pre></td></tr></table></figure><p><code>sailor</code>ä½¿ç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå°†<code>sports</code>å¯¹è±¡çš„ä¸´æ—¶æ‹·è´<strong>èµ‹å€¼</strong>ç»™<code>sailor</code>å®Œæˆåˆå§‹åŒ–ã€‚<code>knot</code>åœ¨åˆå§‹åŒ–æ—¶ä½¿ç”¨äº†é»˜è®¤æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä¹Ÿå…ä¸äº†<code>knot = headline1</code>ä¸­å¯¹å…¶çš„<strong>èµ‹å€¼æ“ä½œ</strong>ï¼Œ<strong>æŒ‰å€¼ä¼ é€’ä¸æŒ‰å€ä¼ é€’çš„å†²çª</strong>ä»ç„¶å­˜åœ¨ï¼</p><p><img src="/posts/Dynamic-Memory-and-Classes/input2.png" alt="Output"></p><p>è¾“å‡ºç¤ºä¾‹éªŒè¯äº†æˆ‘ä»¬çš„çŒœæƒ³ï¼Œåœ¨ææ„æ—¶ï¼Œ<code>knot</code>å…ˆè¢«<code>delete</code>ï¼Œå› æ­¤åœ¨æœ€å<code>delete</code> <code>headline1</code>æ—¶ï¼Œå­—ç¬¦ä¸²å‘ˆç°ä¹±ç ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>C++é»˜è®¤çš„å¯¹å¯¹è±¡çš„èµ‹å€¼è¿ç®—ç¬¦ä¾æ—§ä½¿ç”¨æŒ‰å€¼ä¼ é€’</strong>ï¼Œå³<strong>ç±»é‡è½½èµ‹å€¼è¿ç®—ç¬¦</strong>ã€‚ä¸‹é¢æ˜¯è¿™ç§è¿ç®—ç¬¦çš„å‡½æ•°åŸå‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++">Class_name &amp; Class_name::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Class_name &amp;)<br></code></pre></td></tr></table></figure><p>å› æ­¤ï¼Œè§£å†³é—®é¢˜çš„æ–¹å¼ä¹Ÿæ˜¾è€Œæ˜“è§äº†ï¼šæ‰‹åŠ¨å®šä¹‰èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½ï¼Œå’Œå¤åˆ¶æ„é€ å‡½æ•°çš„å®šä¹‰åŸºæœ¬ç›¸åŒã€‚ä¹¦ä¸­å®ç°äº†è¿ç®—ç¬¦é‡è½½çš„ä»£ç ç¤ºä¾‹ï¼š</p><p><img src="/posts/Dynamic-Memory-and-Classes/4.png" alt="Explicit Overloading of Assignment Operator"></p><h3 id="ç‰¹æ®Šæˆå‘˜å‡½æ•°"><a href="#ç‰¹æ®Šæˆå‘˜å‡½æ•°" class="headerlink" title="ç‰¹æ®Šæˆå‘˜å‡½æ•°"></a>ç‰¹æ®Šæˆå‘˜å‡½æ•°</h3><p>StringBad ç±»çš„é—®é¢˜æ˜¯ç”±ç‰¹æ®Šæˆå‘˜å‡½æ•°å¼•èµ·çš„ã€‚è¿™äº›æˆå‘˜å‡½æ•°æ˜¯è‡ªåŠ¨å®šä¹‰çš„ï¼Œå°± StringBad è€Œè¨€ï¼Œè¿™äº›å‡½æ•°çš„è¡Œä¸ºä¸ç±»è®¾è®¡ä¸ç¬¦ã€‚å…·ä½“åœ°è¯´ï¼Œ C++è‡ªåŠ¨æä¾›äº†ä¸‹é¢è¿™äº›æˆå‘˜å‡½æ•°ï¼š</p><ul><li><strong>é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼›</strong></li><li><strong>é»˜è®¤ææ„å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼›</strong></li><li><strong>å¤åˆ¶æ„é€ å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼›</strong></li><li><strong>èµ‹å€¼è¿ç®—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼›</strong></li><li><strong>åœ°å€è¿ç®—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ã€‚</strong>ï¼ˆè¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ï¼Œå°±æ˜¯å–å€è¿ç®—ç¬¦ï¼‰</li></ul><p>æ›´å‡†ç¡®åœ°è¯´ï¼Œç¼–è¯‘å™¨å°†ç”Ÿæˆä¸Šè¿°æœ€åä¸‰ä¸ªå‡½æ•°çš„å®šä¹‰â€”â€”å¦‚æœç¨‹åºä½¿ç”¨å¯¹è±¡çš„æ–¹å¼è¦æ±‚è¿™æ ·åšã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å°†ä¸€ä¸ªå¯¹è±¡èµ‹ç»™å¦ä¸€ä¸ªå¯¹è±¡ï¼Œç¼–è¯‘å™¨å°†æä¾›èµ‹å€¼è¿ç®—ç¬¦çš„å®šä¹‰ã€‚</p><h3 id="From-StringBad-to-String"><a href="#From-StringBad-to-String" class="headerlink" title="From StringBad to String"></a>From StringBad to String</h3><p>è¿™å°±æ˜¯C++é£æ ¼çš„stringç±»çš„å®ç°ï¼è¯·é˜…è¯»æ•™æçš„12.2èŠ‚ï¼Œå…¶ç®€å•ä»‹ç»äº†stringç±»çš„ç›¸å…³æˆå‘˜å‡½æ•°çš„å®šä¹‰ï¼Œå—ç¯‡å¹…é™åˆ¶ï¼Œæœ¬åšå®¢ä¸å†è®¨è®ºæœ¬èŠ‚å†…å®¹ã€‚å¯¹äºä½¿ç”¨è€…è€Œè¨€ï¼Œåªéœ€è¦äº†è§£stringç±»çš„æ¥å£è¶³çŸ£ï¼Œä½†å¯¹äºä¸€ä½ä¼˜ç§€çš„OOPå­¦ä¹ è€…è€Œè¨€ï¼Œä½†é˜…è¯»ä¹¦ä¸­ä»£ç ï¼Œç”šè‡³å°è¯•è‡ªå·±å®ç°æ˜¯é”»ç‚¼è‡ªå·±OOPèƒ½åŠ›çš„ä¸€å¤§æœ‰åŠ›æ­¦å™¨ã€‚</p><p>æ­¤å¤„åªç»™å‡ºä¹¦ä¸­çš„æºä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// string1.h -- fixed and augmented string class definition</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> STRING1_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STRING1_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::ostream;<br><span class="hljs-keyword">using</span> std::istream;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">String</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">char</span> * str;             <span class="hljs-comment">// pointer to string</span><br>    <span class="hljs-type">int</span> len;                <span class="hljs-comment">// length of string</span><br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> num_strings; <span class="hljs-comment">// number of objects</span><br>    <span class="hljs-type">static</span> <span class="hljs-type">const</span> <span class="hljs-type">int</span> CINLIM = <span class="hljs-number">80</span>;  <span class="hljs-comment">// cin input limit</span><br><span class="hljs-keyword">public</span>:<br><span class="hljs-comment">// constructors and other methods</span><br>    <span class="hljs-built_in">String</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s); <span class="hljs-comment">// constructor</span><br>    <span class="hljs-built_in">String</span>();               <span class="hljs-comment">// default constructor</span><br>    <span class="hljs-built_in">String</span>(<span class="hljs-type">const</span> String &amp;); <span class="hljs-comment">// copy constructor</span><br>    ~<span class="hljs-built_in">String</span>();              <span class="hljs-comment">// destructor</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">length</span> <span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> len; &#125;<br><span class="hljs-comment">// overloaded operator methods    </span><br>    String &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> String &amp;);<br>    String &amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> <span class="hljs-type">char</span> *);<br>    <span class="hljs-type">char</span> &amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i);<br>    <span class="hljs-type">const</span> <span class="hljs-type">char</span> &amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span>;<br><span class="hljs-comment">// overloaded operator friends</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-built_in">operator</span>&lt;(<span class="hljs-type">const</span> String &amp;st, <span class="hljs-type">const</span> String &amp;st2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> String &amp;st1, <span class="hljs-type">const</span> String &amp;st2);<br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> String &amp;st, <span class="hljs-type">const</span> String &amp;st2);<br>    <span class="hljs-keyword">friend</span> ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream &amp; os, <span class="hljs-type">const</span> String &amp; st);<br>    <span class="hljs-keyword">friend</span> istream &amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream &amp; is, String &amp; st);<br><span class="hljs-comment">// static function</span><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">HowMany</span><span class="hljs-params">()</span></span>;<br>&#125;;<br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// string1.cpp -- String class methods</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstring&gt;</span>                 <span class="hljs-comment">// string.h for some</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;string1.h&quot;</span>               <span class="hljs-comment">// includes &lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::cin;<br><span class="hljs-keyword">using</span> std::cout;<br><br><span class="hljs-comment">// initializing static class member</span><br><br><span class="hljs-type">int</span> String::num_strings = <span class="hljs-number">0</span>;<br><br><span class="hljs-comment">// static method</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">String::HowMany</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> num_strings;<br>&#125;<br><br><span class="hljs-comment">// class methods</span><br>String::<span class="hljs-built_in">String</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s)     <span class="hljs-comment">// construct String from C string</span><br>&#123;<br>    len = std::<span class="hljs-built_in">strlen</span>(s);          <span class="hljs-comment">// set size</span><br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[len + <span class="hljs-number">1</span>];       <span class="hljs-comment">// allot storage</span><br>    std::<span class="hljs-built_in">strcpy</span>(str, s);           <span class="hljs-comment">// initialize pointer</span><br>    num_strings++;                 <span class="hljs-comment">// set object count</span><br>&#125;<br><br>String::<span class="hljs-built_in">String</span>()                   <span class="hljs-comment">// default constructor</span><br>&#123;<br>    len = <span class="hljs-number">4</span>;<br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-number">1</span>];<br>    str[<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;                 <span class="hljs-comment">// default string</span><br>    num_strings++;<br>&#125;<br><br>String::<span class="hljs-built_in">String</span>(<span class="hljs-type">const</span> String &amp; st)<br>&#123;<br>    num_strings++;             <span class="hljs-comment">// handle static member update</span><br>    len = st.len;              <span class="hljs-comment">// same length</span><br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span> [len + <span class="hljs-number">1</span>];  <span class="hljs-comment">// allot space</span><br>    std::<span class="hljs-built_in">strcpy</span>(str, st.str);  <span class="hljs-comment">// copy string to new location</span><br>&#125;<br><br>String::~<span class="hljs-built_in">String</span>()                     <span class="hljs-comment">// necessary destructor</span><br>&#123;<br>    --num_strings;                    <span class="hljs-comment">// required</span><br>    <span class="hljs-keyword">delete</span> [] str;                    <span class="hljs-comment">// required</span><br>&#125;<br><br><span class="hljs-comment">// overloaded operator methods    </span><br><br>    <span class="hljs-comment">// assign a String to a String</span><br>String &amp; String::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> String &amp; st)<br>&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;st)<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    <span class="hljs-keyword">delete</span> [] str;<br>    len = st.len;<br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[len + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(str, st.str);<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br>    <span class="hljs-comment">// assign a C string to a String</span><br>String &amp; String::<span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> <span class="hljs-type">char</span> * s)<br>&#123;<br>    <span class="hljs-keyword">delete</span> [] str;<br>    len = std::<span class="hljs-built_in">strlen</span>(s);<br>    str = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[len + <span class="hljs-number">1</span>];<br>    std::<span class="hljs-built_in">strcpy</span>(str, s);<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br>    <span class="hljs-comment">// read-write char access for non-const String</span><br><span class="hljs-type">char</span> &amp; String::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i)<br>&#123;<br>    <span class="hljs-keyword">return</span> str[i];<br>&#125;<br><br>    <span class="hljs-comment">// read-only char access for const String</span><br><span class="hljs-type">const</span> <span class="hljs-type">char</span> &amp; String::<span class="hljs-keyword">operator</span>[](<span class="hljs-type">int</span> i) <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">return</span> str[i];<br>&#125;<br><br><span class="hljs-comment">// overloaded operator friends</span><br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-type">const</span> String &amp;st1, <span class="hljs-type">const</span> String &amp;st2)<br>&#123;<br>    <span class="hljs-keyword">return</span> (std::<span class="hljs-built_in">strcmp</span>(st<span class="hljs-number">1.</span>str, st<span class="hljs-number">2.</span>str) &lt; <span class="hljs-number">0</span>);<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>&gt;(<span class="hljs-type">const</span> String &amp;st1, <span class="hljs-type">const</span> String &amp;st2)<br>&#123;<br>    <span class="hljs-keyword">return</span> st2 &lt; st1;<br>&#125;<br><br><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> String &amp;st1, <span class="hljs-type">const</span> String &amp;st2)<br>&#123;<br>    <span class="hljs-built_in">return</span> (std::<span class="hljs-built_in">strcmp</span>(st<span class="hljs-number">1.</span>str, st<span class="hljs-number">2.</span>str) == <span class="hljs-number">0</span>);<br>&#125;<br><br>    <span class="hljs-comment">// simple String output</span><br>ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream &amp; os, <span class="hljs-type">const</span> String &amp; st)<br>&#123;<br>    os &lt;&lt; st.str;<br>    <span class="hljs-keyword">return</span> os; <br>&#125;<br><br>    <span class="hljs-comment">// quick and dirty String input</span><br>istream &amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream &amp; is, String &amp; st)<br>&#123;<br>    <span class="hljs-type">char</span> temp[String::CINLIM];<br>    is.<span class="hljs-built_in">get</span>(temp, String::CINLIM);<br>    <span class="hljs-keyword">if</span> (is)<br>        st = temp;<br>    <span class="hljs-keyword">while</span> (is &amp;&amp; is.<span class="hljs-built_in">get</span>() != <span class="hljs-string">&#x27;\n&#x27;</span>)<br>        <span class="hljs-keyword">continue</span>;<br>    <span class="hljs-keyword">return</span> is; <br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// sayings1.cpp -- using expanded String class</span><br><span class="hljs-comment">// compile with string1.cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;string1.h&quot;</span> </span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> ArSize = <span class="hljs-number">10</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> MaxLen =<span class="hljs-number">81</span>;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">using</span> std::cout;<br>    <span class="hljs-keyword">using</span> std::cin;<br>    <span class="hljs-keyword">using</span> std::endl;<br>    String name;<br>    cout &lt;&lt;<span class="hljs-string">&quot;Hi, what&#x27;s your name?\n&gt;&gt; &quot;</span>;<br>    cin &gt;&gt; name;<br><br>    cout &lt;&lt; name &lt;&lt; <span class="hljs-string">&quot;, please enter up to &quot;</span> &lt;&lt; ArSize<br>        &lt;&lt; <span class="hljs-string">&quot; short sayings &lt;empty line to quit&gt;:\n&quot;</span>;<br>    String sayings[ArSize];     <span class="hljs-comment">// array of objects</span><br>    <span class="hljs-type">char</span> temp[MaxLen];          <span class="hljs-comment">// temporary string storage</span><br>    <span class="hljs-type">int</span> i;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; ArSize; i++)<br>    &#123;<br>        cout &lt;&lt; i<span class="hljs-number">+1</span> &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>        cin.<span class="hljs-built_in">get</span>(temp, MaxLen);<br>        <span class="hljs-keyword">while</span> (cin &amp;&amp; cin.<span class="hljs-built_in">get</span>() != <span class="hljs-string">&#x27;\n&#x27;</span>)<br>            <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span> (!cin || temp[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;\0&#x27;</span>)    <span class="hljs-comment">// empty line?</span><br>            <span class="hljs-keyword">break</span>;              <span class="hljs-comment">// i not incremented</span><br>        <span class="hljs-keyword">else</span><br>            sayings[i] = temp;  <span class="hljs-comment">// overloaded assignment</span><br>    &#125;<br>    <span class="hljs-type">int</span> total = i;              <span class="hljs-comment">// total # of lines read</span><br><br>    <span class="hljs-keyword">if</span> ( total &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Here are your sayings:\n&quot;</span>;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; total; i++)<br>            cout &lt;&lt; sayings[i][<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-string">&quot;: &quot;</span> &lt;&lt; sayings[i] &lt;&lt; endl;<br><br>        <span class="hljs-type">int</span> shortest = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> first = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; total; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (sayings[i].<span class="hljs-built_in">length</span>() &lt; sayings[shortest].<span class="hljs-built_in">length</span>())<br>                shortest = i;<br>            <span class="hljs-keyword">if</span> (sayings[i] &lt; sayings[first])<br>                first = i;<br>        &#125;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Shortest saying:\n&quot;</span> &lt;&lt; sayings[shortest] &lt;&lt; endl;;<br>        cout &lt;&lt; <span class="hljs-string">&quot;First alphabetically:\n&quot;</span> &lt;&lt; sayings[first] &lt;&lt; endl;<br>        cout &lt;&lt; <span class="hljs-string">&quot;This program used &quot;</span>&lt;&lt; String::<span class="hljs-built_in">HowMany</span>() <br>             &lt;&lt; <span class="hljs-string">&quot; String objects. Bye.\n&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        cout &lt;&lt; <span class="hljs-string">&quot;No input! Bye.\n&quot;</span>;<br><span class="hljs-comment">// keep window open </span><br><span class="hljs-comment">/*    if (!cin)</span><br><span class="hljs-comment">        cin.clear();</span><br><span class="hljs-comment">    while (cin.get() != &#x27;\n&#x27;)</span><br><span class="hljs-comment">        continue; */</span> <br>   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; <br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="ç±»ä¸­åŠ¨æ€å†…å­˜çš„ä½¿ç”¨"><a href="#ç±»ä¸­åŠ¨æ€å†…å­˜çš„ä½¿ç”¨" class="headerlink" title="ç±»ä¸­åŠ¨æ€å†…å­˜çš„ä½¿ç”¨"></a>ç±»ä¸­åŠ¨æ€å†…å­˜çš„ä½¿ç”¨</h2><p>é€šè¿‡stringç±»çš„å®ç°ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°<strong>åŠ¨æ€å†…å­˜</strong>åœ¨ç±»ä¸­çš„ä½¿ç”¨æ—¢ä¾¿æ·ï¼Œåˆå±é™©ã€‚ä¸‹æ–‡æ€»ç»“äº†åœ¨ç±»ä¸å¯¹è±¡å®šä¹‰è¿‡ç¨‹ä¸­åº”å½“æ³¨æ„çš„æ˜“é”™ç‚¹ï¼š</p><ul><li><p>ä½¿ç”¨<code>new</code>åˆ›å»ºæŒ‡é’ˆæˆå‘˜ï¼Œåº”è¯¥åœ¨ææ„å‡½æ•°ä¸­ä½¿ç”¨<code>delete</code></p><ul><li><p><strong>æ³¨æ„ç‚¹ï¼šå°½é‡ä¸è¦å®šä¹‰ç±»ä¸­çš„é™æ€æŒ‡é’ˆæˆå‘˜ï¼Œè‹¥éœ€è¦è¯·é¢å¤–å…³æ³¨å…¶ç”Ÿå‘½å‘¨æœŸï¼</strong></p></li><li><p>åœ¨C++ä¸­ï¼Œå¦‚æœä½ åœ¨ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªé™æ€æŒ‡é’ˆæˆå‘˜å˜é‡ï¼Œä½ éœ€è¦ç‰¹åˆ«æ³¨æ„å…¶ç”Ÿå‘½å‘¨æœŸçš„ç®¡ç†ï¼Œå› ä¸ºé™æ€æˆå‘˜å˜é‡åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ã€‚è¿™æ„å‘³ç€ï¼š</p><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šé™æ€æˆå‘˜å˜é‡éœ€è¦åœ¨ç±»å¤–è¿›è¡Œåˆå§‹åŒ–ã€‚</li><li><strong>å†…å­˜ç®¡ç†</strong>ï¼šå¦‚æœä½ ä½¿ç”¨äº†åŠ¨æ€åˆ†é…å†…å­˜ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨<code>new</code>å…³é”®å­—ï¼‰ï¼Œä½ éœ€è¦ç¡®ä¿åœ¨ç¨‹åºç»“æŸä¹‹å‰æ‰‹åŠ¨é‡Šæ”¾è¿™å—å†…å­˜ã€‚</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span>* staticPointer;<br>&#125;;<br><br><span class="hljs-comment">// ç±»å¤–åˆå§‹åŒ–</span><br><span class="hljs-type">int</span>* MyClass::staticPointer = <span class="hljs-literal">nullptr</span>;<br></code></pre></td></tr></table></figure><ul><li><p><strong>ç¨‹åºç»“æŸä¹‹å‰</strong>ï¼šé™æ€æˆå‘˜å˜é‡çš„ç”Ÿå‘½å‘¨æœŸä¸ç¨‹åºç›¸åŒï¼Œå› æ­¤åœ¨ç¨‹åºç»“æŸä¹‹å‰ï¼Œä½ åº”è¯¥ç¡®ä¿æ‰€æœ‰åŠ¨æ€åˆ†é…çš„å†…å­˜è¢«æ­£ç¡®é‡Šæ”¾ã€‚è¿™é€šå¸¸æ„å‘³ç€åœ¨<code>main</code>å‡½æ•°ç»“æŸä¹‹å‰æˆ–åœ¨æŸä¸ªå…¨å±€æ¸…ç†å‡½æ•°ä¸­è¿›è¡Œ<code>delete</code>æ“ä½œã€‚</p></li><li><p><strong>è‡ªå®šä¹‰çš„æ¸…ç†å‡½æ•°</strong>ï¼šå¦‚æœä½ å¸Œæœ›åœ¨ç¨‹åºç»“æŸä¹‹å‰æ˜ç¡®åœ°æ§åˆ¶åˆ é™¤é™æ€æˆå‘˜å˜é‡çš„æ—¶é—´ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œæ¸…ç†æ“ä½œï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">cleanup</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">delete</span> MyClass::staticPointer;<br>    MyClass::staticPointer = <span class="hljs-literal">nullptr</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// ç¨‹åºè¿è¡Œ...</span><br>    <span class="hljs-built_in">cleanup</span>(); <span class="hljs-comment">// åœ¨ç¨‹åºç»“æŸå‰è°ƒç”¨</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</strong>ï¼šä¸ºäº†é¿å…æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆä¾‹å¦‚<code>std::unique_ptr</code>æˆ–<code>std::shared_ptr</code>ï¼‰æ¥ç®¡ç†é™æ€æˆå‘˜å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™æ ·ï¼Œå†…å­˜ç®¡ç†å°†ç”±æ™ºèƒ½æŒ‡é’ˆè‡ªåŠ¨å¤„ç†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; staticPointer;<br>&#125;;<br><br><span class="hljs-comment">// åˆå§‹åŒ–</span><br>std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; MyClass::staticPointer = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">10</span>);<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨<code>delete</code>ï¼Œå› ä¸º<code>unique_ptr</code>ä¼šåœ¨è¶…å‡ºä½œç”¨åŸŸæ—¶è‡ªåŠ¨é‡Šæ”¾å†…å­˜ã€‚</p></li><li><p><strong>é¿å…é‡å¤åˆ é™¤</strong>ï¼šç¡®ä¿ä½ ä¸ä¼šå¤šæ¬¡<code>delete</code>åŒä¸€ä¸ªæŒ‡é’ˆï¼Œå› ä¸ºè¿™ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</p></li><li><p>**æ£€æŸ¥æŒ‡é’ˆæ˜¯å¦ä¸º<code>nullptr</code>**ï¼šåœ¨åˆ é™¤é™æ€æŒ‡é’ˆå‰ï¼Œæ£€æŸ¥å®ƒæ˜¯å¦å·²ç»æŒ‡å‘äº†æœ‰æ•ˆçš„å†…å­˜åœ°å€ï¼Œé˜²æ­¢å¯¹<code>nullptr</code>è¿›è¡Œ<code>delete</code>æ“ä½œã€‚</p></li></ul></li><li><p>æ¨èä½¿ç”¨C++ä¸­çš„æ–°çš„å…³é”®å­—<code>nullptr</code>ï¼ˆæ¥æ›¿ä»£Cé£æ ¼çš„<code>NULL</code>ï¼‰</p></li></ul></li><li><p>æ³¨æ„C++ä¸­è‡ªåŠ¨æä¾›çš„è‹¥å¹²<strong>ç‰¹æ®Šæˆå‘˜å‡½æ•°</strong></p><ul><li>é»˜è®¤æ„é€ å‡½æ•°</li><li>é»˜è®¤ææ„å‡½æ•°</li><li>ï¼ˆéšå¼ï¼‰çš„å¤åˆ¶æ„é€ å‡½æ•°</li><li>èµ‹å€¼è¿ç®—ç¬¦</li><li>åœ°å€è¿ç®—ç¬¦</li><li><strong>æ³¨æ„ï¼šå¦‚æœä½ è®¾è®¡çš„ç±»æˆå‘˜ä¸­å­˜åœ¨æŒ‡é’ˆç­‰ï¼Œè¯·åŠ¡å¿…æ‰‹åŠ¨æ„å»ºæ˜¾å¼çš„æˆå‘˜å‡½æ•°ï¼ï¼ï¼å¦åˆ™ä¼šå› ä¸ºæŒ‰å€¼ä¼ é€’å’ŒæŒ‰å€ä¼ é€’çš„å†²çªå¯¼è‡´å¾ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼ˆå°¤å…¶åœ¨èµ‹å€¼å’ŒåŠ¨æ€å†…å­˜çš„æ‰‹åŠ¨ç®¡ç†ä¸Šï¼‰</strong></li></ul></li><li><p><code>new</code>å’Œ<code>delete</code>å¾ˆå±é™©ï¼Œä½†è¯·è¸å‡ºä½¿ç”¨ä»–ä»¬çš„ç¬¬ä¸€æ­¥ï¼</p></li></ul><p>ä¾‹å¦‚ï¼ŒåŸä¹¦ç»™å‡ºäº†ä¸‰ä¸ªå®šä¹‰æ„é€ å‡½æ•°çš„å®ä¾‹ï¼š</p><p><img src="/posts/Dynamic-Memory-and-Classes/example1.png"></p><p><img src="/posts/Dynamic-Memory-and-Classes/example2.png" alt="Standard Practices for Using Dynamic Memory"></p><h2 id="è¿”å›å¯¹è±¡"><a href="#è¿”å›å¯¹è±¡" class="headerlink" title="è¿”å›å¯¹è±¡"></a>è¿”å›å¯¹è±¡</h2><h3 id="è¿”å›ç±»çš„å¼•ç”¨"><a href="#è¿”å›ç±»çš„å¼•ç”¨" class="headerlink" title="è¿”å›ç±»çš„å¼•ç”¨"></a>è¿”å›ç±»çš„å¼•ç”¨</h3><p>åœ¨C++ä¸­ï¼Œå¼•ç”¨åŒæ ·ä¹Ÿæ˜¯å¥‰è¡Œâ€œæŒ‰å€ä¼ é€’â€æ€æƒ³çš„ä¸€å¤§æœ‰åŠ›æ­¦å™¨ã€‚åœ¨ç±»ä¸­ï¼Œè¿”å›å¼•ç”¨ä¸ç”¨æ‹·è´ä¸€ä¸ªç±»ï¼ˆè¿™ä¼šæ¶ˆè€—é¢å¤–çš„å†…å­˜ï¼‰ï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šè°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ã€‚ä¸‹æ–‡å°†ä»‹ç»åœ¨ç±»ä¸­è¿”å›å¼•ç”¨çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼š</p><ul><li><p>ä½¿ç”¨<code>const</code>å¼•ç”¨ï¼Œæ•ˆç‡æ›´é«˜ï¼Œä½†åŒæ—¶éœ€è¦æ³¨æ„åŒ¹é…é—®é¢˜ï¼š</p><ul><li>å¦‚æœå½¢å¼å‚æ•°æ˜¯<code>const</code>å¯¹è±¡çš„è¯ï¼Œè¿”å›å€¼ä¹Ÿåº”è¯¥æ˜¯<code>const</code>å¯¹è±¡ï¼</li></ul></li><li><p>è¿”å›æŒ‡å‘éconstå¯¹è±¡çš„å¼•ç”¨</p><ul><li>é‡è½½èµ‹å€¼è¿ç®—ç¬¦</li></ul><p>ä¾‹å¦‚ï¼Œæˆ‘æƒ³å®ç°ä¸€ä¸ªè¿ç»­èµ‹å€¼çš„æ“ä½œï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++">string s1=<span class="hljs-string">&quot;Hello world&quot;</span>;<br>string s2,s3;<br>s3=s2=s1;<br><span class="hljs-comment">//ç¬¬ä¸‰è¡Œä»£ç ç­‰ä»·äº</span><br>s3=(s2=s1);<br></code></pre></td></tr></table></figure><p>é¦–å…ˆæ‰§è¡Œèµ‹å€¼è¯­å¥ <code>s2=s1</code>ï¼Œé—®é¢˜æ¥äº†ï¼Œè¡¨è¾¾å¼çš„è¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹è€Œè¨€ï¼Œèµ‹å€¼è¡¨è¾¾å¼çš„è¿”å›ç±»å‹æ˜¯å·¦æ“ä½œæ•°ï¼ˆå³è¢«èµ‹å€¼å˜é‡ï¼‰çš„å¼•ç”¨ç±»å‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ<code>a</code>æ˜¯ä¸€ä¸ª<code>int</code>å˜é‡ï¼Œé‚£ä¹ˆ<code>a = b</code>çš„è¿”å›ç±»å‹å°±æ˜¯<code>int&amp;</code>ã€‚å¦‚æœæ˜¯è‡ªå®šä¹‰ç±»ï¼Œå°±éœ€è¦æˆ‘ä»¬ <strong>å…³æ³¨èµ‹å€¼è¿ç®—ç¬¦é‡è½½çš„è¿”å›ç±»å‹ã€å³è¿”å›ä¸€ä¸ªè‡ªå®šä¹‰ç±»çš„éconstå¼•ç”¨</strong>ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// å…¶ä»–æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°...</span><br><br>    <span class="hljs-comment">// èµ‹å€¼è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> MyClass&amp; other) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> != &amp;other) &#123; <span class="hljs-comment">// è‡ªèµ‹å€¼æ£€æŸ¥ï¼Œé˜²æ­¢è‡ªæˆ‘å¤åˆ¶</span><br>            <span class="hljs-comment">// æ‰§è¡Œå®é™…çš„èµ‹å€¼æ“ä½œ</span><br>            <span class="hljs-comment">// ä¾‹å¦‚ï¼š</span><br>            <span class="hljs-comment">// this-&gt;data = other.data;</span><br>            <span class="hljs-comment">// ...</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>; <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-comment">// ç§æœ‰æˆå‘˜å˜é‡</span><br>    <span class="hljs-type">int</span> data;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass a, b, c;<br>    <span class="hljs-comment">// é“¾å¼èµ‹å€¼</span><br>    a = b = c; <span class="hljs-comment">// è¿™å°†æŒ‰é¢„æœŸå·¥ä½œ</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>ä¸ºä»€ä¹ˆæ˜¯è‡ªèº«ç±»å‹çš„éconstå¼•ç”¨ï¼Ÿä¸€æ–¹é¢ï¼Œä¸ºäº†è¿ç»­é“¾å¼èµ‹å€¼çš„åˆæ³•æ€§ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯é¦–å…ˆæ‰§è¡Œçš„èµ‹å€¼è¯­å¥çš„è¿”å›å€¼èƒ½å¤Ÿä½œä¸ºå‚æ•°ä¼ å…¥ä¸‹ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œä¾‹å¦‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé¦–å…ˆæ‰§è¡Œçš„<code>s2=s1</code>ï¼Œè¿”å›å€¼æ˜¯å¯¹s2çš„å¼•ç”¨ï¼Œè€Œè¿™æ­£å¥½èƒ½ä½œä¸ºå‚æ•°ä¼ å…¥åˆ°ä¸‹ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼ˆå°†<code>s2</code>çš„å€¼ä¼ é€’ç»™<code>s3</code>ï¼Œåœ¨è¿™é‡Œæ˜¯s2çš„å¼•ç”¨ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äºèµ‹å€¼ä¼šæ”¹å˜å¯¹è±¡çš„å€¼ï¼Œå› æ­¤ä¸å¯ä»¥ä½¿ç”¨constå¼•ç”¨ï¼Œæ•…è¿”å›ä¸€ä¸ª<strong>è‡ªèº«ç±»å‹çš„éconstå¼•ç”¨</strong>ã€‚</p></blockquote><ul><li><code>&lt;&lt;</code>è¿ç®—ç¬¦</li></ul><p>è¿™å…¶å®å’Œèµ‹å€¼è¿ç®—ç¬¦çš„æœ¬è´¨å·®ä¸å¤šï¼Œè¿ç®—ç¬¦çš„æœ¬è´¨è¿˜æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œæ‰€ä»¥è¿ç®—ï¼ˆè¡¨è¾¾å¼ï¼‰ä¸€å®šä¼šæœ‰è¿”å›å€¼ï¼ˆ<strong>è¿™ä¸ªè§‚ç‚¹éå¸¸é‡è¦ï¼Œå¯¹æˆ‘ä»¬åç»­å­¦ä¹ è¿ç®—ç¬¦é‡è½½æœ‰å¾ˆå¤§çš„å¸®åŠ©</strong>ï¼‰ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œ<strong>æµè¾“å‡ºè¿ç®—ç¬¦çš„è¿”å›å€¼æ˜¯å¯¹æµå¯¹è±¡çš„å¼•ç”¨</strong>ï¼Œä¾‹å¦‚<code>cout&lt;&lt;&quot;Hello&quot;&lt;&lt;&quot;World&quot;;</code>è¿”å›çš„å¯¹è±¡æ˜¯<code>std::ostream&amp;</code>ã€‚</p><blockquote><p>è¿˜è®°å¾—ç¬¬ä¸€å ‚C++è¯¾çš„æ—¶å€™ç¬”è€…æ¥è§¦åˆ°cinå’Œcoutï¼Œæ„Ÿå¹å…¶åŠŸèƒ½å¼ºå¤§ä¹‹å¤„ã€‚ä½†åœ¨ä¹‹åçš„codingè¿‡ç¨‹ä¸­ï¼Œå„ç§èŠ±é‡Œèƒ¡å“¨çš„è¾“å…¥è¾“å‡ºç±»å‹è®©ç¬”è€…æ¼ç¾æˆæ€’ï¼Œç”šè‡³åœ¨ä¸€æ®µæ—¶é—´å†…æ¢å›äº†Cé£æ ¼çš„<code>printf()</code>å’Œ<code>scanf()</code>ã€‚ä½†æ˜¯éšç€å­¦ä¹ çš„æ·±å…¥ï¼Œå½“æˆ‘ä»¬å¯¹<strong>æµ</strong>å’Œå¼•ç”¨ï¼Œç±»ï¼Œå¯¹è±¡ç­‰C++çš„æ–°æ¦‚å¿µæœ‰äº†æ›´æ·±åˆ»çš„ç†è§£ä¹‹åï¼Œæˆ‘ä»¬ä¾¿èƒ½ä½“ä¼šåˆ°cinå’Œcoutçš„å¼ºå¤§ç©¶ç«Ÿæ˜¯å¦‚ä½•å®ç°çš„ï¼</p></blockquote></li></ul><h3 id="è¿”å›å±€éƒ¨å˜é‡ï¼šè¿”å›å¯¹è±¡"><a href="#è¿”å›å±€éƒ¨å˜é‡ï¼šè¿”å›å¯¹è±¡" class="headerlink" title="è¿”å›å±€éƒ¨å˜é‡ï¼šè¿”å›å¯¹è±¡"></a>è¿”å›å±€éƒ¨å˜é‡ï¼šè¿”å›å¯¹è±¡</h3><p>è€ƒè™‘åˆ°å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸï¼Œæˆ‘ä»¬ä¸åº”è¯¥åœ¨å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡çš„å¼•ç”¨ï¼ˆå¦åˆ™ä¼šäº§ç”Ÿæ‚¬æŒ‚æŒ‡é’ˆç­‰éå¸¸ä¸¥é‡çš„é—®é¢˜ï¼‰ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦<strong>è¿”å›ä¸€ä¸ªå¯¹è±¡</strong>ã€‚çœ‹ä¸‹é¢çš„ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">Vector Vector::operater+(<span class="hljs-type">const</span> Vector &amp; b) <span class="hljs-type">const</span>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-built_in">Vector</span>(x+b.x,y+b.y);<br>&#125;<br></code></pre></td></tr></table></figure><p><code>Vector</code>ï¼ˆå‘é‡ï¼‰ç›¸ä¿¡å¤§å®¶ä¸é™Œç”Ÿï¼Œåœ¨è¿™é‡Œé‡è½½äº†ç®—æ•°è¿ç®—ç¬¦<code>+</code>ï¼Œå°†ä¸¤ä¸ªçŸ¢é‡çš„å’Œå‚¨å­˜åœ¨ä¸€ä¸ªæ–°çš„ä¸´æ—¶å¯¹è±¡ä¸­ï¼Œä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ä¹‹åå†è¿›è¡Œç›¸å…³çš„èµ‹å€¼æ“ä½œï¼Œæœ€åè¢«ä¸¢å¼ƒã€‚<strong>åœ¨è¿™é‡Œä¼šä¸å¯é¿å…çš„ä½¿ç”¨åˆ°å¤åˆ¶æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥åŠ¡å¿…å°å¿ƒã€‚</strong></p><p>ä¸ºäº†ä¿è¯å®‰å…¨æ€§ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ª<strong>const å¯¹è±¡</strong>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯ç”Ÿæˆçš„ä¸´æ—¶å¯¹è±¡çš„å€¼ä¸ä¼šè¢«èµ‹å€¼è¿ç®—ç¬¦ä¿®æ”¹ã€‚</p><h2 id="ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ"><a href="#ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ" class="headerlink" title="ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ"></a>ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ</h2><h3 id="åŸºæœ¬ç”¨æ³•å›é¡¾"><a href="#åŸºæœ¬ç”¨æ³•å›é¡¾" class="headerlink" title="åŸºæœ¬ç”¨æ³•å›é¡¾"></a>åŸºæœ¬ç”¨æ³•å›é¡¾</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++">  <span class="hljs-comment">// use pointers to keep track of shortest, first strings</span><br>      String * shortest = &amp;sayings[<span class="hljs-number">0</span>]; <span class="hljs-comment">// initialize to first object</span><br>      String * first = &amp;sayings[<span class="hljs-number">0</span>];<br>      <span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt; total; i++)<br>      &#123;<br>          <span class="hljs-keyword">if</span> (sayings[i].<span class="hljs-built_in">length</span>() &lt; shortest-&gt;<span class="hljs-built_in">length</span>())<br>              shortest = &amp;sayings[i];<br>          <span class="hljs-keyword">if</span> (sayings[i] &lt; *first)     <span class="hljs-comment">// compare values</span><br>              first = &amp;sayings[i];     <span class="hljs-comment">// assign address</span><br>      &#125;<br>      cout &lt;&lt; <span class="hljs-string">&quot;Shortest saying:\n&quot;</span> &lt;&lt; * shortest &lt;&lt; endl;<br>      cout &lt;&lt; <span class="hljs-string">&quot;First alphabetically:\n&quot;</span> &lt;&lt; * first &lt;&lt; endl;<br><br>      <span class="hljs-built_in">srand</span>(<span class="hljs-built_in">time</span>(<span class="hljs-number">0</span>));<br>      <span class="hljs-type">int</span> choice = <span class="hljs-built_in">rand</span>() % total; <span class="hljs-comment">// pick index at random</span><br><br><br><br>  <span class="hljs-comment">// use new to create, initialize new String object</span><br>      String * favorite = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(sayings[choice]);<br><span class="hljs-comment">//è¿™é‡Œä¼šè°ƒç”¨ç›¸åº”çš„æ„é€ å‡½æ•°</span><br>      cout &lt;&lt; <span class="hljs-string">&quot;My favorite saying:\n&quot;</span> &lt;&lt; *favorite &lt;&lt; endl;<br>      <span class="hljs-keyword">delete</span> favorite;<br>  &#125;<br>  <span class="hljs-keyword">else</span><br>      cout &lt;&lt; <span class="hljs-string">&quot;Not much to say, eh?\n&quot;</span>;<br>  cout &lt;&lt; <span class="hljs-string">&quot;Bye.\n&quot;</span>;<br></code></pre></td></tr></table></figure><p>ä»£ç çš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯æŒ‡å‘å¯¹è±¡æŒ‡é’ˆçš„å¸¸è§ç”¨æ³•ï¼ŒåŒ…æ‹¬<code>-&gt;</code>è¿ç®—ç¬¦ï¼Œå¸¸è§çš„å–å€å’Œè§£å¼•ç”¨è¿ç®—ã€‚ä»£ç çš„ç¬¬äºŒéƒ¨åˆ†æ¶‰åŠåˆ°<code>new</code>å’Œ<code>delete</code>æ“ä½œã€‚</p><h3 id="ä¸€äº›é«˜çº§ç”¨æ³•"><a href="#ä¸€äº›é«˜çº§ç”¨æ³•" class="headerlink" title="ä¸€äº›é«˜çº§ç”¨æ³•"></a>ä¸€äº›é«˜çº§ç”¨æ³•</h3><h4 id="ä½•æ—¶ä½¿ç”¨ææ„å‡½æ•°ï¼Ÿ"><a href="#ä½•æ—¶ä½¿ç”¨ææ„å‡½æ•°ï¼Ÿ" class="headerlink" title="ä½•æ—¶ä½¿ç”¨ææ„å‡½æ•°ï¼Ÿ"></a>ä½•æ—¶ä½¿ç”¨ææ„å‡½æ•°ï¼Ÿ</h4><p><img src="/posts/Dynamic-Memory-and-Classes/%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0.png" alt="ææ„å‡½æ•°"></p><p>åœ¨ä¸‹è¿°æƒ…å†µä¸‹ææ„å‡½æ•°å°†è¢«è°ƒç”¨ï¼ˆå‚è§å›¾ 12.4ï¼‰ã€‚</p><ul><li>å¦‚æœå¯¹è±¡æ˜¯åŠ¨æ€å˜é‡ï¼Œåˆ™å½“<strong>æ‰§è¡Œå®Œå®šä¹‰è¯¥å¯¹è±¡çš„ç¨‹åºå—</strong>æ—¶ï¼Œå°†è°ƒç”¨è¯¥å¯¹è±¡çš„ææ„å‡½æ•°ã€‚</li><li>å¦‚æœå¯¹è±¡æ˜¯<strong>é™æ€å˜é‡ï¼ˆå¤–éƒ¨ã€é™æ€ã€é™æ€å¤–éƒ¨æˆ–æ¥è‡ªåç§°ç©ºé—´ï¼‰</strong>ï¼Œåˆ™åœ¨ç¨‹åºç»“æŸæ—¶å°†è°ƒç”¨å¯¹è±¡çš„ææ„å‡½æ•°ã€‚</li><li>å¦‚æœå¯¹è±¡æ˜¯ç”¨ new åˆ›å»ºçš„ï¼Œåˆ™ä»…å½“æ‚¨<strong>æ˜¾å¼ä½¿ç”¨ delete åˆ é™¤å¯¹è±¡</strong>æ—¶ï¼Œå…¶ææ„å‡½æ•°æ‰ä¼šè¢«è°ƒç”¨ã€‚</li></ul><p>ä¾‹å¦‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸€å…±å®šä¹‰äº†ä¸‰ä¸ªåŸºäº<code>Act</code>ç±»çš„å¯¹è±¡ï¼š<code>nice</code>ï¼ˆå…¨å±€å˜é‡ï¼Œä¸ç¨‹åºå…±å­˜äº¡ï¼‰ã€<code>pt</code>ï¼ˆä½¿ç”¨newå®šä¹‰çš„ä¸€ä¸ªæŒ‡å‘Actç±»çš„æŒ‡é’ˆï¼‰ã€<code>up</code>ï¼ˆåœ¨ä¸€ä¸ªä»£ç å—ä¸­å®šä¹‰çš„è‡ªåŠ¨å±€éƒ¨å˜é‡ï¼‰</p><p><strong>æ³¨æ„ï¼</strong></p><ul><li><p>å¦‚æœææ„å‡½æ•°é€šè¿‡å¯¹æŒ‡é’ˆç±»æˆå‘˜ä½¿ç”¨ delete æ¥é‡Šæ”¾å†…å­˜ï¼Œåˆ™æ¯ä¸ªæ„é€ å‡½æ•°éƒ½åº”å½“ä½¿ç”¨ new æ¥åˆå§‹åŒ–æŒ‡é’ˆï¼Œæˆ–å°†å®ƒè®¾ç½®ä¸ºç©ºæŒ‡é’ˆã€‚</p><blockquote><p>å¦‚æœç±»çš„ææ„å‡½æ•°ä½¿ç”¨<code>delete</code>æ¥é‡Šæ”¾æŒ‡é’ˆæˆå‘˜ï¼Œé‚£ä¹ˆæ„å‘³ç€è¿™ä¸ªæŒ‡é’ˆæˆå‘˜åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…è¢«è®¤ä¸ºæ˜¯æŒ‡å‘åŠ¨æ€åˆ†é…çš„å†…å­˜çš„ã€‚ä¸ºäº†ç¡®ä¿åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶ä¸ä¼šå°è¯•åˆ é™¤ä¸€ä¸ªæœªåˆå§‹åŒ–çš„æŒ‡é’ˆï¼Œæ¯ä¸ªæ„é€ å‡½æ•°éƒ½åº”è¯¥ä½¿ç”¨<code>new</code>æ¥ä¸ºæŒ‡é’ˆæˆå‘˜åˆ†é…å†…å­˜ï¼Œæˆ–è€…å°†æŒ‡é’ˆæˆå‘˜åˆå§‹åŒ–ä¸º<code>nullptr</code>ï¼ˆåœ¨C++11åŠä»¥åçš„ç‰ˆæœ¬ä¸­ä½¿ç”¨<code>nullptr</code>ï¼Œä¹‹å‰çš„ç‰ˆæœ¬ä½¿ç”¨<code>NULL</code>æˆ–<code>0</code>ï¼‰</p></blockquote></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() : <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">42</span>)) &#123;&#125; <span class="hljs-comment">// åˆå§‹åŒ–æŒ‡é’ˆæˆå‘˜</span><br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(val)) &#123;&#125; <span class="hljs-comment">// å¦ä¸€ç§åˆå§‹åŒ–æ–¹å¼</span><br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">MyClass</span><span class="hljs-params">(<span class="hljs-type">bool</span> flag)</span> : data(nullptr) &#123;</span>&#125; <span class="hljs-comment">// å°†æŒ‡é’ˆè®¾ç½®ä¸ºç©ºæŒ‡é’ˆ</span><br>    ~<span class="hljs-built_in">MyClass</span>() &#123;<br>        <span class="hljs-keyword">delete</span> data;<br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span>* data;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h4 id="å®šä½newè¿ç®—ç¬¦"><a href="#å®šä½newè¿ç®—ç¬¦" class="headerlink" title="å®šä½newè¿ç®—ç¬¦"></a>å®šä½newè¿ç®—ç¬¦</h4><h5 id="ä»€ä¹ˆæ˜¯å®šä½newè¿ç®—ç¬¦ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å®šä½newè¿ç®—ç¬¦ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å®šä½newè¿ç®—ç¬¦ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å®šä½newè¿ç®—ç¬¦ï¼Ÿ</h5><p><strong>å®šä½newè¿ç®—ç¬¦</strong>ï¼ˆPlacement New Operatorï¼‰æ˜¯C++ä¸­ä¸€ç§ç‰¹æ®Šçš„<code>new</code>è¿ç®—ç¬¦ï¼Œå®ƒå…è®¸ä½ å°†å¯¹è±¡æ„é€ åœ¨é¢„å…ˆåˆ†é…å¥½çš„å†…å­˜ä½ç½®ä¸Šï¼Œè€Œä¸åƒå¸¸è§„çš„<code>new</code>é‚£æ ·åŠ¨æ€åˆ†é…å†…å­˜ã€‚è¿™åœ¨æŸäº›æƒ…å†µä¸‹ç‰¹åˆ«æœ‰ç”¨ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">void</span>* memory = ...; <span class="hljs-comment">// é¢„å…ˆåˆ†é…å¥½çš„å†…å­˜</span><br>SomeType* obj = <span class="hljs-built_in">new</span> (memory) <span class="hljs-built_in">SomeType</span>(arguments); <span class="hljs-comment">// æ„é€ å¯¹è±¡åœ¨é¢„å…ˆåˆ†é…çš„å†…å­˜ä¸Š</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>memory</code>æ˜¯ä¸€ä¸ªæŒ‡å‘å·²ç»åˆ†é…å¥½çš„å†…å­˜çš„æŒ‡é’ˆï¼Œ<code>SomeType</code>æ˜¯ä½ çš„ç±»æˆ–ç±»å‹ï¼Œ<code>arguments</code>æ˜¯ä¼ é€’ç»™æ„é€ å‡½æ•°çš„å‚æ•°ã€‚</p><ol><li><p><strong>ä¸åˆ†é…å†…å­˜</strong>ï¼šå®šä½newä¸ä¼šåˆ†é…æ–°çš„å†…å­˜ï¼Œå®ƒåªæ˜¯åœ¨<strong>ç»™å®šçš„å†…å­˜ä½ç½®ä¸Šè°ƒç”¨æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–å¯¹è±¡</strong>ã€‚</p></li><li><p><strong>æ‰‹åŠ¨å†…å­˜ç®¡ç†</strong>ï¼šä½¿ç”¨å®šä½newæ„å‘³ç€ä½ å¿…é¡»æ‰‹åŠ¨ç®¡ç†å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸï¼ŒåŒ…æ‹¬ç¡®ä¿å†…å­˜æ˜¯åœ¨å®šä½newä¹‹å‰åˆ†é…çš„ï¼Œå¹¶ä¸”åœ¨å¯¹è±¡ä¸å†éœ€è¦æ—¶æ­£ç¡®åœ°è°ƒç”¨ææ„å‡½æ•°ã€‚</p></li><li><p><strong>å¼‚å¸¸å®‰å…¨æ€§</strong>ï¼šå¦‚æœæ„é€ å‡½æ•°æŠ›å‡ºå¼‚å¸¸ï¼Œå®šä½newä¸ä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜ï¼Œå› ä¸ºå®ƒæ²¡æœ‰åˆ†é…æ–°çš„å†…å­˜ã€‚ä½ éœ€è¦æ‰‹åŠ¨å¤„ç†å¼‚å¸¸æƒ…å†µã€‚</p></li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">value</span>(val) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Constructing MyClass with value: &quot;</span> &lt;&lt; value &lt;&lt; std::endl;<br>    &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Destructing MyClass with value: &quot;</span> &lt;&lt; value &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-type">int</span> value;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// é¢„å…ˆåˆ†é…ä¸€å—å†…å­˜</span><br>    <span class="hljs-type">char</span>* buffer = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[<span class="hljs-built_in">sizeof</span>(MyClass)];<br>    <br>    <span class="hljs-comment">// ä½¿ç”¨å®šä½newåœ¨é¢„å…ˆåˆ†é…çš„å†…å­˜ä¸Šæ„é€ å¯¹è±¡</span><br>    MyClass* obj = <span class="hljs-built_in">new</span> (buffer) <span class="hljs-built_in">MyClass</span>(<span class="hljs-number">42</span>);<br>    <br>    <span class="hljs-comment">// ä½¿ç”¨å¯¹è±¡</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Object value: &quot;</span> &lt;&lt; obj-&gt;value &lt;&lt; std::endl;<br>    <br>    <span class="hljs-comment">// æ‰‹åŠ¨è°ƒç”¨ææ„å‡½æ•°</span><br>    obj-&gt;~<span class="hljs-built_in">MyClass</span>();<br>    <br>    <span class="hljs-comment">// é‡Šæ”¾é¢„å…ˆåˆ†é…çš„å†…å­˜</span><br>    <span class="hljs-keyword">delete</span>[] buffer;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="å®šä½newè¿ç®—ç¬¦çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹"><a href="#å®šä½newè¿ç®—ç¬¦çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹" class="headerlink" title="å®šä½newè¿ç®—ç¬¦çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹"></a>å®šä½newè¿ç®—ç¬¦çš„ä½¿ç”¨æ³¨æ„äº‹é¡¹</h5><p>ä¸‹é¢çš„ç¨‹åºå¯¹æ™®é€šçš„<code>new</code>ä½¿ç”¨å’Œ<code>å®šä½newè¿ç®—ç¬¦</code>çš„ä½¿ç”¨è¿›è¡Œäº†æ¯”è¾ƒï¼Œå¹¶å½’çº³å‡ºä½¿ç”¨<code>å®šä½newè¿ç®—ç¬¦</code>çš„å¸¸è§æ˜“é”™ç‚¹ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// placenew1.cpp  -- new, placement new, no delete</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;new&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> BUF = <span class="hljs-number">512</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">JustTesting</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br>    string words;<br>    <span class="hljs-type">int</span> number;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">JustTesting</span>(<span class="hljs-type">const</span> string &amp; s = <span class="hljs-string">&quot;Just Testing&quot;</span>, <span class="hljs-type">int</span> n = <span class="hljs-number">0</span>) <br>    &#123;words = s; number = n; cout &lt;&lt; words &lt;&lt; <span class="hljs-string">&quot; constructed\n&quot;</span>; &#125;<br>    <span class="hljs-comment">//é»˜è®¤æ„é€ å‡½æ•°</span><br>    ~<span class="hljs-built_in">JustTesting</span>() &#123; cout &lt;&lt; words &lt;&lt; <span class="hljs-string">&quot; destroyed\n&quot;</span>;&#125;<br>    <span class="hljs-comment">//ææ„å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Show</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; cout &lt;&lt; words &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; number &lt;&lt; endl;&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">char</span> * buffer = <span class="hljs-keyword">new</span> <span class="hljs-type">char</span>[BUF];       <span class="hljs-comment">// get a block of memory</span><br><br>    JustTesting *pc1, *pc2;<br><br>    pc1 = <span class="hljs-built_in">new</span> (buffer) JustTesting;      <span class="hljs-comment">// place object in buffer</span><br>    pc2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">JustTesting</span>(<span class="hljs-string">&quot;Heap1&quot;</span>, <span class="hljs-number">20</span>);  <span class="hljs-comment">// place object on heapï¼ˆç›´æ¥åœ¨å †ä¸Šåˆ†é…å†…å­˜ï¼‰</span><br>    <br>    cout &lt;&lt; <span class="hljs-string">&quot;Memory block addresses:\n&quot;</span> &lt;&lt; <span class="hljs-string">&quot;buffer: &quot;</span>&lt;&lt; (<span class="hljs-type">void</span> *) buffer &lt;&lt; <span class="hljs-string">&quot;    heap: &quot;</span> &lt;&lt; pc2 &lt;&lt;endl;<br>    <span class="hljs-comment">//void*ä½¿bufferè¢«å¼ºåˆ¶è½¬æ¢æˆé€šç”¨æŒ‡é’ˆä½¿å…¶æ‰“å°åœ°å€è€Œä¸æ˜¯å­—ç¬¦ä¸²çš„å€¼</span><br>    <br>    cout &lt;&lt; <span class="hljs-string">&quot;Memory contents:\n&quot;</span>;<br>    cout &lt;&lt; pc1 &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>    pc1-&gt;<span class="hljs-built_in">Show</span>();<br>    cout &lt;&lt; pc2 &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>    pc2-&gt;<span class="hljs-built_in">Show</span>();<br><br>    JustTesting *pc3, *pc4;<br>    pc3 = <span class="hljs-built_in">new</span> (buffer) <span class="hljs-built_in">JustTesting</span>(<span class="hljs-string">&quot;Bad Idea&quot;</span>, <span class="hljs-number">6</span>);<br>    pc4 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">JustTesting</span>(<span class="hljs-string">&quot;Heap2&quot;</span>, <span class="hljs-number">10</span>);<br>    cout &lt;&lt; <span class="hljs-string">&quot;Memory contents:\n&quot;</span>;<br>    cout &lt;&lt; pc3 &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>    pc3-&gt;<span class="hljs-built_in">Show</span>();<br>    cout &lt;&lt; pc4 &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>    pc4-&gt;<span class="hljs-built_in">Show</span>();<br>    <br>    <span class="hljs-keyword">delete</span> pc2;                          <span class="hljs-comment">// free Heap1         </span><br>    <span class="hljs-keyword">delete</span> pc4;                          <span class="hljs-comment">// free Heap2</span><br>    <span class="hljs-keyword">delete</span> [] buffer;                    <span class="hljs-comment">// free buffer</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;Done\n&quot;</span>;<br>    <span class="hljs-comment">// std::cin.get();</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>è¾“å‡ºç¤ºä¾‹ï¼š</strong></p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs nestedtext"><span class="hljs-attribute">Just Testing constructed</span><br><span class="hljs-attribute">Heap1 constructed</span><br><span class="hljs-attribute">Memory block addresses</span><span class="hljs-punctuation">:</span><br><span class="hljs-attribute">buffer</span><span class="hljs-punctuation">:</span> <span class="hljs-string">0xf61e80    heap: 0xf62090</span><br><span class="hljs-attribute">Memory contents</span><span class="hljs-punctuation">:</span><br><span class="hljs-attribute">0xf61e80</span><span class="hljs-punctuation">:</span> <span class="hljs-string">Just Testing, 0</span><br><span class="hljs-attribute">0xf62090</span><span class="hljs-punctuation">:</span> <span class="hljs-string">Heap1, 20</span><br><span class="hljs-attribute">Bad Idea constructed</span><br><span class="hljs-attribute">Heap2 constructed</span><br><span class="hljs-attribute">Memory contents</span><span class="hljs-punctuation">:</span><br><span class="hljs-attribute">0xf61e80</span><span class="hljs-punctuation">:</span> <span class="hljs-string">Bad Idea, 6</span><br><span class="hljs-attribute">0xf620c0</span><span class="hljs-punctuation">:</span> <span class="hljs-string">Heap2, 10</span><br>Heap1 destroyed<br>Heap2 destroyed<br>Done<br></code></pre></td></tr></table></figure><p><strong>â‘ è¦†ç›–é—®é¢˜</strong></p><p>å°è¯•è¯»æ‡‚ä»£ç çš„æ‰§è¡Œé€»è¾‘å¹¶è§‚å¯Ÿè¾“å‡ºç¤ºä¾‹ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç° <code>Just Testing</code>ï¼ˆpc1ï¼Œè°ƒç”¨äº†é»˜è®¤æ„é€ å‡½æ•°ï¼‰å’Œ <code>Bad Idea</code>ï¼ˆpc3ï¼Œè°ƒç”¨äº†æ˜¾å¼æ„é€ å‡½æ•°å’Œå¤åˆ¶æ„é€ å‡½æ•°ï¼‰ä¸¤å—å­˜å‚¨çš„å†…å­˜æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ <code>buffer: 0xf61e80</code>çš„å†…å­˜ã€‚</p><p>è¿™ä¼šå¸¦æ¥ä¸€ä¸ªæ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œæˆ‘ä»¬çš„åˆè¡·æ˜¯åœ¨åˆ†é…å¥½çš„å†…å­˜å—ä¸ŠåŒæ—¶å‚¨å­˜pc1å’Œpc3ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡çš„å†…å­˜ï¼Œä½†æ˜¯æ–°å¯¹è±¡ï¼ˆpc3æŒ‡å‘çš„å¯¹è±¡ï¼‰<strong>åœ¨ç¨‹åºä¸­è¦†ç›–æ‰äº†åŸæ¥pc1æ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œå¯¼è‡´å€¼çš„ä¸¢å¤±</strong>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘åœ¨ä»£ç çš„44è¡ŒååŠ ä¸Š<code>pc1-&gt;Show();</code>è¾“å‡ºçš„ç»“æœä¼šæ˜¯<code>Bad Idea, 6</code>ï¼ŒåŸæ¥pc1æŒ‡å‘çš„å¯¹è±¡çš„å€¼å·²ç»è¢«è¦†ç›–ã€‚</p><p>å› æ­¤ï¼Œç¨‹åºå‘˜å¿…é¡»æ‰‹åŠ¨ç®¡ç†å®šä½newè¿ç®—ç¬¦ï¼Œä½¿ä¸åŒçš„æŒ‡é’ˆæŒ‡å‘ä¸åŒåŒºåŸŸçš„å†…å­˜ï¼Œäº’ä¸å†²çªã€‚ä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">pc1=<span class="hljs-built_in">new</span>(buffer) JustTesting;<br>pc3=<span class="hljs-built_in">new</span>(buffer+<span class="hljs-built_in">sizeof</span>(JustTesting)) <span class="hljs-built_in">JustTesting</span>(<span class="hljs-string">&quot;Better idea&quot;</span>,<span class="hljs-number">6</span>);<br></code></pre></td></tr></table></figure><p>åœ¨å®šä¹‰pc3çš„æ—¶å€™ï¼ŒåŠ ä¸Šäº†<code>sizeof(JustTesting)</code>ï¼Œä¿è¯äº†ä¸¤å—è¢«åˆ†é…çš„å†…å­˜ä¸ä¼šäº§ç”Ÿé‡å ã€‚</p><p><strong>â‘¡ä½•æ—¶deleteï¼Ÿ</strong></p><p><strong>ä½¿ç”¨å®šä½newè¿ç®—ç¬¦åˆ†é…çš„å†…å­˜åœ¨deleteæ—¶è¦æ ¼å¤–çš„å°å¿ƒï¼</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">delete</span> pc2;                          <span class="hljs-comment">// free Heap1         </span><br><span class="hljs-keyword">delete</span> pc4;                          <span class="hljs-comment">// free Heap2</span><br><span class="hljs-keyword">delete</span> [] buffer;                    <span class="hljs-comment">// free buffer</span><br>cout &lt;&lt; <span class="hljs-string">&quot;Done\n&quot;</span>;<br></code></pre></td></tr></table></figure><p>æºä»£ç ä¸­<code>delete</code>æ‰äº†æ‰€æœ‰åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼ŒåŒ…æ‹¬p2ï¼Œp4ã€‚p1ï¼Œp3ç”±äºä½¿ç”¨äº†å®šä½newè¿ç®—ç¬¦ï¼Œå› æ­¤åœ¨deleteæ‰bufferçš„å†…å­˜æŒ‡å®šåŒºåŸŸåï¼Œp1ï¼Œp3è‡ªç„¶ä¹Ÿå°±è¢«deleteæ‰äº†ã€‚è¿™å¹¶ä¸éš¾ç†è§£ï¼Œä½†æ˜¯è¯·æ³¨æ„ä»¥ä¸‹æ“ä½œæ˜¯éæ³•çš„ï¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">delete</span> pc2;                          <span class="hljs-comment">// free Heap1         </span><br><span class="hljs-keyword">delete</span> pc4;                          <span class="hljs-comment">// free Heap2</span><br><span class="hljs-keyword">delete</span> pc1;<span class="hljs-comment">//INVALID!</span><br><span class="hljs-keyword">delete</span> pc3;<span class="hljs-comment">//INVALID!</span><br></code></pre></td></tr></table></figure><p>åŸä¹¦ä¸­è¿™ä¸€æ®µè®²çš„éå¸¸æ¸…æ¥šå¹¶ä¸”ç›´ç™½ï¼Œç›´æ¥è´´ä¸Šæ¥ï¼š</p><p>åŸå› åœ¨äº delete å¯ä¸å¸¸è§„ new è¿ç®—ç¬¦é…åˆä½¿ç”¨ï¼Œä½†<strong>ä¸èƒ½ä¸å®šä½ new è¿ç®—ç¬¦é…åˆä½¿ç”¨</strong>ã€‚ä¾‹å¦‚ï¼ŒæŒ‡é’ˆ pc3 æ²¡æœ‰æ”¶åˆ° new è¿ç®—ç¬¦è¿”å›çš„åœ°å€ï¼Œå› æ­¤ <strong>delete pc3 å°†å¯¼è‡´è¿è¡Œé˜¶æ®µé”™è¯¯</strong>ã€‚åœ¨å¦ä¸€æ–¹é¢ï¼ŒæŒ‡é’ˆpc1 æŒ‡å‘çš„åœ°å€ä¸ buffer ç›¸åŒï¼Œ ä½† buffer æ˜¯ä½¿ç”¨ new []åˆå§‹åŒ–çš„ï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨ delete [ ]è€Œä¸æ˜¯ deleteæ¥é‡Šæ”¾ã€‚å³ä½¿ buffer æ˜¯ä½¿ç”¨ new è€Œä¸æ˜¯ new []åˆå§‹åŒ–çš„ï¼Œ delete pc1 ä¹Ÿå°†é‡Šæ”¾ bufferï¼Œè€Œä¸æ˜¯ pc1ã€‚è¿™æ˜¯å› ä¸º new&#x2F;delete ç³»ç»ŸçŸ¥é“å·²åˆ†é…çš„ 512 å­—èŠ‚å— bufferï¼Œä½†å¯¹å®šä½ new è¿ç®—ç¬¦å¯¹è¯¥å†…å­˜å—åšäº†ä½•ç§å¤„ç†ä¸€æ— æ‰€çŸ¥ã€‚  </p><blockquote><p>æ€»ä¹‹ä¸€å¥è¯ï¼š<strong>ä¸èƒ½æ··ç€ç”¨</strong>ï¼</p></blockquote><p>é‚£ä¹ˆï¼Œå¦‚ä½•åªdeleteæˆ‘ä»¬å®šä¹‰çš„pc1å’Œpc3è€Œä¸deleteæ‰æ•´å—bufferå†…å­˜å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥<strong>æ˜¾ç¤ºåœ°ä¸ºå®šä½newè¿ç®—ç¬¦åˆ›å»ºçš„å¯¹è±¡è°ƒç”¨ææ„å‡½æ•°ï¼Œé”€æ¯æŒ‡å®šçš„å¯¹è±¡ã€‚</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++">pc3 = <span class="hljs-built_in">new</span> (buffer + <span class="hljs-built_in">sizeof</span> (JustTesting))<br>            <span class="hljs-built_in">JustTesting</span>(<span class="hljs-string">&quot;Better Idea&quot;</span>, <span class="hljs-number">6</span>);<br>pc4 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">JustTesting</span>(<span class="hljs-string">&quot;Heap2&quot;</span>, <span class="hljs-number">10</span>);<br><br>cout &lt;&lt; <span class="hljs-string">&quot;Memory contents:\n&quot;</span>;<br>cout &lt;&lt; pc3 &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>pc3-&gt;<span class="hljs-built_in">Show</span>();<br>cout &lt;&lt; pc4 &lt;&lt; <span class="hljs-string">&quot;: &quot;</span>;<br>pc4-&gt;<span class="hljs-built_in">Show</span>();<br><br><span class="hljs-keyword">delete</span> pc2;           <span class="hljs-comment">// free Heap1         </span><br><span class="hljs-keyword">delete</span> pc4;           <span class="hljs-comment">// free Heap2</span><br><span class="hljs-comment">// explicitly destroy placement new objects</span><br>pc3-&gt;~<span class="hljs-built_in">JustTesting</span>();  <span class="hljs-comment">// destroy object pointed to by pc3</span><br>pc1-&gt;~<span class="hljs-built_in">JustTesting</span>();  <span class="hljs-comment">// destroy object pointed to by pc1</span><br><span class="hljs-comment">//è¿™æ ·çš„æ“ä½œä¿è¯äº†æˆ‘å¯ä»¥åªdeleteä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„åŠ¨æ€å†…å­˜ï¼Œä½†ä¸deleteæ‰bufferå†…å­˜</span><br><span class="hljs-keyword">delete</span> [] buffer;     <span class="hljs-comment">// free buffer</span><br></code></pre></td></tr></table></figure><h2 id="ADT-for-queue"><a href="#ADT-for-queue" class="headerlink" title="ADT for queue"></a>ADT for queue</h2><p>å› ä¸ºç¯‡å¹…é™åˆ¶ï¼Œæœ¬åšå®¢ä¸å†è½¬è½½è¿™éƒ¨åˆ†å†…å®¹ï¼Œè€Œå°†å…¶ç§»åŠ¨åˆ°<code>æ•°æ®ç»“æ„å’Œç®—æ³•éƒ¨åˆ†</code>æ›´æ–°~</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul><li>ã€ŠC++ Primer Plusã€‹</li></ul><blockquote><p>THE END 2024&#x2F;12&#x2F;7</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>OOP</tag>
      
      <tag>C++ Primer Plus</tag>
      
      <tag>tutorial</tag>
      
      <tag>Dynamic Memory</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>AI-Indepth-Reading-AlexNet</title>
    <link href="/posts/AI-indepth-reading-AlexNet/"/>
    <url>/posts/AI-indepth-reading-AlexNet/</url>
    
    <content type="html"><![CDATA[<h1 id="ImageNet-Classification-with-Deep-Convolutional-Neural-Networks"><a href="#ImageNet-Classification-with-Deep-Convolutional-Neural-Networks" class="headerlink" title="ImageNet Classification with Deep Convolutional Neural Networks"></a>ImageNet Classification with Deep Convolutional Neural Networks</h1><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p>æœ¬æ–‡æ˜¯AIè®ºæ–‡ç²¾è¯»è®¡åˆ’çš„ç¬¬ä¸€ç¯‡ï¼åœ¨æœ¬é¢‘é“ä¸­æˆ‘å°†é‡‡ç”¨<strong>åŒè¯­</strong>æ¨¡å¼åŠ›æ±‚ç”¨å‡†ç¡®ä¸”é€»è¾‘æ¸…æ™°çš„è¯­è¨€å¤è¿°è¡¨è¾¾è®ºæ–‡ä½œè€…çš„æ ¸å¿ƒè§‚ç‚¹å’Œç»†èŠ‚å®ç°ï¼ŒåŒæ—¶é…ä¸Šä¸€äº›é…å›¾ã€‚å¸Œæœ›å¤§å®¶å–œæ¬¢</p><p>ä»Šå¤©åˆ†äº«çš„æ–‡ç« æ˜¯ <a href="https://dl.acm.org/doi/10.1145/3065386">ImageNet Classification with Deep Convolutional Neural Networks</a>ï¼Œä½œè€…æ˜¯ <a href="https://dl.acm.org/doi/10.1145/3065386#">Alex Krizhevsky</a> ï¼Œ <a href="https://dl.acm.org/doi/10.1145/3065386#">Ilya Sutskever</a> å’Œ <a href="https://dl.acm.org/doi/10.1145/3065386#">Geoffrey E. Hinton</a> ï¼ˆä»Šå¹´è¯ºå¥–å¾—ä¸»ï¼‰ã€‚<strong>è¿™ç¯‡æ–‡ç« åˆ›æ–°æ€§åœ°å°†å·ç§¯ç¥ç»ç½‘ç»œé«˜æ•ˆåœ°åº”ç”¨åˆ°å›¾åƒè¯†åˆ«é¢†åŸŸï¼Œåœ¨å½“å¹´çš„ILSVRCæ¯”èµ›ä¸­ä»¥æå¤§çš„ä¼˜åŠ¿æ–©è·å¤´åï¼ŒåŒæ—¶ä¹Ÿæ€èµ·äº†ç¥ç»ç½‘ç»œå¤å…´å’Œæ·±åº¦å­¦ä¹ çš„æµªæ½®ã€‚</strong></p><blockquote><p>This is the first article in our <strong>In-Depth Reading of AI Papers</strong> series! In this channel, I will use a <strong>bilingual</strong> approach to restate and explain the core ideas and implementation details of the paperâ€™s authors with accuracy and clear logic, accompanied by some illustrations. I hope you enjoy it.</p><p>Todayâ€™s paper is â€œ<a href="https://dl.acm.org/doi/10.1145/3065386">ImageNet Classification with Deep Convolutional Neural Networks</a>â€œ, authored by <a href="https://dl.acm.org/doi/10.1145/3065386#">Alex Krizhevsky</a>, <a href="https://dl.acm.org/doi/10.1145/3065386#">Ilya Sutskever</a>, and <a href="https://dl.acm.org/doi/10.1145/3065386#">Geoffrey E. Hinton</a> (this yearâ€™s Nobel Prize winner). <strong>This article innovatively and efficiently applied convolutional neural networks to the field of image recognition, winning first place in the ILSVRC competition that year by a significant margin, and sparked the resurgence of neural networks and the wave of deep learning.</strong></p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Artificial Intelligence</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Convolutional Neural Networks</tag>
      
      <tag>Artificial Intelligence</tag>
      
      <tag>AlexNet</tag>
      
      <tag>Image Clssification</tag>
      
      <tag>Deep Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Introduction-to-OOP</title>
    <link href="/posts/Introduction-to-OOP/"/>
    <url>/posts/Introduction-to-OOP/</url>
    
    <content type="html"><![CDATA[<h1 id="Introduction-to-OOP"><a href="#Introduction-to-OOP" class="headerlink" title="Introduction to OOP"></a>Introduction to OOP</h1><h1 id="C-Primer-Plus-Tutorial-10-11"><a href="#C-Primer-Plus-Tutorial-10-11" class="headerlink" title="C++ Primer Plus Tutorial-10&#x2F;11"></a>C++ Primer Plus Tutorial-10&#x2F;11</h1><h1 id="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘ "><a href="#é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘ " class="headerlink" title="é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘ "></a>é¢å‘å¯¹è±¡ç¼–ç¨‹æ•™ç¨‹â€”â€”Sectionâ‘ </h1><center><p style="color: red;"><b><font size=6.5>Chapter 10/11 Object Oriented Programming</font></b></p></center><center><p style="color: red;"><b><font size=6.5>é¢å‘å¯¹è±¡ç¼–ç¨‹å¼•è®º</font></b></p></center><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p><a href="https://xiyuanyang-code.github.io/posts/C-plus-plus-Primer-Plus-tutorial/">C++ Primer Plus Tutorial</a></p><p><a href="https://xiyuanyang-code.github.io/tags/OOP/">ç³»åˆ—æ–‡ç« </a></p><h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>æ¬¢è¿æ¥åˆ°<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>çš„ä¸–ç•Œï¼é¦–å…ˆæ–‡ç« å°†ä¼šå‘ä½ ä»‹ç»åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­å››ä¸ªæœ€æ ¸å¿ƒçš„ç²¾ç¥ï¼š<strong>å°è£…ã€ç»§æ‰¿ã€å¤šæ€å’ŒæŠ½è±¡</strong>ï¼Œå¹¶å¯¹é¢å‘å¯¹è±¡æ‰€æ¶‰åŠçš„çŸ¥è¯†åšä¸€ä¸ªæ€»ä½“æ€§çš„æ¦‚è§ˆã€‚æ¥ä¸‹æ¥ï¼Œä½ å°†ç³»ç»Ÿå­¦ä¹ åˆ°ä»€ä¹ˆæ˜¯<strong>ç±»å’Œå¯¹è±¡</strong>ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå·±çš„ç±»å’Œå¯¹è±¡ã€‚æ–‡ç« çš„å†…å®¹æ¶µç›–<strong>æ„é€ å‡½æ•°</strong>çš„å››ç§å®šä¹‰ã€<strong>ææ„å‡½æ•°</strong>çš„ä½¿ç”¨ã€<strong>é™æ€å’ŒåŠ¨æ€</strong>æ•°æ®æˆå‘˜ä»¥åŠæˆå‘˜å‡½æ•°ã€<strong>å‹å…ƒå‡½æ•°</strong>ã€<strong>constå‡½æ•°</strong>çš„ç”¨æ³•ã€<strong>thisæŒ‡é’ˆ</strong>ä»¥åŠç±»çš„è‡ªåŠ¨ç±»å‹è½¬æ¢ç­‰çŸ¥è¯†ã€‚</p><p>Welcome to the world of <strong>Object-Oriented Programming (OOP)</strong>! This article will first introduce you to the four core principles of OOP: <strong>Encapsulation, Inheritance, Polymorphism, and Abstraction</strong>, and provide an overview of the knowledge involved in OOP. Next, you will systematically learn what <strong>classes and objects</strong> are, and how to create and use your own classes and objects. The article covers topics such as the four definitions of <strong>constructors</strong>, the use of <strong>destructors</strong>, <strong>static</strong> and <strong>dynamic</strong> data members and member functions, <strong>friend functions</strong>, the usage of const functions, the <strong><code>this</code></strong> pointer, and <strong>automatic type conversion of classes</strong>, among others.</p><p><strong>Key words: OOP, constructors, destructors, this pointer, friend functions</strong></p><h2 id="å¸¸è§çŸ¥è¯†ç‚¹æ¦‚è§ˆ"><a href="#å¸¸è§çŸ¥è¯†ç‚¹æ¦‚è§ˆ" class="headerlink" title="å¸¸è§çŸ¥è¯†ç‚¹æ¦‚è§ˆ"></a>å¸¸è§çŸ¥è¯†ç‚¹æ¦‚è§ˆ</h2><blockquote><p>åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å…ˆå¯¹OOPçš„åŸºæœ¬æ¦‚å¿µåšä¸€ä¸ªç³»ç»Ÿæ€§çš„æ¢³ç†å’Œæ€»ç»“ã€‚å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦é¢å‘å¯¹è±¡ï¼Œå»ºè®®çœ‹å®Œ <code>The Art of Object Oriented Programming</code>åè·³è½¬åˆ°å¯¹åº”å†…å®¹å¤„å­¦ä¹ ï¼Œæœ€åå†æ¥çœ‹æ€»ç»“ã€‚</p></blockquote><h3 id="1-The-Art-of-Object-Oriented-Programming"><a href="#1-The-Art-of-Object-Oriented-Programming" class="headerlink" title="1. The Art of Object Oriented Programming"></a>1. The Art of Object Oriented Programming</h3><p>ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Ÿè¿™æ˜¯C++å¼•å…¥çš„ä¸€ä¸ª<strong>æ–°çš„ç‰¹æ€§</strong>ã€‚å®ƒæ˜¯ä¸€ç§ç¨‹åºè®¾è®¡èŒƒå¼ï¼Œå®ƒå°†ç°å®ä¸–ç•Œçš„äº‹ç‰©æŠ½è±¡æˆ<strong>å¯¹è±¡</strong>ï¼Œé€šè¿‡å°è£…ã€ç»§æ‰¿ã€å¤šæ€å’ŒæŠ½è±¡ç­‰æœºåˆ¶ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¨¡å—åŒ–ã€æ˜“ç»´æŠ¤å’Œå¯æ‰©å±•ã€‚åœ¨OOPä¸­ï¼Œ<strong>å¯¹è±¡</strong>æ˜¯ç±»çš„å®ä¾‹ï¼Œä»£è¡¨äº†å…·ä½“çš„å®ä½“ï¼Œå®ƒåŒ…å«äº†å±æ€§ï¼ˆæ•°æ®ï¼‰å’Œæ–¹æ³•ï¼ˆæ“ä½œï¼‰ã€‚è¿™äº›å¯¹è±¡é€šè¿‡äº¤äº’æ¥å®ç°ç¨‹åºçš„åŠŸèƒ½ã€‚</p><p>åˆå­¦è€…åœ¨å…¥é—¨OOPæ—¶ï¼Œå¾€å¾€ä¼šæ„Ÿè§‰åˆ°éå¸¸çš„ä¸é€‚åº”ï¼Œå› ä¸ºé¢å‘å¯¹è±¡çš„è¯­æ³•è§„åˆ™è‰°æ·±æ™¦æ¶©ï¼Œå¹¶ä¸”åˆ›å»ºç±»å’Œå¯¹è±¡éœ€è¦æ³¨æ„åˆ°å¾ˆå¤šå¾ˆå¤šçš„ç»†èŠ‚ï¼Œç¨ä¸ç•™ç¥ä¾¿æŠ¥é”™æ»¡å¤©é£ã€‚<strong>ç»è¿‡2ä¸ªæœˆçš„OOPå­¦ä¹ </strong>ï¼Œç¬”è€…è®¤ä¸ºåˆå­¦OOPæœ€å¿Œè®³çš„å°±æ˜¯å°†é‡ç‚¹æ”¾åœ¨è®°å¿†è¯­æ³•è§„åˆ™ä¸Šï¼Œè€Œåº”è¯¥<strong>å°†é‡ç‚¹æ”¾åœ¨é¢å‘å¯¹è±¡çš„å››ä¸ªåŸºæœ¬ç²¾ç¥ï¼šå°è£…ã€ç»§æ‰¿ã€å¤šæ€ã€æŠ½è±¡</strong>ï¼Œä»¥æ­¤ä¸ºå‡ºå‘ç‚¹ï¼Œå°è¯•åœ¨å®è·µä¸­åˆ›å»ºè‡ªå·±çš„ç±»ï¼Œå¹¶è¿ç”¨çš„è¿‡ç¨‹ä¸­åŒæ­¥ç†Ÿæ‚‰è¯­æ³•è§„åˆ™ã€‚</p><div class="note note-primary">            <p><strong>å°è£…ï¼ˆEncapsulationï¼‰</strong>ï¼š</p><ul><li>å°è£…æ˜¯å°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•ï¼ˆæˆå‘˜å‡½æ•°ï¼‰åŒ…è£…åœ¨ä¸€ä¸ªå•ä¸€çš„å•å…ƒï¼ˆç±»ï¼‰ä¸­ï¼Œéšè—ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ï¼Œåªæš´éœ²å¿…è¦çš„<strong>æ¥å£</strong>ã€‚</li><li>å°è£…åœ¨ä¿è¯æ•°æ®å®‰å…¨æ€§çš„åŒæ—¶ï¼Œä¹Ÿå…è®¸äº†ä»£ç çš„åç»­ç”Ÿé•¿ã€‚</li></ul><p><strong>ç»§æ‰¿ï¼ˆInheritanceï¼‰</strong>ï¼š</p><ul><li>ç»§æ‰¿å…è®¸ä¸€ä¸ªç±»ï¼ˆå­ç±»ï¼‰è·å¾—å¦ä¸€ä¸ªç±»ï¼ˆåŸºç±»æˆ–çˆ¶ç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°ä»£ç çš„å¤ç”¨å’Œå±‚æ¬¡ç»“æ„çš„å»ºç«‹ã€‚</li></ul><p><strong>å¤šæ€ï¼ˆPolymorphismï¼‰</strong>ï¼š</p><ul><li>å¤šæ€æŒ‡çš„æ˜¯åŒä¸€ä¸ªæ¥å£å¯ä»¥æœ‰å¤šç§ä¸åŒçš„å®ç°æ–¹å¼ã€‚C++é€šè¿‡è™šå‡½æ•°å’Œé‡è½½å®ç°å¤šæ€ã€‚</li></ul><p><strong>æŠ½è±¡ï¼ˆAbstractionï¼‰</strong>ï¼š</p><ul><li>æŠ½è±¡æ˜¯å°†å¤æ‚çš„ç°å®ä¸–ç•Œç®€åŒ–æˆè®¡ç®—æœºç¨‹åºå¯ä»¥å¤„ç†çš„æ¨¡å‹ã€‚é€šè¿‡å®šä¹‰æŠ½è±¡ç±»ï¼ˆå«æœ‰çº¯è™šå‡½æ•°çš„ç±»ï¼‰ï¼Œå¯ä»¥å¼ºåˆ¶å­ç±»å®ç°æŸäº›æ–¹æ³•ã€‚</li></ul>          </div><h3 id="2-ç±»å’Œå¯¹è±¡"><a href="#2-ç±»å’Œå¯¹è±¡" class="headerlink" title="2. ç±»å’Œå¯¹è±¡"></a>2. ç±»å’Œå¯¹è±¡</h3><p><strong>ç±»ï¼ˆClassï¼‰</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> m_value; <span class="hljs-comment">// ç§æœ‰æˆå‘˜å˜é‡</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">m_value</span>(val) &#123;&#125; <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    ~<span class="hljs-built_in">MyClass</span>() &#123;&#125; <span class="hljs-comment">// ææ„å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setValue</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123; m_value = val; &#125; <span class="hljs-comment">// æˆå‘˜å‡½æ•°</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> m_value; &#125; <span class="hljs-comment">// constæˆå‘˜å‡½æ•°</span><br>&#125;;<br></code></pre></td></tr></table></figure><ul><li><strong>æ„é€ å‡½æ•°</strong>ï¼šåˆå§‹åŒ–å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚</li><li><strong>ææ„å‡½æ•°</strong>ï¼šå½“å¯¹è±¡è¢«é”€æ¯æ—¶æ‰§è¡Œæ¸…ç†å·¥ä½œã€‚</li><li><strong>æˆå‘˜å‡½æ•°</strong>ï¼šæ“ä½œç±»çš„æ•°æ®æˆå‘˜ã€‚</li></ul><p><strong>å¯¹è±¡ï¼ˆObjectï¼‰</strong>ï¼š</p><ul><li>å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹åŒ–ã€‚é€šè¿‡ç±»å®šä¹‰æ¥åˆ›å»ºå¯¹è±¡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">MyClass <span class="hljs-title">obj</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>; <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªMyClassçš„å¯¹è±¡</span><br></code></pre></td></tr></table></figure><h3 id="3-ç»§æ‰¿"><a href="#3-ç»§æ‰¿" class="headerlink" title="3. ç»§æ‰¿"></a>3. ç»§æ‰¿</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123; <span class="hljs-comment">// å…¬æœ‰ç»§æ‰¿</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived&quot;</span>; &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li><strong>å…¬æœ‰ç»§æ‰¿</strong>ï¼šå­ç±»å¯ä»¥ç»§æ‰¿åŸºç±»çš„å…¬æœ‰å’Œä¿æŠ¤æˆå‘˜ã€‚</li><li><strong>ç§æœ‰ç»§æ‰¿</strong>ï¼šå­ç±»åªèƒ½ç»§æ‰¿åŸºç±»çš„ä¿æŠ¤æˆå‘˜ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å˜ä¸ºç§æœ‰ã€‚</li><li><strong>ä¿æŠ¤ç»§æ‰¿</strong>ï¼šå­ç±»å¯ä»¥ç»§æ‰¿åŸºç±»çš„ä¿æŠ¤æˆå‘˜ï¼ŒåŸºç±»çš„å…¬æœ‰æˆå‘˜å˜ä¸ºä¿æŠ¤ã€‚</li></ul><h3 id="4-å¤šæ€"><a href="#4-å¤šæ€" class="headerlink" title="4. å¤šæ€"></a>4. å¤šæ€</h3><p><strong>è™šå‡½æ•°ï¼ˆVirtual Functionsï¼‰</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base&quot;</span>; &#125; <span class="hljs-comment">// è™šå‡½æ•°</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived&quot;</span>; &#125; <span class="hljs-comment">// é‡å†™è™šå‡½æ•°</span><br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Base* b = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();<br>    b-&gt;<span class="hljs-built_in">display</span>(); <span class="hljs-comment">// è¾“å‡ºï¼šDerived</span><br>    <span class="hljs-keyword">delete</span> b;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>çº¯è™šå‡½æ•°</strong>ï¼š<code>virtual void func() = 0;</code> å®šä¹‰äº†æ¥å£ï¼Œä½†ä¸æä¾›å®ç°ï¼Œå¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°ã€‚</li></ul><h3 id="5-æŠ½è±¡ç±»å’Œæ¥å£"><a href="#5-æŠ½è±¡ç±»å’Œæ¥å£" class="headerlink" title="5. æŠ½è±¡ç±»å’Œæ¥å£"></a>5. æŠ½è±¡ç±»å’Œæ¥å£</h3><ul><li>åŒ…å«çº¯è™šå‡½æ•°çš„ç±»ç§°ä¸ºæŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥å®ä¾‹åŒ–ï¼Œå¿…é¡»é€šè¿‡ç»§æ‰¿æ¥å®ç°ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>; <span class="hljs-comment">// çº¯è™šå‡½æ•°</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span> : <span class="hljs-keyword">public</span> Shape &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> radius;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Circle</span>(<span class="hljs-type">double</span> r) : <span class="hljs-built_in">radius</span>(r) &#123;&#125;<br>    <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">area</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">3.14159</span> * radius * radius; &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="6-å°è£…å’Œè®¿é—®æ§åˆ¶"><a href="#6-å°è£…å’Œè®¿é—®æ§åˆ¶" class="headerlink" title="6. å°è£…å’Œè®¿é—®æ§åˆ¶"></a>6. å°è£…å’Œè®¿é—®æ§åˆ¶</h3><ul><li><strong>å…¬æœ‰ï¼ˆpublicï¼‰</strong>ï¼šä»»ä½•ä»£ç éƒ½å¯ä»¥è®¿é—®ã€‚</li><li><strong>ç§æœ‰ï¼ˆprivateï¼‰</strong>ï¼šåªèƒ½åœ¨ç±»å†…éƒ¨è®¿é—®ã€‚</li><li><strong>ä¿æŠ¤ï¼ˆprotectedï¼‰</strong>ï¼šåœ¨ç±»å’Œæ´¾ç”Ÿç±»ä¸­å¯ä»¥è®¿é—®ã€‚</li></ul><h3 id="7-æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"><a href="#7-æ„é€ å‡½æ•°å’Œææ„å‡½æ•°" class="headerlink" title="7. æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"></a>7. æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</h3><ul><li><strong>æ„é€ å‡½æ•°</strong>ï¼šç”¨äºåˆå§‹åŒ–å¯¹è±¡ã€‚</li><li><strong>ææ„å‡½æ•°</strong>ï¼šç”¨äºæ¸…ç†å¯¹è±¡èµ„æºã€‚</li></ul><h3 id="8-å‹å…ƒï¼ˆFriendï¼‰"><a href="#8-å‹å…ƒï¼ˆFriendï¼‰" class="headerlink" title="8. å‹å…ƒï¼ˆFriendï¼‰"></a>8. å‹å…ƒï¼ˆFriendï¼‰</h3><ul><li>å‹å…ƒå‡½æ•°æˆ–ç±»å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ï¼Œä½†è¿™æ‰“ç ´äº†å°è£…æ€§ï¼Œåº”è°¨æ…ä½¿ç”¨ã€‚</li></ul><h3 id="9-é™æ€æˆå‘˜"><a href="#9-é™æ€æˆå‘˜" class="headerlink" title="9. é™æ€æˆå‘˜"></a>9. é™æ€æˆå‘˜</h3><ul><li><strong>é™æ€æˆå‘˜å˜é‡</strong>ï¼šå…±äº«æ‰€æœ‰å¯¹è±¡çš„å•ä¸€å®ä¾‹ã€‚</li><li><strong>é™æ€æˆå‘˜å‡½æ•°</strong>ï¼šä¸ä¸ä»»ä½•å¯¹è±¡å®ä¾‹å…³è”ï¼Œåªèƒ½è®¿é—®é™æ€æˆå‘˜ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> count;<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">incrementCount</span><span class="hljs-params">()</span> </span>&#123; count++; &#125;<br>&#125;;<br><br><span class="hljs-type">int</span> MyClass::count = <span class="hljs-number">0</span>; <span class="hljs-comment">// é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–</span><br></code></pre></td></tr></table></figure><h3 id="10-è¿ç®—ç¬¦é‡è½½"><a href="#10-è¿ç®—ç¬¦é‡è½½" class="headerlink" title="10. è¿ç®—ç¬¦é‡è½½"></a>10. è¿ç®—ç¬¦é‡è½½</h3><ul><li>å…è®¸è‡ªå®šä¹‰ç±»æ”¯æŒæ ‡å‡†è¿ç®—ç¬¦ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">double</span> real, imag;<br>    Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; other) &#123;<br>        <span class="hljs-keyword">return</span> Complex&#123;real + other.real, imag + other.imag&#125;;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="Cha-10-å¯¹è±¡å’Œç±»"><a href="#Cha-10-å¯¹è±¡å’Œç±»" class="headerlink" title="Cha 10 å¯¹è±¡å’Œç±»"></a>Cha 10 å¯¹è±¡å’Œç±»</h1><h2 id="æ•°æ®æˆå‘˜"><a href="#æ•°æ®æˆå‘˜" class="headerlink" title="æ•°æ®æˆå‘˜"></a>æ•°æ®æˆå‘˜</h2><ul><li>ä¸€èˆ¬æ¥è¯´ï¼Œç§æœ‰æ•°æ®æˆå‘˜å­˜å‚¨ä¿¡æ¯ï¼Œå…±æœ‰æˆå‘˜å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰æä¾›è®¿é—®æ•°æ®çš„å”¯ä¸€é€”å¾„ã€‚ï¼ˆé™¤äº†<strong>å‹å…ƒå‡½æ•°</strong>ï¼‰</li></ul><h2 id="æˆå‘˜å‡½æ•°"><a href="#æˆå‘˜å‡½æ•°" class="headerlink" title="æˆå‘˜å‡½æ•°"></a>æˆå‘˜å‡½æ•°</h2><h3 id="é™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°"><a href="#é™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°" class="headerlink" title="é™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°"></a>é™æ€æˆå‘˜å’Œé™æ€æˆå‘˜å‡½æ•°</h3><div class="note note-primary">            <p>é™æ€æˆå‘˜å‡½æ•°ï¼ˆ<code>static</code> member functionï¼‰æ˜¯ç±»ä¸­çš„ä¸€ç§ç‰¹æ®Šæˆå‘˜å‡½æ•°ï¼Œå®ƒä¸ç±»çš„å¯¹è±¡æ— å…³ï¼Œè€Œæ˜¯ä¸ç±»æœ¬èº«ç›¸å…³ã€‚é™æ€æˆå‘˜å‡½æ•°çš„ä¸»è¦ä½œç”¨å’Œç‰¹ç‚¹æœ‰ï¼š</p><ol><li><strong>ä¸ä¾èµ–äºç±»çš„å¯¹è±¡</strong></li></ol><p>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥åœ¨æ²¡æœ‰å®ä¾‹åŒ–å¯¹è±¡çš„æƒ…å†µä¸‹è°ƒç”¨ï¼Œå› ä¸ºå®ƒä¸éœ€è¦è®¿é—®ç±»çš„å®ä¾‹æˆå‘˜ï¼ˆéé™æ€æˆå‘˜ï¼‰ã€‚å®ƒåªèƒ½è®¿é—®ç±»çš„é™æ€æˆå‘˜å˜é‡å’Œå…¶ä»–é™æ€æˆå‘˜å‡½æ•°ã€‚é™æ€æˆå‘˜å‡½æ•°ä¸éšå¼åœ°æ¥æ”¶ <code>this</code> æŒ‡é’ˆï¼Œè¿™ä½¿å¾—å®ƒä¸èƒ½è®¿é—®éé™æ€æˆå‘˜ã€‚</p><ol start="2"><li><strong>è®¿é—®å’Œæ“ä½œé™æ€æˆå‘˜</strong></li></ol><p>é™æ€æˆå‘˜å‡½æ•°åªèƒ½è®¿é—®é™æ€æˆå‘˜å˜é‡å’Œå…¶ä»–é™æ€æˆå‘˜å‡½æ•°ã€‚é™æ€æˆå‘˜å˜é‡å±äºç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»çš„æŸä¸ªç‰¹å®šå¯¹è±¡ã€‚å› æ­¤ï¼Œé™æ€æˆå‘˜å‡½æ•°é€šå¸¸ç”¨äºæ“ä½œæˆ–ç®¡ç†ç±»çš„é™æ€æ•°æ®ã€‚</p><ol start="3"><li><strong>å®ä¾‹åŒ–æ—¶ä¸éœ€è¦å¯¹è±¡</strong></li></ol><p>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»åç›´æ¥è°ƒç”¨ï¼Œè€Œä¸éœ€è¦åˆ›å»ºç±»çš„å¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> staticVar;<br><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">staticMethod</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Static method called, staticVar = &quot;</span> &lt;&lt; staticVar &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-type">int</span> MyClass::staticVar = <span class="hljs-number">10</span>;<span class="hljs-comment">//é™æ€æ•°æ®æˆå‘˜éœ€è¦å†ç±»å¤–å®šä¹‰</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass::<span class="hljs-built_in">staticMethod</span>();  <span class="hljs-comment">// è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>staticMethod()</code> æ˜¯é™æ€æˆå‘˜å‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡ <code>MyClass::staticMethod()</code> ç›´æ¥è°ƒç”¨å®ƒï¼Œè€Œæ²¡æœ‰åˆ›å»º <code>MyClass</code> çš„å¯¹è±¡ã€‚</p><ol start="4"><li><strong>ç”¨äºå®ç°ç±»çº§åˆ«çš„åŠŸèƒ½</strong></li></ol><p>é™æ€æˆå‘˜å‡½æ•°é€‚ç”¨äºé‚£äº›ä¸ä¾èµ–äºç±»å¯¹è±¡çš„åŠŸèƒ½ï¼Œé€šå¸¸ç”¨äºå®ç°ç±»çº§åˆ«çš„æ“ä½œã€‚ä¾‹å¦‚ï¼š</p><ul><li><strong>å·¥å…·å‡½æ•°</strong>ï¼šå¯ä»¥ä½œä¸ºä¸ç±»çš„å¯¹è±¡æ— å…³çš„å®ç”¨åŠŸèƒ½ï¼Œå¦‚æ•°å­¦è®¡ç®—ã€æ—¥å¿—è®°å½•ç­‰ã€‚</li><li><strong>å·¥å‚æ–¹æ³•</strong>ï¼šç”¨äºåˆ›å»ºå¯¹è±¡çš„å·¥å‚æ–¹æ³•ï¼Œé€šå¸¸è¿”å›ç±»çš„å®ä¾‹ï¼ˆä½†ä¸ä¸€å®šéœ€è¦ä¾èµ–äºå®ä¾‹åŒ–å¯¹è±¡ï¼‰ã€‚</li><li><strong>å…±äº«èµ„æºçš„ç®¡ç†</strong>ï¼šé™æ€æˆå‘˜å‡½æ•°å¯ä»¥ç”¨äºç®¡ç†ç±»çš„é™æ€èµ„æºï¼Œå¦‚æ•°æ®åº“è¿æ¥æ± ã€ç¼“å­˜ç­‰ã€‚</li></ul><ol start="5"><li><strong>å†…å­˜ä¼˜åŒ–</strong></li></ol><p>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥åœ¨ç¨‹åºä¸­åªå­˜åœ¨ä¸€ä¸ªå‰¯æœ¬ï¼Œè€Œä¸éœ€è¦ä¸ºæ¯ä¸ªå¯¹è±¡éƒ½åˆ›å»ºä¸€ä»½ã€‚è¿™å¯¹å†…å­˜ç®¡ç†æœ‰ä¸€å®šä¼˜åŒ–ä½œç”¨ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> count;  <span class="hljs-comment">// é™æ€æˆå‘˜å˜é‡</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Counter</span>() &#123;<br>        count++;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span> </span>&#123;  <span class="hljs-comment">// é™æ€æˆå‘˜å‡½æ•°</span><br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// é™æ€æˆå‘˜å˜é‡å®šä¹‰</span><br><span class="hljs-type">int</span> Counter::count = <span class="hljs-number">0</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Counter c1, c2;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Object count: &quot;</span> &lt;&lt; Counter::<span class="hljs-built_in">getCount</span>() &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 2</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>count</code> æ˜¯ä¸€ä¸ªé™æ€æˆå‘˜å˜é‡ï¼Œå®ƒç”¨äºè®°å½• <code>Counter</code> ç±»çš„å¯¹è±¡çš„æ•°é‡ã€‚<code>getCount()</code> æ˜¯é™æ€æˆå‘˜å‡½æ•°ï¼Œå®ƒé€šè¿‡ç±»åè°ƒç”¨ï¼Œè¿”å›é™æ€å˜é‡ <code>count</code> çš„å€¼ã€‚</p><p>é™æ€æˆå‘˜å‡½æ•°ä¸»è¦ç”¨äºï¼š</p><ul><li>ä¸ä¾èµ–äºå¯¹è±¡çš„ç±»çº§åˆ«æ“ä½œã€‚</li><li>æ“ä½œå’Œè®¿é—®é™æ€æˆå‘˜æ•°æ®ã€‚</li><li>åœ¨ä¸å®ä¾‹åŒ–å¯¹è±¡çš„æƒ…å†µä¸‹æ‰§è¡Œç±»ç›¸å…³çš„åŠŸèƒ½ã€‚</li></ul><p>å®ƒä»¬æ˜¯é¢å‘ç±»è€Œä¸æ˜¯é¢å‘å®ä¾‹çš„ï¼Œé€šå¸¸ç”¨äºå®ç°ä¸ç±»çš„å¯¹è±¡æ— å…³çš„é€»è¾‘ã€‚</p>          </div><div class="note note-primary">            <h3 id="å…³äºconstæˆå‘˜å‡½æ•°"><a href="#å…³äºconstæˆå‘˜å‡½æ•°" class="headerlink" title="å…³äºconstæˆå‘˜å‡½æ•°"></a>å…³äºconstæˆå‘˜å‡½æ•°</h3><h5 id="å…³äºconst-æˆå‘˜å‡½æ•°çš„å‚æ•°é—®é¢˜"><a href="#å…³äºconst-æˆå‘˜å‡½æ•°çš„å‚æ•°é—®é¢˜" class="headerlink" title="å…³äºconst æˆå‘˜å‡½æ•°çš„å‚æ•°é—®é¢˜"></a>å…³äºconst æˆå‘˜å‡½æ•°çš„å‚æ•°é—®é¢˜</h5><p>åœ¨C++ä¸­ï¼Œ<code>const</code>æˆå‘˜å‡½æ•°æ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æˆå‘˜å‡½æ•°ï¼Œ<strong>å®ƒä¿è¯äº†è¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„æˆå‘˜å˜é‡</strong>ã€‚ä»¥ä¸‹æ˜¯å…³äº<code>const</code>æˆå‘˜å‡½æ•°çš„ä¸€äº›å…³é”®ç‚¹ï¼š</p><ul><li><code>const</code>æˆå‘˜å‡½æ•°åœ¨å‡½æ•°å£°æ˜æœ«å°¾åŠ ä¸Š<code>const</code>å…³é”®å­—ã€‚ä¾‹å¦‚ï¼š</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-comment">// å‡½æ•°ä½“</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>ç›®çš„</strong></p><ul><li><strong>ä¿è¯ä¸ä¿®æ”¹å¯¹è±¡çŠ¶æ€</strong>ï¼š<code>const</code>æˆå‘˜å‡½æ•°ç¡®ä¿å‡½æ•°ä¸ä¼šä¿®æ”¹è°ƒç”¨å®ƒçš„å¯¹è±¡çš„éé™æ€æ•°æ®æˆå‘˜ã€‚è¿™æœ‰åŠ©äºç¡®ä¿å¯¹è±¡åœ¨è°ƒç”¨è¿™äº›å‡½æ•°æ—¶ä¿æŒä¸å˜ã€‚</li><li><strong>å¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§</strong>ï¼šé€šè¿‡æ˜ç¡®è¡¨ç¤ºå‡½æ•°ä¸ä¼šæ”¹å˜å¯¹è±¡çš„çŠ¶æ€ï¼Œæé«˜äº†ä»£ç çš„æ¸…æ™°åº¦ï¼Œä½¿å¼€å‘è€…æ›´å®¹æ˜“ç†è§£å’Œä½¿ç”¨è¿™äº›å‡½æ•°ã€‚</li><li><strong>æ”¯æŒconstå¯¹è±¡</strong>ï¼š<code>const</code>æˆå‘˜å‡½æ•°å¯ä»¥è¢«<code>const</code>å¯¹è±¡è°ƒç”¨ï¼Œå› ä¸ºå®ƒä¿è¯ä¸ä¼šä¿®æ”¹å¯¹è±¡ã€‚</li></ul><p><strong>ä½¿ç”¨åœºæ™¯</strong></p><ul><li><strong>è®¿é—®å™¨ï¼ˆGetterï¼‰</strong>ï¼šé€šå¸¸ï¼Œ<code>const</code>æˆå‘˜å‡½æ•°ç”¨äºåªè¯»è®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> m_value;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>å¸¸é‡æˆå‘˜å‡½æ•°</strong>ï¼šä»»ä½•ä¸ä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æ“ä½œéƒ½å¯ä»¥è¢«å£°æ˜ä¸º<code>const</code>ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isPositive</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> m_value &gt; <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹</strong></p><ul><li><strong>ä¸èƒ½ä¿®æ”¹éé™æ€æˆå‘˜å˜é‡</strong>ï¼šåœ¨<code>const</code>æˆå‘˜å‡½æ•°å†…ï¼Œå°è¯•ä¿®æ”¹éé™æ€æˆå‘˜å˜é‡ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li><li><strong>å¯ä»¥ä¿®æ”¹<code>mutable</code>æˆå‘˜</strong>ï¼š<code>mutable</code>å…³é”®å­—å¯ä»¥ç”¨äºå£°æ˜ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œå³ä½¿åœ¨<code>const</code>æˆå‘˜å‡½æ•°å†…ä¹Ÿå¯ä»¥ä¿®æ”¹å®ƒã€‚</li><li><strong>éšå¼<code>this</code>æŒ‡é’ˆçš„ç±»å‹</strong>ï¼šåœ¨<code>const</code>æˆå‘˜å‡½æ•°ä¸­ï¼Œ<code>this</code>æŒ‡é’ˆçš„ç±»å‹æ˜¯<code>const MyClass*</code>ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡<code>this</code>æ¥ä¿®æ”¹å¯¹è±¡ã€‚</li><li><strong>é‡è½½</strong>ï¼š<code>const</code>å’Œé<code>const</code>ç‰ˆæœ¬çš„åŒåæˆå‘˜å‡½æ•°å¯ä»¥å…±å­˜ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®è°ƒç”¨å¯¹è±¡çš„<code>const</code>æ€§æ¥é€‰æ‹©è°ƒç”¨å“ªä¸ªç‰ˆæœ¬ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> m_value;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span>&amp; <span class="hljs-title">getValue</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> m_value;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> m_value;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass obj;<br>    <span class="hljs-type">const</span> MyClass constObj;<br><br>    <span class="hljs-comment">// è°ƒç”¨éconstç‰ˆæœ¬</span><br>    obj.<span class="hljs-built_in">getValue</span>() = <span class="hljs-number">10</span>;<br><br>    <span class="hljs-comment">// è°ƒç”¨constç‰ˆæœ¬</span><br>    <span class="hljs-type">int</span> val = constObj.<span class="hljs-built_in">getValue</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>æŒ‡é’ˆå’Œå¼•ç”¨</strong>ï¼šåœ¨<code>const</code>æˆå‘˜å‡½æ•°ä¸­ï¼Œè¿”å›æˆå‘˜å˜é‡çš„æŒ‡é’ˆæˆ–å¼•ç”¨ä¹Ÿå¿…é¡»æ˜¯<code>const</code>çš„ï¼Œä»¥é˜²æ­¢é€šè¿‡è¿™äº›æŒ‡é’ˆæˆ–å¼•ç”¨ä¿®æ”¹å¯¹è±¡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">int</span>* <span class="hljs-title">getPointer</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> &amp;m_value;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>é™æ€æˆå‘˜å‡½æ•°</strong>ï¼š<code>static</code>æˆå‘˜å‡½æ•°ä¸æ¶‰åŠ<code>this</code>æŒ‡é’ˆï¼Œå› æ­¤å®ƒä»¬å¤©ç”Ÿå°±æ˜¯<code>const</code>çš„ã€‚</li></ul><p><code>const</code>æˆå‘˜å‡½æ•°æ˜¯C++ä¸­å¢å¼ºä»£ç å®‰å…¨æ€§å’Œå¯è¯»æ€§çš„é‡è¦å·¥å…·ï¼Œé€šè¿‡å®ƒä»¬ï¼Œå¼€å‘è€…å¯ä»¥æ˜ç¡®åœ°è¡¨è¾¾å‡½æ•°å¯¹å¯¹è±¡çŠ¶æ€çš„å½±å“ï¼Œå¸®åŠ©é¿å…ä¸å¿…è¦çš„å‰¯ä½œç”¨ï¼ŒåŒæ—¶ä¹Ÿä½¿ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œä½¿ç”¨ã€‚</p><p>æ˜¯çš„ï¼Œ<code>const</code>æˆå‘˜å‡½æ•°å¯ä»¥æœ‰å½¢å‚ã€‚<code>const</code>å…³é”®å­—åªå½±å“å‡½æ•°å¯¹å¯¹è±¡è‡ªèº«çŠ¶æ€çš„ä¿®æ”¹èƒ½åŠ›ï¼Œå¹¶ä¸é™åˆ¶å‡½æ•°æ˜¯å¦å¯ä»¥æ¥å—å‚æ•°ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³äº<code>const</code>æˆå‘˜å‡½æ•°å¦‚ä½•å¤„ç†å‚æ•°çš„è¯´æ˜ï¼š</p><h5 id="æ¥å—å‚æ•°çš„constæˆå‘˜å‡½æ•°"><a href="#æ¥å—å‚æ•°çš„constæˆå‘˜å‡½æ•°" class="headerlink" title="æ¥å—å‚æ•°çš„constæˆå‘˜å‡½æ•°"></a>æ¥å—å‚æ•°çš„<code>const</code>æˆå‘˜å‡½æ•°</h5><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">const</span> std::string&amp; str)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-comment">// å‡½æ•°ä½“</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š</p><ul><li><code>doSomething</code>æ˜¯ä¸€ä¸ª<code>const</code>æˆå‘˜å‡½æ•°ã€‚</li><li>å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ª<code>int</code>ç±»å‹çš„<code>x</code>å’Œä¸€ä¸ª<code>const std::string</code>ç±»å‹çš„å¼•ç”¨<code>str</code>ã€‚</li><li>å‡½æ•°ä½“ä¸­ä¸èƒ½ä¿®æ”¹<code>MyClass</code>å¯¹è±¡çš„ä»»ä½•éé™æ€æˆå‘˜å˜é‡ã€‚</li></ul><p><strong>å‚æ•°çš„ç±»å‹</strong></p><ul><li><strong>é<code>const</code>å‚æ•°</strong>ï¼šä½ å¯ä»¥ä¼ é€’é<code>const</code>ç±»å‹çš„å‚æ•°ç»™<code>const</code>æˆå‘˜å‡½æ•°ï¼Œå› ä¸ºè¿™äº›å‚æ•°æ˜¯å‡½æ•°çš„å±€éƒ¨å‰¯æœ¬æˆ–å¼•ç”¨ï¼Œä¸å½±å“å¯¹è±¡çš„çŠ¶æ€ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> <span class="hljs-type">const</span> </span>&#123;<br>    x = <span class="hljs-number">10</span>; <span class="hljs-comment">// ä¿®æ”¹çš„æ˜¯å±€éƒ¨å˜é‡ï¼Œä¸å½±å“å¯¹è±¡çŠ¶æ€</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>å¼•ç”¨å’ŒæŒ‡é’ˆå‚æ•°</strong>ï¼š<code>const</code>æˆå‘˜å‡½æ•°å¯ä»¥æ¥å—<code>const</code>æˆ–é<code>const</code>çš„å¼•ç”¨æˆ–æŒ‡é’ˆä½œä¸ºå‚æ•°ï¼Œä½†å¦‚æœæ˜¯<code>const</code>å¼•ç”¨æˆ–æŒ‡é’ˆï¼Œåˆ™ä¸èƒ½é€šè¿‡å®ƒä»¬ä¿®æ”¹æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; str)</span> <span class="hljs-type">const</span> </span>&#123;<br>    <span class="hljs-comment">// strä¸èƒ½è¢«ä¿®æ”¹ï¼Œä½†å¯ä»¥é€šè¿‡éconstæˆå‘˜å‡½æ•°ä¿®æ”¹stræŒ‡å‘çš„å¯¹è±¡</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(std::string* str)</span> <span class="hljs-type">const</span> </span>&#123;<br>    <span class="hljs-comment">// strå¯ä»¥è¢«é‡æ–°èµ‹å€¼ï¼Œä½†ä¸èƒ½é€šè¿‡strä¿®æ”¹stræŒ‡å‘çš„å¯¹è±¡</span><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="constæˆå‘˜å‡½æ•°çš„é™åˆ¶"><a href="#constæˆå‘˜å‡½æ•°çš„é™åˆ¶" class="headerlink" title="constæˆå‘˜å‡½æ•°çš„é™åˆ¶"></a><code>const</code>æˆå‘˜å‡½æ•°çš„é™åˆ¶</h5><p>è™½ç„¶<code>const</code>æˆå‘˜å‡½æ•°å¯ä»¥æœ‰å½¢å‚ï¼Œä½†æœ‰ä»¥ä¸‹é™åˆ¶ï¼š</p><ul><li><strong>ä¸èƒ½ä¿®æ”¹å¯¹è±¡çš„éé™æ€æˆå‘˜å˜é‡</strong>ï¼šè¿™æ˜¯<code>const</code>æˆå‘˜å‡½æ•°çš„æ ¸å¿ƒåŸåˆ™ã€‚</li><li><strong>ä¸èƒ½è°ƒç”¨é<code>const</code>æˆå‘˜å‡½æ•°</strong>ï¼šå› ä¸ºé<code>const</code>æˆå‘˜å‡½æ•°å¯èƒ½ä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚</li><li><strong>å¯ä»¥ä¿®æ”¹<code>mutable</code>æˆå‘˜å˜é‡</strong>ï¼š<code>mutable</code>å…³é”®å­—å…è®¸åœ¨<code>const</code>æˆå‘˜å‡½æ•°ä¸­ä¿®æ”¹ç‰¹å®šçš„æˆå‘˜å˜é‡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        m_mutableVar = <span class="hljs-number">1</span>; <span class="hljs-comment">// å¯ä»¥ä¿®æ”¹mutableå˜é‡</span><br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">mutable</span> <span class="hljs-type">int</span> m_mutableVar;<br>&#125;;<br></code></pre></td></tr></table></figure><ul><li><strong>å¯ä»¥ä¿®æ”¹å±€éƒ¨å˜é‡</strong>ï¼šåœ¨<code>const</code>æˆå‘˜å‡½æ•°å†…å®šä¹‰çš„å±€éƒ¨å˜é‡å¯ä»¥è¢«ä¿®æ”¹ï¼Œå› ä¸ºå®ƒä»¬ä¸å½±å“å¯¹è±¡çš„çŠ¶æ€ã€‚</li></ul><h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p><code>const</code>æˆå‘˜å‡½æ•°å¯ä»¥æ¥å—ä»»ä½•ç±»å‹çš„å‚æ•°ï¼ŒåŒ…æ‹¬<code>const</code>å’Œé<code>const</code>çš„å‚æ•°ã€‚<code>const</code>å…³é”®å­—çš„ä½œç”¨æ˜¯ç¡®ä¿å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼Œè€Œä¸å½±å“å‡½æ•°å¦‚ä½•å¤„ç†å…¶å‚æ•°ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œ<code>const</code>æˆå‘˜å‡½æ•°æ—¢èƒ½æä¾›åªè¯»çš„æ¥å£ï¼Œåˆèƒ½çµæ´»åœ°å¤„ç†ä¼ å…¥çš„å‚æ•°ã€‚</p>          </div><h2 id="ç±»çš„æ„é€ å‡½æ•°"><a href="#ç±»çš„æ„é€ å‡½æ•°" class="headerlink" title="ç±»çš„æ„é€ å‡½æ•°"></a>ç±»çš„æ„é€ å‡½æ•°</h2><h3 id="æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨"><a href="#æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨" class="headerlink" title="æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨"></a>æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">Test::<span class="hljs-built_in">Test</span>(<span class="hljs-type">int</span> lh, <span class="hljs-type">int</span> rh):<span class="hljs-built_in">low</span>(lh),<span class="hljs-built_in">high</span>(rh)&#123;<br><span class="hljs-comment">//å…¶ä»–æˆå‘˜çš„åˆå§‹åŒ–</span><br>&#125;<br></code></pre></td></tr></table></figure><div class="note note-primary">            <p><strong>å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨çš„æƒ…å†µï¼š</strong></p><p>åœ¨ C++ ä¸­ï¼Œåˆå§‹åŒ–åˆ—è¡¨é€šå¸¸ç”¨äºåœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–æˆå‘˜å˜é‡ã€‚è™½ç„¶å¯ä»¥åœ¨æ„é€ å‡½æ•°çš„ä¸»ä½“ä¸­èµ‹å€¼ï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨ã€‚ä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§çš„æƒ…å†µï¼š</p><ol><li><strong>å¸¸é‡æˆå‘˜å˜é‡ï¼ˆ<code>const</code>ï¼‰</strong></li></ol><p>å¸¸é‡æˆå‘˜å˜é‡å¿…é¡»åœ¨å¯¹è±¡æ„é€ æ—¶åˆå§‹åŒ–ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–ã€‚å› ä¸ºå¸¸é‡æˆå‘˜å˜é‡åœ¨æ„é€ å‡½æ•°ä½“å†…ä¸èƒ½è¢«èµ‹å€¼ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">const</span> <span class="hljs-type">int</span> x;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">x</span>(val) &#123;&#125;  <span class="hljs-comment">// å¿…é¡»ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</span><br>&#125;;<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>å¼•ç”¨æˆå‘˜å˜é‡</strong></li></ol><p>å¼•ç”¨æˆå‘˜å˜é‡ä¹Ÿåªèƒ½é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨æ¥åˆå§‹åŒ–ï¼Œå› ä¸ºå¼•ç”¨ä¸€æ—¦ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ï¼Œå°±ä¸èƒ½å†æ”¹å˜ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span>&amp; ref;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span>&amp; r) : <span class="hljs-built_in">ref</span>(r) &#123;&#125;  <span class="hljs-comment">// å¼•ç”¨æˆå‘˜å¿…é¡»é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–</span><br>&#125;;<br></code></pre></td></tr></table></figure><ol start="3"><li><strong>åŸºç±»çš„æ„é€ å‡½æ•°</strong></li></ol><p>å¦‚æœä½ çš„ç±»æœ‰ä¸€ä¸ªç»§æ‰¿è‡ªåŸºç±»çš„æˆå‘˜ï¼Œé‚£ä¹ˆåœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œå¿…é¡»é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨æ¥è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Base</span>(<span class="hljs-type">int</span> x) &#123;&#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Derived</span>(<span class="hljs-type">int</span> x) : <span class="hljs-built_in">Base</span>(x) &#123;&#125;  <span class="hljs-comment">// å¿…é¡»é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨è°ƒç”¨åŸºç±»æ„é€ å‡½æ•°</span><br>&#125;;<br></code></pre></td></tr></table></figure><ol start="4"><li><strong>åˆå§‹åŒ–åŠ¨æ€åˆ†é…çš„èµ„æºï¼ˆå¦‚æ™ºèƒ½æŒ‡é’ˆï¼‰</strong></li></ol><p>å¯¹äºä¸€äº›æˆå‘˜å˜é‡ï¼ˆå¦‚<code>std::unique_ptr</code>æˆ–<code>std::shared_ptr</code>ï¼‰ï¼Œä½ å¯ä»¥åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–ï¼Œé¿å…å¤šæ¬¡èµ‹å€¼ï¼Œä¿è¯å¯¹è±¡åœ¨æ„é€ æ—¶å³æ‹¥æœ‰æ­£ç¡®çš„èµ„æºã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; ptr;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">ptr</span>(std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(val)) &#123;&#125;  <span class="hljs-comment">// ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨</span><br>&#125;;<br></code></pre></td></tr></table></figure><ol start="5"><li><strong>æˆå‘˜å˜é‡çš„éé»˜è®¤æ„é€ </strong></li></ol><p>å¦‚æœç±»çš„æˆå‘˜å˜é‡æ²¡æœ‰æä¾›é»˜è®¤æ„é€ å‡½æ•°ï¼Œåˆ™å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œåˆå§‹åŒ–ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; v;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() : <span class="hljs-built_in">v</span>(<span class="hljs-number">10</span>, <span class="hljs-number">5</span>) &#123;&#125;  <span class="hljs-comment">// åˆå§‹åŒ–åˆ—è¡¨ç”¨äºæŒ‡å®šæˆå‘˜å˜é‡çš„åˆå§‹åŒ–</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>å°½ç®¡ä½ å¯ä»¥åœ¨æ„é€ å‡½æ•°ä½“å†…åˆå§‹åŒ–ä¸€äº›æˆå‘˜å˜é‡ï¼Œä½†å¯¹äºå¸¸é‡æˆå‘˜ã€å¼•ç”¨æˆå‘˜ã€åŸºç±»æ„é€ å‡½æ•°è°ƒç”¨ä»¥åŠæ²¡æœ‰é»˜è®¤æ„é€ å‡½æ•°çš„æˆå‘˜å˜é‡ï¼Œå¿…é¡»é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ–ã€‚ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨èƒ½æé«˜æ€§èƒ½ï¼Œå¹¶ä¸”åœ¨æŸäº›æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚å¸¸é‡æˆ–å¼•ç”¨æˆå‘˜ï¼‰æ˜¯å”¯ä¸€æœ‰æ•ˆçš„é€‰æ‹©ã€‚</p>          </div><h3 id="ç±»å†…åˆå§‹åŒ–"><a href="#ç±»å†…åˆå§‹åŒ–" class="headerlink" title="ç±»å†…åˆå§‹åŒ–"></a>ç±»å†…åˆå§‹åŒ–</h3><p>è®¾ç½®å¯¹è±¡çš„åˆå€¼æ˜¯ç”±æ„é€ å‡½æ•°å®Œæˆçš„ã€‚å¦‚æœç±»ä¸­æ²¡æœ‰å®šä¹‰æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šæä¾›ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼Œå³ç”¨æ•°æ®æˆå‘˜ç±»å‹çš„é»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–æ•°æ®æˆå‘˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯éšæœºæ•°ã€‚</p><p>C++11 æä¾›äº†ä¸€ä¸ªç§°ä¸ºç±»å†…åˆå§‹åŒ–çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ç±»å®šä¹‰æ—¶ä¸ºæ•°æ®æˆå‘˜æŒ‡å®šåˆå€¼ã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰ä¸ºè¿™ä¸ªæ•°æ®æˆå‘˜èµ‹å€¼ï¼Œé‚£ä¹ˆè¯¥æ•°æ®æˆå‘˜çš„åˆå€¼å³ä¸ºç±»å®šä¹‰æ—¶æŒ‡å®šçš„åˆå€¼ã€‚ç±»å†…åˆå§‹åŒ–å¯ä»¥ä½¿ç”¨&#x3D;çš„åˆå§‹åŒ–å½¢å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥çš„ç›´æ¥åˆå§‹åŒ–å½¢å¼ï¼Œä½†ä¸èƒ½ä½¿ç”¨å°æ‹¬å·ã€‚</p><p><strong>ç±»å†…åˆå§‹åŒ–åªé€‚ç”¨äºåŠ¨æ€æˆå‘˜å‡½æ•°ï¼Œé™æ€æˆå‘˜å‡½æ•°çš„å®šä¹‰å¿…é¡»åœ¨ç±»å¤–ï¼</strong></p><h3 id="å§”æ‰˜æ„é€ "><a href="#å§”æ‰˜æ„é€ " class="headerlink" title="å§”æ‰˜æ„é€ "></a>å§”æ‰˜æ„é€ </h3><p>æœ‰æ—¶æŸä¸ªæ„é€ å‡½æ•°çš„ä¸€éƒ¨åˆ†å·¥ä½œä¸å¦å¤–ä¸€ä¸ªæ„é€ å‡½æ•°å®Œå…¨ç›¸åŒï¼Œé‚£ä¹ˆå®Œæˆè¿™éƒ¨åˆ†å·¥ä½œçš„è¯­å¥å¿…é¡»åœ¨ä¸¤ä¸ªæ„é€ å‡½æ•°ä¸­éƒ½å‡ºç°ã€‚ä¾‹å¦‚ï¼Œå¸Œæœ› DoubleArray å¯¹è±¡å®šä¹‰æ—¶èƒ½åŒæ—¶ç»™å‡ºæ•°ç»„çš„åˆå€¼ï¼Œåˆ™éœ€è¦å¢åŠ ä¸€ä¸ªå¦‚ä¸‹çš„æ„é€ å‡½æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">DoubleArray</span>(<span class="hljs-type">int</span> lh, <span class="hljs-type">double</span> a[], <span class="hljs-type">int</span> size): <span class="hljs-built_in">low</span>(lh), <span class="hljs-built_in">high</span>(lh + size <span class="hljs-number">-1</span>) <br>&#123;<br>    storage = <span class="hljs-keyword">new</span> <span class="hljs-type">double</span>[size];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i)<br>        storage[i] = a[i];<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ„é€ å‡½æ•°é™¤äº† for è¯­å¥ä¹‹å¤–ï¼Œ å…¶ä»–å·¥ä½œä¸ DoubleArray(int lh, int rh)å®Œå…¨ç›¸åŒã€‚ ä¸ºäº†é¿å…é‡å¤å†™è¿™äº›è¯­å¥ï¼Œ C++11 <strong>å…è®¸ä¸€ä¸ªæ„é€ å‡½æ•°è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å‡½æ•°</strong>ï¼Œå³å§”æ‰˜æ„é€ ã€‚</p><p>å§”æ‰˜æ„é€ å‡½æ•°æœ‰ä¸€ä¸ª<strong>åˆå§‹åŒ–åˆ—è¡¨</strong>å’Œä¸€ä¸ª<strong>å‡½æ•°ä½“</strong>ã€‚åˆå§‹åŒ–åˆ—è¡¨åªæœ‰å”¯ä¸€çš„å…¥å£ï¼Œå³è¢«è°ƒç”¨çš„æ„é€ å‡½æ•°ã€‚å‡½æ•°ä½“å®Œæˆé¢å¤–çš„åˆå§‹åŒ–å·¥ä½œã€‚ä¸Šé¢çš„æ„é€ å‡½æ•°å¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">DoubleArray</span>(<span class="hljs-type">int</span> lh, <span class="hljs-type">double</span> a[], <span class="hljs-type">int</span> size):<span class="hljs-built_in">DoubleArray</span>(lh, lh + size - <span class="hljs-number">1</span>)<br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i)<br>    storage[i] = a[i];<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>åœ¨ç±»çš„ç»§æ‰¿ä¸­ï¼Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°çš„åŸºæœ¬åŸç†å°±æ˜¯<strong>ä½¿ç”¨å§”æ‰˜æ„é€ è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•°</strong>ã€‚</p></blockquote><h3 id="å¤åˆ¶æ„é€ å‡½æ•°"><a href="#å¤åˆ¶æ„é€ å‡½æ•°" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°"></a>å¤åˆ¶æ„é€ å‡½æ•°</h3><p>ç¬”è€…èŠ±äº†ä¸€æ•´ç¯‡åšå®¢çš„ç¯‡å¹…è®²è§£å¤åˆ¶æ„é€ å‡½æ•°ï¼ŒåŒ…æ‹¬<strong>éšå¼</strong>çš„å¤åˆ¶æ„é€ å‡½æ•°å’Œ<strong>æ˜¾å¼å®šä¹‰</strong>çš„å¤åˆ¶æ„é€ å‡½æ•°ã€‚</p><p><a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">åšå®¢åœ°å€</a></p><h3 id="ç§»åŠ¨æ„é€ å‡½æ•°"><a href="#ç§»åŠ¨æ„é€ å‡½æ•°" class="headerlink" title="ç§»åŠ¨æ„é€ å‡½æ•°"></a>ç§»åŠ¨æ„é€ å‡½æ•°</h3><div class="note note-primary">            <p><strong>ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼ˆMove Constructorï¼‰æ˜¯ C++11 å¼•å…¥çš„ä¸€ç§ç‰¹æ®Šæ„é€ å‡½æ•°ï¼Œç”¨äºå®ç°å¯¹è±¡çš„â€ç§»åŠ¨è¯­ä¹‰â€ã€‚å®ƒçš„ä½œç”¨æ˜¯é€šè¿‡è½¬ç§»èµ„æºæ‰€æœ‰æƒï¼Œè€Œä¸æ˜¯å¤åˆ¶èµ„æºï¼Œæ¥é«˜æ•ˆåœ°æ„é€ ä¸€ä¸ªæ–°å¯¹è±¡ã€‚ç§»åŠ¨æ„é€ å‡½æ•°é€šå¸¸ç”¨äºåœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶ï¼Œé¿å…ä¸å¿…è¦çš„èµ„æºå¤åˆ¶ï¼Œä»è€Œæé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p><p>ç§»åŠ¨æ„é€ å‡½æ•°çš„ä¸»è¦ä»»åŠ¡æ˜¯å°†ä¸€ä¸ª<strong>ä¸´æ—¶å¯¹è±¡çš„èµ„æº</strong>ï¼ˆå¦‚åŠ¨æ€åˆ†é…çš„å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰â€œè½¬ç§»â€åˆ°æ–°çš„å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯è¿›è¡Œæ·±æ‹·è´(<strong>è¿™æ˜¯å¤åˆ¶æ„é€ å‡½æ•°çš„å·¥ä½œ</strong>)ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œç§»åŠ¨æ„é€ å‡½æ•°èƒ½å¤Ÿé¿å…é‡å¤çš„èµ„æºåˆ†é…å’Œå¤åˆ¶æ“ä½œï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚</p><p>ç§»åŠ¨æ„é€ å‡½æ•°é€šå¸¸å…·æœ‰ä»¥ä¸‹å½¢å¼ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>(MyClass&amp;&amp; other) <span class="hljs-keyword">noexcept</span> &#123;<br>        <span class="hljs-comment">// è½¬ç§»èµ„æºæ‰€æœ‰æƒ</span><br>        <span class="hljs-keyword">this</span>-&gt;data = other.data;<br>        other.data = <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// å°†åŸå¯¹è±¡çš„èµ„æºç½®ä¸ºç©ºï¼ˆé˜²æ­¢ææ„æ—¶é‡Šæ”¾ï¼‰</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ <code>MyClass&amp;&amp; other</code> æ˜¯ä¸€ä¸ª<strong>å³å€¼å¼•ç”¨</strong>ï¼Œè¡¨ç¤ºä¼ å…¥çš„å¯¹è±¡æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼ˆæˆ–å¯ä»¥è¢«å®‰å…¨åœ°ç§»åŠ¨çš„å¯¹è±¡ï¼‰ã€‚<code>noexcept</code> è¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œé€šå¸¸å¯¹äºç§»åŠ¨æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªè‰¯å¥½çš„å®è·µã€‚</p><p> <strong>ä½•æ—¶ä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°</strong></p><ul><li><strong>å½“å¯¹è±¡æ˜¯ä¸´æ—¶å¯¹è±¡æ—¶</strong>ï¼šä¸´æ—¶å¯¹è±¡å¯ä»¥å®‰å…¨åœ°è¿›è¡Œèµ„æºè½¬ç§»ï¼ˆç§»åŠ¨ï¼‰ï¼Œè€Œä¸éœ€è¦è¿›è¡Œå¤åˆ¶ã€‚</li><li><strong>å½“å¯¹è±¡çš„èµ„æºä¸å†éœ€è¦æ—¶</strong>ï¼šæ¯”å¦‚ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶ï¼Œä¸€ä¸ªå¯¹è±¡çš„èµ„æºå¯ä»¥è¢«â€œç§»èµ°â€ï¼Œé¿å…æ— è°“çš„å¤åˆ¶ã€‚</li></ul><p><strong>ä¸æ‹·è´ï¼ˆå¤åˆ¶ï¼‰æ„é€ å‡½æ•°çš„åŒºåˆ«</strong></p><ul><li><strong>æ‹·è´æ„é€ å‡½æ•°</strong>ï¼šä¼šåˆ›å»ºæ–°å¯¹è±¡å¹¶å¤åˆ¶æºå¯¹è±¡çš„æ‰€æœ‰æ•°æ®ï¼ˆæ·±æ‹·è´ï¼‰ï¼Œè¿™å¯¹äºæŸäº›æ•°æ®ç»“æ„ï¼ˆå¦‚åŠ¨æ€å†…å­˜åˆ†é…ï¼‰å¯èƒ½éå¸¸æ˜‚è´µã€‚</li><li><strong>ç§»åŠ¨æ„é€ å‡½æ•°</strong>ï¼šé€šè¿‡è½¬ç§»èµ„æºçš„æ‰€æœ‰æƒæ¥æ„é€ å¯¹è±¡ï¼Œä¸éœ€è¦è¿›è¡Œæ˜‚è´µçš„å¤åˆ¶æ“ä½œï¼Œæ•ˆç‡æ›´é«˜ã€‚</li></ul><p><strong>ç§»åŠ¨æ„é€ å‡½æ•°çš„å®ç°ç»†èŠ‚</strong></p><ul><li>é€šå¸¸ï¼Œç§»åŠ¨æ„é€ å‡½æ•°ä¼šè½¬ç§»æ‰€æœ‰èµ„æºï¼Œå¹¶å°†åŸå¯¹è±¡çš„èµ„æºç½®ä¸ºç©ºæˆ–æœ‰æ•ˆçš„â€æ— èµ„æºâ€çŠ¶æ€ï¼Œä»¥é˜²æ­¢ææ„å‡½æ•°é”™è¯¯åœ°é‡Šæ”¾èµ„æºã€‚</li><li>ç§»åŠ¨æ„é€ å‡½æ•°çš„å®ç°é€šå¸¸éœ€è¦ä¿è¯â€œèµ„æºç®¡ç†â€çš„æ­£ç¡®æ€§ï¼Œé¿å…åŒé‡é‡Šæ”¾ç­‰é—®é¢˜ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; data;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() = <span class="hljs-keyword">default</span>;  <span class="hljs-comment">// é»˜è®¤æ„é€ å‡½æ•°</span><br><br>    <span class="hljs-comment">// ç§»åŠ¨æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyClass</span>(MyClass&amp;&amp; other) <span class="hljs-keyword">noexcept</span> : <span class="hljs-built_in">data</span>(std::<span class="hljs-built_in">move</span>(other.data)) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Move constructor called!&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addData</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        data.<span class="hljs-built_in">push_back</span>(value);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printData</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> v : data) &#123;<br>            std::cout &lt;&lt; v &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        &#125;<br>        std::cout &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass obj1;<br>    obj<span class="hljs-number">1.</span><span class="hljs-built_in">addData</span>(<span class="hljs-number">1</span>);<br>    obj<span class="hljs-number">1.</span><span class="hljs-built_in">addData</span>(<span class="hljs-number">2</span>);<br><br>    <span class="hljs-comment">// ä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°åˆ›å»ºæ–°å¯¹è±¡</span><br>    MyClass obj2 = std::<span class="hljs-built_in">move</span>(obj1);  <span class="hljs-comment">// è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°</span><br>    obj<span class="hljs-number">2.</span><span class="hljs-built_in">printData</span>();  <span class="hljs-comment">// æ‰“å° obj2 çš„æ•°æ®</span><br>    obj<span class="hljs-number">1.</span><span class="hljs-built_in">printData</span>();  <span class="hljs-comment">// obj1 ç°åœ¨æ˜¯ç©ºçš„</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs delphi">Move <span class="hljs-function"><span class="hljs-keyword">constructor</span> <span class="hljs-title">called</span>!</span><br><span class="hljs-function">1 2</span><br></code></pre></td></tr></table></figure><ul><li>åœ¨ <code>obj2 = std::move(obj1)</code> è¯­å¥ä¸­ï¼Œ<code>obj1</code> è¢«â€œç§»åŠ¨â€åˆ° <code>obj2</code> ä¸­ï¼Œè°ƒç”¨äº†ç§»åŠ¨æ„é€ å‡½æ•°ã€‚</li><li><code>obj1</code> ä¹‹åæ²¡æœ‰æŒæœ‰åŸæ¥æ•°æ®çš„æ‰€æœ‰æƒï¼Œå› æ­¤å®ƒçš„å†…å®¹å˜ä¸ºç©ºã€‚</li></ul><p> <strong>ä½¿ç”¨ <code>std::move</code></strong></p><p><code>std::move</code> ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„â€œç§»åŠ¨â€æ“ä½œï¼Œå®ƒåªæ˜¯å°†å…¶å‚æ•°è½¬æ¢ä¸ºå³å€¼å¼•ç”¨ï¼Œä½¿å¾—ç§»åŠ¨æ„é€ å‡½æ•°æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦å¯ä»¥è¢«è°ƒç”¨ã€‚å› æ­¤ï¼Œå½“ä½ å¸Œæœ›ä½¿ç”¨ç§»åŠ¨æ„é€ å‡½æ•°æ—¶ï¼Œé€šå¸¸ä¼šæ˜¾å¼è°ƒç”¨ <code>std::move</code>ã€‚</p><p> <strong>ä½•æ—¶è‡ªåŠ¨è°ƒç”¨ç§»åŠ¨æ„é€ å‡½æ•°</strong></p><p>ç§»åŠ¨æ„é€ å‡½æ•°é€šå¸¸åœ¨ä»¥ä¸‹æƒ…å†µä¸‹è‡ªåŠ¨è°ƒç”¨ï¼š</p><ul><li><strong>è¿”å›å€¼ä¼˜åŒ–ï¼ˆRVOï¼‰</strong>ï¼šå‡½æ•°è¿”å›å±€éƒ¨å¯¹è±¡æ—¶ã€‚</li><li><strong>æ ‡å‡†å®¹å™¨çš„å…ƒç´ è½¬ç§»</strong>ï¼šä¾‹å¦‚ï¼Œåœ¨å°†å¯¹è±¡æ’å…¥ <code>std::vector</code>ã€<code>std::list</code> ç­‰å®¹å™¨æ—¶ï¼Œå®¹å™¨å¯ä»¥é€šè¿‡ç§»åŠ¨æ„é€ å‡½æ•°æ¥é«˜æ•ˆåœ°ç®¡ç†å†…å­˜ã€‚</li></ul><p><strong>ç§»åŠ¨æ„é€ å‡½æ•°çš„æœ€ä½³å®è·µ</strong></p><ul><li><strong>ç¡®ä¿ç§»åŠ¨æ„é€ å‡½æ•°ä¸ä¼šæŠ›å‡ºå¼‚å¸¸</strong>ï¼šé€šå¸¸åº”è¯¥å£°æ˜ä¸º <code>noexcept</code>ï¼Œä»¥ä¾¿æé«˜ç¼–è¯‘å™¨çš„ä¼˜åŒ–èƒ½åŠ›ã€‚</li><li><strong>ä½¿è¢«ç§»åŠ¨çš„å¯¹è±¡å¤„äºæœ‰æ•ˆä½†ç©ºçš„çŠ¶æ€</strong>ï¼šä¾‹å¦‚ï¼Œå°†æŒ‡é’ˆç½®ä¸ºç©ºæˆ–æ¸…ç©ºå®¹å™¨ä¸­çš„å…ƒç´ ã€‚</li></ul>          </div><h3 id="æ„é€ å‡½æ•°ç›¸å…³å°ç»“"><a href="#æ„é€ å‡½æ•°ç›¸å…³å°ç»“" class="headerlink" title="æ„é€ å‡½æ•°ç›¸å…³å°ç»“"></a>æ„é€ å‡½æ•°ç›¸å…³å°ç»“</h3><ul><li>å¯ä»¥é€šè¿‡å‡½æ•°é‡è½½åˆ›å»ºå¤šä¸ªåŒåå‡½æ•°ï¼Œæ¡ä»¶æ˜¯æ¯ä¸ªå‡½æ•°çš„ç‰¹å¾æ ‡ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰éƒ½ä¸åŒã€‚</li><li>æ„é€ å‡½æ•°æ²¡æœ‰å£°æ˜ç±»å‹ã€‚</li><li>é»˜è®¤æ„é€ å‡½æ•°ï¼šâ‘ æ— å‚æ•°ï¼ˆç³»ç»Ÿé»˜è®¤ï¼‰â‘¡ æ‰‹åŠ¨ä¸º<strong>æ¯ä¸€ä¸ªå½¢å‚</strong>æ·»åŠ é»˜è®¤å€¼</li></ul><h2 id="ç±»çš„ææ„å‡½æ•°"><a href="#ç±»çš„ææ„å‡½æ•°" class="headerlink" title="ç±»çš„ææ„å‡½æ•°"></a>ç±»çš„ææ„å‡½æ•°</h2><p>ææ„å‡½æ•°æ²¡æœ‰è¿”å›å€¼ä¹Ÿæ²¡æœ‰è¿”å›ç±»å‹ï¼</p><h3 id="ç±»ææ„çš„é¡ºåº"><a href="#ç±»ææ„çš„é¡ºåº" class="headerlink" title="ç±»ææ„çš„é¡ºåº"></a>ç±»ææ„çš„é¡ºåº</h3><p>åœ¨ C++ ä¸­ï¼Œå¯¹è±¡çš„ææ„é¡ºåºç”±å…¶ä½œç”¨åŸŸï¼ˆæˆ–ç”Ÿå‘½å‘¨æœŸï¼‰å†³å®šã€‚ææ„è¿‡ç¨‹é€šå¸¸éµå¾ª<strong>é€†æ„é€ é¡ºåº</strong>ï¼Œå³ä»æœ€å†…å±‚çš„å±€éƒ¨å¯¹è±¡å¼€å§‹ï¼Œä¾æ¬¡å‘å¤–å±‚å¯¹è±¡è¿›è¡Œææ„ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„æƒ…å†µå’Œè¯¦ç»†çš„ææ„é¡ºåºè¯´æ˜ã€‚</p><ol><li><strong>å±€éƒ¨å¯¹è±¡çš„ææ„é¡ºåº</strong></li></ol><p>åœ¨å‡½æ•°ä¸­ï¼Œå±€éƒ¨å¯¹è±¡çš„ææ„é¡ºåºé€šå¸¸éµå¾ª<strong>ååˆ›å»ºå…ˆé”€æ¯</strong>çš„åŸåˆ™ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå±€éƒ¨å¯¹è±¡æŒ‰ç…§å®ƒä»¬åˆ›å»ºçš„åå‘é¡ºåºè¿›è¡Œææ„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A created&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A destroyed&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">B</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;B created&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">B</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;B destroyed&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">example</span><span class="hljs-params">()</span> </span>&#123;<br>    A a;<br>    B b;<br>    <span class="hljs-comment">// åœ¨è¿™ä¸ªå‡½æ•°ç»“æŸæ—¶ï¼Œa å’Œ b çš„ææ„é¡ºåºæ˜¯ï¼šb -&gt; a</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">example</span>();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span> created<br><span class="hljs-selector-tag">B</span> created<br><span class="hljs-selector-tag">B</span> destroyed<br><span class="hljs-selector-tag">A</span> destroyed<br></code></pre></td></tr></table></figure><p><strong>è§£æ</strong>ï¼š</p><ul><li>åœ¨ <code>example</code> å‡½æ•°ä¸­ï¼Œ<code>a</code> å’Œ <code>b</code> æ˜¯å±€éƒ¨å¯¹è±¡ã€‚<code>a</code> åœ¨ <code>b</code> ä¹‹å‰åˆ›å»ºï¼Œä½† <code>b</code> åœ¨ <code>a</code> ä¹‹åè¢«é”€æ¯ã€‚è¿™æ˜¯å› ä¸ºææ„é¡ºåºéµå¾ªâ€œååˆ›å»ºï¼Œå…ˆé”€æ¯â€çš„åŸåˆ™ã€‚</li></ul><ol start="2"><li><strong>ç±»çš„æˆå‘˜å˜é‡çš„ææ„é¡ºåº</strong></li></ol><p>ç±»çš„æˆå‘˜å˜é‡çš„ææ„é¡ºåºéµå¾ªå®ƒä»¬åœ¨ç±»å®šä¹‰ä¸­å£°æ˜çš„é¡ºåºï¼Œè€Œ<strong>ä¸æ˜¯åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–çš„é¡ºåº</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºæˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåºå¦‚ä½•ï¼Œå®ƒä»¬çš„ææ„é¡ºåºæ€»æ˜¯æŒ‰å®ƒä»¬åœ¨ç±»å®šä¹‰ä¸­çš„å£°æ˜é¡ºåºè¿›è¡Œã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    A a;  <span class="hljs-comment">// a åœ¨ç±»ä¸­å£°æ˜é¡ºåºè¾ƒå‰</span><br>    B b;  <span class="hljs-comment">// b åœ¨ç±»ä¸­å£°æ˜é¡ºåºè¾ƒå</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() &#123;&#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123;&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass obj;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span> created<br><span class="hljs-selector-tag">B</span> created<br><span class="hljs-selector-tag">B</span> destroyed<br><span class="hljs-selector-tag">A</span> destroyed<br></code></pre></td></tr></table></figure><p><strong>è§£æ</strong>ï¼š</p><ul><li>åœ¨ <code>MyClass</code> çš„ææ„å‡½æ•°ä¸­ï¼Œæˆå‘˜å˜é‡ <code>a</code> ä¼šå…ˆææ„ï¼Œè€Œ <code>b</code> åææ„ï¼Œå°½ç®¡ <code>b</code> åœ¨æ„é€ å‡½æ•°ä¸­æ˜¯ååˆå§‹åŒ–çš„ã€‚</li></ul><ol start="3"><li><strong>æ ˆä¸Šå¯¹è±¡ä¸å †ä¸Šå¯¹è±¡</strong></li></ol><ul><li><strong>æ ˆä¸Šå¯¹è±¡</strong>ï¼šåœ¨æ ˆä¸Šåˆ†é…çš„å¯¹è±¡ï¼ˆå³å±€éƒ¨å¯¹è±¡ï¼‰ä¼šåœ¨å®ƒä»¬çš„ä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨ææ„ï¼Œé¡ºåºéµå¾ªâ€œååˆ›å»ºï¼Œå…ˆé”€æ¯â€ã€‚</li><li><strong>å †ä¸Šå¯¹è±¡</strong>ï¼šåœ¨å †ä¸Šé€šè¿‡ <code>new</code> åˆ›å»ºçš„å¯¹è±¡ï¼Œéœ€è¦<strong>æ˜¾å¼è°ƒç”¨ <code>delete</code> æ¥é”€æ¯</strong>ã€‚å †ä¸Šçš„å¯¹è±¡ä¸ä¼šè‡ªåŠ¨ææ„ï¼Œå®ƒä»¬çš„ææ„é¡ºåºå®Œå…¨å–å†³äºç¨‹åºå‘˜æ‰‹åŠ¨è°ƒç”¨ <code>delete</code> çš„æ—¶æœºã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass created&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;MyClass destroyed&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass *ptr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">MyClass</span>();  <span class="hljs-comment">// å †ä¸Šå¯¹è±¡</span><br>    <span class="hljs-keyword">delete</span> ptr;  <span class="hljs-comment">// æ‰‹åŠ¨é”€æ¯å †ä¸Šå¯¹è±¡</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight monkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs monkey">My<span class="hljs-keyword">Class</span> <span class="hljs-title class_">created</span><br>My<span class="hljs-keyword">Class</span> <span class="hljs-title class_">destroyed</span><br></code></pre></td></tr></table></figure><p><strong>è§£æ</strong>ï¼š</p><ul><li>å †ä¸Šå¯¹è±¡ <code>ptr</code> åªæœ‰åœ¨è°ƒç”¨ <code>delete</code> æ—¶æ‰ä¼šè¢«é”€æ¯ã€‚</li></ul><ol start="4"><li><strong>é™æ€å’Œå…¨å±€å¯¹è±¡çš„ææ„é¡ºåº</strong></li></ol><ul><li><p><strong>é™æ€å˜é‡</strong>ï¼šç¨‹åºä¸­æ‰€æœ‰é™æ€å˜é‡ï¼ˆåŒ…æ‹¬å…¨å±€é™æ€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡ï¼‰ä¼šåœ¨<strong>ç¨‹åºç»“æŸæ—¶</strong>ææ„ã€‚å®ƒä»¬çš„ææ„é¡ºåºé€šå¸¸æ˜¯<strong>ä¸å®šä¹‰é¡ºåºç›¸å</strong>ï¼Œä¹Ÿå°±æ˜¯ä»åå®šä¹‰çš„é™æ€å˜é‡å…ˆææ„ã€‚</p><p>é™æ€å¯¹è±¡çš„ææ„æ—¶æœºé€šå¸¸ç”±ç¼–è¯‘å™¨çš„è¿è¡Œæ—¶ç¯å¢ƒç®¡ç†ï¼ˆå¦‚ C++ çš„é™æ€å¯¹è±¡ææ„ï¼‰ã€‚</p></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A created&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A destroyed&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br>A a;  <span class="hljs-comment">// é™æ€å¯¹è±¡</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Inside main&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span> created<br>Inside <span class="hljs-selector-tag">main</span><br><span class="hljs-selector-tag">A</span> destroyed<br></code></pre></td></tr></table></figure><p><strong>è§£æ</strong>ï¼š</p><ul><li>é™æ€å¯¹è±¡ <code>a</code> åœ¨ <code>main</code> å‡½æ•°æ‰§è¡Œä¹‹å‰åˆ›å»ºï¼Œåœ¨ <code>main</code> æ‰§è¡Œå®Œæ¯•åé”€æ¯ã€‚é™æ€å¯¹è±¡çš„ææ„å‘ç”Ÿåœ¨ç¨‹åºé€€å‡ºæ—¶ï¼Œé€šå¸¸åœ¨ <code>main</code> è¿”å›ä¹‹åã€‚</li></ul><ol start="5"><li><strong>å…¨å±€å¯¹è±¡çš„ææ„é¡ºåº</strong></li></ol><p>å…¨å±€å¯¹è±¡çš„ææ„é¡ºåºéµå¾ª<strong>åå‘æ„é€ é¡ºåº</strong>ï¼Œå³ç¨‹åºçš„æœ€åä¸€ä¸ªå…¨å±€å¯¹è±¡ä¼šæœ€æ—©è¢«é”€æ¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A created&quot;</span> &lt;&lt; std::endl; &#125;<br>    ~<span class="hljs-built_in">A</span>() &#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A destroyed&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br>A a;  <span class="hljs-comment">// å…¨å±€å¯¹è±¡</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Inside main&quot;</span> &lt;&lt; std::endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">A</span> created<br>Inside <span class="hljs-selector-tag">main</span><br><span class="hljs-selector-tag">A</span> destroyed<br></code></pre></td></tr></table></figure><p><strong>è§£æ</strong>ï¼š</p><ul><li><code>a</code> åœ¨ <code>main</code> æ‰§è¡Œä¹‹å‰åˆ›å»ºï¼Œå¹¶åœ¨ç¨‹åºé€€å‡ºæ—¶é”€æ¯ã€‚</li></ul><ol start="6"><li><strong>å±€éƒ¨é™æ€å˜é‡çš„ææ„é¡ºåº</strong></li></ol><p>å±€éƒ¨é™æ€å˜é‡çš„ææ„é¡ºåºåœ¨ç¨‹åºç»“æŸæ—¶ç”±è¿è¡Œæ—¶ç³»ç»Ÿç®¡ç†ï¼Œé€šå¸¸æ˜¯åœ¨ <code>main</code> æ‰§è¡Œå®Œæ¯•ä¹‹åé”€æ¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">static</span> A a;  <span class="hljs-comment">// å±€éƒ¨é™æ€å˜é‡</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">func</span>();  <span class="hljs-comment">// a åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨ func æ—¶æ„é€ </span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ul><li><strong>å±€éƒ¨å¯¹è±¡</strong>ï¼šååˆ›å»ºï¼Œå…ˆé”€æ¯ï¼ˆæŒ‰ä½œç”¨åŸŸé¡ºåºï¼‰ã€‚</li><li><strong>æˆå‘˜å˜é‡</strong>ï¼šæŒ‰ç…§ç±»å®šä¹‰ä¸­çš„å£°æ˜é¡ºåºææ„ï¼Œè€Œéæ„é€ é¡ºåºã€‚</li><li><strong>å †ä¸Šå¯¹è±¡</strong>ï¼šéœ€è¦æ˜¾å¼ä½¿ç”¨ <code>delete</code> é”€æ¯ã€‚</li><li><strong>é™æ€&#x2F;å…¨å±€å¯¹è±¡</strong>ï¼šæŒ‰ç¨‹åºé€€å‡ºæ—¶çš„é€†æ„é€ é¡ºåºé”€æ¯ã€‚</li></ul><p>å¯¹è±¡çš„ææ„é¡ºåº<strong>éµå¾ªâ€œååˆ›å»ºï¼Œå…ˆé”€æ¯â€çš„åŸåˆ™</strong>ï¼Œä½†å…·ä½“æƒ…å†µä¼šæ ¹æ®å¯¹è±¡çš„ç±»å‹ï¼ˆå±€éƒ¨å¯¹è±¡ã€æˆå‘˜å˜é‡ã€é™æ€å˜é‡ç­‰ï¼‰ä»¥åŠå®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæœ‰æ‰€ä¸åŒã€‚</p><h2 id="this-æŒ‡é’ˆ"><a href="#this-æŒ‡é’ˆ" class="headerlink" title="this æŒ‡é’ˆ"></a>this æŒ‡é’ˆ</h2><ul><li><p><code>this</code> æŒ‡é’ˆåœ¨ C++ ä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼Œç”¨äºæŒ‡å‘å½“å‰å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚ä»¥ä¸‹æ˜¯å…³äº <code>this</code> æŒ‡é’ˆçš„ä¸€äº›å…³é”®ç‚¹ï¼š</p><ol><li><p><strong>æŒ‡å‘å½“å‰å¯¹è±¡</strong>ï¼š</p><ul><li><code>this</code> æ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡çš„æŒ‡é’ˆã€‚æ¯ä¸ªéé™æ€æˆå‘˜å‡½æ•°éƒ½éšå¼åœ°åŒ…å«ä¸€ä¸ª <code>this</code> æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘è°ƒç”¨è¯¥æˆå‘˜å‡½æ•°çš„å¯¹è±¡ã€‚</li></ul></li><li><p><strong>éšå¼ä¼ é€’</strong>ï¼š</p><ul><li>å½“è°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œ<code>this</code> æŒ‡é’ˆä¼šè‡ªåŠ¨ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™è¯¥å‡½æ•°ã€‚å®é™…ä¸Šï¼Œç¼–è¯‘å™¨ä¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶å°†å¯¹è±¡çš„åœ°å€ä½œä¸ºå‚æ•°ä¼ é€’ç»™æˆå‘˜å‡½æ•°çš„ <code>this</code> å‚æ•°ã€‚</li></ul></li><li><p><strong>ç”¨é€”</strong>ï¼š</p><ul><li><p><strong>åŒºåˆ†å½¢å‚å’Œæˆå‘˜å˜é‡</strong>ï¼šå½“æˆå‘˜å‡½æ•°çš„å‚æ•°åä¸æˆå‘˜å˜é‡åç›¸åŒçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ <code>this</code> æ¥æ˜ç¡®åœ°å¼•ç”¨æˆå‘˜å˜é‡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br>    <span class="hljs-type">int</span> value;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setValue</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>-&gt;value = value; <span class="hljs-comment">// ä½¿ç”¨ this æŒ‡é’ˆæ¥è®¿é—®æˆå‘˜å˜é‡</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p><strong>è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</strong>ï¼šåœ¨æˆå‘˜å‡½æ•°ä¸­è¿”å› <code>*this</code> å¯ä»¥è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼Œå¸¸ç”¨äºé“¾å¼è°ƒç”¨ã€‚</p></li></ul></li><li><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li><code>this</code> æŒ‡é’ˆåœ¨ç±»å†…æˆå‘˜å‡½æ•°ä¸­æ˜¯éšå¼çš„ï¼Œä¸éœ€è¦æ˜¾å¼å£°æ˜ã€‚</li><li><code>this</code> æŒ‡é’ˆçš„ç±»å‹æ˜¯ <code>ç±»å* const</code>ï¼Œæ„å‘³ç€ <code>this</code> æœ¬èº«æ˜¯å¸¸é‡æŒ‡é’ˆï¼Œå³ä¸èƒ½æ”¹å˜ <code>this</code> æŒ‡é’ˆæŒ‡å‘çš„åœ°å€ï¼Œä½†å¯ä»¥é€šè¿‡ <code>this</code> ä¿®æ”¹å¯¹è±¡çš„å†…å®¹ã€‚</li></ul></li><li><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;The object&#x27;s address is: &quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    A obj;<br>    obj.<span class="hljs-built_in">display</span>(); <span class="hljs-comment">// æ‰“å°å¯¹è±¡ obj çš„å†…å­˜åœ°å€</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>é™æ€æˆå‘˜å‡½æ•°</strong>ï¼š</p><ul><li>é™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰ <code>this</code> æŒ‡é’ˆï¼Œå› ä¸ºå®ƒä»¬ä¸ä¸ä»»ä½•å¯¹è±¡å®ä¾‹ç›¸å…³è”ï¼Œè€Œæ˜¯ç›´æ¥ä¸ç±»ç›¸å…³è”ã€‚</li></ul></li></ol><p><code>this</code> æŒ‡é’ˆæä¾›äº†ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—<strong>æˆå‘˜å‡½æ•°èƒ½å¤Ÿè®¿é—®å…¶æ‰€å±çš„å¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæˆå‘˜å‡½æ•°</strong>ï¼Œå¢å¼ºäº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†è§£å†³åç§°å†²çªçš„ä¾¿åˆ©æ–¹æ³•ã€‚</p></li><li><p>ä¾‹ï¼šP297</p></li></ul><p><img src="https://ooo.0x0.ooo/2025/01/23/OG7ceI.png" alt="This pointer"></p><p>å³éœ€è¦ä¸€ä¸ªæŒ‡å‘â€œè‡ªèº«â€çš„éšå¼æŒ‡é’ˆâ€”â€”<strong>this æŒ‡é’ˆ</strong>ï¼</p><p>æ•…ç¼ºå¤±çš„ä»£ç ä¸ºï¼š<code>return *this</code></p><h3 id="æœ‰å…³this-æŒ‡é’ˆçš„ç›¸å…³æ³¨æ„ç‚¹"><a href="#æœ‰å…³this-æŒ‡é’ˆçš„ç›¸å…³æ³¨æ„ç‚¹" class="headerlink" title="æœ‰å…³this æŒ‡é’ˆçš„ç›¸å…³æ³¨æ„ç‚¹"></a>æœ‰å…³this æŒ‡é’ˆçš„ç›¸å…³æ³¨æ„ç‚¹</h3><ul><li><p>thisæŒ‡é’ˆæŒ‡å‘è°ƒç”¨å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨consté™å®šç¬¦</p></li><li><p>åœ¨C++ä¸­ï¼Œ<code>this</code>å¹¶ä¸æ˜¯ä¸€ä¸ªå…³é”®è¯ï¼ˆkeywordï¼‰ï¼Œè€Œæ˜¯ä¸€ä¸ªä¿ç•™å­—ï¼ˆreserved wordï¼‰ã€‚è¿™æ„å‘³ç€ï¼š</p><ul><li><p><strong><code>this</code>çš„ç”¨é€”</strong>ï¼š<code>this</code>æ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰å¯¹è±¡çš„æŒ‡é’ˆã€‚åœ¨éé™æ€æˆå‘˜å‡½æ•°ä¸­ï¼Œ<code>this</code>éšå¼åœ°æŒ‡å‘è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡å®ä¾‹ã€‚å®ƒçš„ä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š</p><ul><li>åŒºåˆ†å±€éƒ¨å˜é‡å’Œæˆå‘˜å˜é‡ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆå‘˜å˜é‡å’Œå‡½æ•°å‚æ•°åŒåï¼Œå¯ä»¥ä½¿ç”¨<code>this-&gt;</code>æ¥æ˜ç¡®æŒ‡ä»£æˆå‘˜å˜é‡ã€‚</li><li>è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨æˆ–æŒ‡é’ˆã€‚ä¾‹å¦‚ï¼Œ<code>return *this;</code>ç”¨äºé“¾å¼è°ƒç”¨ã€‚</li></ul></li><li><p><strong>ä¿ç•™å­—</strong>ï¼šè™½ç„¶<code>this</code>ä¸æ˜¯å…³é”®è¯ï¼Œä½†å®ƒæ˜¯ä¿ç•™ç»™ç¼–è¯‘å™¨ä½¿ç”¨çš„ï¼Œä¸èƒ½ç”¨ä½œå…¶ä»–ç”¨é€”ï¼ˆå¦‚å˜é‡åæˆ–å‡½æ•°åï¼‰ã€‚è¿™ç¡®ä¿äº†<code>this</code>åœ¨C++ä»£ç ä¸­å…·æœ‰ç‰¹å®šçš„å«ä¹‰å’Œç”¨æ³•ã€‚</p></li><li><p><strong>ä¸å¯é‡æ–°å®šä¹‰</strong>ï¼šç”±äº<code>this</code>æ˜¯ä¿ç•™å­—ï¼Œç¨‹åºå‘˜ä¸èƒ½å®šä¹‰ä¸€ä¸ªåä¸º<code>this</code>çš„å˜é‡ã€å‡½æ•°æˆ–å…¶ä»–æ ‡è¯†ç¬¦ã€‚</p></li><li><p><strong>ç¼–è¯‘å™¨æ”¯æŒ</strong>ï¼šç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨æˆå‘˜å‡½æ•°ä¸­æ’å…¥<code>this</code>æŒ‡é’ˆçš„ä½¿ç”¨ï¼Œä½¿å¾—æˆå‘˜å‡½æ•°çŸ¥é“å®ƒä»¬æ˜¯å“ªä¸ªå¯¹è±¡çš„æˆå‘˜ã€‚</p></li></ul><p>å› æ­¤ï¼Œè™½ç„¶<code>this</code>åœ¨C++ä¸­ä¸æ˜¯å…³é”®è¯ï¼Œä½†å®ƒçš„ç”¨æ³•å’Œä¿ç•™æ€§è´¨ä½¿å¾—å®ƒåœ¨è¯­è¨€ä¸­æ‰®æ¼”äº†ä¸€ä¸ªç‰¹æ®Šçš„è§’è‰²ï¼Œç¡®ä¿äº†é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å¯¹è±¡èº«ä»½çš„æ˜ç¡®æ€§ã€‚</p></li></ul><h2 id="å¯¹è±¡æ•°ç»„"><a href="#å¯¹è±¡æ•°ç»„" class="headerlink" title="å¯¹è±¡æ•°ç»„"></a>å¯¹è±¡æ•°ç»„</h2><ul><li>åˆ›å»ºå¯¹è±¡æ•°ç»„çš„æ ¼å¼å’ŒåŸºæœ¬æ•°ç»„ç›¸åŒ</li></ul><p><img src="https://ooo.0x0.ooo/2025/01/23/OG7s3F.png" alt="Constructor"></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ„é€ å‡½æ•°</p><ul><li><strong>è¦åˆ›å»ºç±»å¯¹è±¡æ•°ç»„ï¼Œå¿…é¡»åº”æœ‰ç±»çš„é»˜è®¤æ„é€ å‡½æ•°ï¼ˆæ˜¾ç¤º&amp;éšå¼ï¼‰</strong>ï¼Œå› ä¸ºåœ¨åˆå§‹åŒ–å¯¹è±¡æ•°ç»„çš„æ—¶å€™é¦–å…ˆä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºæ•°ç»„å…ƒç´ ï¼Œæ¥ç€å†åˆ›å»ºä¸´æ—¶å¯¹è±¡å¹¶å¯¹å€¼è¿›è¡Œè¦†ç›–ã€‚</li><li>é’ˆå¯¹å¯¹è±¡æ•°ç»„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡é’ˆ</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++">top = &amp;(top-&gt;<span class="hljs-built_in">topval</span>(stocks[st]));<br></code></pre></td></tr></table></figure><p>æˆå‘˜è®¿é—®è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äºå–å€è¿ç®—ç¬¦</p><h2 id="ç±»ä½œç”¨åŸŸ"><a href="#ç±»ä½œç”¨åŸŸ" class="headerlink" title="ç±»ä½œç”¨åŸŸ"></a>ç±»ä½œç”¨åŸŸ</h2><ul><li>è¦è°ƒç”¨å…±æœ‰æˆå‘˜å‡½æ•°ï¼Œå¿…é¡»é€šè¿‡å¯¹è±¡ï¼ï¼ˆé™æ€æˆå‘˜é™¤å¤–ï¼‰</li><li>å¯ä»¥ä½¿ç”¨æˆå‘˜è®¿é—®è¿ç®—ç¬¦æˆ–ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼ˆä¸»è¦å¯¹äºåº“å‡½æ•°ï¼‰</li></ul><h3 id="ç±»ä½œç”¨åŸŸè¿ç®—ç¬¦"><a href="#ç±»ä½œç”¨åŸŸè¿ç®—ç¬¦" class="headerlink" title="ç±»ä½œç”¨åŸŸè¿ç®—ç¬¦::"></a>ç±»ä½œç”¨åŸŸè¿ç®—ç¬¦<code>::</code></h3><p>åœ¨C++ä¸­ï¼Œä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼ˆ<code>::</code>ï¼‰ç”¨äºå¤šç§åœºæ™¯ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§ä½¿ç”¨æƒ…å†µï¼š</p><ol><li><p><strong>è®¿é—®å…¨å±€å˜é‡æˆ–å‡½æ•°</strong>ï¼š</p><ul><li><p>å½“å±€éƒ¨å˜é‡ä¸å…¨å±€å˜é‡åŒåæ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>::</code>æ¥æ˜ç¡®æŒ‡å®šä½¿ç”¨å…¨å±€å˜é‡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;  <span class="hljs-comment">// å…¨å±€å˜é‡</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> a = <span class="hljs-number">20</span>;  <span class="hljs-comment">// å±€éƒ¨å˜é‡</span><br>    std::cout &lt;&lt; ::a &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡ºå…¨å±€å˜é‡açš„å€¼</span><br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>è®¿é—®å‘½åç©ºé—´ä¸­çš„æˆå‘˜</strong>ï¼š</p><ul><li><p>ç”¨äºæ˜ç¡®æŒ‡å®šå‘½åç©ºé—´ä¸­çš„æˆå‘˜ï¼Œé¿å…å‘½åå†²çªã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">namespace</span> MyNamespace &#123;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">myFunction</span><span class="hljs-params">()</span></span>;<br>&#125;<br>MyNamespace::<span class="hljs-built_in">myFunction</span>();<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>è®¿é—®ç±»çš„é™æ€æˆå‘˜</strong>ï¼š</p><ul><li><p>è®¿é—®ç±»çš„é™æ€æˆå‘˜å˜é‡æˆ–é™æ€æˆå‘˜å‡½æ•°æ—¶ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> count;<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">staticMethod</span><span class="hljs-params">()</span></span>;<br>&#125;;<br><span class="hljs-type">int</span> MyClass::count = <span class="hljs-number">0</span>;  <span class="hljs-comment">// å®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span><br>MyClass::<span class="hljs-built_in">staticMethod</span>();  <span class="hljs-comment">// è°ƒç”¨é™æ€æˆå‘˜å‡½æ•°</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>åŸºç±»æˆå‘˜çš„è®¿é—®</strong>ï¼š</p><ul><li><p>å½“æ´¾ç”Ÿç±»ä¸åŸºç±»æœ‰åŒåçš„æˆå‘˜æ—¶ï¼Œä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦å¯ä»¥æ˜ç¡®è®¿é—®åŸºç±»çš„æˆå‘˜ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base::method()&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> </span>&#123; <br>        Base::<span class="hljs-built_in">method</span>();  <span class="hljs-comment">// è°ƒç”¨åŸºç±»çš„åŒåæ–¹æ³•</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Derived::method()&quot;</span> &lt;&lt; std::endl; <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>æ¨¡æ¿ç±»ä¸­çš„é™æ€æˆå‘˜</strong>ï¼š</p><ul><li><p>åœ¨æ¨¡æ¿ç±»ä¸­ï¼Œé™æ€æˆå‘˜çš„å®šä¹‰éœ€è¦ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TemplateClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> T value;<br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;<br>T TemplateClass&lt;T&gt;::value;  <span class="hljs-comment">// å®šä¹‰é™æ€æˆå‘˜</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>è®¿é—®å¤–éƒ¨é“¾æ¥çš„å˜é‡æˆ–å‡½æ•°</strong>ï¼š</p><ul><li><p>å½“åœ¨ä¸åŒçš„æºæ–‡ä»¶ä¸­å£°æ˜å’Œå®šä¹‰å˜é‡æˆ–å‡½æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦æ¥æ˜ç¡®é“¾æ¥åˆ°å¤–éƒ¨å®šä¹‰ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// file1.cpp</span><br><span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> globalVar;<br><br><span class="hljs-comment">// file2.cpp</span><br><span class="hljs-type">int</span> ::globalVar = <span class="hljs-number">10</span>;  <span class="hljs-comment">// å®šä¹‰å…¨å±€å˜é‡</span><br></code></pre></td></tr></table></figure></li></ul></li></ol><p>ä½œç”¨åŸŸè§£æè¿ç®—ç¬¦åœ¨C++ä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å·¥å…·ï¼Œå®ƒå¸®åŠ©ç¨‹åºå‘˜æ˜ç¡®æŒ‡å®šå˜é‡ã€å‡½æ•°æˆ–ç±»çš„ä½œç”¨åŸŸï¼Œé¿å…å‘½åå†²çªï¼Œå¢å¼ºä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><ul><li><p>æœ‰å…³é™æ€æˆå‘˜</p><ul><li><p>è®¿é—®ç±»çš„é™æ€æˆå‘˜å¯ä»¥ä¸é€šè¿‡å¯¹è±¡è¿›è¡Œè®¿é—®ã€‚é™æ€æˆå‘˜æ˜¯å±äºç±»æœ¬èº«è€Œä¸æ˜¯ç±»å®ä¾‹çš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥é€šè¿‡ç±»åè®¿é—®ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> staticVar;<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">staticMethod</span><span class="hljs-params">()</span></span>;<br>&#125;;<br><span class="hljs-type">int</span> MyClass::staticVar = <span class="hljs-number">10</span>;  <span class="hljs-comment">// é™æ€æˆå‘˜å˜é‡çš„å®šä¹‰</span><br><br>MyClass::staticVar = <span class="hljs-number">20</span>;  <span class="hljs-comment">// ç›´æ¥é€šè¿‡ç±»åè®¿é—®é™æ€æˆå‘˜å˜é‡</span><br>MyClass::<span class="hljs-built_in">staticMethod</span>();  <span class="hljs-comment">// ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨é™æ€æˆå‘˜å‡½æ•°</span><br><br></code></pre></td></tr></table></figure></li><li><p>é™æ€æˆå‘˜ï¼ˆåŒ…æ‹¬é™æ€æˆå‘˜å˜é‡å’Œé™æ€æˆå‘˜å‡½æ•°ï¼‰åœ¨C++ä¸­æœ‰ä¸€äº›å¸¸è§çš„ç”¨é€”ï¼š</p></li></ul></li></ul><p>é™æ€æˆå‘˜å˜é‡</p><ol><li><p><strong>è®¡æ•°å™¨</strong>ï¼š</p><ul><li>ç”¨äºè·Ÿè¸ªç±»çš„å®ä¾‹æ•°é‡ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-type">int</span> instanceCount;<br>    <span class="hljs-built_in">MyClass</span>() &#123; ++instanceCount; &#125;<br>    ~<span class="hljs-built_in">MyClass</span>() &#123; --instanceCount; &#125;<br>&#125;;<br><span class="hljs-type">int</span> MyClass::instanceCount = <span class="hljs-number">0</span>;  <span class="hljs-comment">// å®šä¹‰å¹¶åˆå§‹åŒ–é™æ€æˆå‘˜å˜é‡</span><br></code></pre></td></tr></table></figure></li><li><p><strong>å…±äº«æ•°æ®</strong>ï¼š</p><ul><li>å½“éœ€è¦åœ¨æ‰€æœ‰å®ä¾‹ä¹‹é—´å…±äº«æŸäº›æ•°æ®æ—¶ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> std::string logFile;<br>    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; message)</span> </span>&#123;<br>        <span class="hljs-comment">// å‘é™æ€æˆå‘˜å˜é‡logFileè®°å½•æ—¥å¿—</span><br>    &#125;<br>&#125;;<br>std::string Logger::logFile = <span class="hljs-string">&quot;log.txt&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p><strong>å¸¸é‡æ•°æ®</strong>ï¼š</p><ul><li>å®šä¹‰ç±»ç›¸å…³çš„å¸¸é‡ä¿¡æ¯ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MathConstants</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> <span class="hljs-type">double</span> PI = <span class="hljs-number">3.14159265358979323846</span>;<br>&#125;;<br></code></pre></td></tr></table></figure></li></ol><h1 id="Cha-11-ä½¿ç”¨ç±»"><a href="#Cha-11-ä½¿ç”¨ç±»" class="headerlink" title="Cha 11 ä½¿ç”¨ç±»"></a>Cha 11 ä½¿ç”¨ç±»</h1><h2 id="å‹å…ƒå‡½æ•°"><a href="#å‹å…ƒå‡½æ•°" class="headerlink" title="å‹å…ƒå‡½æ•°"></a>å‹å…ƒå‡½æ•°</h2><p>å‹å…ƒå‡½æ•°ï¼ˆ<strong>Friend Function</strong>ï¼‰æ˜¯ C++ ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–ç±»ï¼‰è®¿é—®å¦ä¸€ä¸ªç±»çš„ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ã€‚è™½ç„¶å‹å…ƒå‡½æ•°å¯ä»¥è®¿é—®ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ï¼Œä½†å®ƒæœ¬èº«å¹¶ä¸æ˜¯ç±»çš„æˆå‘˜å‡½æ•°ã€‚å‹å…ƒå‡½æ•°é€šå¸¸ç”¨äºæ“ä½œä¸€äº›ç±»å†…éƒ¨çš„ç»†èŠ‚ï¼Œä½†å®ƒå¯èƒ½ä¼šå¼•å…¥ä¸€äº›éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚</p><ul><li>è®©å‡½æ•°æˆä¸ºç±»çš„å‹å…ƒï¼Œå¯ä»¥èµ‹äºˆè¯¥å‡½æ•°ä¸ç±»çš„æˆå‘˜å‡½æ•°ç›¸åŒçš„è®¿é—®æƒé™ï¼ˆ<strong>è®¿é—®private</strong>ï¼‰</li><li>ä¾‹ï¼šå°†è¿ç®—ç¬¦é‡è½½ç¼–å†™æˆä¸€ä¸ªéæˆå‘˜å‡½æ•°</li><li>å‹å…ƒå‡½æ•°å…·æœ‰æˆå‘˜å‡½æ•°çš„æƒé™ï¼Œä½†<strong>ä½œä¸ºéæˆå‘˜å‡½æ•°ä¸èƒ½ä½¿ç”¨æˆå‘˜è¿ç®—ç¬¦è¿›è¡Œè°ƒç”¨</strong><ul><li>ä½¿ç”¨æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°ï¼Œè¿™æ›´åŠ é«˜æ•ˆ</li></ul></li><li><strong>åªæœ‰åœ¨å‡½æ•°å£°æ˜çš„æ—¶å€™éœ€è¦åŠ ä¸Šfriendå…³é”®è¯ï¼Œåœ¨å‡½æ•°å®šä¹‰æ—¶ä¸å¯ä»¥</strong></li></ul><p><img src="https://ooo.0x0.ooo/2025/01/23/OG7Yh6.png" alt="Vector"></p><h3 id="å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«"><a href="#å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«" class="headerlink" title="å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«"></a>å‹å…ƒå‡½æ•°å’Œåœ¨æˆå‘˜å‡½æ•°ä¸­è¿ç®—ç¬¦é‡è½½çš„åŒºåˆ«</h3><p>åœ¨æˆå‘˜å‡½æ•°ä¸­å®ç°è¿ç®—ç¬¦é‡è½½</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; other) <span class="hljs-type">const</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Complex</span>(real + other.real, imag + other.imag);<br>    &#125;<br>    <span class="hljs-comment">//æˆå‘˜å‡½æ•°é‡è½½è¿ç®—ç¬¦ä¸­ï¼Œæ‰€éœ€çš„å‚æ•°æ•°ç›®æ¯”è¿ç®—ç¬¦ä½¿ç”¨çš„å‚æ•°æ•°ç›®å°‘ä¸€ä¸ªï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯è¢«éšå¼ä¼ é€’çš„è°ƒç”¨å¯¹è±¡(this æŒ‡é’ˆ)</span><br>    <span class="hljs-comment">// å…¶å®ƒæˆå‘˜å‡½æ•°å’Œæ•°æ®æˆå‘˜</span><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> real;<br>    <span class="hljs-type">double</span> imag;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p>åœ¨éæˆå‘˜å‡½æ•°ä¸­å®ç°è¿ç®—ç¬¦é‡è½½ï¼ˆå‹å…ƒå‡½æ•°ï¼‰</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> real;<br>    <span class="hljs-type">double</span> imag;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Complex</span>(<span class="hljs-type">double</span> r = <span class="hljs-number">0.0</span>, <span class="hljs-type">double</span> i = <span class="hljs-number">0.0</span>) : <span class="hljs-built_in">real</span>(r), <span class="hljs-built_in">imag</span>(i) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜å‹å…ƒå‡½æ•°</span><br>    <span class="hljs-keyword">friend</span> Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; left, <span class="hljs-type">const</span> Complex&amp; right);<br>&#125;;<br><br></code></pre></td></tr></table></figure><h3 id="å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿"><a href="#å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿" class="headerlink" title="å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿"></a>å‹å…ƒå‡½æ•°ç›¸æ¯”äºæˆå‘˜å‡½æ•°çš„ä¼˜åŠ¿</h3><p>å‹å…ƒå‡½æ•°ç›¸å¯¹äºæˆå‘˜å‡½æ•°å…·æœ‰ä¸€äº›ç‰¹å®šçš„ä¼˜åŠ¿ï¼Œå°½ç®¡å®ƒä»¬æ‰“ç ´äº†ç±»çš„å°è£…åŸåˆ™ï¼Œä½†è¿™äº›ä¼˜åŠ¿åœ¨æŸäº›æƒ…å¢ƒä¸‹æ˜¯éå¸¸æœ‰ç”¨çš„ï¼š</p><ol><li><strong>æ“ä½œç¬¦é‡è½½</strong></li></ol><p>å‹å…ƒå‡½æ•°å¸¸ç”¨äºæ“ä½œç¬¦é‡è½½ï¼Œç‰¹åˆ«æ˜¯å½“æ“ä½œç¬¦éœ€è¦è®¿é—®ä¸¤ä¸ªä¸åŒç±»æˆ–ç±»å‹çš„å¯¹è±¡æ—¶ã€‚æˆå‘˜å‡½æ•°åªèƒ½é€šè¿‡ <code>this</code> æŒ‡é’ˆè®¿é—®å½“å‰å¯¹è±¡çš„æˆå‘˜ï¼Œè€Œå‹å…ƒå‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®ä¸¤ä¸ªå¯¹è±¡çš„ç§æœ‰æˆå‘˜ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Complex</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">double</span> real;<br>    <span class="hljs-type">double</span> imag;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// ... å…¶ä»–æˆå‘˜å‡½æ•° ...</span><br>    <span class="hljs-keyword">friend</span> Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; a, <span class="hljs-type">const</span> Complex&amp; b);<br>&#125;;<br><br><span class="hljs-comment">// å‹å…ƒå‡½æ•°å®šä¹‰</span><br>Complex <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Complex&amp; a, <span class="hljs-type">const</span> Complex&amp; b) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Complex</span>(a.real + b.real, a.imag + b.imag);<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li><strong>æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç®€æ´æ€§</strong></li></ol><ul><li><strong>å…¨å±€å‡½æ•°</strong>ï¼šå‹å…ƒå‡½æ•°å¯ä»¥ä½œä¸ºå…¨å±€å‡½æ•°ï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ä½¿ä»£ç æ›´æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ <code>operator+</code> ä½œä¸ºå‹å…ƒå‡½æ•°ï¼Œä½¿å¾—åŠ æ³•æ“ä½œçœ‹èµ·æ¥æ›´è‡ªç„¶ï¼Œä¸éœ€è¦é€šè¿‡å¯¹è±¡è°ƒç”¨ã€‚</li><li><strong>é¿å…ä¸å¿…è¦çš„æˆå‘˜å‡½æ•°</strong>ï¼šæœ‰æ—¶ï¼ŒæŸäº›æ“ä½œå¹¶ä¸é€‚åˆä½œä¸ºç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†ä»ç„¶éœ€è¦è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ã€‚å‹å…ƒå‡½æ•°å¯ä»¥æä¾›è¿™ç§è®¿é—®ï¼Œè€Œä¸éœ€è¦å¢åŠ ç±»çš„æˆå‘˜å‡½æ•°ã€‚</li></ul><ol start="3"><li><strong>å¯¹ç§°æ€§</strong></li></ol><ul><li>å‹å…ƒå‡½æ•°å¯ä»¥æä¾›æ“ä½œçš„å¯¹ç§°æ€§ã€‚ä¾‹å¦‚ï¼Œåœ¨ <code>operator==</code> çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ˜¯æˆå‘˜å‡½æ•°ï¼Œ<code>a == b</code> å’Œ <code>b == a</code> å¯èƒ½éœ€è¦ä¸åŒçš„å®ç°ï¼Œè€Œå‹å…ƒå‡½æ•°å¯ä»¥ä½¿è¿™ä¸¤ä¸ªæ“ä½œç­‰ä»·ã€‚</li></ul><ol start="4"><li><strong>å‡å°‘thisæŒ‡é’ˆçš„ä½¿ç”¨</strong></li></ol><ul><li>å‹å…ƒå‡½æ•°æ²¡æœ‰éšå¼çš„ <code>this</code> æŒ‡é’ˆï¼Œè¿™åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥æé«˜æ•ˆç‡ï¼Œå› ä¸ºä¸éœ€è¦é¢å¤–çš„å‚æ•°ä¼ é€’ã€‚</li></ul><ol start="5"><li><strong>è®¿é—®ç§æœ‰æˆå‘˜è€Œä¸æ”¹å˜ç±»çš„æ¥å£</strong></li></ol><ul><li>å¦‚æœä½ éœ€è¦ä¸€ä¸ªå‡½æ•°è®¿é—®ç±»çš„æ•°æ®ï¼Œä½†ä¸æƒ³å°†è¿™ä¸ªå‡½æ•°ä½œä¸ºç±»çš„æˆå‘˜ï¼ˆå› ä¸ºå®ƒä¸å±äºç±»çš„é€»è¾‘éƒ¨åˆ†ï¼‰ï¼Œå‹å…ƒå‡½æ•°å¯ä»¥è®©ä½ å®ç°è¿™ä¸€ç‚¹ï¼Œè€Œä¸æ”¹å˜ç±»çš„å…¬å…±æ¥å£ã€‚</li></ul><ol start="6"><li><strong>è·¨ç±»è®¿é—®</strong></li></ol><ul><li>å‹å…ƒå‡½æ•°å¯ä»¥è¢«å¤šä¸ªç±»å£°æ˜ä¸ºå‹å…ƒï¼Œä»è€Œå…è®¸<strong>è¿™äº›ç±»ä¹‹é—´å…±äº«æ•°æ®ï¼Œè€Œä¸éœ€è¦é€šè¿‡å…¬å…±æ¥å£æˆ–ç»§æ‰¿</strong>ã€‚</li></ul><ol start="7"><li><strong>è®¾è®¡æ¨¡å¼çš„å®ç°</strong></li></ol><ul><li>åœ¨ä¸€äº›è®¾è®¡æ¨¡å¼ä¸­ï¼Œå¦‚æ¡¥æ¥æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ç­‰ï¼Œå‹å…ƒå‡½æ•°å¯ä»¥å¸®åŠ©å®ç°è·¨ç±»åä½œï¼Œè€Œæ— éœ€æš´éœ²ç±»çš„å†…éƒ¨å®ç°ç»†èŠ‚ã€‚</li></ul><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><p>å°½ç®¡å‹å…ƒå‡½æ•°æœ‰è¿™äº›ä¼˜åŠ¿ï¼Œä½†å®ƒä»¬ä¹Ÿæœ‰ä¸€äº›æ½œåœ¨çš„ç¼ºç‚¹ï¼š</p><ul><li><strong>æ‰“ç ´å°è£…</strong>ï¼šå‹å…ƒå‡½æ•°å…è®¸éæˆå‘˜å‡½æ•°è®¿é—®ç±»çš„ç§æœ‰æˆå‘˜ï¼Œå¯èƒ½ä¼šç ´åç±»çš„å°è£…æ€§ã€‚</li><li><strong>ä»£ç ç»´æŠ¤</strong>ï¼šå‹å…ƒå…³ç³»å¯èƒ½ä¼šä½¿ä»£ç çš„ç»´æŠ¤å˜å¾—å¤æ‚ï¼Œå› ä¸ºå®ƒå¢åŠ äº†ç±»çš„ä¾èµ–æ€§ã€‚</li><li><strong>æ»¥ç”¨</strong>ï¼šå¦‚æœä¸è°¨æ…ä½¿ç”¨ï¼Œå‹å…ƒå‡½æ•°å¯èƒ½ä¼šå¯¼è‡´ä»£ç çš„å¯è¯»æ€§å’Œç»“æ„æ€§ä¸‹é™ã€‚</li></ul><p>å› æ­¤ï¼Œåœ¨ä½¿ç”¨å‹å…ƒå‡½æ•°æ—¶ï¼Œåº”è¯¥è°¨æ…è€ƒè™‘æ˜¯å¦çœŸçš„éœ€è¦è¿™ç§è®¿é—®æƒé™ï¼Œå¹¶å°½é‡é™åˆ¶å‹å…ƒå‡½æ•°çš„æ•°é‡å’ŒèŒƒå›´ï¼Œä»¥ä¿æŒç±»çš„å°è£…æ€§å’Œä»£ç çš„æ¸…æ™°åº¦ã€‚</p><h2 id="å‹å…ƒç±»"><a href="#å‹å…ƒç±»" class="headerlink" title="å‹å…ƒç±»"></a>å‹å…ƒç±»</h2><p>åœ¨ C++ ä¸­ï¼Œ<code>friend</code> æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœºåˆ¶ï¼Œå®ƒå…è®¸æŸäº›å‡½æ•°æˆ–ç±»è®¿é—®å…¶ä»–ç±»çš„ç§æœ‰æˆå‘˜ã€‚<code>friend</code> ä¸»è¦æœ‰ä¸¤ç§å½¢å¼ï¼š<strong>å‹å…ƒå‡½æ•°</strong> å’Œ <strong>å‹å…ƒç±»</strong>ã€‚è¿™ä¸¤ç§æœºåˆ¶åœ¨è®¾è®¡æŸäº›å¤æ‚ç³»ç»Ÿæ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥è®©ä¸åŒç±»ä¹‹é—´è¿›è¡Œå¯†åˆ‡çš„åˆä½œï¼ŒåŒæ—¶ä¿æŒç±»å†…éƒ¨çš„å°è£…æ€§ã€‚</p><p><strong>å‹å…ƒç±»</strong> æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒè¢«å£°æ˜ä¸ºæŸä¸ªç±»çš„å‹å…ƒç±»ã€‚å‹å…ƒç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥è®¿é—®è¯¥ç±»çš„ç§æœ‰æˆå‘˜ã€‚è¿™ç§æœºåˆ¶é€šå¸¸ç”¨äºè®¾è®¡ä¸¤ä¸ªç´§å¯†ç›¸å…³çš„ç±»ï¼Œå®ƒä»¬éœ€è¦äº’ç›¸è®¿é—®ç§æœ‰æ•°æ®ï¼Œä½†åˆä¸å¸Œæœ›æš´éœ²ç»™å¤–éƒ¨ã€‚</p><p><strong>å‹å…ƒç±»çš„åŸºæœ¬è¯­æ³•</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setA</span><span class="hljs-params">(A&amp; obj)</span></span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> x;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">x</span>(val) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜ B ä¸ºå‹å…ƒç±»</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;<br>&#125;;<br><br><span class="hljs-comment">// B æ˜¯ A çš„å‹å…ƒç±»ï¼Œå¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">B::setA</span><span class="hljs-params">(A&amp; obj)</span> </span>&#123;<br>    obj.x = <span class="hljs-number">100</span>;  <span class="hljs-comment">// ç›´æ¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    B b;<br>    b.<span class="hljs-built_in">setA</span>(a);  <span class="hljs-comment">// B å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å‹å…ƒç±»çš„åº”ç”¨åœºæ™¯</strong></p><ul><li><strong>è®¾è®¡å¤æ‚ç³»ç»Ÿ</strong>ï¼šå‹å…ƒç±»çš„ä½¿ç”¨å¯ä»¥è®©ä¸¤ä¸ªç±»ä¹‹é—´å…±äº«æ•°æ®å’ŒåŠŸèƒ½ï¼Œè€Œä¸æš´éœ²è¿™äº›æ•°æ®ç»™å…¶ä»–ç±»ã€‚ä¾‹å¦‚ï¼Œåœ¨æŸäº›åº“ä¸­ï¼Œå¯èƒ½æœ‰ä¸€ä¸ªç±»è´Ÿè´£ç®¡ç†èµ„æºï¼ˆå¦‚å†…å­˜ç®¡ç†ï¼‰ï¼Œå¦ä¸€ä¸ªç±»è´Ÿè´£ä½¿ç”¨è¿™äº›èµ„æºã€‚ä¸ºäº†å®ç°é«˜æ•ˆå’Œç´§å¯†çš„åˆä½œï¼Œè¿™ä¸¤ä¸ªç±»å¯èƒ½éœ€è¦äº’ç›¸è®¿é—®å¯¹æ–¹çš„ç§æœ‰æˆå‘˜ï¼Œè¿™æ—¶å¯ä»¥å°†å…¶ä¸­ä¸€ä¸ªç±»å£°æ˜ä¸ºå‹å…ƒç±»ã€‚</li><li><strong>å®ç°æˆå‘˜å…±äº«</strong>ï¼šå‹å…ƒç±»é€šå¸¸ç”¨äºéœ€è¦ç›¸äº’è®¿é—®æˆå‘˜æ•°æ®çš„ç±»ï¼Œç‰¹åˆ«æ˜¯åœ¨æŸäº›ç®—æ³•å’Œæ•°æ®ç»“æ„çš„å®ç°ä¸­ï¼Œå¦‚é“¾è¡¨ã€æ ‘ã€å›¾ç­‰ã€‚</li></ul><p><strong>å‹å…ƒç±»çš„è®¾è®¡ç¤ºä¾‹</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span>;  <span class="hljs-comment">// å‰å‘å£°æ˜</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    Engine* engine;  <span class="hljs-comment">// Engine å¯¹è±¡æ˜¯ Car çš„ç§æœ‰æˆå‘˜</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Car</span>() : <span class="hljs-built_in">engine</span>(<span class="hljs-literal">nullptr</span>) &#123;&#125;<br><br>    <span class="hljs-comment">// å£°æ˜ Engine ä¸ºå‹å…ƒç±»</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span>;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Engine</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> horsepower;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Engine</span>(<span class="hljs-type">int</span> hp) : <span class="hljs-built_in">horsepower</span>(hp) &#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">setCarEngine</span><span class="hljs-params">(Car&amp; car)</span> </span>&#123;<br>        car.engine = <span class="hljs-keyword">this</span>;  <span class="hljs-comment">// Engine å¯ä»¥è®¿é—® Car çš„ç§æœ‰æˆå‘˜</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showCarEngineInfo</span><span class="hljs-params">()</span> </span>&#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Car engine horsepower: &quot;</span> &lt;&lt; horsepower &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Engine</code> ç±»è¢«å£°æ˜ä¸º <code>Car</code> ç±»çš„å‹å…ƒç±»ï¼Œä½¿å¾— <code>Engine</code> ç±»èƒ½å¤Ÿè®¿é—® <code>Car</code> ç±»çš„ç§æœ‰æˆå‘˜ã€‚</p><h4 id="å‹å…ƒç±»ä¸ç»§æ‰¿"><a href="#å‹å…ƒç±»ä¸ç»§æ‰¿" class="headerlink" title="å‹å…ƒç±»ä¸ç»§æ‰¿"></a><strong>å‹å…ƒç±»ä¸ç»§æ‰¿</strong></h4><p>å‹å…ƒç±»ä¸ç»§æ‰¿ä¹‹é—´æœ‰ä¸€äº›ç‰¹åˆ«çš„å…³ç³»ã€‚è™½ç„¶å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„å…¬å…±å’Œä¿æŠ¤æˆå‘˜ï¼Œä½†<strong>å‹å…ƒå…³ç³»ä¸è¢«ç»§æ‰¿</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ<strong>æŸä¸ªç±»æ˜¯å¦ä¸€ä¸ªç±»çš„å‹å…ƒç±»ï¼Œå®ƒå¹¶ä¸èƒ½è‡ªåŠ¨æˆä¸ºå…¶å­ç±»çš„å‹å…ƒç±»</strong>ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br>    <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">value</span>(val) &#123;&#125;<br>    <span class="hljs-keyword">friend</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span>;  <span class="hljs-comment">// B æ˜¯ A çš„å‹å…ƒç±»</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">public</span> A &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">C</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">A</span>(val) &#123;&#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">showValue</span><span class="hljs-params">(A&amp; obj)</span> </span>&#123;<br>        std::cout &lt;&lt; obj.value &lt;&lt; std::endl;  <span class="hljs-comment">// B å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">A <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    B b;<br>    b.<span class="hljs-built_in">showValue</span>(a);  <span class="hljs-comment">// æ­£å¸¸ï¼ŒB å¯ä»¥è®¿é—® A çš„ç§æœ‰æˆå‘˜</span><br><br>    <span class="hljs-function">C <span class="hljs-title">c</span><span class="hljs-params">(<span class="hljs-number">20</span>)</span></span>;<br>    <span class="hljs-comment">// b.showValue(c);  // é”™è¯¯ï¼ŒC æ²¡æœ‰ç»§æ‰¿ B å¯¹ A çš„å‹å…ƒå…³ç³»</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>B</code> æ˜¯ <code>A</code> çš„å‹å…ƒç±»ï¼Œä½† <code>C</code> å¹¶æ²¡æœ‰ç»§æ‰¿ <code>B</code> å¯¹ <code>A</code> çš„å‹å…ƒå…³ç³»ï¼Œå› æ­¤ <code>B</code> æ— æ³•è®¿é—® <code>C</code> çš„ç§æœ‰æˆå‘˜ã€‚</p><h4 id="å‹å…ƒä¸å°è£…"><a href="#å‹å…ƒä¸å°è£…" class="headerlink" title="å‹å…ƒä¸å°è£…"></a><strong>å‹å…ƒä¸å°è£…</strong></h4><p>å°½ç®¡ <code>friend</code> å…è®¸ç±»å¤–éƒ¨çš„å‡½æ•°å’Œç±»è®¿é—®ç§æœ‰æˆå‘˜ï¼Œä½†å®ƒä»ç„¶ä¿æŒäº†ä¸€å®šçš„å°è£…æ€§ã€‚åœ¨è®¾è®¡æ—¶ï¼Œåº”æ³¨æ„ä¸è¦è¿‡åº¦ä½¿ç”¨å‹å…ƒå…³ç³»ï¼Œå› ä¸ºè¿‡å¤šçš„å‹å…ƒå¯èƒ½ä¼šç ´åç±»çš„å°è£…æ€§ï¼Œå¢åŠ ç±»ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå¯¼è‡´ç»´æŠ¤å›°éš¾ã€‚</p><ul><li><strong>é€‚åº¦ä½¿ç”¨å‹å…ƒ</strong>ï¼šåªæœ‰åœ¨ç¡®å®éœ€è¦ç±»ä¹‹é—´ç´§å¯†åˆä½œæ—¶ï¼Œæ‰åº”è€ƒè™‘ä½¿ç”¨å‹å…ƒå…³ç³»ã€‚å°¤å…¶æ˜¯å½“æŸäº›å‡½æ•°éœ€è¦è®¿é—®ç±»çš„å†…éƒ¨ç»†èŠ‚æ—¶ï¼Œå‹å…ƒå‡½æ•°å’Œå‹å…ƒç±»å¯ä»¥æä¾›éå¸¸å¼ºå¤§çš„åŠŸèƒ½ã€‚</li><li><strong>å‡å°‘å‹å…ƒçš„ä½¿ç”¨</strong>ï¼šä¸æ¨èéšæ„å°†å¤§é‡çš„ç±»æˆ–å‡½æ•°å£°æ˜ä¸ºå‹å…ƒï¼Œå°½é‡ä¿æŒç±»çš„å°è£…æ€§ï¼Œä½¿å…¶æ›´å…·ç‹¬ç«‹æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li></ul><blockquote><p>æˆ‘ä»¬ä¼šåœ¨ <a href="https://xiyuanyang-code.github.io/posts/Code-Reuse-in-OOP/">è¿™ç¯‡åšå®¢</a> ä¸­èŠ±æ›´å¤šçš„ç¯‡å¹…ä»‹ç»å‹å…ƒç±»ã€‚</p></blockquote><h2 id="è¿ç®—ç¬¦é‡è½½"><a href="#è¿ç®—ç¬¦é‡è½½" class="headerlink" title="è¿ç®—ç¬¦é‡è½½"></a>è¿ç®—ç¬¦é‡è½½</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">operator</span>[op](argument-list)&#123;<br>    <span class="hljs-comment">//è¿ç®—ç¬¦é‡è½½çš„å…·ä½“å®ç°ç»†èŠ‚</span><br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>è¿ç®—ç¬¦é‡è½½ä¹Ÿå¯ä»¥çœ‹åšæ˜¯OOP<strong>å¤šæ€</strong>ç²¾ç¥çš„ä¸€éƒ¨åˆ†ï¼Œæ ‡å‡†åº“ä¸­æ¯ä¸ªè¿ç®—ç¬¦éƒ½æœ‰è‡ªå·±çš„å®šä¹‰ï¼Œç°åœ¨æˆ‘ä»¬åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šæ–°å®šä¹‰æ–°çš„è¯­æ³•è§„åˆ™ã€‚</p></blockquote><p><img src="https://ooo.0x0.ooo/2025/01/23/OG7ftP.png" alt="Operator"></p><ul><li><p>å¯ä»¥å®ç°è¿ç®—ç¬¦é‡è½½çš„è¿ç®—ç¬¦</p></li><li><p>é‡è½½è¿ç®—ç¬¦çš„æ€§è´¨</p><ul><li>å¿…é¡»æœ‰ä¸€ä¸ªæ“ä½œæ•°æ˜¯ç”¨æˆ·å®šä¹‰çš„ç±»å‹</li><li>ä¸èƒ½è¿åè¿ç®—ç¬¦åŸæ¥çš„å¥æ³•è§„åˆ™ï¼ˆåŒ…æ‹¬ä¼˜å…ˆçº§ï¼‰</li><li>ä¸èƒ½åˆ›å»ºæ–°çš„è¿ç®—ç¬¦</li></ul></li></ul><p>ä¸‹æ–‡ç»™å‡ºäº†å¯¹<code>Rational</code>ç±»çš„ç›¸å…³è¿ç®—ç¬¦é‡è½½ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rational</span> &#123;<br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-type">int</span> num;<br>        <span class="hljs-type">int</span> den;<br>            <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ReductFraction</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Rational</span>(<span class="hljs-type">int</span> n = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> d = <span class="hljs-number">1</span>) &#123; <br>            num = n; den = d; <br>            <span class="hljs-built_in">ReductFraction</span>();<br>        &#125;<br>        Rational <span class="hljs-keyword">operator</span> + (<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span>; <span class="hljs-comment">//+è¿ç®—ç¬¦é‡è½½</span><br>        Rational <span class="hljs-keyword">operator</span> * (<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span>; <span class="hljs-comment">//*è¿ç®—ç¬¦é‡è½½</span><br>        <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span>; <span class="hljs-comment">//&lt;è¿ç®—ç¬¦é‡è½½</span><br>        <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> == (<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span>; <span class="hljs-comment">//==è¿ç®—ç¬¦é‡è½½</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; cout &lt;&lt; num &lt;&lt; <span class="hljs-string">&#x27;/&#x27;</span> &lt;&lt; den;&#125;<br>&#125;;<br><span class="hljs-comment">//é‡è½½äº†+ *è¿ç®—ï¼Œè¿”å›ä¸€ä¸ªæœ¬ç±»å‹çš„å¯¹è±¡</span><br><span class="hljs-comment">//è¿™é‡Œä¸ç”¨è¿”å›ä¸€ä¸ªå¯¹æœ¬ç±»å‹å¯¹è±¡çš„å¼•ç”¨ï¼Œå› ä¸ºæ˜¯ä¸´æ—¶å˜é‡ï¼Œè¿›è¡ŒæŒ‰å€¼ä¼ é€’ï¼ˆå¦‚æœæ¶‰åŠåˆ°æŒ‡é’ˆéœ€è¦é‡è½½èµ‹å€¼è¿ç®—ç¬¦ï¼Œç¨åä¼šè®²åˆ°ï¼‰</span><br>Rational Rational::<span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span><br>&#123;<br>    Rational tmp;<br>    tmp.num = num * r<span class="hljs-number">1.</span>den + r<span class="hljs-number">1.</span>num * den;<br>    tmp.den = den * r<span class="hljs-number">1.</span>den;<br>    tmp.<span class="hljs-built_in">ReductFraction</span>();<br>    <span class="hljs-keyword">return</span> tmp;<br>&#125;<br>Rational Rational::<span class="hljs-keyword">operator</span>*(<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span><br>&#123;<br>    Rational tmp;<br>    tmp.num = num * r<span class="hljs-number">1.</span>num;<br>    tmp.den = den * r<span class="hljs-number">1.</span>den;<br>    tmp.<span class="hljs-built_in">ReductFraction</span>();<br>    <span class="hljs-keyword">return</span> tmp;<br>&#125;<br><span class="hljs-comment">//é‡è½½äº†å…³ç³»è¿ç®—ç¬¦ï¼Œéœ€è¦è¿”å›ä¸€ä¸ªboolå€¼</span><br><span class="hljs-type">bool</span> Rational::<span class="hljs-keyword">operator</span> &lt; (<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">return</span> num * r<span class="hljs-number">1.</span>den &lt; den * r<span class="hljs-number">1.</span>num;<br>&#125;<br><span class="hljs-type">bool</span> Rational::<span class="hljs-keyword">operator</span> == (<span class="hljs-type">const</span> Rational &amp;r1) <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-keyword">return</span> num == r<span class="hljs-number">1.</span>num &amp;&amp; den == r<span class="hljs-number">1.</span>den;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿ç®—ç¬¦é‡è½½æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œä»–æœ‰å¯¹åº”çš„è¿”å›å€¼ã€‚ï¼ˆä¾‹å¦‚é‡è½½èµ‹å€¼è¿ç®—ç¬¦éœ€è¦è¿”å›ä¸€ä¸ªboolå€¼ï¼Œé‡è½½åŠ æ³•è¿ç®—ç¬¦éœ€è¦è¿”å›ä¸€ä¸ªç±»ï¼‰ç¼–è¯‘æ—¶ï¼Œ ç¼–è¯‘å™¨å°† <code>r3 = r1 + r2</code> è§£é‡Šæˆ <code>r3 = r1.operator+(r2)</code>ï¼Œ <code>r3 = r1 * r2</code> è§£é‡Šæˆ <code>r3 = r1.operator*(r2)</code>ï¼Œ <code>r1 == r2</code> è§£é‡Šæˆ <code>r1.operator==(r2)</code>ï¼Œ <code>r1 &lt; r3</code> è§£é‡Šæˆ <code>r1.operator&lt;(r3)</code>ã€‚   </p><p>å¦‚ä½•ç†è§£<code>r3 = r1.operator+(r2)</code>ï¼Ÿä½ å¯ä»¥æŠŠ<code>operator+</code>å½“æˆæ˜¯ä¸€ç§å‡½æ•°åï¼Œå¯¹è±¡<code>r1</code>è°ƒç”¨è‡ªå·±çš„æ–¹æ³•<code>operator+()</code>å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°åˆ—è¡¨æ˜¯<code>r2</code>ï¼ˆä¸€ä¸ªå¯¹æœ¬ç±»å‹å¯¹è±¡çš„<code>const</code>å¼•ç”¨ï¼‰ã€‚</p><p>è¿™ 4 ä¸ªè¿ç®—ç¬¦ä¹Ÿå¯ä»¥é‡è½½æˆå…¨å±€å‡½æ•°ã€‚ç”±äºé‡è½½å‡½æ•°ä¸»è¦æ˜¯å¯¹å¯¹è±¡çš„æ•°æ®æˆå‘˜è¿›è¡Œæ“ä½œï¼Œè€Œåœ¨ä¸€èˆ¬çš„ç±»å®šä¹‰ä¸­ï¼Œæ•°æ®æˆå‘˜éƒ½è¢«å®šä¹‰æˆç§æœ‰çš„ã€‚å› æ­¤ï¼Œå½“è¿ç®—ç¬¦è¢«é‡è½½æˆå…¨å±€å‡½æ•°æ—¶ï¼Œé€šå¸¸å°†<strong>æ­¤é‡è½½å‡½æ•°è®¾ä¸ºç±»çš„å‹å…ƒå‡½æ•°ï¼Œä¾¿äºè®¿é—®ç±»çš„ç§æœ‰æ•°æ®æˆå‘˜</strong>ã€‚  ï¼ˆåœ¨åæ–‡å…³äºå‹å…ƒå‡½æ•°çš„ç« èŠ‚ä¼šæ¶‰åŠï¼‰</p><p>å¤§å¤šæ•°è¿ç®—ç¬¦éƒ½å¯ä»¥é‡è½½æˆæˆå‘˜å‡½æ•°æˆ–å…¨å±€å‡½æ•°ã€‚ä½†æ˜¯<strong>èµ‹å€¼è¿ç®—ç¬¦ï¼ˆ &#x3D;ï¼‰ã€ä¸‹æ ‡è¿ç®—ç¬¦ï¼ˆ []ï¼‰ã€å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼ˆ ()ï¼‰å¿…é¡»é‡è½½æˆæˆå‘˜å‡½æ•°</strong>ï¼Œå› ä¸ºè¿™äº›è¿ç®—ç¬¦çš„<strong>ç¬¬ä¸€ä¸ªè¿ç®—å¯¹è±¡å¿…é¡»æ˜¯ç›¸åº”ç±»çš„å¯¹è±¡</strong>ï¼Œå®šä¹‰æˆæˆå‘˜å‡½æ•°å¯ä»¥ä¿è¯ç¬¬ä¸€ä¸ªè¿ç®—å¯¹è±¡çš„æ­£ç¡®æ€§ã€‚å¦‚æœç¬¬ä¸€ä¸ªè¿ç®—å¯¹è±¡ä¸æ˜¯ç›¸åº”ç±»çš„å¯¹è±¡ï¼Œç¼–è¯‘å™¨èƒ½æ£€æŸ¥å‡ºæ­¤é”™è¯¯ã€‚ å…·æœ‰<strong>èµ‹å€¼æ„ä¹‰çš„è¿ç®—ç¬¦ï¼ˆå¦‚å¤åˆçš„èµ‹å€¼è¿ç®—ç¬¦ä»¥åŠ++å’Œâ€“ï¼‰ ä¸ä¸€å®šéè¦é‡è½½ä¸ºæˆå‘˜å‡½æ•°ï¼Œä½†å»ºè®®é‡è½½ä¸ºæˆå‘˜å‡½æ•°</strong>ã€‚å…·æœ‰ä¸¤ä¸ªè¿ç®—å¯¹è±¡ä¸”è®¡ç®—ç»“æœä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡çš„è¿ç®—ç¬¦å»ºè®®é‡è½½ä¸º<strong>å…¨å±€å‡½æ•°</strong>ï¼Œå¦‚ +ã€ -ã€ &gt;ç­‰ï¼Œè¿™æ ·å¯ä»¥ä½¿åº”ç”¨æ›´åŠ çµæ´»ã€‚  </p><h3 id="èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½"><a href="#èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½"></a>èµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½</h3><p>**<a href="https://xiyuanyang-code.github.io/posts/Dynamic-Memory-and-Classes/">ç±»å’ŒåŠ¨æ€å†…å­˜åˆ†é…</a>**ï¼Œå»ºè®®é˜…è¯»ä»¥è·å¾—æ›´å¥½çš„ä¸Šä¸‹æ–‡ä½“éªŒã€‚</p><p>ç®€å•æ¥è¯´ï¼Œåœ¨ç±»ä¸­çš„é»˜è®¤èµ‹å€¼è¿ç®—ç¬¦æ‰§è¡Œçš„æ˜¯<strong>æµ…æ‹·è´</strong>çš„è¿‡ç¨‹ï¼Œå°†æ¯ä¸€ä¸ªæ•°æ®æˆå‘˜çš„<strong>å€¼</strong>æ‹·è´ç»™å¦ä¸€ä¸ªç±»ä¸­å¯¹åº”çš„æ•°æ®æˆå‘˜ã€‚è€Œå¯¹äº<strong>æŒ‡é’ˆæˆå‘˜</strong>ï¼ŒæŒ‡é’ˆæˆå‘˜çš„å€¼æ˜¯æŒ‡å‘çš„ä¸€å—<strong>å†…å­˜åœ°å€</strong>ï¼Œè€Œå¹¶é<strong>æŒ‡å‘å˜é‡çš„å€¼</strong>ï¼è¿™å°±ä¼šå¯¼è‡´èµ‹å€¼çš„ä¸¤ä¸ªå¯¹è±¡çš„æŒ‡é’ˆæ•°æ®æˆå‘˜æŒ‡å‘äº†åŒä¸€å—å†…å­˜ï¼Œéƒ½å…·æœ‰å¯¹è¿™å—å†…å­˜çš„<strong>ä¿®æ”¹æƒé™</strong>ã€‚åŒæ—¶ï¼Œå¦‚æœä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œå¾ˆæœ‰å¯èƒ½å¯¹deleteæ‰åŒä¸€å—å†…å­˜ä¸¤æ¬¡ï¼Œäº§ç”Ÿé”™è¯¯ã€‚</p><p><strong>å› æ­¤ï¼Œèµ‹å€¼è¿ç®—ç¬¦çš„é‡è½½æœ¬è´¨ä¸Šå°±æ˜¯å¯¹æŒ‡é’ˆç­‰ç‰¹æ®Šæƒ…å†µç‰¹æ®Šå¤„ç†ï¼Œè¿›è¡Œâ€œæ·±æ‹·è´â€</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++">MyClass&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> MyClass&amp; other) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == &amp;other)  <span class="hljs-comment">// é˜²æ­¢è‡ªæˆ‘èµ‹å€¼</span><br>            <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br><br>        <span class="hljs-comment">// å…ˆé‡Šæ”¾å½“å‰å¯¹è±¡çš„èµ„æº</span><br>        <span class="hljs-keyword">delete</span> data;<br><br>        <span class="hljs-comment">// åˆ†é…æ–°çš„å†…å­˜å¹¶å¤åˆ¶æ•°æ®</span><br>        data = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(*(other.data));<br><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å·¦æ“ä½œæ•°çš„å¼•ç”¨</span><br>    &#125;<br></code></pre></td></tr></table></figure><p>åœ¨C++ä¸­ï¼Œ<strong>èµ‹å€¼æ˜¯ä¸€ç§è¿ç®—</strong>ï¼Œèµ‹å€¼è¿ç®—è¯­å¥çš„è¿”å›å€¼æ˜¯å·¦è¾¹ï¼ˆå·¦å€¼ï¼‰è¢«èµ‹å€¼çš„å¯¹è±¡çš„å€¼ã€‚å› æ­¤ï¼Œ<strong>èµ‹å€¼è¿ç®—ç¬¦å¿…é¡»è¿”å›å¯¹å·¦è¾¹å¯¹è±¡çš„å¼•ç”¨ï¼Œå³è¿”å›ä¸€ä¸ªå·¦å€¼ã€‚</strong></p><blockquote><p>è¿™æ ·åšå…è®¸äº†<code>a=b=c</code>çš„é“¾å¼èµ‹å€¼æ“ä½œï¼Œåœ¨æµè¾“å…¥è¾“å‡ºè¿ç®—è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p></blockquote><p>ä¸ç§»åŠ¨æ„é€ ç±»ä¼¼ï¼Œ C++11 æå‡ºäº†<strong>ç§»åŠ¨èµ‹å€¼</strong>çš„æ¦‚å¿µï¼Œè®©å·¦è¾¹çš„å¯¹è±¡ç›´æ¥æ¥ç®¡å³è¾¹ä¸´æ—¶å¯¹è±¡çš„èµ„æºï¼Œä»¥æé«˜èµ‹å€¼è¿‡ç¨‹çš„æ—¶é—´æ€§èƒ½ã€‚ç§»åŠ¨èµ‹å€¼çš„å³å€¼æ˜¯ä¸´æ—¶å¯¹è±¡ï¼Œå› æ­¤å®ƒçš„<strong>å½¢å¼å‚æ•°æ˜¯åŒç±»å¯¹è±¡çš„å³å€¼å¼•ç”¨</strong>ï¼Œè¿”å›å€¼æ˜¯<strong>å½“å‰å¯¹è±¡çš„å¼•ç”¨</strong>ã€‚ä¾‹å¦‚ï¼Œä¸º DoubleArray ç±»å¢åŠ ä¸€ä¸ªç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦é‡è½½å‡½æ•°ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++">DoubleArray &amp;DoubleArray::<span class="hljs-keyword">operator</span>=(DoubleArray &amp;&amp; a) &#123;<br>    <span class="hljs-keyword">delete</span> [] storage;<br>    low = a.low;<br>    high = a.high;<br>    storage = a.storage;<br>    a.storage = <span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å‡½æ•°é¦–å…ˆé‡Šæ”¾å·¦è¾¹å¯¹è±¡çš„ç©ºé—´ï¼Œç„¶åç›´æ¥æ¥ç®¡å³è¾¹å¯¹è±¡çš„ç©ºé—´ï¼Œå°±ä¸å†éœ€è¦å¤åˆ¶æ•°ç»„å…ƒç´ äº†ã€‚</p><h3 id="ä¸‹æ ‡è¿ç®—ç¬¦çš„é‡è½½"><a href="#ä¸‹æ ‡è¿ç®—ç¬¦çš„é‡è½½" class="headerlink" title="ä¸‹æ ‡è¿ç®—ç¬¦çš„é‡è½½"></a>ä¸‹æ ‡è¿ç®—ç¬¦çš„é‡è½½</h3><p>ä¸‹æ ‡è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦ï¼Œç¬¬ä¸€ä¸ªè¿ç®—æ•°æ˜¯<strong>æ“ä½œå¯¹è±¡</strong>ï¼Œç¬¬äºŒä¸ªè¿ç®—æ•°æ˜¯<strong>ä¸‹æ ‡å€¼</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdexcept&gt;</span>  <span class="hljs-comment">// ä¸ºäº†æŠ›å‡ºå¼‚å¸¸</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArray</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span>* data;<span class="hljs-comment">//ä¸€ä¸ªintæŒ‡é’ˆï¼ˆå½“æ•°ç»„ç”¨ï¼‰</span><br>    <span class="hljs-type">size_t</span> size;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyArray</span>(<span class="hljs-type">size_t</span> s) : <span class="hljs-built_in">size</span>(s) &#123;<br>        data = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[size];<br>    &#125;<br><br>    <span class="hljs-comment">// ææ„å‡½æ•°</span><br>    ~<span class="hljs-built_in">MyArray</span>() &#123;<br>        <span class="hljs-keyword">delete</span>[] data;<br>    &#125;<br><br>    <span class="hljs-comment">// éå¸¸é‡ç‰ˆæœ¬çš„ä¸‹æ ‡è¿ç®—ç¬¦é‡è½½ï¼ˆå…è®¸ä¿®æ”¹å…ƒç´ ï¼‰</span><br>    <span class="hljs-type">int</span>&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">size_t</span> index) &#123;<br>        <span class="hljs-keyword">if</span> (index &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Index out of range&quot;</span>);<br>            <span class="hljs-comment">//è¿›è¡Œè¶Šç•Œæ£€æŸ¥</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> data[index];<br>    &#125;<br><br>    <span class="hljs-comment">// å¸¸é‡ç‰ˆæœ¬çš„ä¸‹æ ‡è¿ç®—ç¬¦é‡è½½ï¼ˆä¸å…è®¸ä¿®æ”¹å…ƒç´ ï¼‰</span><br>    <span class="hljs-type">const</span> <span class="hljs-type">int</span>&amp; <span class="hljs-keyword">operator</span>[](<span class="hljs-type">size_t</span> index) <span class="hljs-type">const</span> &#123;<br>        <span class="hljs-keyword">if</span> (index &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> std::<span class="hljs-built_in">out_of_range</span>(<span class="hljs-string">&quot;Index out of range&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> data[index];<br>    &#125;<br><br>    <span class="hljs-comment">// è·å–æ•°ç»„å¤§å°</span><br>    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">getSize</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> size;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyArray <span class="hljs-title">arr</span><span class="hljs-params">(<span class="hljs-number">5</span>)</span></span>;  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåŒ…å« 5 ä¸ªæ•´æ•°çš„æ•°ç»„</span><br><br>    <span class="hljs-comment">// ä½¿ç”¨ä¸‹æ ‡è¿ç®—ç¬¦ä¿®æ”¹å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-built_in">getSize</span>(); ++i) &#123;<br>        arr[i] = i * <span class="hljs-number">10</span>;  <span class="hljs-comment">// è®¾ç½® arr[0] = 0, arr[1] = 10, arr[2] = 20, ...</span><br>    &#125;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ä¸‹æ ‡è¿ç®—ç¬¦è¯»å–å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-built_in">getSize</span>(); ++i) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;arr[&quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot;] = &quot;</span> &lt;&lt; arr[i] &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">// è®¿é—®å¸¸é‡å¯¹è±¡</span><br>    <span class="hljs-function"><span class="hljs-type">const</span> MyArray <span class="hljs-title">constArr</span><span class="hljs-params">(<span class="hljs-number">3</span>)</span></span>;<br>    <span class="hljs-comment">// constArr[0] = 100;  // é”™è¯¯ï¼šå¸¸é‡å¯¹è±¡ä¸èƒ½ä¿®æ”¹</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;constArr[0] = &quot;</span> &lt;&lt; constArr[<span class="hljs-number">0</span>] &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„é‡è½½"><a href="#å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„é‡è½½" class="headerlink" title="å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„é‡è½½"></a>å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦çš„é‡è½½</h3><p>C++å°†å‡½æ•°è°ƒç”¨ä¹Ÿä½œä¸ºä¸€ç§è¿ç®—ã€‚ å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦()æ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦ã€‚ç¬¬ä¸€ä¸ªè¿ç®—å¯¹è±¡æ˜¯<strong>å‡½æ•°å</strong>ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯<strong>å‡½æ•°çš„å½¢å¼å‚æ•°è¡¨</strong>ï¼Œè¿ç®—ç»“æœæ˜¯<strong>å‡½æ•°çš„è¿”å›å€¼</strong>ã€‚å¦‚æœä¸€ä¸ªç±»é‡è½½äº†å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼Œå°±å¯ä»¥æŠŠ<strong>è¿™ä¸ªç±»çš„å¯¹è±¡å½“ä½œå‡½æ•°</strong>æ¥ä½¿ç”¨ã€‚å› ä¸ºæ˜¯æŠŠå½“å‰ç±»çš„å¯¹è±¡å½“ä½œå‡½æ•°ä½¿ç”¨ï¼Œæ‰€ä»¥()è¿ç®—çš„ç¬¬ä¸€ä¸ªè¿ç®—æ•°æ˜¯å½“å‰ç±»çš„å¯¹è±¡ï¼Œ C++è§„å®šå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦å¿…é¡»é‡è½½æˆæˆå‘˜å‡½æ•°ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘æœ‰æ•°ç»„ç±»<code>array</code>å’Œæ•°ç»„ç±»å¯¹è±¡<code>arr</code>ï¼Œå¦‚æœæˆ‘åœ¨<code>array</code>ä¸­é‡è½½äº†å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆ<code>arr(1,2)</code>è¿™ç§æ“ä½œå°±æ˜¯åˆæ³•çš„ï¼Œå³<strong>å¯¹è±¡åå°±æ˜¯å‡½æ•°åï¼</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Multiplier</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> factor;  <span class="hljs-comment">// ä¹˜æ•°</span><br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼šåˆå§‹åŒ– factor</span><br>    <span class="hljs-built_in">Multiplier</span>(<span class="hljs-type">int</span> f) : <span class="hljs-built_in">factor</span>(f) &#123;&#125;<br><br>    <span class="hljs-comment">// é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> factor * value;  <span class="hljs-comment">// è¿”å›å€¼ä¹˜ä»¥ factor</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª Multiplier å¯¹è±¡ï¼Œä¹˜æ•°ä¸º 5</span><br>    <span class="hljs-function">Multiplier <span class="hljs-title">multiplyBy5</span><span class="hljs-params">(<span class="hljs-number">5</span>)</span></span>;<br><br>    <span class="hljs-comment">// ä½¿ç”¨é‡è½½çš„å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦è¿›è¡Œè®¡ç®—</span><br>    <span class="hljs-type">int</span> result = <span class="hljs-built_in">multiplyBy5</span>(<span class="hljs-number">10</span>);  <span class="hljs-comment">// ç›¸å½“äº multiplyBy5.operator()(10)</span><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;Result: &quot;</span> &lt;&lt; result &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡ºï¼š50</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="å’Œ-è¿ç®—ç¬¦çš„é‡è½½"><a href="#å’Œ-è¿ç®—ç¬¦çš„é‡è½½" class="headerlink" title="++å’Œ--è¿ç®—ç¬¦çš„é‡è½½"></a><code>++</code>å’Œ<code>--</code>è¿ç®—ç¬¦çš„é‡è½½</h3><p> <code>++</code>å’Œ<code>--</code>éƒ½æ˜¯ä¸€å…ƒè¿ç®—ç¬¦ï¼Œå®ƒä»¬å¯è¢«é‡è½½æˆæˆå‘˜å‡½æ•°æˆ–å‹å…ƒå‡½æ•°ã€‚ä½†å› ä¸ºè¿™ä¸¤ä¸ªè¿ç®—ç¬¦æ”¹å˜äº†è¿ç®—å¯¹è±¡çš„çŠ¶æ€ï¼Œæ‰€ä»¥æ›´å€¾å‘äºå°†å®ƒä»¬ä½œä¸ºæˆå‘˜å‡½æ•°ã€‚åœ¨è€ƒè™‘é‡è½½</p><p><code>++</code>å’Œ<code>--</code>è¿ç®—ç¬¦æ—¶ï¼Œå¿…é¡»æ³¨æ„ä¸€ä¸ªé—®é¢˜ã€‚ <code>++</code>å’Œ<code>--</code>æ—¢å¯ä»¥ä½œä¸ºå‰ç¼€ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºåç¼€ä½¿ç”¨ã€‚è€Œä¸”è¿™ä¸¤ç§ç”¨æ³•çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼šä½œä¸ºå‰ç¼€ä½¿ç”¨æ—¶ï¼Œè¿ç®—ç»“æœæ˜¯ä¿®æ”¹ä»¥åçš„å¯¹è±¡å¼•ç”¨ï¼›ä½œä¸ºåç¼€ä½¿ç”¨æ—¶ï¼Œè¿ç®—ç»“æœæ˜¯ä¿®æ”¹ä»¥å‰çš„å¯¹è±¡å€¼ã€‚ä¸ºäº†ä¸å†…ç½®ç±»å‹ä¸€è‡´ï¼Œé‡è½½åçš„<code>++</code>å’Œ<code>--</code>ä¹Ÿåº”å…·æœ‰è¿™ä¸ªç‰¹æ€§ã€‚ä¸ºæ­¤ï¼Œå¯¹äº<code>++</code>å’Œ<code>--</code>è¿ç®—ï¼Œæ¯ä¸ªè¿ç®—ç¬¦å¿…é¡»<strong>æä¾›ä¸¤ä¸ªé‡è½½å‡½æ•°ï¼šä¸€ä¸ªå¤„ç†å‰ç¼€è¿ç®—ï¼›å¦ä¸€ä¸ªå¤„ç†åç¼€è¿ç®—</strong>ã€‚</p><p>ä½†é—®é¢˜æ˜¯ï¼Œå¤„ç†++çš„ä¸¤ä¸ªé‡è½½å‡½æ•°çš„åŸå‹é™¤äº†è¿”å›ç±»å‹ä¸åŒä¹‹å¤–ï¼Œå…¶ä»–æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå¤„ç†â€“çš„ä¸¤ä¸ªé‡è½½å‡½æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚è€Œä»…è¿”å›ç±»å‹ä¸åŒçš„ä¸¤ä¸ªå‡½æ•°æ— æ³•å½¢æˆé‡è½½å‡½æ•°ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ C++è§„å®š<strong>åç¼€è¿ç®—ç¬¦é‡è½½å‡½æ•°æ¥æ”¶ä¸€ä¸ªé¢å¤–çš„ï¼ˆå³æ— ç”¨çš„ï¼‰ int å‹çš„å½¢å¼å‚æ•°</strong>ã€‚ä½¿ç”¨åç¼€è¿ç®—ç¬¦æ—¶ï¼Œç¼–è¯‘å™¨ç”¨ 0 ä½œä¸ºè¿™ä¸ªå‚æ•°çš„å€¼ã€‚å½“ç¼–è¯‘å™¨çœ‹åˆ°ä¸€ä¸ªå‰ç¼€è¡¨ç¤ºçš„++æˆ–â€“æ—¶ï¼Œè°ƒç”¨æ­£å¸¸é‡è½½çš„è¿™ä¸ªå‡½æ•°ã€‚å¦‚æœçœ‹åˆ°çš„æ˜¯ä¸€ä¸ªåç¼€è¡¨ç¤ºçš„++æˆ–â€“ï¼Œåˆ™<strong>è°ƒç”¨æœ‰ä¸€ä¸ªé¢å¤–å‚æ•°çš„é‡è½½å‡½æ•°</strong>ã€‚è¿™æ ·å°±æŠŠå‰ç¼€å’Œåç¼€çš„é‡è½½å‡½æ•°åŒºåˆ†å¼€äº†ã€‚</p><h4 id="å‰ç¼€"><a href="#å‰ç¼€" class="headerlink" title="å‰ç¼€"></a>å‰ç¼€</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">value</span>(v) &#123;&#125;<br><br>    <span class="hljs-comment">// å‰ç¼€ ++ è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>++() &#123;<br>        ++value;  <span class="hljs-comment">// å¢åŠ æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br>    <span class="hljs-comment">// å‰ç¼€ -- è¿ç®—ç¬¦é‡è½½</span><br>    MyClass&amp; <span class="hljs-keyword">operator</span>--() &#123;<br>        --value;  <span class="hljs-comment">// å‡å°‘æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// è¿”å›å½“å‰å¯¹è±¡çš„å¼•ç”¨</span><br>    &#125;<br><br>    <span class="hljs-comment">// æ˜¾ç¤ºå€¼</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    obj.<span class="hljs-built_in">display</span>();<br><br>    ++obj;  <span class="hljs-comment">// å‰ç¼€++ è¿ç®—ç¬¦</span><br>    obj.<span class="hljs-built_in">display</span>();<br><br>    --obj;  <span class="hljs-comment">// å‰ç¼€-- è¿ç®—ç¬¦</span><br>    obj.<span class="hljs-built_in">display</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><div class="note note-primary">            <p><strong>æ³¨æ„ï¼šå‰ç¼€è¿ç®—ç¬¦çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹æœ¬å¯¹è±¡çš„å¼•ç”¨</strong>ï¼Œè¿™æ ·å¯ä»¥ä½¿è¿ç®—ç¬¦åœ¨è¿ç»­è°ƒç”¨æ—¶è¿›è¡Œé“¾å¼æ“ä½œï¼ˆä¾‹å¦‚ï¼š<code>++(++obj)</code>ï¼‰</p>          </div><h4 id="åç¼€"><a href="#åç¼€" class="headerlink" title="åç¼€"></a>åç¼€</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> value;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> v) : <span class="hljs-built_in">value</span>(v) &#123;&#125;<br><br>    <span class="hljs-comment">// åç¼€ ++ è¿ç®—ç¬¦é‡è½½</span><br>    MyClass <span class="hljs-keyword">operator</span>++(<span class="hljs-type">int</span>) &#123;<br>        MyClass temp = *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// ä¿å­˜å½“å‰å€¼</span><br>        ++value;  <span class="hljs-comment">// å¢åŠ æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> temp;  <span class="hljs-comment">// è¿”å›åŸå¯¹è±¡</span><br>    &#125;<br><br>    <span class="hljs-comment">// åç¼€ -- è¿ç®—ç¬¦é‡è½½</span><br>    MyClass <span class="hljs-keyword">operator</span>--(<span class="hljs-type">int</span>) &#123;<br>        MyClass temp = *<span class="hljs-keyword">this</span>;  <span class="hljs-comment">// ä¿å­˜å½“å‰å€¼</span><br>        --value;  <span class="hljs-comment">// å‡å°‘æˆå‘˜å˜é‡ value</span><br>        <span class="hljs-keyword">return</span> temp;  <span class="hljs-comment">// è¿”å›åŸå¯¹è±¡</span><br>    &#125;<br><br>    <span class="hljs-comment">// æ˜¾ç¤ºå€¼</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">display</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;Value: &quot;</span> &lt;&lt; value &lt;&lt; endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">MyClass <span class="hljs-title">obj</span><span class="hljs-params">(<span class="hljs-number">10</span>)</span></span>;<br>    obj.<span class="hljs-built_in">display</span>();<br><br>    obj++;  <span class="hljs-comment">// åç¼€++ è¿ç®—ç¬¦</span><br>    obj.<span class="hljs-built_in">display</span>();<br><br>    obj--;  <span class="hljs-comment">// åç¼€-- è¿ç®—ç¬¦</span><br>    obj.<span class="hljs-built_in">display</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><div class="note note-primary">            <p>æ³¨æ„ï¼š</p><ul><li>åç¼€è¿ç®—ç¬¦çš„å‚æ•°åˆ—è¡¨å¤šäº†ä¸€ä¸ª<code>int</code>ï¼Œè¿™æ˜¯C++ç”¨äºåŒºåˆ†å‰ç¼€åç¼€çš„æ–¹å¼</li><li>åç¼€è¿ç®—ç¬¦é‡è½½çš„è¿”å›ç±»å‹æ˜¯<strong>å€¼</strong>ï¼ˆä¼šä½¿ç”¨åˆ°èµ‹å€¼è¿ç®—ç¬¦ï¼‰ï¼Œå› æ­¤å¹¶ä¸èƒ½è¿”å›å¯¹ä¸€ä¸ªå±€éƒ¨å˜é‡çš„<strong>å¼•ç”¨</strong>ã€‚<ul><li><strong>å®é™…ä¸Šï¼Œç¼–è¯‘å™¨åœ¨æ‰§è¡Œ<code>i++</code>çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯å…ˆåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ä½œä¸ºiçš„åˆå§‹å€¼ï¼Œç„¶åæ‰§è¡Œè‡ªå¢æ“ä½œåè¿”å›å‰¯æœ¬çš„å€¼ï¼Œæ¥ç€å‰¯æœ¬è¢«é”€æ¯</strong>ã€‚</li><li>è¿™ç§æœºåˆ¶å¯¼è‡´äº†**<code>i++</code>æ‰€éœ€çš„è®¡ç®—å¼€é”€ä¼šé«˜äº<code>++i</code>**ï¼Œå°¤å…¶å½“iæ˜¯è‡ªå·±å®šä¹‰çš„å¯¹è±¡æˆ–å…¶ä»–å†…å­˜å æ¯”æ¯”è¾ƒå¤§çš„æ•°æ®ç±»å‹æ—¶ã€‚</li></ul></li></ul>          </div><h3 id="è¾“å…¥-è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½"><a href="#è¾“å…¥-è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½" class="headerlink" title="è¾“å…¥&#x2F;è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½"></a>è¾“å…¥&#x2F;è¾“å‡ºè¿ç®—ç¬¦çš„é‡è½½</h3><h4 id="é‡æ–°è®¤è¯†è¿ç®—ç¬¦"><a href="#é‡æ–°è®¤è¯†è¿ç®—ç¬¦" class="headerlink" title="é‡æ–°è®¤è¯†&lt;&lt;å’Œ&gt;&gt;è¿ç®—ç¬¦"></a>é‡æ–°è®¤è¯†<code>&lt;&lt;</code>å’Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦</h4><p>åœ¨ç¬”è€…çš„ç¬¬ä¸€å ‚C++å¯è’™è¯¾ä¸Šï¼Œç¬”è€…ä¾¿ä½“ä¼šåˆ°äº†<strong>æµæ“ä½œ</strong>çš„ç²¾å¦™å’Œä¾¿æ·ã€‚ï¼ˆç›¸æ¯”äº<code>printf()</code>å’Œ<code>scanf()</code>çš„å†—é•¿è¯­æ³•ï¼‰ä½†æ˜¯ï¼Œå½“æ—¶ç¬”è€…åªæ˜¯æŠŠ<code>cin/cout</code>å½“åšä¸€ä¸ªæ™®é€šçš„å‡½æ•°æ¥ä½¿ç”¨ï¼Œå¹¶ä¸çŸ¥é“å…¶èƒŒåæ·±å±‚æ¬¡çš„åŸç†ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬å…ˆæ¥é‡æ–°è®¤è¯†ä¸€ä¸‹cin&#x2F;coutçš„çœŸé¢ç›®ã€‚</p><h5 id="istreamå’Œostream"><a href="#istreamå’Œostream" class="headerlink" title="istreamå’Œostream"></a><code>istream</code>å’Œ<code>ostream</code></h5><p>åœ¨ C++ ä¸­ï¼Œ<strong>æµç±»ï¼ˆå¦‚ <code>std::istream</code> å’Œ <code>std::ostream</code>ï¼‰æ˜¯å¤„ç†è¾“å…¥è¾“å‡ºæ“ä½œçš„æ ¸å¿ƒç±»</strong>ï¼Œå®ƒä»¬ä¸ºç¨‹åºæä¾›äº†ä¸æ•°æ®æµè¿›è¡Œäº¤äº’çš„åŠŸèƒ½ã€‚è¿™äº›ç±»æ˜¯ C++ æ ‡å‡†åº“çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºç®€åŒ–ä¸æ–‡ä»¶ã€æ§åˆ¶å°ã€å­—ç¬¦ä¸²ç­‰è®¾å¤‡çš„äº¤äº’ã€‚</p><p><img src="https://ooo.0x0.ooo/2025/01/23/OG7l2b.png" alt="IOstream"></p><ol><li><strong><code>std::istream</code> ç±»</strong></li></ol><p><code>std::istream</code> ç±»æ˜¯ç”¨äºå¤„ç†è¾“å…¥æ“ä½œçš„ç±»ï¼Œæä¾›äº†ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®çš„åŠŸèƒ½ã€‚å®ƒæ˜¯æ‰€æœ‰è¾“å…¥æµç±»ï¼ˆå¦‚ <code>cin</code>ï¼‰çš„åŸºç±»ã€‚</p><ul><li><strong>æ„é€ å‡½æ•°</strong>ï¼š<code>std::istream</code> çš„æ„é€ å‡½æ•°å¯ä»¥ç”¨æ¥æ‰“å¼€æ–‡ä»¶æˆ–åˆå§‹åŒ–è¾“å…¥æµã€‚</li><li>æˆå‘˜å‡½æ•°<ul><li><code>operator&gt;&gt;</code>ï¼šæµæå–è¿ç®—ç¬¦ï¼Œç”¨äºä»æµä¸­æå–æ•°æ®ã€‚</li><li><code>get()</code>ï¼šç”¨äºè¯»å–ä¸€ä¸ªå­—ç¬¦æˆ–ä¸€è¡Œæ•°æ®ã€‚</li><li><code>read()</code>ï¼šä»æµä¸­è¯»å–ç‰¹å®šæ•°é‡çš„å­—ç¬¦ã€‚</li><li><code>eof()</code>ï¼šæ£€æŸ¥æ˜¯å¦åˆ°è¾¾æ–‡ä»¶ç»“æŸæ ‡å¿—ã€‚</li><li><code>fail()</code>ï¼šæ£€æŸ¥æµæ˜¯å¦è¿›å…¥å¤±è´¥çŠ¶æ€ã€‚</li></ul></li></ul><ol start="2"><li><strong><code>std::ostream</code> ç±»</strong></li></ol><p><code>std::ostream</code> ç±»æ˜¯ç”¨äºå¤„ç†è¾“å‡ºæ“ä½œçš„ç±»ï¼Œæä¾›äº†å°†æ•°æ®å†™å…¥è¾“å‡ºæµçš„åŠŸèƒ½ã€‚å®ƒæ˜¯æ‰€æœ‰è¾“å‡ºæµç±»ï¼ˆå¦‚ <code>cout</code>ï¼‰çš„åŸºç±»ã€‚</p><ul><li><p><strong>æ„é€ å‡½æ•°</strong>ï¼š<code>std::ostream</code> çš„æ„é€ å‡½æ•°ç”¨äºæ‰“å¼€è¾“å‡ºæµæˆ–åˆå§‹åŒ–è¾“å‡ºæµã€‚</p></li><li><p>æˆå‘˜å‡½æ•°</p><ul><li><code>operator&lt;&lt;</code>ï¼šæµæ’å…¥è¿ç®—ç¬¦ï¼Œç”¨äºå°†æ•°æ®æ’å…¥åˆ°æµä¸­ã€‚</li><li><code>put()</code>ï¼šç”¨äºå‘æµä¸­å†™å…¥ä¸€ä¸ªå­—ç¬¦ã€‚</li><li><code>write()</code>ï¼šç”¨äºå‘æµä¸­å†™å…¥ç‰¹å®šæ•°é‡çš„å­—ç¬¦ã€‚</li><li><code>flush()</code>ï¼šå¼ºåˆ¶è¾“å‡ºç¼“å†²åŒºå†…å®¹ï¼Œç¡®ä¿æ•°æ®ç«‹å³å†™å…¥æµã€‚</li><li><code>endl</code>ï¼šæ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦å¹¶åˆ·æ–°è¾“å‡ºæµã€‚</li></ul></li></ul><ol start="3"><li><strong>ç»§æ‰¿ç»“æ„</strong></li></ol><p><code>std::istream</code> å’Œ <code>std::ostream</code> ç±»æœ¬èº«éƒ½ç»§æ‰¿è‡ª <code>std::ios</code> ç±»ï¼Œå®ƒä»¬å…±äº«ä¸€äº›åŸºæœ¬çš„è¾“å…¥è¾“å‡ºåŠŸèƒ½ã€‚<code>std::ios</code> ç±»æä¾›äº†ç®¡ç†æµçŠ¶æ€çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ£€æŸ¥æ˜¯å¦å¤„äºé”™è¯¯çŠ¶æ€ã€æ˜¯å¦å·²åˆ°è¾¾æ–‡ä»¶æœ«å°¾ç­‰ã€‚</p><ul><li><strong><code>std::ios</code> ç±»</strong>ï¼š<code>std::ios</code> æ˜¯ <code>std::istream</code> å’Œ <code>std::ostream</code> çš„åŸºç±»ï¼Œè´Ÿè´£æµçš„åŸºæœ¬çŠ¶æ€ç®¡ç†ï¼ˆå¦‚é”™è¯¯æ ‡å¿—ã€æ ¼å¼æ§åˆ¶ç­‰ï¼‰ã€‚<ul><li><code>std::ios::good()</code>: æ£€æŸ¥æµæ˜¯å¦å¤„äºè‰¯å¥½çŠ¶æ€ã€‚</li><li><code>std::ios::eof()</code>: æ£€æŸ¥æµæ˜¯å¦åˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚</li><li><code>std::ios::fail()</code>: æ£€æŸ¥æµæ˜¯å¦å¤„äºå¤±è´¥çŠ¶æ€ã€‚</li></ul></li></ul><ol start="4"><li><strong>å¸¸è§çš„æ´¾ç”Ÿç±»</strong></li></ol><ul><li>**<code>std::ifstream</code>**ï¼š<code>std::ifstream</code> æ˜¯ <code>std::istream</code> çš„æ´¾ç”Ÿç±»ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è¾“å…¥ã€‚å®ƒæä¾›äº†ä»æ–‡ä»¶è¯»å–æ•°æ®çš„åŠŸèƒ½ã€‚</li><li>**<code>std::ofstream</code>**ï¼š<code>std::ofstream</code> æ˜¯ <code>std::ostream</code> çš„æ´¾ç”Ÿç±»ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è¾“å‡ºã€‚å®ƒæä¾›äº†å°†æ•°æ®å†™å…¥æ–‡ä»¶çš„åŠŸèƒ½ã€‚</li><li>**<code>std::stringstream</code>**ï¼š<code>std::stringstream</code> æ˜¯ <code>std::istream</code> å’Œ <code>std::ostream</code> çš„æ´¾ç”Ÿç±»ï¼Œå…è®¸åœ¨å†…å­˜ä¸­å¤„ç†å­—ç¬¦ä¸²æµã€‚å®ƒæ—¢å¯ä»¥ç”¨äºè¾“å…¥ä¹Ÿå¯ä»¥ç”¨äºè¾“å‡ºã€‚</li></ul><h5 id="cinå’Œcout"><a href="#cinå’Œcout" class="headerlink" title="cinå’Œcout"></a><code>cin</code>å’Œ<code>cout</code></h5><p><code>cin</code> å’Œ <code>cout</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­<strong>é¢„å®šä¹‰çš„è¾“å…¥å’Œè¾“å‡ºæµå¯¹è±¡</strong>ï¼Œå®ƒä»¬æ˜¯ç”±æµç±»ï¼ˆå¦‚ <code>istream</code> å’Œ <code>ostream</code>ï¼‰åˆ›å»ºçš„å…¨å±€å¯¹è±¡ï¼Œç”¨äºè¿›è¡Œæ•°æ®çš„è¾“å…¥å’Œè¾“å‡ºã€‚</p><ul><li><strong><code>cin</code>ï¼ˆæ ‡å‡†è¾“å…¥æµå¯¹è±¡ï¼‰</strong>ï¼š<code>cin</code> æ˜¯ä¸€ä¸ªå…¨å±€çš„è¾“å…¥æµå¯¹è±¡ï¼Œå±äº <code>std::istream</code> ç±»ï¼Œé€šå¸¸ç”¨äºä»æ ‡å‡†è¾“å…¥ï¼ˆå¦‚é”®ç›˜ï¼‰è·å–æ•°æ®ã€‚</li><li><strong><code>cout</code>ï¼ˆæ ‡å‡†è¾“å‡ºæµå¯¹è±¡ï¼‰</strong>ï¼š<code>cout</code> æ˜¯ä¸€ä¸ªå…¨å±€çš„è¾“å‡ºæµå¯¹è±¡ï¼Œå±äº <code>std::ostream</code> ç±»ï¼Œé€šå¸¸ç”¨äºå°†æ•°æ®è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆå¦‚æ˜¾ç¤ºå™¨ï¼‰ã€‚</li></ul><div class="note note-danger">            <p><strong>æ˜¯çš„ï¼Œcin&#x2F;coutæ ¹æœ¬ä¸æ˜¯å‡½æ•°ï¼Œè€Œæ˜¯å¯¹è±¡ï¼ï¼ï¼</strong></p>          </div><h5 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="&lt;&lt;å’Œ&gt;&gt;è¿ç®—ç¬¦"></a><code>&lt;&lt;</code>å’Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦</h5><p>è¿™äº›è¿ç®—ç¬¦å®é™…ä¸Šæ˜¯è¢«é‡è½½çš„ï¼Œå®ƒä»¬ä¸æ˜¯å†…ç½®è¿ç®—ç¬¦ï¼Œè€Œæ˜¯é€šè¿‡é‡è½½æ¥å®šä¹‰æµæ“ä½œçš„è¡Œä¸ºã€‚</p><ul><li>**æµæ’å…¥è¿ç®—ç¬¦ <code>&lt;&lt;</code>**ï¼šè¢« <code>std::ostream</code> ç±»é‡è½½ï¼Œç”¨äºå°†æ•°æ®æ’å…¥åˆ°è¾“å‡ºæµä¸­ã€‚å½“ä½ å†™ <code>cout &lt;&lt; x;</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº† <code>std::ostream</code> ç±»çš„ <code>operator&lt;&lt;</code> å‡½æ•°ã€‚</li><li>**æµæå–è¿ç®—ç¬¦ <code>&gt;&gt;</code>**ï¼šè¢« <code>std::istream</code> ç±»é‡è½½ï¼Œç”¨äºä»è¾“å…¥æµä¸­æå–æ•°æ®ã€‚å½“ä½ å†™ <code>cin &gt;&gt; x;</code> æ—¶ï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨äº† <code>std::istream</code> ç±»çš„ <code>operator&gt;&gt;</code> å‡½æ•°ã€‚</li></ul><p>æµæ’å…¥è¿ç®—ç¬¦&lt;&lt;æ˜¯ä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œè¡¨è¾¾å¼ cout &lt;&lt; x çš„è¿ç®—ç¬¦ä¸¤ä¾§åˆ†åˆ«æ˜¯ cout å’Œ xï¼Œ x æ˜¯ä¸€ä¸ªæ•´å‹å˜é‡ï¼Œ cout æ˜¯è¾“å‡ºæµç±» <code>ostream</code> çš„å¯¹è±¡ã€‚ &lt;&lt;è¿ç®—ç¬¦å°†å³è¾¹å¯¹è±¡çš„å€¼è½¬æ¢æˆæ–‡æœ¬å½¢å¼æ’å…¥å·¦è¾¹çš„è¾“å‡ºæµå¯¹è±¡ï¼Œ æ‰§è¡Œç»“æœæ˜¯å·¦è¾¹çš„è¾“å‡ºæµå¯¹è±¡çš„å¼•ç”¨ã€‚å¯¹äº cout &lt;&lt; xï¼Œè¿ç®—ç»“æœä¸ºå¯¹è±¡ coutã€‚æ­£å› ä¸º&lt;&lt;è¿ç®—çš„ç»“æœæ˜¯å·¦è¾¹å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥å…è®¸æ‰§è¡Œ <code>cout &lt;&lt; x &lt;&lt; y</code> ç­‰çš„æ“ä½œã€‚å› ä¸º&lt;&lt;æ˜¯å·¦ç»“åˆçš„ï¼Œæ‰€ä»¥ä¸Šè¿°è¡¨è¾¾å¼å…ˆæ‰§è¡Œ <code>cout &lt;&lt; x</code>ï¼Œæ‰§è¡Œçš„ç»“æœæ˜¯å¯¹è±¡ coutï¼Œç„¶åæ‰§è¡Œ <code>cout &lt;&lt; y</code>ã€‚</p><h4 id="åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½è¿ç®—ç¬¦"><a href="#åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½è¿ç®—ç¬¦" class="headerlink" title="åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½&lt;&lt;å’Œ&gt;&gt;è¿ç®—ç¬¦"></a>åœ¨è‡ªå®šä¹‰ç±»ä¸­é‡è½½<code>&lt;&lt;</code>å’Œ<code>&gt;&gt;</code>è¿ç®—ç¬¦</h4><p>ç”±äºç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>ostream/istream</code> ç±»çš„å¯¹è±¡ï¼Œå› æ­¤<strong>æµæ’å…¥è¿ç®—ç¬¦ä¸èƒ½é‡è½½æˆæˆå‘˜å‡½æ•°ï¼Œå¿…é¡»é‡è½½æˆå…¨å±€å‡½æ•°ï¼Œæµè¾“å‡ºè¿ç®—ç¬¦ä¹Ÿæ˜¯å¦‚æ­¤</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆï¼Ÿåœ¨ C++ ä¸­ï¼Œ<strong>æˆå‘˜å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°é€šå¸¸æ˜¯éšå¼çš„ <code>this</code> æŒ‡é’ˆ</strong>ï¼ŒæŒ‡å‘å½“å‰å¯¹è±¡ã€‚å› æ­¤ï¼Œæˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ <code>this</code> æŒ‡é’ˆè®¿é—®å¯¹è±¡çš„æˆå‘˜å˜é‡å’Œå…¶ä»–æˆå‘˜å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰è¿ç®—ç¬¦çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯ä»¥è¢«<strong>thisæŒ‡é’ˆæŒ‡å‘çš„ï¼Œæ‰èƒ½å¤Ÿè¢«å®šä¹‰ä¸ºç±»å†…çš„æˆå‘˜å‡½æ•°</strong>ï¼Œå¦åˆ™å¿…é¡»è¢«<strong>å®šä¹‰ä¸ºå‹å…ƒå‡½æ•°</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> x, y;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) : <span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;<br><br>    <span class="hljs-comment">// é‡è½½ &lt;&lt; è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">friend</span> ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="hljs-type">const</span> Point&amp; p);<br>    <span class="hljs-comment">//å‚æ•°ä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯ostreamç±»çš„å¯¹è±¡ï¼ˆç›¸å½“äºcoutï¼‰</span><br>&#125;;<br><br><span class="hljs-comment">// é‡è½½ &lt;&lt; è¿ç®—ç¬¦</span><br>ostream&amp; <span class="hljs-keyword">operator</span>&lt;&lt;(ostream&amp; os, <span class="hljs-type">const</span> Point&amp; p) &#123;<br>    os &lt;&lt; <span class="hljs-string">&quot;(&quot;</span> &lt;&lt; p.x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; p.y &lt;&lt; <span class="hljs-string">&quot;)&quot;</span>;<br>    <span class="hljs-keyword">return</span> os;  <span class="hljs-comment">// è¿”å› ostream å¼•ç”¨ï¼Œä»¥ä¾¿é“¾å¼è°ƒç”¨</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">Point <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Point: &quot;</span> &lt;&lt; p &lt;&lt; endl;  <span class="hljs-comment">// è°ƒç”¨é‡è½½çš„ &lt;&lt; è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> x, y;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br>    <span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) : <span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;<br><br>    <span class="hljs-comment">// é‡è½½ &gt;&gt; è¿ç®—ç¬¦</span><br>    <span class="hljs-keyword">friend</span> istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is, Point&amp; p);<br>    <span class="hljs-comment">//å‚æ•°ä¸­ç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯istreamç±»çš„å¯¹è±¡ï¼ˆç›¸å½“äºcinï¼‰</span><br>&#125;;<br><br><span class="hljs-comment">// é‡è½½ &gt;&gt; è¿ç®—ç¬¦</span><br>istream&amp; <span class="hljs-keyword">operator</span>&gt;&gt;(istream&amp; is, Point&amp; p) &#123;<br>    is &gt;&gt; p.x &gt;&gt; p.y;  <span class="hljs-comment">// ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®åˆ°æˆå‘˜å˜é‡</span><br>    <span class="hljs-keyword">return</span> is;  <span class="hljs-comment">// è¿”å› istream å¼•ç”¨ï¼Œä»¥ä¾¿é“¾å¼è°ƒç”¨</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-function">Point <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)</span></span>;<br>    cout &lt;&lt; <span class="hljs-string">&quot;Enter coordinates for the point (x y): &quot;</span>;<br>    cin &gt;&gt; p;  <span class="hljs-comment">// è°ƒç”¨é‡è½½çš„ &gt;&gt; è¿ç®—ç¬¦</span><br>    cout &lt;&lt; <span class="hljs-string">&quot;You entered point: &quot;</span> &lt;&lt; p &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>ç›¸å…³æ³¨æ„ç‚¹ï¼š</strong></p><ul><li>æ³¨æ„è¿”å›ç±»å‹æ˜¯å¯¹<code>istream</code>æˆ–<code>ostream</code>çš„å¼•ç”¨ã€‚</li></ul><h2 id="çŸ¢é‡ç±»çš„å®ç°"><a href="#çŸ¢é‡ç±»çš„å®ç°" class="headerlink" title="çŸ¢é‡ç±»çš„å®ç°"></a>çŸ¢é‡ç±»çš„å®ç°</h2><p>åœ¨ä¸‹æ–‡ç»™å‡ºäº†<strong>çŸ¢é‡ç±»vector</strong>çš„å®ç°ï¼ˆä¸æ˜¯STLçš„é‚£ä¸ªvectorï¼‰ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// vect.h -- Vector class with &lt;&lt;, mode state</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> VECTOR_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> VECTOR_H_</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">namespace</span> VECTOR<br>&#123;<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Vector</span><br>    &#123;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-keyword">enum</span> <span class="hljs-title class_">Mode</span> &#123;RECT, POL&#125;;<br>    <span class="hljs-comment">// RECT for rectangular, POL for Polar modes</span><br>    <span class="hljs-keyword">private</span>:<br>        <span class="hljs-type">double</span> x;          <span class="hljs-comment">// horizontal value</span><br>        <span class="hljs-type">double</span> y;          <span class="hljs-comment">// vertical value</span><br>        <span class="hljs-type">double</span> mag;        <span class="hljs-comment">// length of vector</span><br>        <span class="hljs-type">double</span> ang;        <span class="hljs-comment">// direction of vector in degrees</span><br>        Mode mode;         <span class="hljs-comment">// RECT or POL</span><br>        <span class="hljs-comment">//çŠ¶æ€æˆå‘˜</span><br>    <span class="hljs-comment">// private methods for setting values</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_mag</span><span class="hljs-params">()</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_ang</span><span class="hljs-params">()</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_x</span><span class="hljs-params">()</span></span>;<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set_y</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-keyword">public</span>:<br>        <span class="hljs-built_in">Vector</span>();<br>        <span class="hljs-built_in">Vector</span>(<span class="hljs-type">double</span> n1, <span class="hljs-type">double</span> n2, Mode form = RECT);<br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">reset</span><span class="hljs-params">(<span class="hljs-type">double</span> n1, <span class="hljs-type">double</span> n2, Mode form = RECT)</span></span>;<br>        ~<span class="hljs-built_in">Vector</span>();<br>        <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">xval</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> x;&#125;       <span class="hljs-comment">// report x value</span><br>        <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">yval</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> y;&#125;       <span class="hljs-comment">// report y value</span><br>        <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">magval</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> mag;&#125;   <span class="hljs-comment">// report magnitude</span><br>        <span class="hljs-function"><span class="hljs-type">double</span> <span class="hljs-title">angval</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-keyword">return</span> ang;&#125;   <span class="hljs-comment">// report angle</span><br>        <span class="hljs-comment">//è¿™å››ä¸ªæŠ¥å‘Šå‡½æ•°æ˜¯å†…è”å‡½æ•°</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">polar_mode</span><span class="hljs-params">()</span></span>;                    <span class="hljs-comment">// set mode to POL</span><br>        <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">rect_mode</span><span class="hljs-params">()</span></span>;                     <span class="hljs-comment">// set mode to RECT</span><br>    <span class="hljs-comment">// operator overloading</span><br>        Vector <span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Vector &amp; b) <span class="hljs-type">const</span>;<br>        Vector <span class="hljs-keyword">operator</span>-(<span class="hljs-type">const</span> Vector &amp; b) <span class="hljs-type">const</span>;<br>        Vector <span class="hljs-keyword">operator</span>-() <span class="hljs-type">const</span>;<br>        Vector <span class="hljs-keyword">operator</span>*(<span class="hljs-type">double</span> n) <span class="hljs-type">const</span>;<br>    <span class="hljs-comment">// friends</span><br>        <span class="hljs-keyword">friend</span> Vector <span class="hljs-keyword">operator</span>*(<span class="hljs-type">double</span> n, <span class="hljs-type">const</span> Vector &amp; a);<br>        <span class="hljs-keyword">friend</span> std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> Vector &amp; v);<br>    &#125;;<br><br>&#125;   <span class="hljs-comment">// end namespace VECTOR</span><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br><br><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// vect.cpp -- methods for the Vector class</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;vect.h&quot;</span>   <span class="hljs-comment">// includes &lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> std::sqrt;<br><span class="hljs-keyword">using</span> std::sin;<br><span class="hljs-keyword">using</span> std::cos;<br><span class="hljs-keyword">using</span> std::atan;<br><span class="hljs-keyword">using</span> std::atan2;<br><span class="hljs-keyword">using</span> std::cout;<br><br><span class="hljs-keyword">namespace</span> VECTOR<br>&#123;<br>    <span class="hljs-comment">// compute degrees in one radian</span><br>    <span class="hljs-type">const</span> <span class="hljs-type">double</span> Rad_to_deg = <span class="hljs-number">45.0</span> / <span class="hljs-built_in">atan</span>(<span class="hljs-number">1.0</span>);<br>    <span class="hljs-comment">// should be about 57.2957795130823</span><br><br>    <span class="hljs-comment">// private methods</span><br>    <span class="hljs-comment">// calculates magnitude from x and y</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Vector::set_mag</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        mag = <span class="hljs-built_in">sqrt</span>(x * x + y * y);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Vector::set_ang</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span> (x == <span class="hljs-number">0.0</span> &amp;&amp; y == <span class="hljs-number">0.0</span>)<br>            ang = <span class="hljs-number">0.0</span>;<br>        <span class="hljs-keyword">else</span><br>            ang = <span class="hljs-built_in">atan2</span>(y, x);<br>    &#125;<br><br>    <span class="hljs-comment">// set x from polar coordinate</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Vector::set_x</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        x = mag * <span class="hljs-built_in">cos</span>(ang);<br>    &#125;<br><br>    <span class="hljs-comment">// set y from polar coordinate</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Vector::set_y</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        y = mag * <span class="hljs-built_in">sin</span>(ang);<br>    &#125;<br><br>    <span class="hljs-comment">// public methods</span><br>    Vector::<span class="hljs-built_in">Vector</span>()             <span class="hljs-comment">// default constructor</span><br>    &#123;<br>        x = y = mag = ang = <span class="hljs-number">0.0</span>;<br>        mode = RECT;<br>    &#125;<br><br>    <span class="hljs-comment">// construct vector from rectangular coordinates if form is r</span><br>    <span class="hljs-comment">// (the default) or else from polar coordinates if form is p</span><br>    Vector::<span class="hljs-built_in">Vector</span>(<span class="hljs-type">double</span> n1, <span class="hljs-type">double</span> n2, Mode form)<br>    &#123;<br>        mode = form;<br>        <span class="hljs-keyword">if</span> (form == RECT)<br>         &#123;<br>             x = n1;<br>             y = n2;<br>             <span class="hljs-built_in">set_mag</span>();<br>             <span class="hljs-built_in">set_ang</span>();<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (form == POL)<br>        &#123;<br>             mag = n1;<br>             ang = n2 / Rad_to_deg;<br>             <span class="hljs-built_in">set_x</span>();<br>             <span class="hljs-built_in">set_y</span>();<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>             cout &lt;&lt; <span class="hljs-string">&quot;Incorrect 3rd argument to Vector() -- &quot;</span>;<br>             cout &lt;&lt; <span class="hljs-string">&quot;vector set to 0\n&quot;</span>;<br>             x = y = mag = ang = <span class="hljs-number">0.0</span>;<br>             mode = RECT;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// reset vector from rectangular coordinates if form is</span><br>    <span class="hljs-comment">// RECT (the default) or else from polar coordinates if</span><br>    <span class="hljs-comment">// form is POL</span><br>    <span class="hljs-type">void</span> Vector:: <span class="hljs-built_in">reset</span>(<span class="hljs-type">double</span> n1, <span class="hljs-type">double</span> n2, Mode form)<br>    &#123;<br>        mode = form;<br>        <span class="hljs-keyword">if</span> (form == RECT)<br>         &#123;<br>             x = n1;<br>             y = n2;<br>             <span class="hljs-built_in">set_mag</span>();<br>             <span class="hljs-built_in">set_ang</span>();<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (form == POL)<br>        &#123;<br>             mag = n1;<br>             ang = n2 / Rad_to_deg;<br>             <span class="hljs-built_in">set_x</span>();<br>             <span class="hljs-built_in">set_y</span>();<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>             cout &lt;&lt; <span class="hljs-string">&quot;Incorrect 3rd argument to Vector() -- &quot;</span>;<br>             cout &lt;&lt; <span class="hljs-string">&quot;vector set to 0\n&quot;</span>;<br>             x = y = mag = ang = <span class="hljs-number">0.0</span>;<br>             mode = RECT;<br>        &#125;<br>    &#125;<br><br>    Vector::~<span class="hljs-built_in">Vector</span>()    <span class="hljs-comment">// destructor</span><br>    &#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Vector::polar_mode</span><span class="hljs-params">()</span>    <span class="hljs-comment">// set to polar mode</span></span><br><span class="hljs-function">    </span>&#123;<br>        mode = POL;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Vector::rect_mode</span><span class="hljs-params">()</span>     <span class="hljs-comment">// set to rectangular mode</span></span><br><span class="hljs-function">    </span>&#123;<br>        mode = RECT;<br>    &#125;<br><br>    <span class="hljs-comment">// operator overloading</span><br>    <span class="hljs-comment">// add two Vectors</span><br>    Vector Vector::<span class="hljs-keyword">operator</span>+(<span class="hljs-type">const</span> Vector &amp; b) <span class="hljs-type">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Vector</span>(x + b.x, y + b.y);<br>    &#125;<br><br>    <span class="hljs-comment">// subtract Vector b from a</span><br>    Vector Vector::<span class="hljs-keyword">operator</span>-(<span class="hljs-type">const</span> Vector &amp; b) <span class="hljs-type">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Vector</span>(x - b.x, y - b.y);<br>    &#125;<br><br>    <span class="hljs-comment">// reverse sign of Vector</span><br>    Vector Vector::<span class="hljs-keyword">operator</span>-() <span class="hljs-type">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Vector</span>(-x, -y);<br>    &#125;<br><br>    <span class="hljs-comment">// multiply vector by n</span><br>    Vector Vector::<span class="hljs-keyword">operator</span>*(<span class="hljs-type">double</span> n) <span class="hljs-type">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Vector</span>(n * x, n * y);<br>    &#125;<br><br>    <span class="hljs-comment">// friend methods</span><br>    <span class="hljs-comment">// multiply n by Vector a</span><br>    Vector <span class="hljs-keyword">operator</span>*(<span class="hljs-type">double</span> n, <span class="hljs-type">const</span> Vector &amp; a)<br>    &#123;<br>        <span class="hljs-keyword">return</span> a * n;<br>    &#125;<br><br>    <span class="hljs-comment">// display rectangular coordinates if mode is RECT,</span><br>    <span class="hljs-comment">// else display polar coordinates if mode is POL</span><br>    std::ostream &amp; <span class="hljs-keyword">operator</span>&lt;&lt;(std::ostream &amp; os, <span class="hljs-type">const</span> Vector &amp; v)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (v.mode == Vector::RECT)<br>             os &lt;&lt; <span class="hljs-string">&quot;(x,y) = (&quot;</span> &lt;&lt; v.x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; v.y &lt;&lt; <span class="hljs-string">&quot;)&quot;</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v.mode == Vector::POL)<br>        &#123;<br>             os &lt;&lt; <span class="hljs-string">&quot;(m,a) = (&quot;</span> &lt;&lt; v.mag &lt;&lt; <span class="hljs-string">&quot;, &quot;</span><br>                 &lt;&lt; v.ang * Rad_to_deg &lt;&lt; <span class="hljs-string">&quot;)&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>             os &lt;&lt; <span class="hljs-string">&quot;Vector object mode is invalid&quot;</span>;<br>        <span class="hljs-keyword">return</span> os; <br>    &#125;<br><br>&#125;  <span class="hljs-comment">// end namespace VECTOR</span><br><br></code></pre></td></tr></table></figure><h2 id="ç±»çš„è‡ªåŠ¨è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#ç±»çš„è‡ªåŠ¨è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="ç±»çš„è‡ªåŠ¨è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢"></a>ç±»çš„è‡ªåŠ¨è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢</h2><p>å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼šä½¿ç”¨è‡ªåŠ¨è½¬æ¢å’Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><h3 id="ç±»çš„è‡ªåŠ¨ç±»å‹è½¬æ¢"><a href="#ç±»çš„è‡ªåŠ¨ç±»å‹è½¬æ¢" class="headerlink" title="ç±»çš„è‡ªåŠ¨ç±»å‹è½¬æ¢"></a>ç±»çš„è‡ªåŠ¨ç±»å‹è½¬æ¢</h3><p>ç±»ä¹‹é—´çš„è‡ªåŠ¨ç±»å‹è½¬æ¢é€šå¸¸é€šè¿‡ <strong>æ„é€ å‡½æ•°</strong> æˆ– <strong>è½¬æ¢è¿ç®—ç¬¦</strong> æ¥å®ç°ã€‚è¿™ç§è½¬æ¢åœ¨ C++ ä¸­æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ï¼Œå½“ç›®æ ‡ç±»å‹çš„æ„é€ å‡½æ•°æˆ–è½¬æ¢è¿ç®—ç¬¦èƒ½æ¥æ”¶æºç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œè½¬æ¢ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç±»å…·æœ‰ä¸€ä¸ªæ¥å— <code>int</code> ç±»å‹çš„æ„é€ å‡½æ•°æˆ–è½¬æ¢è¿ç®—ç¬¦ï¼Œå½“ä½ å°è¯•å°† <code>int</code> ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™è¯¥ç±»çš„å¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ„é€ å‡½æ•°æˆ–è½¬æ¢è¿ç®—ç¬¦ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyClass</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">int</span> value;<br><br>    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼Œå¯ä»¥ä» int è½¬æ¢ä¸º MyClass</span><br>    <span class="hljs-built_in">MyClass</span>(<span class="hljs-type">int</span> val) : <span class="hljs-built_in">value</span>(val) &#123;&#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    MyClass obj = <span class="hljs-number">10</span>;  <span class="hljs-comment">// è‡ªåŠ¨è°ƒç”¨ MyClass(int) æ„é€ å‡½æ•°</span><br>    cout &lt;&lt; obj.value &lt;&lt; endl;  <span class="hljs-comment">// è¾“å‡º 10</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>int</code> è¢«è‡ªåŠ¨è½¬æ¢ä¸º <code>MyClass</code> å¯¹è±¡ï¼Œè¿™ä¾èµ–äº <code>MyClass</code> çš„æ„é€ å‡½æ•°ã€‚</p><ul><li><p><strong>å¯ä»¥å°†ç±»å®šä¹‰æˆåŸºæœ¬ç±»å‹æˆ–ä¸å¦ä¸€ä¸ªç±»ç›¸å…³ï¼Œä½¿å¾—ä»ä¸€ç§ç±»å‹å¼ºåˆ¶è½¬æ¢åˆ°å¦ä¸€ç§ç±»å‹æ˜¯æœ‰æ„ä¹‰çš„</strong></p><ul><li>ä¾‹ï¼šåˆ©ç”¨æ„é€ å‡½æ•°ï¼ˆä½†åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…¶ä½™å‡é»˜è®¤ï¼‰</li></ul></li><li><p>ç±»çš„éšå¼è½¬æ¢</p><ul><li>intå¯ä»¥å…ˆè½¬æ¢æˆdoubleç±»å‹ï¼Œå†è¢«è½¬æ¢æˆè‡ªå®šä¹‰çš„ç±»ï¼ˆå¯èƒ½ä¼šå¸¦æ¥å®‰å…¨éšæ‚£ï¼‰ï¼š<strong>äºŒæ­¥è½¬æ¢</strong>ï¼ˆ<strong>æ— äºŒä¹‰æ€§</strong>ï¼‰</li></ul></li><li><p>ä½¿ç”¨<code>exlpicit</code>å…³é”®è¯å¯ä»¥å…³é—­è‡ªåŠ¨è½¬æ¢ï¼ˆåªå…è®¸æ˜¾ç¤ºè½¬æ¢ï¼‰</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Stonewt</span><span class="hljs-params">(<span class="hljs-type">double</span> lbs)</span></span><br></code></pre></td></tr></table></figure><p><img src="https://ooo.0x0.ooo/2025/01/23/OG7jWl.png" alt="Explicit"></p><ul><li><p>è½¬æ¢å‡½æ•°ï¼šå°†ç±»è½¬æ¢ä¸ºåŸºæœ¬çš„æ•°æ®ç±»å‹</p><ul><li><p>å£°æ˜ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">typeName</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">int</span><span class="hljs-params">()</span></span><br><span class="hljs-function"><span class="hljs-keyword">operator</span> <span class="hljs-title">double</span><span class="hljs-params">()</span></span><br></code></pre></td></tr></table></figure></li><li><p>å®šä¹‰</p></li></ul><p><img src="https://ooo.0x0.ooo/2025/01/23/OG72gg.png" alt="Definition"></p><ul><li>ä¼˜åŒ–ï¼šè¿›è¡Œæ˜¾ç¤ºè½¬æ¢</li></ul><p><img src="https://ooo.0x0.ooo/2025/01/23/OG76VB.png" alt="Modofication"></p><ul><li><strong>è­¦å‘Šï¼šä½¿ç”¨è¿‡å¤šçš„è½¬æ¢å‡½æ•°å¯èƒ½ä¼šå¯¼è‡´äºŒä¹‰æ€§å†²çª</strong>ã€‚</li></ul></li></ul><div class="note note-info">            <h3 id="è¡¥å……çŸ¥è¯†ï¼šäº”ç§å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#è¡¥å……çŸ¥è¯†ï¼šäº”ç§å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="è¡¥å……çŸ¥è¯†ï¼šäº”ç§å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>è¡¥å……çŸ¥è¯†ï¼šäº”ç§å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p>åœ¨ C++ ä¸­ï¼Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆä¹Ÿç§°ä¸ºæ˜¾å¼ç±»å‹è½¬æ¢ï¼‰å…è®¸ç¨‹åºå‘˜æ˜¾å¼åœ°è½¬æ¢ä¸€ç§ç±»å‹åˆ°å¦ä¸€ç§ç±»å‹ã€‚å¼ºåˆ¶ç±»å‹è½¬æ¢æä¾›äº†æ¯”è‡ªåŠ¨ç±»å‹è½¬æ¢æ›´å¤§çš„çµæ´»æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥ä¸€å®šçš„é£é™©ï¼Œå› ä¸ºä¸å½“çš„è½¬æ¢å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå‡ºé”™æˆ–è¡Œä¸ºæœªå®šä¹‰ã€‚</p><p>C++ æä¾›äº† <strong>å››ç§ç±»å‹è½¬æ¢æ“ä½œç¬¦</strong>ï¼Œå®ƒä»¬æ¯”ä¼ ç»Ÿçš„ C é£æ ¼è½¬æ¢æ›´å…·ç±»å‹å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚å…·ä½“æ¥è¯´ï¼ŒC++ å¼ºåˆ¶ç±»å‹è½¬æ¢åŒ…æ‹¬ï¼š</p><ol><li><strong>C é£æ ¼ç±»å‹è½¬æ¢</strong>ï¼ˆ<code>(type)expression</code>ï¼‰</li><li><strong><code>static_cast</code></strong></li><li><strong><code>dynamic_cast</code></strong></li><li><strong><code>const_cast</code></strong></li><li><strong><code>reinterpret_cast</code></strong></li></ol><p>ä¸‹é¢åˆ†åˆ«ä»‹ç»è¿™äº”ç§ç±»å‹è½¬æ¢æ–¹å¼ã€‚</p><h4 id="1-C-é£æ ¼ç±»å‹è½¬æ¢ï¼ˆC-style-Castï¼‰"><a href="#1-C-é£æ ¼ç±»å‹è½¬æ¢ï¼ˆC-style-Castï¼‰" class="headerlink" title="1. C é£æ ¼ç±»å‹è½¬æ¢ï¼ˆC-style Castï¼‰"></a>1. <strong>C é£æ ¼ç±»å‹è½¬æ¢ï¼ˆC-style Castï¼‰</strong></h4><p><strong>è¯­æ³•</strong>ï¼š<code>(new_type)expression</code></p><p>è¿™æ˜¯æœ€åŸºæœ¬ã€æœ€ä¼ ç»Ÿçš„ç±»å‹è½¬æ¢æ–¹å¼ï¼Œç±»ä¼¼äº C è¯­è¨€ä¸­çš„ç±»å‹è½¬æ¢æ–¹å¼ã€‚å®ƒå¯ä»¥è¿›è¡Œå¤§å¤šæ•°ç±»å‹è½¬æ¢ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹ä¹‹é—´çš„è½¬æ¢å’Œç±»ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">double</span> b = (<span class="hljs-type">double</span>)a;  <span class="hljs-comment">// å¼ºåˆ¶å°† int è½¬æ¢ä¸º double</span><br>std::cout &lt;&lt; b &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 10.0</span><br></code></pre></td></tr></table></figure><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šè¯­æ³•ç®€å•ï¼Œæ˜“äºä½¿ç”¨ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šæ²¡æœ‰ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œä¸å®¹æ˜“å‘ç°é”™è¯¯ã€‚ç”±äºå®ƒèƒ½è¿›è¡Œå¤šç§è½¬æ¢ï¼ˆä¾‹å¦‚åŸºæœ¬ç±»å‹è½¬æ¢ã€ç±»ç±»å‹è½¬æ¢ç­‰ï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„è½¬æ¢è¡Œä¸ºã€‚</li></ul><hr><h4 id="2-static-cast"><a href="#2-static-cast" class="headerlink" title="2. static_cast"></a>2. <strong><code>static_cast</code></strong></h4><p><strong>è¯­æ³•</strong>ï¼š<code>static_cast&lt;new_type&gt;(expression)</code></p><p><code>static_cast</code> æ˜¯ C++ æä¾›çš„ä¸€ç§ç±»å‹å®‰å…¨çš„å¼ºåˆ¶ç±»å‹è½¬æ¢æ–¹å¼ã€‚å®ƒé€šå¸¸ç”¨äºï¼š</p><ul><li>åŸºæœ¬ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</li><li><strong>ç±»å±‚æ¬¡ç»“æ„ä¸­ï¼Œå‘ä¸Šæˆ–å‘ä¸‹è½¬æ¢ï¼ˆåœ¨æ²¡æœ‰å¤šæ€çš„æƒ…å†µä¸‹ï¼‰</strong>ï¼›</li><li>å…¶ä»–å…¼å®¹ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</li></ul><p><code>static_cast</code> æ˜¯ <strong>ç±»å‹å®‰å…¨çš„</strong>ï¼Œå®ƒä¼šåœ¨ç¼–è¯‘æ—¶æ£€æŸ¥ç±»å‹æ˜¯å¦å…¼å®¹ï¼Œå› æ­¤å¯ä»¥é¿å…ä¸€äº›å¸¸è§çš„è½¬æ¢é”™è¯¯ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">double</span> a = <span class="hljs-number">3.14</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(a);  <span class="hljs-comment">// å¼ºåˆ¶å°† double è½¬æ¢ä¸º int</span><br>std::cout &lt;&lt; b &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 3</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Base* basePtr = <span class="hljs-keyword">new</span> Derived;<br>    Derived* derivedPtr = <span class="hljs-built_in">static_cast</span>&lt;Derived*&gt;(basePtr);  <span class="hljs-comment">// å‘ä¸‹è½¬å‹</span><br>    derivedPtr-&gt;<span class="hljs-built_in">show</span>();  <span class="hljs-comment">// è¾“å‡º &quot;Derived&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šç±»å‹æ£€æŸ¥åœ¨ç¼–è¯‘æ—¶å®Œæˆï¼Œèƒ½ç¡®ä¿ç±»å‹å…¼å®¹æ€§ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šå¦‚æœè½¬æ¢ä¸åˆç†ï¼Œ<code>static_cast</code> ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚</li></ul><hr><h4 id="3-dynamic-cast"><a href="#3-dynamic-cast" class="headerlink" title="3. dynamic_cast"></a>3. <strong><code>dynamic_cast</code></strong></h4><p><strong>è¯­æ³•</strong>ï¼š<code>dynamic_cast&lt;new_type&gt;(expression)</code></p><p><code>dynamic_cast</code> ç”¨äº<strong>å¤„ç†ç±»ç±»å‹çš„è½¬æ¢ï¼Œå°¤å…¶æ˜¯åœ¨ç±»ä¹‹é—´å­˜åœ¨ç»§æ‰¿å…³ç³»æ—¶</strong>ã€‚å®ƒé€šå¸¸ç”¨äºï¼š</p><ul><li>å‘ä¸‹è½¬å‹ï¼ˆä»åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è½¬æ¢ä¸ºæ´¾ç”Ÿç±»æŒ‡é’ˆæˆ–å¼•ç”¨ï¼‰ã€‚</li><li>è¿›è¡Œ <strong>RTTIï¼ˆè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ï¼‰</strong> æ£€æŸ¥ï¼Œç”¨äºå¤šæ€ç±»ï¼ˆå…·æœ‰è™šå‡½æ•°çš„ç±»ï¼‰ä¹‹é—´çš„è½¬æ¢ã€‚</li><li>å¯¹äºæŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œ<code>dynamic_cast</code> ä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹æ˜¯å¦å®‰å…¨ï¼Œå¦‚æœç±»å‹ä¸å…¼å®¹ï¼Œåˆ™ä¼šè¿”å› <code>nullptr</code>ï¼ˆå¯¹äºæŒ‡é’ˆï¼‰æˆ–æŠ›å‡º <code>std::bad_cast</code> å¼‚å¸¸ï¼ˆå¯¹äºå¼•ç”¨ï¼‰ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Base&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;Derived&quot;</span> &lt;&lt; std::endl; &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    Base* basePtr = <span class="hljs-keyword">new</span> Derived;<br>    Derived* derivedPtr = <span class="hljs-built_in">dynamic_cast</span>&lt;Derived*&gt;(basePtr);  <span class="hljs-comment">// å‘ä¸‹è½¬å‹</span><br>    <span class="hljs-keyword">if</span> (derivedPtr) &#123;<br>        derivedPtr-&gt;<span class="hljs-built_in">show</span>();  <span class="hljs-comment">// è¾“å‡º &quot;Derived&quot;</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Conversion failed&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¹äºä¸å®‰å…¨çš„è½¬æ¢ï¼Œ<code>dynamic_cast</code> ä¼šè¿”å› <code>nullptr</code>ï¼ˆæŒ‡é’ˆè½¬æ¢ï¼‰æˆ–æŠ›å‡ºå¼‚å¸¸ï¼ˆå¼•ç”¨è½¬æ¢ï¼‰ã€‚</p><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šæä¾›äº†è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œé¿å…ä¸å®‰å…¨çš„ç±»å‹è½¬æ¢ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šåªèƒ½ç”¨äºç±»ç±»å‹ï¼ˆå…·æœ‰è™šå‡½æ•°çš„ç±»ï¼‰ï¼Œå¹¶ä¸”è¿è¡Œæ—¶æœ‰ä¸€å®šçš„æ€§èƒ½å¼€é”€ã€‚</li></ul><hr><h4 id="4-const-cast"><a href="#4-const-cast" class="headerlink" title="4. const_cast"></a>4. <strong><code>const_cast</code></strong></h4><p><strong>è¯­æ³•</strong>ï¼š<code>const_cast&lt;new_type&gt;(expression)</code></p><p><code>const_cast</code> ç”¨äºæ·»åŠ æˆ–ç§»é™¤å¯¹è±¡çš„ <strong>const</strong> å±æ€§ã€‚å®ƒå…è®¸ç¨‹åºä¿®æ”¹ä¸€ä¸ªåŸæœ¬æ˜¯ <code>const</code> çš„å¯¹è±¡ï¼Œæˆ–è€…ä» <code>const</code> ç±»å‹çš„æŒ‡é’ˆ&#x2F;å¼•ç”¨è·å–é <code>const</code> ç±»å‹çš„æŒ‡é’ˆ&#x2F;å¼•ç”¨ã€‚</p><ul><li>ç§»é™¤ <code>const</code> å±æ€§ï¼šé€šå¸¸ç”¨äºä¿®æ”¹æœ¬æ¥æ˜¯å¸¸é‡çš„å¯¹è±¡ï¼Œæˆ–è€…ä¿®æ”¹ <code>const</code> æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å®¹ã€‚</li><li>æ·»åŠ  <code>const</code> å±æ€§ï¼šè¾ƒå°‘ä½¿ç”¨ï¼Œé€šå¸¸ç”¨äºå°†é <code>const</code> å¯¹è±¡ä¼ é€’ç»™æ¥å— <code>const</code> ç±»å‹å‚æ•°çš„å‡½æ•°ã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">const</span> <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span>* p = <span class="hljs-built_in">const_cast</span>&lt;<span class="hljs-type">int</span>*&gt;(&amp;a);  <span class="hljs-comment">// ç§»é™¤ const å±æ€§</span><br>*p = <span class="hljs-number">20</span>;  <span class="hljs-comment">// ä¿®æ”¹å¸¸é‡å¯¹è±¡çš„å€¼</span><br>std::cout &lt;&lt; a &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 20</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>æ³¨æ„</strong>ï¼šè¿™ç§è½¬æ¢éå¸¸å±é™©ï¼Œå› ä¸ºå®ƒç»•è¿‡äº† <code>const</code> ä¿®é¥°ç¬¦çš„ä¿æŠ¤ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚å¦‚æœåŸå¯¹è±¡æ˜¯ <code>const</code>ï¼Œé€šè¿‡ <code>const_cast</code> è¿›è¡Œä¿®æ”¹æ˜¯ä¸åˆæ³•çš„ã€‚</p></blockquote><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šå¯ä»¥æ˜¾å¼åœ°ä¿®æ”¹ <code>const</code> å¯¹è±¡çš„ <code>const</code> å±æ€§ï¼Œæ»¡è¶³ç‰¹æ®Šéœ€æ±‚ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šæ»¥ç”¨ <code>const_cast</code> å¯èƒ½ä¼šç ´åç¨‹åºçš„ <strong>const-correctness</strong>ï¼Œå¯¼è‡´æ½œåœ¨çš„ bug å’Œæœªå®šä¹‰è¡Œä¸ºã€‚</li></ul><hr><h4 id="5-reinterpret-cast"><a href="#5-reinterpret-cast" class="headerlink" title="5. reinterpret_cast"></a>5. <strong><code>reinterpret_cast</code></strong></h4><p><strong>è¯­æ³•</strong>ï¼š<code>reinterpret_cast&lt;new_type&gt;(expression)</code></p><p><code>reinterpret_cast</code> ç”¨äºæä½çº§åˆ«çš„è½¬æ¢ï¼Œå®ƒå…è®¸ç¨‹åºå‘˜å¼ºåˆ¶è½¬æ¢å‡ ä¹ä»»ä½•ç±»å‹åˆ°ä»»ä½•å…¶ä»–ç±»å‹ï¼Œç”šè‡³æ˜¯å®Œå…¨ä¸ç›¸å…³çš„ç±»å‹ã€‚å®ƒæ˜¯æœ€å¼ºå¤§çš„ç±»å‹è½¬æ¢æ–¹å¼ï¼Œä½†ä¹Ÿæœ€å±é™©ï¼Œå› ä¸ºå®ƒå¯èƒ½ç ´åå†…å­˜å¸ƒå±€å¹¶å¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</p><ul><li>å¸¸ç”¨äºæŒ‡é’ˆç±»å‹çš„è½¬æ¢ã€‚</li><li>å¯¹äºå®Œå…¨ä¸ç›¸å…³çš„ç±»å‹ï¼Œ<code>reinterpret_cast</code> å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">void</span>* ptr = <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">void</span>*&gt;(&amp;a);  <span class="hljs-comment">// å°† int* è½¬æ¢ä¸º void*</span><br>std::cout &lt;&lt; *<span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">int</span>*&gt;(ptr) &lt;&lt; std::endl;  <span class="hljs-comment">// è¾“å‡º 10</span><br></code></pre></td></tr></table></figure><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šæå…¶çµæ´»ï¼Œèƒ½å¤Ÿåœ¨åº•å±‚è¿›è¡Œç±»å‹è½¬æ¢ï¼Œé€‚ç”¨äºåº•å±‚æ“ä½œå’Œä¸ç¡¬ä»¶ã€æ“ä½œç³»ç»Ÿæ¥å£çš„äº¤äº’ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼šå‡ ä¹æ²¡æœ‰ç±»å‹å®‰å…¨ä¿éšœï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒï¼Œæˆ–è€…å‡ºç°æœªå®šä¹‰è¡Œä¸ºï¼Œä½¿ç”¨æ—¶è¦éå¸¸å°å¿ƒã€‚</li></ul><hr><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a><strong>æ€»ç»“</strong></h4><p>C++ æä¾›äº†äº”ç§ç±»å‹è½¬æ¢æ–¹å¼ï¼Œå„è‡ªæœ‰å…¶ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹ï¼š</p><ol><li><strong>C é£æ ¼ç±»å‹è½¬æ¢</strong>ï¼šç®€å•ä½†ç¼ºä¹ç±»å‹å®‰å…¨ï¼Œé€‚åˆå¿«é€Ÿå¼€å‘ï¼Œä½†ä¸æ¨èç”¨äºå¤æ‚çš„ç¨‹åºä¸­ã€‚</li><li>**<code>static_cast</code>**ï¼šç±»å‹å®‰å…¨ï¼Œé€‚ç”¨äºåŸºæœ¬ç±»å‹å’Œå…¼å®¹ç±»å‹çš„è½¬æ¢ï¼Œæ˜¯å¸¸è§çš„ç±»å‹è½¬æ¢æ–¹å¼ã€‚</li><li>**<code>dynamic_cast</code>**ï¼šä¸»è¦ç”¨äºç±»ç±»å‹è½¬æ¢ï¼Œå¹¶è¿›è¡Œè¿è¡Œæ—¶ç±»å‹æ£€æŸ¥ï¼Œç¡®ä¿å®‰å…¨ï¼Œé€‚åˆå¤šæ€ç±»å‹ã€‚</li><li>**<code>const_cast</code>**ï¼šç”¨äºç§»é™¤æˆ–æ·»åŠ  <code>const</code> å±æ€§ï¼Œé€šå¸¸åœ¨éœ€è¦ä¿®æ”¹ <code>const</code> å¯¹è±¡æ—¶ä½¿ç”¨ï¼Œä½†è¦å°å¿ƒé¿å…æ»¥ç”¨ã€‚</li><li>**<code>reinterpret_cast</code>**ï¼šä½çº§åˆ«çš„è½¬æ¢ï¼Œå…è®¸å¯¹å‡ ä¹æ‰€æœ‰ç±»å‹è¿›è¡Œè½¬æ¢ï¼Œä½†æå…¶å±é™©ï¼Œåº”è¯¥è°¨æ…ä½¿ç”¨ã€‚</li></ol><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå°½é‡é¿å…è¿‡åº¦ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç‰¹åˆ«æ˜¯ <code>reinterpret_cast</code> å’Œ <code>const_cast</code>ï¼Œå®ƒä»¬å¯èƒ½ç ´åç±»å‹å®‰å…¨ã€‚æ›´æ¨èä½¿ç”¨ <code>static_cast</code> å’Œ <code>dynamic_cast</code>ï¼Œå®ƒä»¬æä¾›äº†æ›´å¥½çš„ç±»å‹å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>          </div><h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h1><p>ç»ˆäºç»“æŸå•¦ï¼æœ¬ç« ä¸»è¦èšç„¦åœ¨ç±»å’Œå¯¹è±¡çš„ä½¿ç”¨ä¸Šï¼Œåœ¨ä¸‹ä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šå°†é‡ç‚¹è½¬ç§»åˆ°ä¸€ä¸ªä»¤äººåˆçˆ±åˆæ¨çš„ä¸œè¥¿ä¸Šï¼š<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>OOP</tag>
      
      <tag>C++ Primer Plus</tag>
      
      <tag>tutorial</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C-Plus-Plus-Primer-Plus-Tutorial</title>
    <link href="/posts/C-plus-plus-Primer-Plus-tutorial/"/>
    <url>/posts/C-plus-plus-Primer-Plus-tutorial/</url>
    
    <content type="html"><![CDATA[<h1 id="C-Primer-Plus-tutorial"><a href="#C-Primer-Plus-tutorial" class="headerlink" title="C++ Primer Plus tutorial"></a>C++ Primer Plus tutorial</h1><h2 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h2><p>ç¬”è€…åˆæ¥å¼€æ–°å‘å•¦ï¼</p><p>ä¹‹å‰çœ‹åˆ°ä¸€ä¸ªå¾ˆè®½åˆºçš„ç¬‘è¯ï¼š<strong>å¤§å¤šæ•°å›½å†…é«˜æ ¡å­¦ç”Ÿå­¦åˆ°çš„C++åªæ˜¯Cè¯­è¨€+cin&#x2F;cout</strong>ã€‚è¿™å½“ç„¶åªæ˜¯ä¸€å¥ç©ç¬‘è¯ï¼Œä½†å¾ˆæ·±åˆ»åœ°åæ˜ å‡ºå¯¹äºC++ç²¾é«“<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>çš„å¿½è§†ã€‚</p><p>è¿™æ˜¯æœ‰ç†å¯ä¾çš„ï¼š<strong>ç¼–ç¨‹è¯­è¨€çš„å­¦ä¹ æœ¬èº«å°±å’Œä¼ ç»Ÿçš„è¯¾å ‚æˆè¯¾æ¨¡å¼å­˜åœ¨è¾ƒå¤§çš„å‡ºå…¥</strong>ï¼Œç¼–ç¨‹é‡è§†å®è·µï¼Œæ¯ç‡¥çš„è¯­æ³•è®²è§£å¦‚åŒå¤©ä¹¦ä¸€èˆ¬æ™¦æ¶©éš¾æ‡‚ï¼Œæ›´ä¸ç”¨æOOPæ‰€æ¶‰åŠçš„éƒ½æ˜¯æ¯”è¾ƒå¤§è§„æ¨¡çš„é¡¹ç›®å·¥ç¨‹ï¼Œå¦‚æœåªæ˜¯åœ¨è¯¾å ‚ä¸Šä¹å‘³åœ°è®²è§£â€œä»€ä¹ˆæ˜¯ææ„å‡½æ•°ï¼Œä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Œä»€ä¹ˆæ˜¯å¤šæ€Â·Â·Â·â€ï¼Œå¾ˆå®¹æ˜“å°†C++å­¦æˆæ­»è®°ç¡¬èƒŒçš„æ— èŠå­¦ç§‘ã€‚</p><p>å› æ­¤ï¼Œç¬”è€…åœ¨è¯¾å ‚å­¦ä¹ ä¹‹ä½™ï¼Œ<strong>åŒæ­¥å­¦ä¹ äº†ä¸–ç•Œç»å…¸C++æ•™æâ€”â€”ã€ŠC++ Primer Plusã€‹çš„ç›¸å…³å†…å®¹</strong>ã€‚ç»å…¸ä¸æ„§ä¸ºç»å…¸ï¼</p><p>ä½†æ˜¯ï¼Œé’ˆå¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œæˆ‘è®¤ä¸ºC++ Primer Plusæœ‰ä»¥ä¸‹é—®é¢˜ï¼šï¼ˆå…¶å®ä¹Ÿä¸ç®—æ˜¯é—®é¢˜å•¦ï¼Œå°±æ˜¯å’Œæ™®é€šåœ¨æ ¡å¤§å­¦ç”Ÿå­˜åœ¨ä¸€äº›â€œå†²çªâ€ï¼‰</p><ul><li>ä¸€å…±678é¡µï¼Œå¹¶ä¸”å…¨æ˜¯å¯†å¯†éº»éº»çš„å­—ï¼Œé˜…è¯»å‘¨æœŸé•¿ï¼Œè¯»å®Œéœ€è¦å¾ˆå¤§çš„æ„å¿—åŠ›ï¼ˆå¯¹äºè‡ªå­¦è€…ï¼‰ã€‚</li><li>ç”±äºç¿»è¯‘ç­‰ç§ç§çš„åŸå› ï¼Œåœ¨å¾ˆå¤šåœ°æ–¹çš„è§£é‡Šå¹¶ä¸æ¸…æ™°ï¼ˆä½œä¸ºä¸€æœ¬C++çš„å…¥é—¨ä¹¦ç±ä½“é‡æœ‰äº›å¤§äº†ï¼Œè€Œä¸”æ¶‰åŠåˆ°å¾ˆå¤šä¸“ä¸šçš„åè¯ï¼Œçœ‹å¾—è®©äººå¤´å¤§ï¼‰</li></ul><p>å› æ­¤ï¼Œç¬”è€…å¸Œæœ›é€šè¿‡åšå®¢çš„æ–¹å¼ï¼Œè®°å½•è‡ªå·±çš„C++ Primer Pluså­¦ä¹ ç¬”è®°ï¼Œå¹¶ä¸Šä¼ åˆ°ç½‘ç»œä¸Šä¾›ä¸€åŒå­¦ä¹ çš„å°ä¼™ä¼´å‚è€ƒã€‚</p><p>åšå®¢ç«‹å¿—äºï¼š</p><ul><li>è®°å½•è‡ªå·±çš„C++å­¦ä¹ è¿‡ç¨‹</li><li>å¯¹æœ¬äººè®¤ä¸ºçš„C++å­¦ä¹ ä¸­çš„ä¸€äº›é‡éš¾ç‚¹åšä¸€äº›é¢å¤–çš„è§£é‡Š</li><li>å°è¯•ç”¨ç®€å•æ¸…æ™°çš„è¯­è¨€æ¢³ç†é€»è¾‘è„‰ç»œ</li></ul><h2 id="æ›´æ–°å†…å®¹èŒƒå›´"><a href="#æ›´æ–°å†…å®¹èŒƒå›´" class="headerlink" title="æ›´æ–°å†…å®¹èŒƒå›´"></a>æ›´æ–°å†…å®¹èŒƒå›´</h2><ul><li><strong>Chapter10 å¯¹è±¡å’Œç±»</strong></li><li><strong>Chapter11 ä½¿ç”¨ç±»</strong></li><li><strong>Chapter12 ç±»å’ŒåŠ¨æ€å†…å­˜åˆ†é…</strong></li><li><strong>Chapter13 ç±»ç»§æ‰¿</strong></li><li><strong>Chapter14 ä»£ç é‡ç”¨</strong></li><li><strong>Chapter15 å‹å…ƒï¼Œå¼‚å¸¸å’Œå…¶ä»–</strong></li><li><strong>Chapter16 stringç±»çš„æ ‡å‡†æ¨¡æ¿åº“</strong></li></ul><p>ï¼ˆç›®å‰æ›´æ–°è®¡åˆ’ä¸»è¦åˆ†å¸ƒåœ¨OOPçš„ç« èŠ‚ï¼Œä¹‹åçš„å…¶ä»–ç« èŠ‚çœ‹æƒ…å†µæ›´æ–°~ï¼‰</p><h2 id="å®é™…æ›´æ–°çš„ç›®å½•"><a href="#å®é™…æ›´æ–°çš„ç›®å½•" class="headerlink" title="å®é™…æ›´æ–°çš„ç›®å½•"></a>å®é™…æ›´æ–°çš„ç›®å½•</h2><p><a href="https://xiyuanyang-code.github.io/tags/OOP/">ç³»åˆ—æ–‡ç« </a></p><div class="note note-info">            <h3 id="Introduction-to-OOP"><a href="#Introduction-to-OOP" class="headerlink" title="Introduction to OOP"></a>Introduction to OOP</h3><p>æ¬¢è¿æ¥åˆ°<strong>é¢å‘å¯¹è±¡ç¼–ç¨‹</strong>çš„ä¸–ç•Œï¼é¦–å…ˆæ–‡ç« å°†ä¼šå‘ä½ ä»‹ç»åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­å››ä¸ªæœ€æ ¸å¿ƒçš„ç²¾ç¥ï¼š<strong>å°è£…ã€ç»§æ‰¿ã€å¤šæ€å’ŒæŠ½è±¡</strong>ï¼Œå¹¶å¯¹é¢å‘å¯¹è±¡æ‰€æ¶‰åŠçš„çŸ¥è¯†åšä¸€ä¸ªæ€»ä½“æ€§çš„æ¦‚è§ˆã€‚æ¥ä¸‹æ¥ï¼Œä½ å°†ç³»ç»Ÿå­¦ä¹ åˆ°ä»€ä¹ˆæ˜¯<strong>ç±»å’Œå¯¹è±¡</strong>ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºå¹¶ä½¿ç”¨è‡ªå·±çš„ç±»å’Œå¯¹è±¡ã€‚æ–‡ç« çš„å†…å®¹æ¶µç›–<strong>æ„é€ å‡½æ•°</strong>çš„å››ç§å®šä¹‰ã€<strong>ææ„å‡½æ•°</strong>çš„ä½¿ç”¨ã€<strong>é™æ€å’ŒåŠ¨æ€</strong>æ•°æ®æˆå‘˜ä»¥åŠæˆå‘˜å‡½æ•°ã€<strong>å‹å…ƒå‡½æ•°</strong>ã€<strong>constå‡½æ•°</strong>çš„ç”¨æ³•ã€<strong>thisæŒ‡é’ˆ</strong>ä»¥åŠç±»çš„è‡ªåŠ¨ç±»å‹è½¬æ¢ç­‰çŸ¥è¯†ã€‚</p><p>Welcome to the world of <strong>Object-Oriented Programming (OOP)</strong>! This article will first introduce you to the four core principles of OOP: <strong>Encapsulation, Inheritance, Polymorphism, and Abstraction</strong>, and provide an overview of the knowledge involved in OOP. Next, you will systematically learn what <strong>classes and objects</strong> are, and how to create and use your own classes and objects. The article covers topics such as the four definitions of <strong>constructors</strong>, the use of <strong>destructors</strong>, <strong>static</strong> and <strong>dynamic</strong> data members and member functions, <strong>friend functions</strong>, the usage of const functions, the <strong><code>this</code></strong> pointer, and <strong>automatic type conversion of classes</strong>, among others.</p><p><strong>Key words: OOP, constructors, destructors, this pointer, friend functions</strong></p><h3 id="Dynamic-Memory-and-Class"><a href="#Dynamic-Memory-and-Class" class="headerlink" title="Dynamic Memory and Class"></a>Dynamic Memory and Class</h3><p>æœ¬ç« å°†é‡ç‚¹æ”¾åœ¨å¦‚ä½•å¯¹<strong>è‡ªå®šä¹‰ç±»å’Œå¯¹è±¡</strong>è°¨æ…åœ°ä½¿ç”¨<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>ï¼Œä»¥åŠå†…å­˜ç®¡ç†çš„ç›¸å…³çŸ¥è¯†ã€‚é¦–å…ˆä»ä¸€ä¸ªä»£ç ç¤ºä¾‹StringBadè®²èµ·ï¼Œåˆ†æå› ä¸ºC++è‡ªå¸¦çš„éšå¼å¤åˆ¶æ„é€ å‡½æ•°å¯¼è‡´<strong>æŒ‰å€¼ä¼ é€’</strong>å’Œ<strong>æŒ‰å€ä¼ é€’</strong>å‘ç”Ÿå†²çªè€Œå¯¼è‡´ç¨‹åºæ— æ³•æ­£ç¡®è¾“å‡ºï¼Œå¹¶ä»¥æ­¤ä¸ºæ•™æä»‹ç»äº†å¦‚ä½•<strong>æ˜¾å¼</strong>åœ°å®šä¹‰<strong>å¤åˆ¶æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦</strong>ï¼Œå¹¶ç»™å‡ºäº†ä¿®æ”¹åçš„Stringç±»çš„ç±»å®šä¹‰å’Œä½¿ç”¨ç¤ºèŒƒã€‚æ¥ç€ï¼Œæ–‡ç« èšç„¦äºåœ¨ç±»ä¸­ä½¿ç”¨åŠ¨æ€å†…å­˜çš„æ˜“é”™ç‚¹ï¼ŒåŒ…æ‹¬newå’Œdeleteçš„ä¸€ä¸€å¯¹åº”é—®é¢˜ã€‚æœ€åï¼Œæ–‡ç« åˆ†æäº†ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…åœ¨è®¾è®¡ç±»å’Œå¯¹è±¡è¿‡ç¨‹ä¸­çš„åº”ç”¨ï¼š<strong>è®¾ç½®åˆç†çš„è¿”å›å¯¹è±¡</strong>å’Œ<strong>ä½¿ç”¨æŒ‡å‘å¯¹è±¡çš„æŒ‡é’ˆ</strong>ï¼ŒåŒæ—¶ä»‹ç»äº†åŠ¨æ€å†…å­˜ç®¡ç†çš„ä¸€äº›é«˜çº§æ“ä½œï¼ŒåŒ…æ‹¬<strong>æ­£ç¡®åœ°ä½¿ç”¨ææ„å‡½æ•°</strong>å’Œ<strong>ä½¿ç”¨å®šä½newè¿ç®—ç¬¦</strong>ã€‚</p><p>This chapter focuses on how to <strong>cautiously use dynamic memory allocation with</strong> <strong>custom classes and objects</strong>, along with related knowledge on memory management. It begins with a code example, StringBad, to analyze how the implicit copy constructor provided by C++ leads to conflicts between <strong>pass-by-value</strong> and <strong>pass-by-reference</strong>, resulting in incorrect program output. Using this example as a teaching tool, the chapter introduces how to <strong>explicitly</strong> define <strong>copy constructors and assignment operators</strong>, and provides an updated class definition and usage demonstration for the String class. Next, the article focuses on common pitfalls when using dynamic memory in classes, including the one-to-one correspondence issue between new and delete. Finally, the chapter discusses the application of dynamic memory allocation in the design of classes and objects: <strong>setting appropriate return objects</strong> and <strong>using pointers to objects</strong>, while also introducing some advanced operations in dynamic memory management, such as <strong>correctly using destructors</strong> and <strong>using placement new operator</strong>.</p><p><strong>Key words: OOP, Dynamic Memory, C++, Classes</strong></p><h3 id="Class-Inheritance"><a href="#Class-Inheritance" class="headerlink" title="Class Inheritance"></a>Class Inheritance</h3><p>åœ¨æœ¬æ–‡ä¸­ï¼Œä½ å°†å­¦åˆ°é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„åˆä¸€ä¸ªæ ¸å¿ƒæ€æƒ³ï¼š<strong>ç»§æ‰¿ä¸å¤šæ€</strong>ã€‚æœ¬æ–‡ä»ä¸€ä¸ªåŸºæœ¬çš„åŸºç±»è®²èµ·å¹¶å»¶ä¼¸åˆ°æ´¾ç”Ÿç±»çš„å®šä¹‰å’ŒåŸºæœ¬ä½¿ç”¨ï¼Œæ¢è®¨<strong>æ´¾ç”Ÿç±»å’ŒåŸºç±»çš„ç‰¹æ®Šå…³ç³»</strong>ã€‚æ¥ä¸‹æ¥æœ¬æ–‡æ·±å…¥ç»§æ‰¿çš„åŸç†ï¼Œä»‹ç»åœ¨å¤šæ€å…¬æœ‰ç»§æ‰¿ä¸­çš„<strong>is-a</strong>å…³ç³»å’Œè™šå‡½æ•°ï¼Œå·²ç»åŠ¨æ€è”ç¼–å’Œé™æ€è”ç¼–çš„åŸºæœ¬çŸ¥è¯†ã€‚æ¥ç€æœ¬æ–‡ä»‹ç»äº†<strong>æŠ½è±¡åŸºç±»</strong>çš„ä½¿ç”¨ä»¥åŠåœ¨æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨<strong>åŠ¨æ€å†…å­˜åˆ†é…</strong>çš„æ³¨æ„äº‹é¡¹ã€‚æœ€åæœ¬æ–‡å¯¹OOPçš„åŸºæœ¬ç²¾ç¥â€”â€”å°è£…ã€ç»§æ‰¿ä¸å¤šæ€å’Œç›¸å…³åŸºç¡€çŸ¥è¯†åšäº†æ¢³ç†ã€‚</p><p>In this article, you will learn another core concept in object-oriented programming: <strong>inheritance and polymorphism</strong>. The article begins with a basic base class and extends to the definition and basic usage of derived classes, <strong>exploring the special relationship between derived and base classes</strong>. Next, the article delves into the principles of inheritance, introducing the <strong>is-a</strong> relationship in polymorphic public inheritance, virtual functions, and the basics of dynamic and static binding. Then, the article discusses the use of <strong>abstract base classes</strong> to improve efficiency, as well as considerations for using <strong>dynamic memory allocation in derived classes</strong>. Finally, the article summarizes the fundamental principles of OOPâ€”encapsulation, inheritance, and polymorphismâ€”along with related foundational knowledge.</p><p><strong>Key words: OOP, Class Inheritance, Abstract Base Classes, Polymorphism</strong></p><h3 id="Code-Reuse-in-OOP"><a href="#Code-Reuse-in-OOP" class="headerlink" title="Code Reuse in OOP"></a>Code Reuse in OOP</h3><p>C++çš„ä¸€ä¸ªä¸»è¦ç›®æ ‡æ˜¯ä¿ƒè¿›ä»£ç é‡ç”¨ã€‚å…¬æœ‰ç»§æ‰¿æ˜¯å®ç°è¿™ç§ç›®æ ‡çš„æœºåˆ¶ä¹‹ä¸€ï¼Œä½†å¹¶ä¸æ˜¯å”¯ä¸€çš„æœºåˆ¶ã€‚æœ¬ç« å°†ä»‹ç»å…¶ä»–æ–¹æ³•ï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯ä½¿ç”¨è¿™æ ·çš„ç±»æˆå‘˜ï¼šæœ¬èº«æ˜¯å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚è¿™ç§æ–¹æ³•ç§°ä¸º<strong>åŒ…å«ï¼ˆcontainmentï¼‰ã€ç»„åˆï¼ˆcompositionï¼‰æˆ–å±‚æ¬¡åŒ–ï¼ˆlayeringï¼‰</strong>ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç§æœ‰æˆ–ä¿æŠ¤ç»§æ‰¿ã€‚é€šå¸¸ï¼Œ<strong>åŒ…å«ã€ç§æœ‰ç»§æ‰¿å’Œä¿æŠ¤ç»§æ‰¿</strong>ç”¨äºå®ç° <strong>has-a</strong> å…³ç³»ï¼Œå³æ–°çš„ç±»å°†åŒ…å«å¦ä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚å¤šé‡ç»§æ‰¿ä½¿å¾—èƒ½å¤Ÿä½¿ç”¨ä¸¤ä¸ªæˆ–æ›´å¤šçš„åŸºç±»æ´¾ç”Ÿå‡ºæ–°çš„ç±»ï¼Œå°†åŸºç±»çš„åŠŸèƒ½ç»„åˆåœ¨ä¸€èµ·ã€‚åŒæ—¶ï¼Œæœ¬ç« å°†ä»‹ç»<strong>ç±»æ¨¡æ¿</strong>â€”â€”å¦ä¸€ç§é‡ç”¨ä»£ç çš„æ–¹æ³•ã€‚ç±»æ¨¡æ¿ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨é€šç”¨æœ¯è¯­å®šä¹‰ç±»ï¼Œç„¶åä½¿ç”¨æ¨¡æ¿æ¥åˆ›å»ºé’ˆå¯¹ç‰¹å®šç±»å‹å®šä¹‰çš„ç‰¹æ®Šç±»ã€‚</p><p>One of the main goals of C++ is to promote code reuse. <strong>Public inheritance</strong> is one of the mechanisms to achieve this goal, but not the only one. This chapter will introduce other methods, one of which is to use class members that are themselves objects of another class. This method is called <strong>containment</strong>, <strong>composition, or layering</strong>. Another method is to use <strong>private or protected inheritance</strong>. Generally, containment, private inheritance, and protected inheritance are used to implement the <strong>has - a relationship</strong>, that is, the new class will contain an object of another class. Multiple inheritance enables new classes to be derived from two or more base classes, combining the functionality of the base classes.At the same time, this chapter will introduce <strong>class templates</strong> - another method of reusing code. Class templates enable us to define classes in general terms and then use the templates to create special classes defined for specific types.</p><p><strong>Key words: Public Inheritance, Containment, class template, composition</strong></p>          </div><h2 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h2><p>æœ¬åšå®¢ç³»åˆ—ä½¿ç”¨çš„å¤§éƒ¨åˆ†ä»£ç éƒ½æ‘˜è‡ªã€ŠC++ Primer Plusã€‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Code</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Announcement</tag>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>OOP</tag>
      
      <tag>C++ Primer Plus</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Above-All</title>
    <link href="/posts/Above-All/"/>
    <url>/posts/Above-All/</url>
    
    <content type="html"><![CDATA[<h1 id="Welcome-To-My-Blog"><a href="#Welcome-To-My-Blog" class="headerlink" title="Welcome To My Blog !"></a>Welcome To My Blog !</h1><h2 id="å†™åœ¨å‰é¢çš„è¯"><a href="#å†™åœ¨å‰é¢çš„è¯" class="headerlink" title="å†™åœ¨å‰é¢çš„è¯"></a>å†™åœ¨å‰é¢çš„è¯</h2><p>è¿™éƒ¨åˆ†çš„å†…å®¹å’Œ <a href="https://xiyuanyang-code.github.io/above/">Intro</a> çš„éƒ¨åˆ†ç›¸åŒï¼Œä¸»è¦æ˜¯å¯¹æœ¬äººåšå®¢çš„æ›´æ–°åŠ¨æœºï¼Œæ›´æ–°ç›®æ ‡å’Œæ›´æ–°å†…å®¹åšä¸€ä¸ªæ€»ä½“æ€§çš„æ¦‚è§ˆ~å¯è‡ªè¡Œè·³è½¬è§‚çœ‹ã€‚</p><h2 id="Before-The-Blog"><a href="#Before-The-Blog" class="headerlink" title="Before The Blog"></a>Before The Blog</h2><p>ä¸‰ä¸ªæœˆå‰ï¼Œæˆ‘é€šè¿‡å¶ç„¶çš„æœºä¼šäº†è§£åˆ°å‰ OpenAI ç ”ç©¶å‰¯æ€»è£ï¼Œä¸»ç®¡GPTæ¨¡å‹å®‰å…¨çš„æ°å‡ºåäººå¥³æ€§ï¼Œ<strong>ç¿è”(Lilian Weng)<strong>ã€‚å¥¹æå‡ºäº†è‘—åçš„</strong>Agent é…æ–¹ï¼šAgent&#x3D;LLM+Memory+planning skills+tool use</strong>ã€‚åœ¨å½“ä»Šçš„GPTæ—¶ä»£ï¼Œå¥¹å¯è°“æ˜¯åŠŸä¸å¯æ²¡ã€‚</p><p>åœ¨OpenAIå¯¹å¥¹çš„ç‹¬å®¶ä¸“è®¿<a href="https://openai.com/index/the-power-of-continuous-learning/">The power of continuous learning</a>ä¸­ï¼Œå¥¹æåˆ°ï¼š</p><blockquote><p>I believe in the power of learning and it is never too late to learn. Maintaining my personal blog is a good way to keep this curiosity going and learn about new progress in the deep learning community regularly. I also encourage my team to keep on learning, whether related or unrelated to their current projects. Ideas in different topics or fields can often inspire new ideas and broaden the potential solution space.</p><p>Iâ€™m also a strong believer in teamwork. If everyone shines in their best strength, we will get 1+1 &gt; 2. Meanwhile, we might often run into â€œdirtyâ€ work and personally Iâ€™m very willing to take on those tasks, because as long as thatâ€™s the biggest blocker or that task can add the biggest value into the project, nothing should be considered â€œdirtyâ€ or â€œtrivial.â€ I encourage people around me to do the same, being a team player and working together to expedite the team productivity.</p><p>æˆ‘ç›¸ä¿¡å­¦ä¹ çš„åŠ›é‡ï¼Œå­¦ä¹ æ°¸è¿œä¸ä¼šå¤ªè¿Ÿã€‚ç»´æŠ¤ä¸ªäººåšå®¢æ˜¯ä¸€ä¸ªä¿æŒå¥½å¥‡å¿ƒï¼Œå®šæœŸäº†è§£æ·±åº¦å­¦ä¹ ç¤¾åŒºæ–°è¿›å±•çš„å¥½æ–¹æ³•ã€‚æˆ‘ä¹Ÿé¼“åŠ±æˆ‘çš„å›¢é˜Ÿä¸æ–­å­¦ä¹ ï¼Œæ— è®ºæ˜¯å¦ä¸ä»–ä»¬å½“å‰çš„é¡¹ç›®ç›¸å…³ã€‚ä¸åŒä¸»é¢˜æˆ–é¢†åŸŸçš„æƒ³æ³•å¸¸å¸¸èƒ½æ¿€å‘æ–°çš„çµæ„Ÿï¼Œå¹¶æ‹“å®½æ½œåœ¨çš„è§£å†³æ–¹æ¡ˆç©ºé—´ã€‚</p><p>æˆ‘ä¹Ÿæ˜¯å›¢é˜Ÿåˆä½œçš„åšå®šä¿¡å¾’ã€‚å¦‚æœæ¯ä¸ªäººéƒ½èƒ½åœ¨è‡ªå·±æœ€æ“…é•¿çš„é¢†åŸŸå‘å…‰ï¼Œæˆ‘ä»¬å°±èƒ½å®ç°1+1å¤§äº2ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç¢°åˆ°ä¸€äº›â€œè„æ´»â€ï¼Œè€Œæˆ‘ä¸ªäººéå¸¸æ„¿æ„æ‰¿æ‹…è¿™äº›ä»»åŠ¡ï¼Œå› ä¸ºåªè¦é‚£æ˜¯æœ€å¤§çš„éšœç¢ï¼Œæˆ–è€…é‚£é¡¹ä»»åŠ¡èƒ½ä¸ºé¡¹ç›®å¸¦æ¥æœ€å¤§çš„ä»·å€¼ï¼Œå°±æ²¡æœ‰ä»€ä¹ˆæ˜¯â€œè„æ´»â€æˆ–â€œçäº‹â€ã€‚æˆ‘é¼“åŠ±å‘¨å›´çš„äººä¹Ÿè¿™æ ·åšï¼Œæˆä¸ºå›¢é˜Ÿçš„ä¸€å‘˜ï¼Œå…±åŒåŠªåŠ›æé«˜å›¢é˜Ÿçš„ç”Ÿäº§åŠ›ã€‚</p></blockquote><p><img src="https://images.ctfassets.net/kftzwdyauwt9/e3357d5a-b177-4b3a-1edf79a7f2dc/ca1f3418cd72b4eb84c9d1a09dfffc7f/stangel-2022-0421.jpg?w=3840&q=90&fm=webp" alt="Lilian Weng&#39;s interview"></p><p>å›¾æºï¼š<a href="https://openai.com/index/the-power-of-continuous-learning/">The power of continuous learning | OpenAI</a>   Photo: Jake Stangel</p><blockquote><p>PSï¼šè¿™ä¸ªå§å§å¥½æ¼‚äº®~</p></blockquote><p>è¿™ä¸<strong>è´¹æ›¼å­¦ä¹ æ³•ï¼ˆFeynman Techniqueï¼‰</strong>å¯è°“æ˜¯ä¸è°‹è€Œåˆï¼š</p><blockquote><p>1.Identify the subject. Write down everything you know about the topic.</p><p>2.Teach it to a child. If you can teach a concept to a child, youâ€™re way ahead of the game.</p><p>3.Identify your knowledge gaps. This is the point where the real learning happens.</p><p>4.Organize + simplify + Tell a story. Start to tell your story.</p></blockquote><p>æ­¤æ—¶ï¼Œåˆšåˆšæ­¥å…¥å¤§å­¦æ ¡å›­3ä¸ªæœˆçš„ç¬”è€…ï¼Œç”±äºæ·±å—é«˜ä¸­ä¼˜ç»©ä¸»ä¹‰å’Œåº”è¯•æ€æƒ³çš„é—é£è¼æ¯’ï¼Œå¯¹å¤§å­¦ç”Ÿæ´»å’Œè®¡ç®—æœºå­¦ç§‘çš„å­¦ä¹ é¢‡å…·ä¸é€‚åº”çš„ç–²æ€ã€‚å­¦ä¹ çš„çŸ¥è¯†å¦‚æ­¤æµ·é‡ï¼Œå´æ— æ³•ä¾é åº”è¯•å’Œåšé¢˜è¿›è¡Œå·©å›ºï¼Œè¯¥å¦‚ä½•æ˜¯å¥½ï¼Ÿ</p><p>æˆ–è®¸<strong>ä¸Šæ–‡å·²ç»ç»™å‡ºäº†ç­”æ¡ˆã€‚</strong></p><center><p><font size=6><b><p style="color:red;">æˆ‘è¦åˆ›å»ºè‡ªå·±çš„åšå®¢!</p></b></font></p></center><p>æ— è®ºæ˜¯ä¼ ç»Ÿçš„åšé¢˜åˆ·å·ï¼Œè¿˜æ˜¯åšå®¢ï¼Œäº¦æˆ–æ˜¯â€œè´¹æ›¼å­¦ä¹ æ³•â€ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯<strong>å¼ºåŒ–è®­ç»ƒäººè„‘åœ¨å¸æ”¶æ–°çŸ¥è¯†åçš„æœ‰æ•ˆè¾“å‡ºè¿‡ç¨‹</strong>ï¼šå½“ä½ èƒ½å¾ˆæµç•…åœ°ç»™å‡ºä¸€é“æ•°å­¦é¢˜çš„è‹¥å¹²ç§è¯æ˜æ–¹æ³•æ—¶ï¼Œèƒ½é€»è¾‘æ¸…æ™°åœ°å°†æ‰€å­¦çš„çŸ¥è¯†ç©¿æˆé€»è¾‘é“¾æ¡æˆ–æ€ç»´å¯¼å›¾ï¼Œå‘ˆç°åœ¨åšå®¢ä¸­ä¸ºä»–äººæ‰€å¸æ”¶æ—¶ï¼Œä½ ä¾¿é€šè¿‡<strong>æœ‰æ•ˆçš„å¯¹å¤–åšåŠŸè¾“å‡º</strong>å¾ˆå¥½åœ°å·©å›ºäº†æ‰€å­¦çš„çŸ¥è¯†ã€‚åŒæ—¶ï¼ŒçŸ¥è¯†çš„ä¸æ–­æ²‰æ·€ä¹Ÿå¸¦æ¥äº†è«å¤§çš„æˆå°±æ„Ÿã€‚</p><p>ä½†æ˜¯ï¼Œå†™ä¸€ç¯‡åšå®¢ï¼Œå¯ä¸ä»…ä»…æ˜¯æ‰“æ‰“å­—é‚£ä¹ˆç®€å•ã€‚</p><p>ä¸çŸ¥å„ä½åœ¨é«˜ä¸­å†™è®®è®ºæ–‡çš„æ—¶å€™æœ‰æ²¡æœ‰ä¸€ç§â€œå’¬ç‰™åˆ‡é½¿â€çš„æ„Ÿè§‰ï¼Œå°±æ˜¯<strong>æˆ‘æƒ³åˆ°çš„â‰ æˆ‘å®é™…æ„æ€å¥½çš„â‰ æˆ‘è¾“å‡ºçš„â‰ æˆ‘å¸Œæœ›æ‰€è¡¨è¾¾çš„</strong>ï¼Œç”šè‡³äºï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¿ƒä¸­æ‰€è°“çš„çµæ„Ÿåªæ˜¯<strong>ä¹ç°çš„åªè¨€ç‰‡è¯­çš„ç¢ç‰‡</strong>ï¼Œè·ç¦»æˆä¸ºä¸€ç¯‡é€»è¾‘æ¸…æ™°ï¼Œå†…å®¹è¯¦å®ä¸”æœ‰åˆ›æ–°æ€§çš„åšå®¢æ–‡ç« è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚è¿™ä¾¿æ˜¯åšå®¢å†™ä½œçš„éš¾ç‚¹ï¼Œä¹Ÿæ˜¯<strong>æˆ‘å¸Œæœ›é€šè¿‡ä¸ªäººåšå®¢æ¥è®­ç»ƒçš„æœ€é‡è¦çš„å†…å®¹ï¼šå°†å¿ƒé‡Œçš„çµæ„Ÿè¿›è¡Œæœ‰æ•ˆçš„è¾“å‡ºï¼ŒåŠ›æ±‚é€»è¾‘æ€§å’Œå­¦æœ¯çš„ä¸“ä¸šæ€§ã€‚</strong></p><h2 id="About-the-Blog"><a href="#About-the-Blog" class="headerlink" title="About the Blog"></a>About the Blog</h2><p><strong>Xiyuan Yangâ€™s Blog</strong>ï¼Œåˆ›å»ºäº<strong>2024å¹´11æœˆ19æ—¥</strong>ã€‚</p><p>ä»¥ä¸‹æ˜¯è‡ªæˆ‘ç®€ä»‹ï¼ˆæ‘˜è‡ª<a href="https://xiyuanyang-code.github.io/about/">About - Xiyuan Yangâ€™s Blog</a>ï¼‰ï¼š</p><blockquote><p>Greetings! I am <strong>Xiyuan Yang (æ¨å¸Œæ¸Š)</strong>, currently pursuing an undergraduate degree in Artificial Intelligence at Shanghai Jiao Tong University. With a longstanding aspiration to become a programmer, I am passionate about leveraging technology to make a meaningful impact on the world. Through my personal website, I aim to share a collection of my blogs and learning notes with you. Some of these entries will be presented as a series, updated at irregular intervals. Additionally, I will offer insights into my personal observations and reflections on life. I hope your visit here is both enjoyable and enriching!</p></blockquote><blockquote><p><strong>My email:</strong></p><ul><li><p><a href="mailto:xiyuan__yang@outlook.com">xiyuan__yang@outlook.com</a></p></li><li><p><a href="mailto:yangxiyuan@sjtu.edu.cn">yangxiyuan@sjtu.edu.cn</a></p><p>Feel free to contact me!</p></li></ul></blockquote><blockquote><p>VENI VIDI VICI</p></blockquote><p>è¿™ä¸ªåšå®¢çš„æ›´æ–°å†…å®¹å°†éšç€ç¬”è€…åç»­çš„ä¸“ä¸šè¯¾ç¨‹çš„å­¦ä¹ åŒæ­¥è¿›è¡Œï¼Œ<strong>æ—¨åœ¨åˆ†äº«ç¬”è€…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å­¦åˆ°çš„æœ‰æ„æ€çš„ä¸“ä¸šçŸ¥è¯†ï¼ŒåŠ›æ±‚åœ¨åšå®¢è¾“å‡ºçš„è¿‡ç¨‹ä¸­åŸ¹å…»è‡ªå·±çš„é€»è¾‘æ€ç»´å’Œè¡¨è¾¾èƒ½åŠ›</strong>ï¼Œä¸è¿‡æ›´æ–°æ—¶é—´ï¼Œæ›´æ–°å†…å®¹ï¼Œæ›´æ–°ç¯‡å¹…<strong>å°†ä¼šå®Œå…¨éšæœº</strong>ã€‚</p><p>æœ¬åšå®¢éƒ¨ç½²åœ¨githubçš„é™æ€ç½‘ç«™ä¸Šï¼Œè½®å­ä½¿ç”¨<code>Hexo</code>çš„<code>Fluid</code>çš„æ¨¡ç‰ˆï¼Œé…ç½®ç¯å¢ƒè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‹é¢è´´å‡ºä¸€äº›ç›¸å…³çš„ç½‘å€ï¼Œæœ‰ç›¸åŒçˆ±å¥½çš„ç«¥é‹å¯ä»¥å‚è€ƒå€Ÿé‰´ä¸€ä¸‹ï¼š</p><ul><li><a href="https://github.com/xiyuanyang-code">xiyuanyang-code (Xiyuan Yang)æˆ‘çš„Githubä¸»é¡µ</a></li><li><a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io">xiyuanyang-code&#x2F;xiyuanyang-code.github.ioæˆ‘çš„åšå®¢Githubä»“åº“</a></li><li><a href="https://github.com/fluid-dev/hexo-theme-fluid">fluid-dev&#x2F;hexo-theme-fluid-Design theme for Hexo Fluidçš„Githubå®˜æ–¹ä»“åº“</a></li><li><a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/">é…ç½®æŒ‡å— | Hexo Fluid ç”¨æˆ·æ‰‹å†Œ</a></li><li><a href="https://fluid-dev.github.io/hexo-fluid-docs/start/">å¼€å§‹ä½¿ç”¨ | Hexo Fluid ç”¨æˆ·æ‰‹å†Œ</a></li></ul><p>æœ‰å…³åšå®¢çš„å…·ä½“æ›´æ–°å†…å®¹ï¼Œè¯·è¯¦è§<code>Goals and Plans of Updates</code>éƒ¨åˆ†~</p><h2 id="Goals-and-Plans-of-Updates"><a href="#Goals-and-Plans-of-Updates" class="headerlink" title="Goals and Plans of Updates"></a>Goals and Plans of Updates</h2><h3 id="æ›´æ–°çš„ä¸»è¦å†…å®¹"><a href="#æ›´æ–°çš„ä¸»è¦å†…å®¹" class="headerlink" title="æ›´æ–°çš„ä¸»è¦å†…å®¹"></a>æ›´æ–°çš„ä¸»è¦å†…å®¹</h3><p>ç¬”è€…æ›´æ–°çš„ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼šï¼ˆ<strong>è‰æ‹Ÿ</strong>ï¼‰</p><ul><li>ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•å­¦ä¹ <ul><li>C&#x2F;C++</li><li>Python<ul><li>è¯­æ³•</li><li>Anaconda</li><li>ä¸€äº›å¸¸è§çš„åº“</li></ul></li><li>HTML&#x2F;Javascript</li><li>Bash&#x2F;Shell</li></ul></li><li>ä¸€äº›å¸¸ç”¨çš„å·¥å…·æ•™ç¨‹<ul><li>LaTeX</li><li>å‘½ä»¤è¡Œ</li><li>Git</li><li>Vimç¼–è¾‘å™¨</li><li>Linuxå’ŒæœåŠ¡å™¨ï¼ˆä¸»è¦å’Œæ·±åº¦å­¦ä¹ ç›¸å…³ï¼‰<ul><li>Linuxå¸¸è§å‘½ä»¤</li><li>Tmux</li><li>SSHè¿œç¨‹è¿æ¥</li></ul></li></ul></li><li>[CS]ç®—æ³•<ul><li>æ•°æ®ç»“æ„</li><li>ç®—æ³•</li><li>è®¡ç®—æœºå››å¤§ä»¶</li></ul></li><li>AIä¸“ä¸šè¯¾<ul><li>æœºå™¨å­¦ä¹ </li><li>å¼ºåŒ–å­¦ä¹ </li><li>æ·±åº¦å­¦ä¹ <ul><li>Pytorch</li></ul></li></ul></li><li>AIå‰æ²¿&amp;ç»å…¸è®ºæ–‡ç²¾è¯»</li><li><del>ä¸€äº›æ™¦æ¶©éš¾æ‡‚çš„</del>æ•°å­¦è¯¾</li><li>å‘å‘ç‰¢éªš</li></ul><h3 id="å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰"><a href="#å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰" class="headerlink" title="å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰"></a>å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰</h3><ul><li><strong>Code</strong></li><li><strong>Math</strong></li><li><strong>Efficient Tools</strong></li><li><strong>Algorithm</strong></li><li><strong>Frontier and Classic Papers in AI</strong></li><li><strong>AI Core Courses</strong></li></ul><h3 id="å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰"><a href="#å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰" class="headerlink" title="å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰"></a>å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰</h3><p>è§ <a href="https://xiyuanyang-code.github.io/tags/">Tags</a> é¡µã€‚</p><h2 id="Several-Pages"><a href="#Several-Pages" class="headerlink" title="Several Pages"></a>Several Pages</h2><p>ä»¥ä¸‹æ˜¯å¯¹æœ¬åšå®¢è‹¥å¹²åŸºæœ¬é¡µé¢çš„ä»‹ç»ï¼š</p><ul><li><h4 id="Home"><a href="#Home" class="headerlink" title="Home"></a>Home</h4></li><li><h4 id="Introï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰"><a href="#Introï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰" class="headerlink" title="Introï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰"></a><strong>Intro</strong>ï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰</h4></li><li><h4 id="Archivesï¼ˆæ–‡ç« ï¼‰"><a href="#Archivesï¼ˆæ–‡ç« ï¼‰" class="headerlink" title="Archivesï¼ˆæ–‡ç« ï¼‰"></a>Archivesï¼ˆæ–‡ç« ï¼‰</h4></li><li><h4 id="Categoriesï¼ˆåˆ†ç±»é¡µï¼‰"><a href="#Categoriesï¼ˆåˆ†ç±»é¡µï¼‰" class="headerlink" title="Categoriesï¼ˆåˆ†ç±»é¡µï¼‰"></a>Categoriesï¼ˆåˆ†ç±»é¡µï¼‰</h4></li><li><h4 id="Tagsï¼ˆæ ‡ç­¾é¡µï¼‰"><a href="#Tagsï¼ˆæ ‡ç­¾é¡µï¼‰" class="headerlink" title="Tagsï¼ˆæ ‡ç­¾é¡µï¼‰"></a>Tagsï¼ˆæ ‡ç­¾é¡µï¼‰</h4></li><li><h4 id="Aboutï¼ˆå…³äºä½œè€…ï¼‰"><a href="#Aboutï¼ˆå…³äºä½œè€…ï¼‰" class="headerlink" title="Aboutï¼ˆå…³äºä½œè€…ï¼‰"></a>Aboutï¼ˆå…³äºä½œè€…ï¼‰</h4></li><li><h4 id="FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰"><a href="#FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰" class="headerlink" title="FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰"></a>FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰</h4></li><li><h4 id="Resumeï¼ˆAcademic-CV-of-the-Authorï¼‰"><a href="#Resumeï¼ˆAcademic-CV-of-the-Authorï¼‰" class="headerlink" title="Resumeï¼ˆAcademic CV of the Authorï¼‰"></a>Resumeï¼ˆ<strong>Academic CV of the Author</strong>ï¼‰</h4></li></ul><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://github.com/lilianweng">lilianweng (Lilian)çš„githubä¸»é¡µ</a></p><p> <a href="https://lilianweng.github.io/">Lilâ€™Logï¼ˆç¿è”çš„åšå®¢ï¼‰</a></p><p><a href="https://openai.com/index/the-power-of-continuous-learning/">The power of continuous learning | OpenAI</a></p><p><a href="https://github.com/xiyuanyang-code">https://github.com/xiyuanyang-code</a></p><p><a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io">https://github.com/xiyuanyang-code/xiyuanyang-code.github.io</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>Announcement</tag>
      
      <tag>Updating</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Algorithm-Introduction</title>
    <link href="/posts/Algorithm-Introduction/"/>
    <url>/posts/Algorithm-Introduction/</url>
    
    <content type="html"><![CDATA[<h1 id="Algorithm-tutorial-section1"><a href="#Algorithm-tutorial-section1" class="headerlink" title="Algorithm_tutorial_section1"></a>Algorithm_tutorial_section1</h1><p>ã€å†™åœ¨å‰é¢çš„è¯ã€‘</p><p>â€‹    æœ¬æ–‡æ˜¯ç¬”è€…è‡ªå·±ç®—æ³•è¯¾ç¨‹çš„å­¦ä¹ ç¬”è®°ï¼Œç›®å‰çš„å­¦ä¹ å†…å®¹ä¸»è¦æ˜¯ç®—æ³•å’Œæ•°æ®ç»“æ„åŸºç¡€ï¼ˆæå‰è‡ªå­¦ï¼Œç¬”è€…ä¼šåœ¨å¤§ä¸€ä¸‹å­¦æœŸç³»ç»Ÿå­¦ä¹ ï¼‰ï¼Œå­¦ä¹ é€”å¾„å’Œèµ„æºä¸»è¦æ˜¯ <a href="https://www.hello-algo.com/">Hello ç®—æ³•</a>ï¼ˆä¸€æœ¬éå¸¸æ˜“å…¥é—¨çš„ç®—æ³•ä¹¦ï¼éå¸¸æ¨èï¼ï¼‰ã€‚å› æ­¤ï¼Œ<strong>æ­¤æ–‡ç« æ˜¯Algorithm_tutorialçš„ç¬¬ä¸€ç¯‡åšå®¢~ï¼Œä¸”å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªHelloç®—æ³•åŸä¹¦ï¼ŒåŸåˆ›éƒ¨åˆ†å±äºå°‘æ•°ï¼Œç¬”è€…åœ¨æ­¤å¤„åªæ˜¯æŒ‰ç…§è‡ªå·±çš„çŸ¥è¯†ä½“ç³»è¿›è¡Œå½’çº³æ€»ç»“å¹¶ä¸”å°è¯•è®°å½•ä¸‹æ¥ã€‚</strong>å¸Œæœ›å¤§å®¶éƒ½èƒ½æ„‰å¿«åœ°å¼€å¯è‡ªå·±çš„ç®—æ³•å­¦ä¹ ä¹‹æ—…~</p><h1 id="Algorithm-Section1-Introduction"><a href="#Algorithm-Section1-Introduction" class="headerlink" title="Algorithm.Section1 Introduction"></a>Algorithm.Section1 Introduction</h1><p>Introductionï¼š</p><ul><li>è¿­ä»£ä¸é€’å½’</li><li>æ—¶é—´å¤æ‚åº¦</li><li>ç©ºé—´å¤æ‚åº¦</li><li>æ•°æ®ç»“æ„çš„ç‰©ç†ç»“æ„</li></ul><h2 id="ä¸€ã€ç®—æ³•-å¤æ‚åº¦åˆ†æ"><a href="#ä¸€ã€ç®—æ³•-å¤æ‚åº¦åˆ†æ" class="headerlink" title="ä¸€ã€ç®—æ³• å¤æ‚åº¦åˆ†æ"></a>ä¸€ã€ç®—æ³• å¤æ‚åº¦åˆ†æ</h2><p>â€‹    ç”±äºå®é™…æµ‹è¯•å…·æœ‰è¾ƒå¤§çš„å±€é™æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘ä»…é€šè¿‡ä¸€äº›è®¡ç®—æ¥è¯„ä¼°ç®—æ³•çš„æ•ˆç‡ã€‚è¿™ç§ä¼°ç®—æ–¹æ³•è¢«ç§°ä¸ºæ¸è¿‘å¤æ‚åº¦åˆ†æï¼ˆasymptotic complexity analysisï¼‰ï¼Œç®€ç§°å¤æ‚åº¦åˆ†æã€‚</p><p>â€‹    å¤æ‚åº¦åˆ†æèƒ½å¤Ÿä½“ç°ç®—æ³•è¿è¡Œæ‰€éœ€çš„æ—¶é—´å’Œç©ºé—´èµ„æºä¸è¾“å…¥æ•°æ®å¤§å°ä¹‹é—´çš„å…³ç³»ã€‚<strong>å®ƒæè¿°äº†éšç€è¾“å…¥æ•°æ®å¤§å°çš„å¢åŠ ï¼Œç®—æ³•æ‰§è¡Œæ‰€éœ€æ—¶é—´å’Œç©ºé—´çš„å¢é•¿è¶‹åŠ¿</strong>ã€‚è¿™ä¸ªå®šä¹‰æœ‰äº›æ‹—å£ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†ä¸ºä¸‰ä¸ªé‡ç‚¹æ¥ç†è§£ã€‚</p><ul><li>â€œ<strong>æ—¶é—´å’Œç©ºé—´èµ„æº</strong>â€åˆ†åˆ«å¯¹åº”æ—¶é—´å¤æ‚åº¦ï¼ˆtime complexityï¼‰å’Œç©ºé—´å¤æ‚åº¦ï¼ˆspace complexityï¼‰ã€‚</li><li>â€œéšç€è¾“å…¥æ•°æ®å¤§å°çš„å¢åŠ â€æ„å‘³ç€å¤æ‚åº¦åæ˜ äº†ç®—æ³•è¿è¡Œæ•ˆç‡ä¸è¾“å…¥æ•°æ®ä½“é‡ä¹‹é—´çš„å…³ç³»ã€‚</li><li>â€œ<strong>æ—¶é—´å’Œç©ºé—´çš„å¢é•¿è¶‹åŠ¿</strong>â€è¡¨ç¤ºå¤æ‚åº¦åˆ†æå…³æ³¨çš„ä¸æ˜¯è¿è¡Œæ—¶é—´æˆ–å ç”¨ç©ºé—´çš„å…·ä½“å€¼ï¼Œè€Œæ˜¯æ—¶é—´æˆ–ç©ºé—´å¢é•¿çš„â€œå¿«æ…¢â€ã€‚ï¼ˆ<strong>ä¸€ç§è¶‹åŠ¿ï¼</strong>ï¼‰</li></ul><h3 id="è¿­ä»£ä¸é€’å½’"><a href="#è¿­ä»£ä¸é€’å½’" class="headerlink" title="@è¿­ä»£ä¸é€’å½’"></a>@è¿­ä»£ä¸é€’å½’</h3><p><strong>è¿­ä»£ï¼šè‡ªä¸‹è€Œä¸Šï¼Œå°é—®é¢˜ç§¯ç´¯æˆå¤§é—®é¢˜</strong></p><p><strong>é€’å½’ï¼šè‡ªä¸Šè€Œä¸‹ï¼Œå¤§é—®é¢˜æ‹†è§£æˆå°é—®é¢˜</strong></p><p>ç¨‹åºå®ç°é‡å¤ä»£ç å—æ‰§è¡Œçš„ä¸¤ç§æ–¹å¼ï¼š</p><ul><li><p>è¿­ä»£ï¼ˆforå¾ªç¯ï¼Œwhileå¾ªç¯ï¼‰</p></li><li><p>é€’å½’</p></li></ul><p>â€‹    é€’å½’ï¼ˆrecursionï¼‰æ˜¯ä¸€ç§ç®—æ³•ç­–ç•¥ï¼Œé€šè¿‡å‡½æ•°è°ƒç”¨è‡ªèº«æ¥è§£å†³é—®é¢˜ã€‚å®ƒä¸»è¦åŒ…å«ä¸¤ä¸ªé˜¶æ®µã€‚</p><ol><li><strong>é€’</strong>ï¼šç¨‹åºä¸æ–­æ·±å…¥åœ°è°ƒç”¨è‡ªèº«ï¼Œé€šå¸¸ä¼ å…¥æ›´å°æˆ–æ›´ç®€åŒ–çš„å‚æ•°ï¼Œç›´åˆ°è¾¾åˆ°â€œç»ˆæ­¢æ¡ä»¶â€ã€‚</li><li><strong>å½’</strong>ï¼šè§¦å‘â€œç»ˆæ­¢æ¡ä»¶â€åï¼Œç¨‹åºä»æœ€æ·±å±‚çš„é€’å½’å‡½æ•°å¼€å§‹é€å±‚è¿”å›ï¼Œæ±‡èšæ¯ä¸€å±‚çš„ç»“æœã€‚</li></ol><p>â€‹    è€Œä»å®ç°çš„è§’åº¦çœ‹ï¼Œé€’å½’ä»£ç ä¸»è¦åŒ…å«ä¸‰ä¸ªè¦ç´ ã€‚</p><ol><li><strong>ç»ˆæ­¢æ¡ä»¶</strong>ï¼šç”¨äºå†³å®šä»€ä¹ˆæ—¶å€™ç”±â€œé€’â€è½¬â€œå½’â€ã€‚</li><li><strong>é€’å½’è°ƒç”¨</strong>ï¼šå¯¹åº”â€œé€’â€ï¼Œå‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œé€šå¸¸è¾“å…¥æ›´å°æˆ–æ›´ç®€åŒ–çš„å‚æ•°ã€‚</li><li><strong>è¿”å›ç»“æœ</strong>ï¼šå¯¹åº”â€œå½’â€ï¼Œå°†å½“å‰é€’å½’å±‚çº§çš„ç»“æœè¿”å›è‡³ä¸Šä¸€å±‚ã€‚</li></ol><p><strong>æœ‰å…³é€’å½’çš„æ—¶é—´é—®é¢˜å’Œç©ºé—´é—®é¢˜</strong></p><p>â€‹    é€’å½’å‡½æ•°æ¯æ¬¡è°ƒç”¨è‡ªèº«æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šä¸ºæ–°å¼€å¯çš„å‡½æ•°åˆ†é…å†…å­˜ï¼Œä»¥å­˜å‚¨å±€éƒ¨å˜é‡ã€è°ƒç”¨åœ°å€å’Œå…¶ä»–ä¿¡æ¯ç­‰ã€‚è¿™å°†å¯¼è‡´ä¸¤æ–¹é¢çš„ç»“æœã€‚</p><ul><li><p>å‡½æ•°çš„ä¸Šä¸‹æ–‡æ•°æ®éƒ½å­˜å‚¨åœ¨ç§°ä¸ºâ€œ<strong>æ ˆå¸§ç©ºé—´</strong>â€çš„å†…å­˜åŒºåŸŸä¸­ï¼Œç›´è‡³å‡½æ•°è¿”å›åæ‰ä¼šè¢«é‡Šæ”¾ã€‚å› æ­¤ï¼Œ<strong>é€’å½’é€šå¸¸æ¯”è¿­ä»£æ›´åŠ è€—è´¹å†…å­˜ç©ºé—´</strong>ã€‚ï¼ˆéœ€è¦æ§åˆ¶é€’å½’æ·±åº¦ï¼Œå¦åˆ™è¿‡æ·±çš„é€’å½’ä¼šå¯¼è‡´æ ˆçš„æº¢å‡ºé”™è¯¯ï¼‰</p></li><li><p><strong>æœ‰å…³æ ˆå¸§ç©ºé—´</strong>ï¼š</p></li><li><p>æ ˆå¸§ç©ºé—´æ˜¯æŒ‡åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ºæ¯ä¸ªå‡½æ•°è°ƒç”¨åˆ†é…çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨è¯¥å‡½æ•°çš„å±€éƒ¨å˜é‡ã€å‚æ•°ã€è¿”å›åœ°å€ä»¥åŠå…¶ä»–æ§åˆ¶ä¿¡æ¯ã€‚æ¯æ¬¡å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œéƒ½ä¼šåœ¨è°ƒç”¨æ ˆä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆå¸§ï¼Œè¿™ä¸ªæ ˆå¸§çš„ç”Ÿå‘½å‘¨æœŸä¸å‡½æ•°çš„æ‰§è¡Œå‘¨æœŸç›¸åŒã€‚</p><ol><li><strong>è¿”å›åœ°å€</strong>ï¼šå½“å‡½æ•°è°ƒç”¨å®Œæˆåï¼Œç¨‹åºéœ€è¦çŸ¥é“ä»å“ªé‡Œç»§ç»­æ‰§è¡Œï¼Œå› æ­¤è¿”å›åœ°å€ä¼šè¢«å‹å…¥æ ˆå¸§ä¸­ã€‚</li><li><strong>å‚æ•°</strong>ï¼šå‡½æ•°è°ƒç”¨æ—¶ä¼ é€’ç»™è¢«è°ƒç”¨å‡½æ•°çš„å‚æ•°ä¹Ÿä¼šå­˜å‚¨åœ¨æ ˆå¸§ä¸­ã€‚</li><li><strong>å±€éƒ¨å˜é‡</strong>ï¼šå‡½æ•°å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡ä¼šå ç”¨æ ˆå¸§ç©ºé—´ã€‚</li><li><strong>æ§åˆ¶ä¿¡æ¯</strong>ï¼šåŒ…æ‹¬æŒ‡å‘ä¸Šä¸€ä¸ªæ ˆå¸§çš„æŒ‡é’ˆï¼ˆå¸§æŒ‡é’ˆï¼‰ï¼Œç”¨äºç»´æŠ¤è°ƒç”¨é“¾ã€‚</li></ol><p><strong>æ ˆå¸§çš„å·¥ä½œæœºåˆ¶</strong></p><ul><li><strong>å…¥æ ˆ</strong>ï¼šå½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œé¦–å…ˆå°†å‚æ•°å’Œè¿”å›åœ°å€å‹å…¥æ ˆä¸­ï¼Œç„¶ååˆ†é…ç©ºé—´ç»™å±€éƒ¨å˜é‡ï¼Œå½¢æˆæ–°çš„æ ˆå¸§ã€‚</li><li><strong>å‡ºæ ˆ</strong>ï¼šå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå±€éƒ¨å˜é‡å’Œå‚æ•°çš„ç©ºé—´è¢«é‡Šæ”¾ï¼Œè¿”å›åœ°å€è¢«å¼¹å‡ºï¼Œç¨‹åºæ§åˆ¶æµè½¬å›è°ƒç”¨è¯¥å‡½æ•°çš„ä½ç½®ã€‚</li></ul><p><strong>æ ˆå¸§çš„ä¼˜ç‚¹</strong></p><ul><li><strong>è‡ªåŠ¨ç®¡ç†</strong>ï¼šæ ˆå¸§ç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œæ— éœ€æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚</li><li><strong>é«˜æ•ˆæ€§</strong>ï¼šç”±äºæ ˆçš„åè¿›å…ˆå‡ºç‰¹æ€§ï¼Œå†…å­˜åˆ†é…å’Œé‡Šæ”¾é€Ÿåº¦éå¸¸å¿«ã€‚</li></ul></li><li><p>é€’å½’è°ƒç”¨å‡½æ•°ä¼šäº§ç”Ÿé¢å¤–çš„å¼€é”€ã€‚<strong>å› æ­¤é€’å½’é€šå¸¸æ¯”å¾ªç¯çš„æ—¶é—´æ•ˆç‡æ›´ä½</strong>ã€‚</p></li><li><p><strong>ä½¿ç”¨å°¾é€’å½’</strong>å¯ä»¥ä¼˜åŒ–é€’å½’çš„æ•ˆç‡ï¼ˆç³»ç»Ÿæ— éœ€ä¿å­˜å‡½æ•°ä¸Šä¸€çº§çš„ä¸Šä¸‹æ–‡ï¼‰</p></li></ul><p><strong>æœ‰å…³é€’å½’æ ‘</strong></p><p>æˆ‘ä»¬åœ¨å‡½æ•°å†…é€’å½’è°ƒç”¨äº†ä¸¤ä¸ªå‡½æ•°ï¼Œ<strong>è¿™æ„å‘³ç€ä»ä¸€ä¸ªè°ƒç”¨äº§ç”Ÿäº†ä¸¤ä¸ªè°ƒç”¨åˆ†æ”¯</strong>ã€‚å¦‚å›¾ 2-6 æ‰€ç¤ºï¼Œè¿™æ ·ä¸æ–­é€’å½’è°ƒç”¨ä¸‹å»ï¼Œæœ€ç»ˆå°†äº§ç”Ÿä¸€æ£µå±‚æ•°ä¸º n çš„é€’å½’æ ‘ï¼ˆrecursion treeï¼‰ã€‚</p><p><img src="https://www.hello-algo.com/chapter_computational_complexity/iteration_and_recursion.assets/recursion_tree.png" alt="æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é€’å½’æ ‘"></p><blockquote><p>è¿™ç§é€’å½’æ ‘å¯ä»¥è¾¾åˆ°æŒ‡æ•°é˜¶çš„æ—¶é—´å¤æ‚åº¦ã€‚</p></blockquote><p><strong>ä¸€å®šè¦ç†è§£é€’å½’çš„æ ¸å¿ƒæ€æƒ³ï¼šåˆ†æ²»ï¼</strong></p><p>ä»æœ¬è´¨ä¸Šçœ‹ï¼Œé€’å½’ä½“ç°äº†â€œå°†é—®é¢˜åˆ†è§£ä¸ºæ›´å°å­é—®é¢˜â€çš„æ€ç»´èŒƒå¼ï¼Œè¿™ç§åˆ†æ²»ç­–ç•¥è‡³å…³é‡è¦ã€‚</p><ul><li>ä»ç®—æ³•è§’åº¦çœ‹ï¼Œ<strong>æœç´¢ã€æ’åºã€å›æº¯ã€åˆ†æ²»ã€åŠ¨æ€è§„åˆ’</strong>ç­‰è®¸å¤šé‡è¦ç®—æ³•ç­–ç•¥ç›´æ¥æˆ–é—´æ¥åœ°åº”ç”¨äº†è¿™ç§æ€ç»´æ–¹å¼ã€‚</li><li>ä»æ•°æ®ç»“æ„è§’åº¦çœ‹ï¼Œ<strong>é€’å½’å¤©ç„¶é€‚åˆå¤„ç†é“¾è¡¨ã€æ ‘å’Œå›¾çš„ç›¸å…³é—®é¢˜</strong>ï¼Œå› ä¸ºå®ƒä»¬éå¸¸é€‚åˆç”¨åˆ†æ²»æ€æƒ³è¿›è¡Œåˆ†æã€‚</li></ul><p><strong>è¿­ä»£å’Œé€’å½’çš„æœ¬è´¨ä¸å†…åœ¨è”ç³»</strong></p><p>ä»¥ä¸Šè¿°é€’å½’å‡½æ•°ä¸ºä¾‹ï¼Œæ±‚å’Œæ“ä½œåœ¨é€’å½’çš„â€œå½’â€é˜¶æ®µè¿›è¡Œã€‚è¿™æ„å‘³ç€<strong>æœ€åˆè¢«è°ƒç”¨çš„å‡½æ•°å®é™…ä¸Šæ˜¯æœ€åå®Œæˆå…¶æ±‚å’Œæ“ä½œ</strong>çš„ï¼Œ<strong>è¿™ç§å·¥ä½œæœºåˆ¶ä¸æ ˆçš„â€œå…ˆå…¥åå‡ºâ€åŸåˆ™å¼‚æ›²åŒå·¥</strong>ã€‚</p><p>äº‹å®ä¸Šï¼Œâ€œ<strong>è°ƒç”¨æ ˆ</strong>â€å’Œâ€œ<strong>æ ˆå¸§ç©ºé—´</strong>â€è¿™ç±»é€’å½’æœ¯è¯­å·²ç»æš—ç¤ºäº†é€’å½’ä¸æ ˆä¹‹é—´çš„å¯†åˆ‡å…³ç³»ã€‚</p><ol><li><strong>é€’</strong>ï¼šå½“å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œç³»ç»Ÿä¼šåœ¨â€œè°ƒç”¨æ ˆâ€ä¸Šä¸ºè¯¥å‡½æ•°åˆ†é…æ–°çš„æ ˆå¸§ï¼Œç”¨äº<strong>å­˜å‚¨å‡½æ•°çš„å±€éƒ¨å˜é‡ã€å‚æ•°ã€è¿”å›åœ°å€</strong>ç­‰æ•°æ®ã€‚</li><li><strong>å½’</strong>ï¼šå½“å‡½æ•°å®Œæˆæ‰§è¡Œå¹¶è¿”å›æ—¶ï¼Œå¯¹åº”çš„æ ˆå¸§ä¼šè¢«ä»â€œè°ƒç”¨æ ˆâ€ä¸Šç§»é™¤ï¼Œæ¢å¤ä¹‹å‰å‡½æ•°çš„æ‰§è¡Œç¯å¢ƒã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">for_loop_recur</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ä½¿ç”¨è¿­ä»£æ¨¡æ‹Ÿé€’å½’&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># ä½¿ç”¨ä¸€ä¸ªæ˜¾å¼çš„æ ˆæ¥æ¨¡æ‹Ÿç³»ç»Ÿè°ƒç”¨æ ˆ</span><br>    stack = []<br>    res = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># é€’ï¼šé€’å½’è°ƒç”¨</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):<br>        <span class="hljs-comment"># é€šè¿‡â€œå…¥æ ˆæ“ä½œâ€æ¨¡æ‹Ÿâ€œé€’â€</span><br>        stack.append(i)<br>    <span class="hljs-comment"># å½’ï¼šè¿”å›ç»“æœ</span><br>    <span class="hljs-keyword">while</span> stack:<br>        <span class="hljs-comment"># é€šè¿‡â€œå‡ºæ ˆæ“ä½œâ€æ¨¡æ‹Ÿâ€œå½’â€</span><br>        res += stack.pop()<br>    <span class="hljs-comment"># res = 1+2+3+...+n</span><br>    <span class="hljs-keyword">return</span> res<br></code></pre></td></tr></table></figure><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="@æ—¶é—´å¤æ‚åº¦"></a>@æ—¶é—´å¤æ‚åº¦</h3><ul><li><strong>å¸¸æ•°</strong>æ—¶é—´å¤æ‚åº¦</li><li><strong>çº¿æ€§</strong>æ—¶é—´å¤æ‚åº¦</li><li><strong>å¹³æ–¹</strong>æ—¶é—´å¤æ‚åº¦</li><li><strong>æŒ‡æ•°é˜¶</strong>æ—¶é—´å¤æ‚åº¦<ul><li>é€’å½’æ ‘çš„ä¸€åˆ†ä¸ºäºŒ</li></ul></li><li><strong>å¯¹æ•°é˜¶</strong>æ—¶é—´å¤æ‚åº¦<ul><li>æ¯è½®ç¼©å‡åˆ°ä¸€åŠ</li><li>ä¹Ÿä¼šå‡ºç°åœ¨é€’å½’æ ‘ä¸­ï¼ˆç»å…¸ä¾‹é¢˜ï¼šå¿«é€Ÿå¹‚è®¡ç®—ï¼‰</li></ul></li><li><strong>çº¿æ€§å¯¹æ•°é˜¶</strong>æ—¶é—´å¤æ‚åº¦ï¼ˆ<code>O(nlogn)</code>ï¼‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">linear_log_recur</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;çº¿æ€§å¯¹æ•°é˜¶&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-comment"># ä¸€åˆ†ä¸ºäºŒï¼Œå­é—®é¢˜çš„è§„æ¨¡å‡å°ä¸€åŠ</span><br>    count = linear_log_recur(n // <span class="hljs-number">2</span>) + linear_log_recur(n // <span class="hljs-number">2</span>)<br>    <span class="hljs-comment"># ä¸C++ä¸åŒï¼Œ//è¡¨ç¤ºåœ°æ¿å‡ºå‘ï¼ˆæ•´æ•°æˆªæ–­ï¼‰</span><br>    <span class="hljs-comment"># å½“å‰å­é—®é¢˜åŒ…å« n ä¸ªæ“ä½œ</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        count += <span class="hljs-number">1</span><br>    <span class="hljs-comment"># ä»£è¡¨å½“å‰éœ€è¦æ‰§è¡Œçš„næ¬¡æ“ä½œ</span><br>    <span class="hljs-keyword">return</span> count<br></code></pre></td></tr></table></figure><p><img src="https://www.hello-algo.com/chapter_computational_complexity/time_complexity.assets/time_complexity_logarithmic_linear.png" alt="çº¿æ€§å¯¹æ•°é˜¶çš„æ—¶é—´å¤æ‚åº¦"></p><ul><li><strong>é˜¶ä¹˜é˜¶</strong>æ—¶é—´å¤æ‚åº¦</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">factorial_recur</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;é˜¶ä¹˜é˜¶ï¼ˆé€’å½’å®ç°ï¼‰&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    count = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># ä» 1 ä¸ªåˆ†è£‚å‡º n ä¸ª</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        count += factorial_recur(n - <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> count<br></code></pre></td></tr></table></figure><p><img src="https://www.hello-algo.com/chapter_computational_complexity/time_complexity.assets/time_complexity_factorial.png" alt="é˜¶ä¹˜é˜¶çš„æ—¶é—´å¤æ‚åº¦"></p><p>æ—¶é—´å¤æ‚åº¦çš„åˆ†ç±»ï¼š</p><ul><li>æœ€å·®æ—¶é—´å¤æ‚åº¦</li><li>æœ€ä½³æ—¶é—´å¤æ‚åº¦</li></ul><blockquote><p>ä»¥ä¸Šä¸¤ä¸ªæ—¶é—´å¤æ‚åº¦å‡ä¸æ•°æ®çš„åˆ†å¸ƒå­˜åœ¨è”ç³»ï¼Œå…·æœ‰å¶ç„¶æ€§</p></blockquote><ul><li>å¹³å‡æ—¶é—´å¤æ‚åº¦</li></ul><p>ç¬¦å·è¡¨ç¤ºï¼š</p><p>æ—¶é—´å¤æ‚åº¦çš„ç¬¦å·è¡¨ç¤ºæ³•ä¸»è¦æœ‰ä¸‰ç§ï¼š<code>O</code>ã€<code>Î©</code> å’Œ <code>Î˜</code>ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºç®—æ³•åœ¨ä¸åŒæƒ…å†µä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚</p><ol><li><p><strong>å¤§ O è¡¨ç¤ºæ³• (O(f(n)))</strong>ï¼š</p><ul><li>æè¿°ï¼šè¡¨ç¤ºç®—æ³•åœ¨<strong>æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦</strong>ã€‚</li><li>ç”¨é€”ï¼šç”¨äºæè¿°ç®—æ³•çš„ä¸Šç•Œï¼Œå³ç®—æ³•çš„æ‰§è¡Œæ—¶é—´ä¸ä¼šè¶…è¿‡æŸä¸ªå‡½æ•°çš„å¢é•¿é€Ÿåº¦ã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœä¸€ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ (O(n^2))ï¼Œæ„å‘³ç€åœ¨æœ€åæƒ…å†µä¸‹ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´æœ€å¤šæ˜¯è¾“å…¥è§„æ¨¡çš„å¹³æ–¹ã€‚</li></ul></li><li><p><strong>å¤§ Î© è¡¨ç¤ºæ³• (Î©(f(n)))</strong>ï¼š</p><ul><li>æè¿°ï¼šè¡¨ç¤ºç®—æ³•åœ¨<strong>æœ€å¥½æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦</strong>ã€‚</li><li>ç”¨é€”ï¼šç”¨äºæè¿°ç®—æ³•çš„ä¸‹ç•Œï¼Œå³ç®—æ³•çš„æ‰§è¡Œæ—¶é—´è‡³å°‘æ˜¯æŸä¸ªå‡½æ•°çš„å¢é•¿é€Ÿåº¦ã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœä¸€ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ (Î©(n))ï¼Œæ„å‘³ç€åœ¨æœ€å¥½æƒ…å†µä¸‹ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´è‡³å°‘æ˜¯è¾“å…¥è§„æ¨¡çš„çº¿æ€§å¢é•¿ã€‚</li></ul></li><li><p><strong>å¤§ Î˜ è¡¨ç¤ºæ³• (Î˜(f(n)))</strong>ï¼š</p><ul><li>æè¿°ï¼šè¡¨ç¤ºç®—æ³•åœ¨<strong>å¹³å‡æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦</strong>ã€‚</li><li>ç”¨é€”ï¼šç”¨äºæè¿°ç®—æ³•çš„ç¡®ç•Œï¼Œå³ç®—æ³•çš„æ‰§è¡Œæ—¶é—´æ—¢ä¸ä¼šè¶…è¿‡æŸä¸ªå‡½æ•°çš„ä¸Šç•Œï¼Œä¹Ÿä¸ä¼šä½äºæŸä¸ªå‡½æ•°çš„ä¸‹ç•Œã€‚</li><li>ç¤ºä¾‹ï¼šå¦‚æœä¸€ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ (Î˜(n \log n))ï¼Œæ„å‘³ç€åœ¨æ‰€æœ‰æƒ…å†µä¸‹ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´å¤§è‡´æ˜¯è¾“å…¥è§„æ¨¡çš„ (n \log n) çº§åˆ«ã€‚</li></ul></li></ol><h3 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="@ç©ºé—´å¤æ‚åº¦"></a>@ç©ºé—´å¤æ‚åº¦</h3><p>ç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜ç©ºé—´ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚</p><ul><li><strong>è¾“å…¥ç©ºé—´</strong>ï¼šç”¨äºå­˜å‚¨ç®—æ³•çš„è¾“å…¥æ•°æ®ã€‚</li><li><strong>æš‚å­˜ç©ºé—´</strong>ï¼šç”¨äºå­˜å‚¨ç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„å˜é‡ã€å¯¹è±¡ã€å‡½æ•°ä¸Šä¸‹æ–‡ç­‰æ•°æ®ã€‚</li><li><strong>è¾“å‡ºç©ºé—´</strong>ï¼šç”¨äºå­˜å‚¨ç®—æ³•çš„è¾“å‡ºæ•°æ®ã€‚</li></ul><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç©ºé—´å¤æ‚åº¦çš„ç»Ÿè®¡èŒƒå›´æ˜¯â€œ<strong>æš‚å­˜ç©ºé—´â€åŠ ä¸Šâ€œè¾“å‡ºç©ºé—´â€</strong>ã€‚</p><p>æš‚å­˜ç©ºé—´å¯ä»¥è¿›ä¸€æ­¥åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><ul><li><strong>æš‚å­˜æ•°æ®</strong>ï¼šç”¨äºä¿å­˜ç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­çš„å„ç§å¸¸é‡ã€å˜é‡ã€å¯¹è±¡ç­‰ã€‚</li><li><strong>æ ˆå¸§ç©ºé—´</strong>ï¼šç”¨äºä¿å­˜è°ƒç”¨å‡½æ•°çš„ä¸Šä¸‹æ–‡æ•°æ®ã€‚ç³»ç»Ÿåœ¨æ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶éƒ½ä¼šåœ¨æ ˆé¡¶éƒ¨åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œå‡½æ•°è¿”å›åï¼Œæ ˆå¸§ç©ºé—´ä¼šè¢«é‡Šæ”¾ã€‚</li><li><strong>æŒ‡ä»¤ç©ºé—´</strong>ï¼šç”¨äºä¿å­˜ç¼–è¯‘åçš„ç¨‹åºæŒ‡ä»¤ï¼Œåœ¨å®é™…ç»Ÿè®¡ä¸­é€šå¸¸å¿½ç•¥ä¸è®¡ã€‚</li></ul><p>åœ¨åˆ†æä¸€æ®µç¨‹åºçš„ç©ºé—´å¤æ‚åº¦æ—¶ï¼Œ<strong>æˆ‘ä»¬é€šå¸¸ç»Ÿè®¡æš‚å­˜æ•°æ®ã€æ ˆå¸§ç©ºé—´å’Œè¾“å‡ºæ•°æ®ä¸‰éƒ¨åˆ†</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ç±»&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span></span>):<br>        <span class="hljs-variable language_">self</span>.val: <span class="hljs-built_in">int</span> = x              <span class="hljs-comment"># èŠ‚ç‚¹å€¼</span><br>        <span class="hljs-variable language_">self</span>.<span class="hljs-built_in">next</span>: Node | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span>  <span class="hljs-comment"># æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„å¼•ç”¨</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">function</span>() -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;å‡½æ•°&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># æ‰§è¡ŒæŸäº›æ“ä½œ...</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">algorithm</span>(<span class="hljs-params">n</span>) -&gt; <span class="hljs-built_in">int</span>:  <span class="hljs-comment"># è¾“å…¥æ•°æ®</span><br>    A = <span class="hljs-number">0</span>                 <span class="hljs-comment"># æš‚å­˜æ•°æ®ï¼ˆå¸¸é‡ï¼Œä¸€èˆ¬ç”¨å¤§å†™å­—æ¯è¡¨ç¤ºï¼‰</span><br>    b = <span class="hljs-number">0</span>                 <span class="hljs-comment"># æš‚å­˜æ•°æ®ï¼ˆå˜é‡ï¼‰</span><br>    node = Node(<span class="hljs-number">0</span>)        <span class="hljs-comment"># æš‚å­˜æ•°æ®ï¼ˆå¯¹è±¡ï¼‰</span><br>    c = function()        <span class="hljs-comment"># æ ˆå¸§ç©ºé—´ï¼ˆè°ƒç”¨å‡½æ•°ï¼‰</span><br>    <span class="hljs-keyword">return</span> A + b + c      <span class="hljs-comment"># è¾“å‡ºæ•°æ®</span><br></code></pre></td></tr></table></figure><p>â€‹    è€Œä¸æ—¶é—´å¤æ‚åº¦ä¸åŒçš„æ˜¯ï¼Œ<strong>æˆ‘ä»¬é€šå¸¸åªå…³æ³¨æœ€å·®ç©ºé—´å¤æ‚åº¦</strong>ã€‚è¿™æ˜¯å› ä¸ºå†…å­˜ç©ºé—´æ˜¯ä¸€é¡¹ç¡¬æ€§è¦æ±‚ï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿åœ¨æ‰€æœ‰è¾“å…¥æ•°æ®ä¸‹éƒ½æœ‰è¶³å¤Ÿçš„å†…å­˜ç©ºé—´é¢„ç•™ã€‚</p><ul><li>ä»¥æœ€å·®è¾“å…¥æ•°æ®ä¸ºå‡†</li><li>ä»¥ç®—æ³•è¿è¡Œçš„<strong>å³°å€¼å†…å­˜</strong>ï¼ˆæ³¨æ„ä¸æ˜¯ç´¯ç§¯é‡ï¼‰ä¸ºå‡†</li></ul><p>ä¸€äº›å¸¸è§çš„ç©ºé—´å¤æ‚åº¦ï¼š</p><ul><li><p>å¸¸æ•°é˜¶ç©ºé—´å¤æ‚åº¦</p><ul><li>åœ¨å¾ªç¯ä¸­åˆå§‹åŒ–å˜é‡æˆ–è°ƒç”¨å‡½æ•°è€Œå ç”¨çš„å†…å­˜ï¼Œåœ¨è¿›å…¥ä¸‹ä¸€å¾ªç¯åå°±ä¼šè¢«é‡Šæ”¾ï¼Œå› æ­¤ä¸ä¼šç´¯ç§¯å ç”¨ç©ºé—´ï¼Œç©ºé—´å¤æ‚åº¦è¿˜æ˜¯<code>O(1)</code>ã€‚</li></ul></li><li><p>çº¿æ€§é˜¶ç©ºé—´å¤æ‚åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">linear</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;çº¿æ€§é˜¶&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># é•¿åº¦ä¸º n çš„åˆ—è¡¨å ç”¨ O(n) ç©ºé—´</span><br>    nums = [<span class="hljs-number">0</span>] * n<br>    <span class="hljs-comment"># é•¿åº¦ä¸º n çš„å“ˆå¸Œè¡¨å ç”¨ O(n) ç©ºé—´</span><br>    hmap = <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">str</span>]()<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        hmap[i] = <span class="hljs-built_in">str</span>(i)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">linear_recur</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;çº¿æ€§é˜¶ï¼ˆé€’å½’å®ç°ï¼‰&quot;&quot;&quot;</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;é€’å½’ n =&quot;</span>, n)<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span><br>    linear_recur(n - <span class="hljs-number">1</span>)<br>    <span class="hljs-comment"># åœ¨è¾¾åˆ°æœ€æ·±çš„é€’å½’æ·±åº¦çš„æ—¶å€™ï¼Œä¼šæœ‰nä¸ªå˜é‡nï¼ˆæ¶‰åŠåˆ°å±€éƒ¨å˜é‡ï¼‰</span><br></code></pre></td></tr></table></figure></li><li><p>å¹³æ–¹é˜¶ç©ºé—´å¤æ‚åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">quadratic</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;å¹³æ–¹é˜¶&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># äºŒç»´åˆ—è¡¨å ç”¨ O(n^2) ç©ºé—´</span><br>    num_matrix = [[<span class="hljs-number">0</span>] * n <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br></code></pre></td></tr></table></figure><ul><li><p><code>num_matrix</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå˜é‡åï¼Œç”¨äºå­˜å‚¨ç”Ÿæˆçš„äºŒç»´çŸ©é˜µã€‚</p><p><code>[[0] * n for _ in range(n)]</code>ï¼šè¿™æ˜¯ä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªåŒ…å« <code>n</code> ä¸ªå­åˆ—è¡¨çš„åˆ—è¡¨ï¼Œæ¯ä¸ªå­åˆ—è¡¨åŒ…å« <code>n</code> ä¸ªå…ƒç´ ã€‚</p><ul><li><code>[0] * n</code>ï¼šè¿™ä¸€éƒ¨åˆ†åˆ›å»ºä¸€ä¸ªåŒ…å« <code>n</code> ä¸ª <code>0</code> çš„åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code>n</code> æ˜¯ <code>3</code>ï¼Œåˆ™ç”Ÿæˆ <code>[0, 0, 0]</code>ã€‚</li><li><code>for _ in range(n)</code>ï¼šè¿™ä¸€éƒ¨åˆ†ç”¨äºé‡å¤åˆ›å»ºä¸Šè¿°çš„å­åˆ—è¡¨ <code>n</code> æ¬¡ã€‚<code>_</code> æ˜¯ä¸€ä¸ªæƒ¯ç”¨çš„å˜é‡åï¼Œè¡¨ç¤ºå¾ªç¯å˜é‡åœ¨å¾ªç¯ä½“å†…æœªè¢«ä½¿ç”¨ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">quadratic_recur</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;å¹³æ–¹é˜¶ï¼ˆé€’å½’å®ç°ï¼‰&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-comment"># æ•°ç»„ nums é•¿åº¦ä¸º n, n-1, ..., 2, 1</span><br>    nums = [<span class="hljs-number">0</span>] * n<br>    <span class="hljs-keyword">return</span> quadratic_recur(n - <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure></li></ul></li><li><p>æŒ‡æ•°é˜¶ç©ºé—´å¤æ‚åº¦ï¼ˆäºŒå‰æ ‘ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">build_tree</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; TreeNode | <span class="hljs-literal">None</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;æŒ‡æ•°é˜¶ï¼ˆå»ºç«‹æ»¡äºŒå‰æ ‘ï¼‰&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>    root = TreeNode(<span class="hljs-number">0</span>)<br>    root.left = build_tree(n - <span class="hljs-number">1</span>)<br>    root.right = build_tree(n - <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><p><img src="https://www.hello-algo.com/chapter_computational_complexity/space_complexity.assets/space_complexity_exponential.png" alt="æ»¡äºŒå‰æ ‘äº§ç”Ÿçš„æŒ‡æ•°é˜¶ç©ºé—´å¤æ‚åº¦"></p></li><li><p>å¯¹æ•°é˜¶ç©ºé—´å¤æ‚åº¦</p></li></ul><p>å¯¹æ•°é˜¶ç©ºé—´å¤æ‚åº¦ï¼ˆ(O(\log n))ï¼‰åœ¨ç®—æ³•ä¸­å¹¶ä¸å¦‚å…¶ä»–å¤æ‚åº¦ï¼ˆå¦‚å¸¸æ•°ã€çº¿æ€§ã€å¹³æ–¹ç­‰ï¼‰å¸¸è§ï¼Œå› ä¸ºå¯¹æ•°é˜¶é€šå¸¸ä¸é€’å½’æ·±åº¦ç›¸å…³è”ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½å…·æœ‰å¯¹æ•°é˜¶ç©ºé—´å¤æ‚åº¦çš„å¸¸è§ç®—æ³•å’Œåœºæ™¯ï¼š</p><ol><li><p><strong>é€’å½’ç®—æ³•</strong>ï¼š</p><ul><li><strong>äºŒåˆ†æŸ¥æ‰¾</strong>ï¼šåœ¨é€’å½’å®ç°ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„ç©ºé—´å¤æ‚åº¦æ˜¯ (O(\log n))ï¼Œå› ä¸ºé€’å½’è°ƒç”¨æ ˆçš„æ·±åº¦æ˜¯å¯¹æ•°çº§åˆ«çš„ã€‚</li><li><strong>å¿«é€Ÿæ’åº</strong>ï¼šåœ¨æœ€ä¼˜æƒ…å†µä¸‹ï¼ˆå³æ¯æ¬¡åˆ†åŒºéƒ½èƒ½å°†æ•°ç»„å‡åŒ€åˆ†å‰²ï¼‰ï¼Œå¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦æ˜¯ (O(\log n))ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯ (O(\log n))ã€‚</li><li><strong>å½’å¹¶æ’åº</strong>ï¼šå°½ç®¡å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ (O(n \log n))ï¼Œå…¶é€’å½’å®ç°çš„ç©ºé—´å¤æ‚åº¦å¯ä»¥æ˜¯ (O(\log n))ï¼ˆä¸åŒ…æ‹¬ç”¨äºå­˜å‚¨ç»“æœçš„é¢å¤–æ•°ç»„ï¼‰ã€‚</li></ul><h3 id="å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰"><a href="#å¿«é€Ÿæ’åºï¼ˆQuick-Sortï¼‰" class="headerlink" title="å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰"></a>å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</h3><p>å¿«é€Ÿæ’åºæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹çš„æ’åºç®—æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ˆpivotï¼‰ï¼Œç„¶åå°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œä¸€ä¸ªåŒ…å«æ‰€æœ‰å°äºåŸºå‡†å…ƒç´ çš„å…ƒç´ ï¼Œå¦ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¤§äºåŸºå‡†å…ƒç´ çš„å…ƒç´ ï¼Œç„¶åé€’å½’åœ°å¯¹è¿™ä¸¤ä¸ªå­æ•°ç»„è¿›è¡Œæ’åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">quick_sort</span>(<span class="hljs-params">arr</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(arr) &lt;= <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> arr<br>    <span class="hljs-keyword">else</span>:<br>        pivot = arr[<span class="hljs-built_in">len</span>(arr) // <span class="hljs-number">2</span>]<br>        left = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr <span class="hljs-keyword">if</span> x &lt; pivot]<br>        middle = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr <span class="hljs-keyword">if</span> x == pivot]<br>        right = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> arr <span class="hljs-keyword">if</span> x &gt; pivot]<br>        <span class="hljs-keyword">return</span> quick_sort(left) + middle + quick_sort(right)<br><br><span class="hljs-comment"># ç¤ºä¾‹ä½¿ç”¨</span><br>arr = [<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Original array:&quot;</span>, arr)<br>sorted_arr = quick_sort(arr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Sorted array:&quot;</span>, sorted_arr)<br></code></pre></td></tr></table></figure><h3 id="å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰"><a href="#å½’å¹¶æ’åºï¼ˆMerge-Sortï¼‰" class="headerlink" title="å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰"></a>å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</h3><p>å½’å¹¶æ’åºä¹Ÿæ˜¯ä¸€ç§åˆ†è€Œæ²»ä¹‹çš„æ’åºç®—æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å°†æ•°ç»„åˆ†æˆä¸¤ä¸ªå­æ•°ç»„ï¼Œå¯¹è¿™ä¸¤ä¸ªå­æ•°ç»„åˆ†åˆ«è¿›è¡Œæ’åºï¼Œç„¶åå°†æ’åºåçš„å­æ•°ç»„åˆå¹¶æˆä¸€ä¸ªæœ‰åºçš„æ•°ç»„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">merge_sort</span>(<span class="hljs-params">arr</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(arr) &lt;= <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> arr<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">left, right</span>):<br>        result = []<br>        i = j = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> i &lt; <span class="hljs-built_in">len</span>(left) <span class="hljs-keyword">and</span> j &lt; <span class="hljs-built_in">len</span>(right):<br>            <span class="hljs-keyword">if</span> left[i] &lt; right[j]:<br>                result.append(left[i])<br>                i += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                result.append(right[j])<br>                j += <span class="hljs-number">1</span><br>        result.extend(left[i:])<br>        result.extend(right[j:])<br>        <span class="hljs-keyword">return</span> result<br><br>    mid = <span class="hljs-built_in">len</span>(arr) // <span class="hljs-number">2</span><br>    left = merge_sort(arr[:mid])<br>    right = merge_sort(arr[mid:])<br>    <span class="hljs-keyword">return</span> merge(left, right)<br><br><span class="hljs-comment"># ç¤ºä¾‹ä½¿ç”¨</span><br>arr = [<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Original array:&quot;</span>, arr)<br>sorted_arr = merge_sort(arr)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Sorted array:&quot;</span>, sorted_arr)<br></code></pre></td></tr></table></figure><h3 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><ul><li><p><strong>å¿«é€Ÿæ’åº</strong>ï¼š</p><ul><li>é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ˆpivotï¼‰ã€‚</li><li>å°†æ•°ç»„åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šå°äºåŸºå‡†çš„éƒ¨åˆ†ã€ç­‰äºåŸºå‡†çš„éƒ¨åˆ†å’Œå¤§äºåŸºå‡†çš„éƒ¨åˆ†ã€‚</li><li>é€’å½’åœ°å¯¹å°äºåŸºå‡†å’Œå¤§äºåŸºå‡†çš„éƒ¨åˆ†è¿›è¡Œæ’åºã€‚</li><li>åˆå¹¶ç»“æœã€‚</li></ul></li><li><p><strong>å½’å¹¶æ’åº</strong>ï¼š</p><ul><li>å°†æ•°ç»„åˆ†æˆä¸¤åŠã€‚</li><li>é€’å½’åœ°å¯¹æ¯ä¸€åŠè¿›è¡Œæ’åºã€‚</li><li>åˆå¹¶ä¸¤ä¸ªæ’åºåçš„å­æ•°ç»„ã€‚</li></ul></li></ul><p>è¿™ä¸¤ç§æ’åºç®—æ³•éƒ½æ˜¯ç»å…¸çš„åˆ†è€Œæ²»ä¹‹ç®—æ³•ï¼Œå…·æœ‰è¾ƒå¥½çš„æ€§èƒ½å’Œå¹¿æ³›çš„åº”ç”¨ã€‚</p></li><li><p><strong>å¹³è¡¡æ ‘çš„æ•°æ®ç»“æ„</strong>ï¼š</p><ul><li><strong>å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆå¦‚ AVL æ ‘ã€çº¢é»‘æ ‘ï¼‰</strong>ï¼šè¿™äº›æ•°æ®ç»“æ„åœ¨æ‰§è¡Œæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œæ—¶çš„é€’å½’æ·±åº¦é€šå¸¸æ˜¯ (O(\log n))ï¼Œå› æ­¤åœ¨æŸäº›å®ç°ä¸­ï¼Œå¯èƒ½ä¼šæœ‰ (O(\log n)) çš„ç©ºé—´å¤æ‚åº¦ï¼Œä¸»è¦ç”¨äºé€’å½’è°ƒç”¨æ ˆã€‚</li></ul></li><li><p><strong>è¿­ä»£ç®—æ³•</strong>ï¼š</p><ul><li>æŸäº›è¿­ä»£ç®—æ³•åœ¨å®ç°ä¸­å¯èƒ½ä¼šä½¿ç”¨ä¸€ä¸ªæ ˆæ¥æ¨¡æ‹Ÿé€’å½’ï¼Œä»è€Œä½¿å¾—å…¶ç©ºé—´å¤æ‚åº¦ä¸º (O(\log n))ã€‚ä¾‹å¦‚ï¼ŒæŸäº›æ ‘éå†ç®—æ³•åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢æ—¶å¯èƒ½ä½¿ç”¨æ ˆæ¥å­˜å‚¨è·¯å¾„ä¿¡æ¯ã€‚</li></ul></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç©ºé—´å¤æ‚åº¦ä¸º (O(\log n)) çš„ç®—æ³•é€šå¸¸æ¶‰åŠé€’å½’è°ƒç”¨æˆ–éœ€è¦å­˜å‚¨æŸäº›å¯¹æ•°æ•°é‡çš„ä¿¡æ¯ã€‚è¿™ç§å¤æ‚åº¦é€šå¸¸ä¸ç®—æ³•çš„é€’å½’æ·±åº¦æˆ–æ ‘ç»“æ„çš„é«˜åº¦ç›¸å…³ã€‚</p><p><strong>å¾ªç¯ä¸é€’å½’åœ¨ç©ºé—´å¤æ‚åº¦ä¸Šçš„å·®å¼‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">function</span>() -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-comment"># æ‰§è¡ŒæŸäº›æ“ä½œ</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">loop</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;å¾ªç¯çš„ç©ºé—´å¤æ‚åº¦ä¸º O(1)&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        function()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">recur</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;é€’å½’çš„ç©ºé—´å¤æ‚åº¦ä¸º O(n)&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">return</span> recur(n - <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>å‡½æ•° <code>loop()</code> å’Œ <code>recur()</code> çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º O(n) ï¼Œä½†ç©ºé—´å¤æ‚åº¦ä¸åŒã€‚</p><ul><li>å‡½æ•° <code>loop()</code> åœ¨å¾ªç¯ä¸­è°ƒç”¨äº† n æ¬¡ <code>function()</code> ï¼Œæ¯è½®ä¸­çš„ <code>function()</code> éƒ½è¿”å›å¹¶é‡Šæ”¾äº†æ ˆå¸§ç©ºé—´ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦ä»ä¸º O(1) ã€‚</li><li>é€’å½’å‡½æ•° <code>recur()</code> åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šåŒæ—¶å­˜åœ¨ n ä¸ªæœªè¿”å›çš„ <code>recur()</code> ï¼Œä»è€Œå ç”¨ O(n) çš„æ ˆå¸§ç©ºé—´ã€‚</li></ul><h2 id="äºŒã€æ•°æ®ç»“æ„"><a href="#äºŒã€æ•°æ®ç»“æ„" class="headerlink" title="äºŒã€æ•°æ®ç»“æ„"></a>äºŒã€æ•°æ®ç»“æ„</h2><p>æ•°ç»„ï¼Œé“¾è¡¨ï¼Œæ ˆï¼Œé˜Ÿåˆ—ï¼Œå“ˆå¸Œè¡¨ï¼Œæ ‘ï¼Œå †ï¼Œå›¾</p><h3 id="æ•°æ®ç»“æ„çš„ç‰©ç†ç»“æ„"><a href="#æ•°æ®ç»“æ„çš„ç‰©ç†ç»“æ„" class="headerlink" title="@æ•°æ®ç»“æ„çš„ç‰©ç†ç»“æ„"></a>@æ•°æ®ç»“æ„çš„ç‰©ç†ç»“æ„</h3><p>å¦‚å›¾ 3-3 æ‰€ç¤ºï¼Œ<strong>ç‰©ç†ç»“æ„åæ˜ äº†æ•°æ®åœ¨è®¡ç®—æœºå†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼</strong>ï¼Œå¯åˆ†ä¸ºè¿ç»­ç©ºé—´å­˜å‚¨ï¼ˆæ•°ç»„ï¼‰å’Œåˆ†æ•£ç©ºé—´å­˜å‚¨ï¼ˆé“¾è¡¨ï¼‰ã€‚ç‰©ç†ç»“æ„ä»åº•å±‚å†³å®šäº†æ•°æ®çš„è®¿é—®ã€æ›´æ–°ã€å¢åˆ ç­‰æ“ä½œæ–¹æ³•ï¼Œä¸¤ç§ç‰©ç†ç»“æ„åœ¨æ—¶é—´æ•ˆç‡å’Œç©ºé—´æ•ˆç‡æ–¹é¢å‘ˆç°å‡ºäº’è¡¥çš„ç‰¹ç‚¹ã€‚</p><p><img src="https://www.hello-algo.com/chapter_data_structure/classification_of_data_structure.assets/classification_phisical_structure.png" alt="è¿ç»­ç©ºé—´å­˜å‚¨ä¸åˆ†æ•£ç©ºé—´å­˜å‚¨"></p><p>è¿ç»­ç©ºé—´å­˜å‚¨ï¼ˆæ•°ç»„ï¼‰</p><ul><li><strong>å®šä¹‰</strong>ï¼šè¿ç»­ç©ºé—´å­˜å‚¨æ˜¯æŒ‡æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­æ’åˆ—ï¼Œæ•°ç»„æ˜¯è¿™ç§å­˜å‚¨æ–¹å¼çš„å…¸å‹ä»£è¡¨ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š<ul><li><strong>å¿«é€Ÿè®¿é—®</strong>ï¼šç”±äºæ•°ç»„å…ƒç´ æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®ä»»æ„å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(1)ã€‚</li><li><strong>ç©ºé—´å±€éƒ¨æ€§</strong>ï¼šè¿ç»­å­˜å‚¨æœ‰åŠ©äºç¼“å­˜å‘½ä¸­ç‡ï¼Œå› ä¸ºè®¿é—®ä¸€ä¸ªå…ƒç´ åï¼Œåç»­è®¿é—®ç›¸é‚»å…ƒç´ æ—¶ï¼Œå¯èƒ½å·²ç»åœ¨ç¼“å­˜ä¸­ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼š<ul><li><strong>æ’å…¥å’Œåˆ é™¤æ“ä½œæ•ˆç‡ä½</strong>ï¼šåœ¨æ•°ç»„ä¸­æ’å…¥æˆ–åˆ é™¤å…ƒç´ é€šå¸¸éœ€è¦ç§»åŠ¨å…¶ä»–å…ƒç´ ä»¥ä¿æŒæ•°æ®çš„è¿ç»­æ€§ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(<em>n</em>)ã€‚</li><li><strong>å›ºå®šå¤§å°</strong>ï¼šæ•°ç»„çš„å¤§å°åœ¨åˆ›å»ºæ—¶ç¡®å®šï¼Œæ‰©å±•æ•°ç»„çš„å¤§å°éœ€è¦é‡æ–°åˆ†é…å†…å­˜å¹¶å¤åˆ¶æ•°æ®ã€‚</li></ul></li></ul><p>åˆ†æ•£ç©ºé—´å­˜å‚¨ï¼ˆé“¾è¡¨ï¼‰</p><ul><li><strong>å®šä¹‰</strong>ï¼šåˆ†æ•£ç©ºé—´å­˜å‚¨æ˜¯æŒ‡æ•°æ®å…ƒç´ åœ¨å†…å­˜ä¸­ä¸å¿…è¿ç»­æ’åˆ—ï¼Œé“¾è¡¨æ˜¯è¿™ç§å­˜å‚¨æ–¹å¼çš„å…¸å‹ä»£è¡¨ã€‚</li><li><strong>ä¼˜ç‚¹</strong>ï¼š<ul><li><strong>åŠ¨æ€å¤§å°</strong>ï¼šé“¾è¡¨å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡ŒåŠ¨æ€å†…å­˜åˆ†é…ï¼Œå…è®¸åœ¨è¿è¡Œæ—¶çµæ´»åœ°å¢åŠ æˆ–å‡å°‘å…ƒç´ ã€‚</li><li><strong>é«˜æ•ˆæ’å…¥å’Œåˆ é™¤</strong>ï¼šåœ¨é“¾è¡¨ä¸­ï¼Œæ’å…¥å’Œåˆ é™¤å…ƒç´ åªéœ€è°ƒæ•´æŒ‡é’ˆï¼Œè€Œä¸éœ€è¦ç§»åŠ¨å…¶ä»–å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(1)ï¼ˆåœ¨å·²çŸ¥ä½ç½®çš„æƒ…å†µä¸‹ï¼‰ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼š<ul><li><strong>è®¿é—®é€Ÿåº¦æ…¢</strong>ï¼šç”±äºé“¾è¡¨å…ƒç´ å­˜å‚¨åœ¨éè¿ç»­çš„å†…å­˜ä½ç½®ï¼Œè®¿é—®æŸä¸ªç‰¹å®šå…ƒç´ éœ€è¦ä»å¤´éå†é“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º <em>O</em>(<em>n</em>)ã€‚</li><li><strong>é¢å¤–ç©ºé—´å¼€é”€</strong>ï¼šé“¾è¡¨éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´æ¥å­˜å‚¨æŒ‡é’ˆï¼ˆå¦‚å‰é©±å’Œåç»§æŒ‡é’ˆï¼‰ï¼Œè¿™å¢åŠ äº†å†…å­˜ä½¿ç”¨é‡ã€‚</li></ul></li></ul><p>äº’è¡¥ç‰¹ç‚¹</p><ul><li><strong>æ•°ç»„</strong>é€‚åˆéœ€è¦é¢‘ç¹éšæœºè®¿é—®çš„åœºæ™¯ï¼Œå¦‚éœ€è¦å¿«é€Ÿè¯»å–å¤§é‡æ•°æ®ä½†ä¸ç»å¸¸ä¿®æ”¹æ•°æ®çš„æƒ…å†µã€‚</li><li><strong>é“¾è¡¨</strong>é€‚åˆéœ€è¦é¢‘ç¹æ’å…¥å’Œåˆ é™¤æ“ä½œçš„åœºæ™¯ï¼Œå¦‚å®ç°åŠ¨æ€æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚é˜Ÿåˆ—ã€æ ˆï¼‰æ—¶ã€‚</li></ul><p>å€¼å¾—è¯´æ˜çš„æ˜¯ï¼Œ<strong>æ‰€æœ‰æ•°æ®ç»“æ„éƒ½æ˜¯åŸºäºæ•°ç»„ã€é“¾è¡¨æˆ–äºŒè€…çš„ç»„åˆå®ç°çš„</strong>ã€‚ä¾‹å¦‚ï¼Œæ ˆå’Œé˜Ÿåˆ—æ—¢å¯ä»¥ä½¿ç”¨æ•°ç»„å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é“¾è¡¨å®ç°ï¼›è€Œå“ˆå¸Œè¡¨çš„å®ç°å¯èƒ½åŒæ—¶åŒ…å«æ•°ç»„å’Œé“¾è¡¨ã€‚</p><ul><li><strong>åŸºäºæ•°ç»„å¯å®ç°</strong>ï¼šæ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ã€çŸ©é˜µã€å¼ é‡ï¼ˆç»´åº¦ â‰¥3 çš„æ•°ç»„ï¼‰ç­‰ã€‚</li><li><strong>åŸºäºé“¾è¡¨å¯å®ç°</strong>ï¼šæ ˆã€é˜Ÿåˆ—ã€å“ˆå¸Œè¡¨ã€æ ‘ã€å †ã€å›¾ç­‰ã€‚</li></ul><p>â€‹    å“ˆå¸Œè¡¨åº•å±‚æ˜¯æ•°ç»„ï¼Œè€Œä¸ºäº†è§£å†³å“ˆå¸Œå†²çªï¼Œæˆ‘ä»¬å¯èƒ½ä¼šä½¿ç”¨â€œé“¾å¼åœ°å€â€ï¼ˆåç»­â€œå“ˆå¸Œå†²çªâ€ç« èŠ‚ä¼šè®²ï¼‰ï¼šæ•°ç»„ä¸­æ¯ä¸ªæ¡¶æŒ‡å‘ä¸€ä¸ªé“¾è¡¨ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼æ—¶ï¼Œåˆå¯èƒ½è¢«è½¬åŒ–ä¸ºæ ‘ï¼ˆé€šå¸¸ä¸ºçº¢é»‘æ ‘ï¼‰ã€‚</p><p>â€‹    ä»å­˜å‚¨çš„è§’åº¦æ¥çœ‹ï¼Œå“ˆå¸Œè¡¨çš„åº•å±‚æ˜¯æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªæ¡¶æ§½ä½å¯èƒ½åŒ…å«ä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯èƒ½åŒ…å«ä¸€ä¸ªé“¾è¡¨æˆ–ä¸€æ£µæ ‘ã€‚å› æ­¤ï¼Œå“ˆå¸Œè¡¨å¯èƒ½åŒæ—¶åŒ…å«çº¿æ€§æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ã€é“¾è¡¨ï¼‰å’Œéçº¿æ€§æ•°æ®ç»“æ„ï¼ˆæ ‘ï¼‰ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Finished</tag>
      
      <tag>C/C++</tag>
      
      <tag>tutorial</tag>
      
      <tag>Time and Space Complexity</tag>
      
      <tag>Recursion</tag>
      
      <tag>Hello-algorithm-tutorial</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LaTeX-Tutorial</title>
    <link href="/posts/LaTeX-tutorial/"/>
    <url>/posts/LaTeX-tutorial/</url>
    
    <content type="html"><![CDATA[<h1 id="About-LaTeX"><a href="#About-LaTeX" class="headerlink" title="About LaTeX"></a>About LaTeX</h1><p>â€‹å¬è¯´è¿‡LaTeXå—ï¼Ÿäº¦æˆ–æ˜¯è€å¸ˆçªç„¶è¦æ±‚ä½ ä»¬ä½¿ç”¨LaTeXè¿›è¡Œå†™è®ºæ–‡ï¼Œè‡ªå·±é¢å¯¹å¥‡å¥‡æ€ªæ€ªçš„å¤æ‚ä»£ç æ¯«æ— å¤´ç»ªï¼Œä¸‹ä¸å»æ‰‹ï¼Ÿ</p><p><strong>éœ€è¦æå‰å‡†å¤‡çš„å†…å®¹</strong>ï¼š</p><ul><li>æ— </li></ul><p><strong>å¦‚æœä½ æ˜¯</strong>ï¼š</p><ul><li>çº¯LaTeXæ–°æ‰‹ï¼Œä»é›¶å¼€å§‹æ¥è§¦LaTeXï¼›</li><li>çº¯è·¯äººï¼Œæƒ³å­¦ä¹ LaTeXæŠ€å·§ï¼›</li><li>æƒ³è¦æ”¯æŒä½œè€…çš„å¸…å“¥ç¾å¥³â¥(^_-)ï¼›</li></ul><p>é‚£æ­å–œä½ æ¥å¯¹åœ°æ–¹äº†ï¼åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œ<strong>ä½ å°†å­¦ä¹ åˆ°ä»¥ä¸‹å†…å®¹</strong>ï¼š</p><ul><li>ä¸€æ®µLaTeXçš„å†å²å’Œä¸€ä½ä¼Ÿäººï¼›</li><li>æŒæ¡LaTeXçš„æœ€åŸºæœ¬åŸç†ï¼›</li><li>å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºç¬¬ä¸€ç¯‡LaTeXæ–‡æ¡£ï¼Œå¹¶æŒ‰éœ€è¿›è¡Œä¸ªæ€§åŒ–çš„ä¿®æ”¹ï¼›</li><li>å°è¯•æ¥è§¦ä¸€äº›LaTeXçš„é«˜çº§åŠŸèƒ½ï¼ˆOptionalï¼‰ï¼›</li><li>è·å¾—ä¸€äº›ç²¾è¿›LaTeXæŠ€èƒ½åŒ…çš„æ–¹æ³•å’Œé€”å¾„ï¼›</li></ul><p><strong>å‡†å¤‡å¥½äº†å—ï¼Ÿ</strong> åœ¨æ¥ä¸‹æ¥çš„æ—¶å…‰é‡Œï¼Œå°±è®©æˆ‘ä»¬ä¸€èµ·èµ°è¿›LaTeXçš„ä¸–ç•Œã€‚</p><p><img src="/posts/LaTeX-tutorial/LaTeX.png" alt="LaTeX"></p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><p><a href="https://en.wikipedia.org/wiki/TeX">TeX - Wikipedia</a></p><p><a href="https://en.wikipedia.org/wiki/LaTeX">LaTeX - Wikipedia</a></p><p><a href="https://www.overleaf.com/">Overleaf, Online LaTeX Editor</a></p><p><a href="https://www.latex-project.org/">LaTeX - A document preparation system</a></p><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1 Introduction"></a>1 Introduction</h2><p><strong>åˆæ¥åˆ°äº†è®²æ•…äº‹ç¯èŠ‚ï¼Œå¯è·³è¿‡</strong></p><p>â€‹åœ¨å¼€å§‹æˆ‘ä»¬ä»Šå¤©çš„è¯é¢˜ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆå‘å„ä½ä»‹ç»ä¸€ä½è€å…ˆç”Ÿï¼Œ<a href="https://en.wikipedia.org/wiki/Donald_Knuth">Donald Knuth</a>ã€‚</p><p><img src="/posts/LaTeX-tutorial/Knuth.jpg" alt="Donald Knuth"></p><p>â€‹å…ˆæ¥çœ‹çœ‹ä»–åˆ°åº•æœ‰å¤šç‰›é€¼ï¼Œè¿™æ˜¯ç»´åŸºç™¾ç§‘å¯¹è¿™ä½è€çˆ·çˆ·ï¼ˆè¿˜æ²¡æœ‰å»ä¸–å“¦ï¼‰çš„è¯„ä»·ï¼šHe is the 1974 recipient of <strong>the <a href="https://en.wikipedia.org/wiki/Acm_Turing_award">ACM Turing Award</a></strong>, informally considered the <a href="https://en.wikipedia.org/wiki/Nobel_Prize">Nobel Prize</a> of computer science. Knuth has been called the â€œ<strong>father of the <a href="https://en.wikipedia.org/wiki/Analysis_of_algorithms">analysis of algorithms</a></strong>â€œã€‚ <a href="https://en.wikipedia.org/wiki/Donald_Knuth">åŸæ–‡</a></p><p>â€‹ACMå›¾çµå¥–ä¸å¿…å¤šè¯´ï¼Œèƒ½æ‹¿å¥–çš„éƒ½æ˜¯è®¡ç®—æœºç§‘å­¦é¢†åŸŸå¤§ç‰›ä¸­çš„å¤§ç‰›ï¼Œä»–ç”šè‡³è¿˜æœ‰ç¬¬äºŒä¸ªç§°å·ï¼Œ<strong>the father of the analysis of algorithms</strong>, ç®—æ³•åˆ†æä¹‹çˆ¶ï¼æ›´ä¸å¯æ€è®®çš„æ˜¯ï¼Œä»–çš„ä¸»è¦è´¡çŒ®ç«Ÿç„¶æ˜¯ä¸€ç³»åˆ—è‡³ä»Šå°šæœªå®Œç¯‡çš„é¸¿ç¯‡å·¨è‘—ï¼š*<a href="https://en.wikipedia.org/wiki/The_Art_of_Computer_Programming">The Art of Computer Programming</a>*ã€‚<strong>è®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯</strong>ï¼Œç®€ç§°TAOCPï¼Œæ˜¯å…³äºè®¡ç®—æœºç¨‹åºè®¾è®¡ä¹‹ä¸ƒå·æœ¬è‘—ä½œã€‚ä½œè€…å¹¶å› æ­¤è·å¾—ç¾å›½è®¡ç®—æœºåä¼š1974å¹´<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E7%81%B5%E5%A5%96">å›¾çµå¥–</a>ã€‚</p><blockquote><p>å¯¹æˆ‘æ¥è¯´ï¼Œè¯»å®Œè¿™æœ¬ä¹¦ä¸ä»…èŠ±äº†å¥½å‡ ä¸ªæœˆï¼Œè€Œä¸”è¿˜è¦æ±‚æˆ‘æœ‰æé«˜çš„è‡ªå¾‹æ€§ã€‚å¦‚æœä½ èƒ½è¯»å®Œè¿™æœ¬ä¹¦ï¼Œä¸å¦¨ç»™æˆ‘å‘ä¸ªç®€å†ã€‚â€”â€”Bill Gates</p></blockquote><p>â€‹è¿™ä¸€å¥—ä¹¦æ¶µç›–äº†è®¡ç®—æœºé¢†åŸŸå‡ ä¹æ‰€æœ‰çš„åº•å±‚çŸ¥è¯†ï¼Œç›®å½•å¦‚ä¸‹ï¼š</p><p><img src="/posts/LaTeX-tutorial/theartofprogramming.png" alt="TAOCP"></p><p><a href="https://zh.wikipedia.org/zh-cn/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%89%BA%E6%9C%AF">é“¾æ¥æŒ‡è·¯ï¼šè®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯</a></p><p>â€‹è¿™æœ¬ä¹¦çš„å…·ä½“å†…å®¹æˆ‘ä»¬ä¸åšè¿‡å¤šçš„ä»‹ç»ï¼Œé‚£è¿™ä½è€è€…å’ŒLaTeXæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ<strong>ä»–æ˜¯LaTeXçš„å‰èº«â€”â€”TeXçš„å‘æ˜è€…ï¼</strong></p><p>â€‹ç»´åŸºç™¾ç§‘åœ¨è¿™ä¸€å—å†™çš„æ¯”è¾ƒå«è“„å“ˆå“ˆå“ˆï¼š</p><blockquote><p>In 1977, he decided to spend some time <strong>creating something more suitable</strong>. Eight years later, he returned with <a href="https://en.wikipedia.org/wiki/TeX">TEX</a>, which is currently used for all volumes.</p></blockquote><p>ä»€ä¹ˆæ˜¯<strong>something more suitable</strong>ï¼ŸMaybe the LaTeXï¼</p><h2 id="2-LaTeX"><a href="#2-LaTeX" class="headerlink" title="2 LaTeX"></a>2 LaTeX</h2><p>â€‹ä¸¾ä¸€ä¸ªéå¸¸ç®€å•çš„ä¾‹å­ï¼Œä½ æƒ³åœ¨wordæ–‡æ¡£ä¸­è¾“å…¥è¿™æ ·ä¸€ä¸ªå…¬å¼ï¼š</p><p><img src="/posts/LaTeX-tutorial/QianJianTec1732279187844.png" alt="Gradient Descent"></p><blockquote><p>è¿™æ˜¯æœºå™¨å­¦ä¹ ä¸­æ¢¯åº¦ä¸‹é™çš„åŸºæœ¬æ•°å­¦åŸç†ã€‚</p></blockquote><p>â€‹æˆ‘ä»¬æ¥çœ‹çœ‹wordæ˜¯æ€ä¹ˆç¼–è¾‘å…¬å¼çš„ï¼š</p><p><img src="/posts/LaTeX-tutorial/word.png" alt="How does Microsoft Word handle it?"></p><p>â€‹Wordç­‰æ–‡å­—ç¼–è¾‘å™¨å§‹ç»ˆç§‰æŒç€ä¸€ç§<strong>æ‰€è§å³æ‰€å¾—</strong>çš„æ€æƒ³ï¼Œæˆ‘æ‰“å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œè¿™ä¸ªå­—ç¬¦å°±å®æ—¶çš„åæ˜ åœ¨æˆ‘çš„æ–‡æœ¬æ–‡æ¡£ä¸­ï¼Œè‡³äºå›¾ç‰‡ç¼©æ”¾ï¼Œè¡¨æ ¼æ’å…¥ï¼Œæ–‡å­—å¤§å°ï¼Œæ’ç‰ˆï¼Œä»¥åŠä»¥ä¸Šæ‰€æ¶‰åŠçš„æ•°å­¦ç¬¦å·ç­‰ç­‰ï¼Œåœ¨wordä¸­è™½ç„¶èƒ½å®ç°ï¼Œä½†æ˜¯è°ƒè¯•çš„æ—¶é—´æˆæœ¬éå¸¸é«˜ï¼Œéš¾åº¦éå¸¸å¤§ï¼Œè€Œä¸”ååˆ†çš„ä½æ•ˆï¼ç¬”è€…åœ¨é«˜ä¸­æ—¶æœŸæ›¾ç»æœ‰è¿‡å†™æ•°å­¦å°è®ºæ–‡å¡åœ¨ç¼–è¾‘å…¬å¼å’Œç»Ÿä¸€æ’å…¥å›¾ç‰‡çš„æ ¼å¼ç­‰ç»†ææœ«èŠ‚çš„å°äº‹ä¸Šçš„æƒ¨ç—›çš„å›å¿†ã€‚(ä¸è¿‡å¥½åƒç°åœ¨wordä¹Ÿæ”¯æŒLaTeXäº†)</p><p>â€‹ä½†æ˜¯åœ¨LaTeXä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸‹é¢çš„ä»£ç ç”Ÿæˆï¼š</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\begin</span>&#123;aligned&#125;<br><span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;:=<span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;- <span class="hljs-built_in">&amp;</span> <span class="hljs-keyword">\alpha</span> <span class="hljs-keyword">\frac</span>&#123;<span class="hljs-keyword">\partial</span>&#125;&#123;<span class="hljs-keyword">\partial</span> <span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;&#125; J(<span class="hljs-keyword">\theta</span>) <span class="hljs-keyword">\\</span><br><span class="hljs-keyword">\frac</span>&#123;<span class="hljs-keyword">\partial</span>&#125;&#123;<span class="hljs-keyword">\partial</span> <span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;&#125; J(<span class="hljs-keyword">\theta</span>) <span class="hljs-built_in">&amp;</span> =<span class="hljs-keyword">\frac</span>&#123;<span class="hljs-keyword">\partial</span>&#125;&#123;<span class="hljs-keyword">\partial</span> <span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;&#125; <span class="hljs-keyword">\frac</span>&#123;1&#125;&#123;2&#125;<span class="hljs-keyword">\left</span>(h<span class="hljs-built_in">_</span>&#123;<span class="hljs-keyword">\theta</span>&#125;(x)-y<span class="hljs-keyword">\right</span>)<span class="hljs-built_in">^</span>&#123;2&#125; <span class="hljs-keyword">\\</span><br><span class="hljs-built_in">&amp;</span> =2 <span class="hljs-keyword">\cdot</span> <span class="hljs-keyword">\frac</span>&#123;1&#125;&#123;2&#125;<span class="hljs-keyword">\left</span>(h<span class="hljs-built_in">_</span>&#123;<span class="hljs-keyword">\theta</span>&#125;(x)-y<span class="hljs-keyword">\right</span>) <span class="hljs-keyword">\cdot</span> <span class="hljs-keyword">\frac</span>&#123;<span class="hljs-keyword">\partial</span>&#125;&#123;<span class="hljs-keyword">\partial</span> <span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;&#125;<span class="hljs-keyword">\left</span>(h<span class="hljs-built_in">_</span>&#123;<span class="hljs-keyword">\theta</span>&#125;(x)-y<span class="hljs-keyword">\right</span>) <span class="hljs-keyword">\\</span><br><span class="hljs-built_in">&amp;</span> =<span class="hljs-keyword">\left</span>(h<span class="hljs-built_in">_</span>&#123;<span class="hljs-keyword">\theta</span>&#125;(x)-y<span class="hljs-keyword">\right</span>) <span class="hljs-keyword">\cdot</span> <span class="hljs-keyword">\frac</span>&#123;<span class="hljs-keyword">\partial</span>&#125;&#123;<span class="hljs-keyword">\partial</span> <span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;j&#125;&#125;<span class="hljs-keyword">\left</span>(<span class="hljs-keyword">\sum</span><span class="hljs-built_in">_</span>&#123;i=0&#125;<span class="hljs-built_in">^</span>&#123;n&#125; <span class="hljs-keyword">\theta</span><span class="hljs-built_in">_</span>&#123;i&#125; x<span class="hljs-built_in">_</span>&#123;i&#125;-y<span class="hljs-keyword">\right</span>) <span class="hljs-keyword">\\</span><br><span class="hljs-built_in">&amp;</span> =<span class="hljs-keyword">\left</span>(h<span class="hljs-built_in">_</span>&#123;<span class="hljs-keyword">\theta</span>&#125;(x)-y<span class="hljs-keyword">\right</span>) x<span class="hljs-built_in">_</span>&#123;j&#125;<br><span class="hljs-keyword">\end</span>&#123;aligned&#125;<br></code></pre></td></tr></table></figure><p>â€‹å®Œå…¨çœ‹ä¸æ‡‚æ˜¯ä¸æ˜¯ï¼Ÿæ²¡å…³ç³»ï¼Œè¿™å°±æ˜¯<strong>LaTeXçš„ç²¾é«“</strong>ï¼š<strong>å°†å¯è§†åŒ–çš„æ–‡æœ¬ç¼–è¾‘è½¬åŒ–æˆä¸€ç§ä¸¥è°¨çš„ä»£ç è¯­è¨€</strong>ï¼Œå½“ä½ å­¦ä¼šå¹¶ä¸”å¿«é€Ÿä¸Šæ‰‹ä¹‹åï¼Œä½ ä¾¿ä¼šè¶Šæ¥è¶Šä½“ä¼šåˆ°LaTeXåœ¨å­¦æœ¯å†™ä½œä¸Šçš„å¼ºå¤§ä¹‹å¤„ã€‚</p><h2 id="3-LaTeX-å…¥é—¨"><a href="#3-LaTeX-å…¥é—¨" class="headerlink" title="3 LaTeX å…¥é—¨"></a>3 LaTeX å…¥é—¨</h2><p>â€‹ç”±ä¸Šé¢çš„ç¤ºä¾‹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ<strong>LaTeXå¯ä»¥ç”Ÿæˆæä¸ºç²¾ç¾çš„æ–‡æ¡£ï¼Œæ¶µç›–å…¬å¼ï¼Œè¡¨æ ¼ï¼Œå›¾ç‰‡ç­‰ç­‰å„ç§å½¢å¼ï¼ˆä½ ç”šè‡³å¯ä»¥ç”¨æ¥åšPPTï¼åé¢ä¼šè®²åˆ°ï¼‰</strong>ï¼Œä½†ä»£ä»·å°±æ˜¯<strong>LaTeXç‰ºç‰²äº†å¸‚é¢ä¸Šä¸»æµæ–‡æœ¬ç¼–è¾‘å™¨çš„â€æ‰€è§å³æ‰€å¾—â€çš„æ€æƒ³</strong>ï¼Œå°†æ‰€æœ‰æ–‡å­—å’Œå›¾ç‰‡çš„ç”Ÿæˆéƒ½è½¬åŒ–ä¸ºäº†ä¸€ç§è§„åˆ™å’Œ<strong>ç¼–ç¨‹è¯­è¨€</strong>ï¼Œåˆå­¦è€…å…¥é—¨å¯èƒ½ä¼šå¾ˆåƒåŠ›ï¼Œä½†ç›¸ä¿¡æˆ‘ï¼Œç†Ÿç»ƒåä½ ä¼šçˆ±ä¸Šä»–çš„ï¼</p><h3 id="3-1-å¼€å§‹ä½ çš„ç¬¬ä¸€ç¯‡LaTeXæ–‡æ¡£ï¼"><a href="#3-1-å¼€å§‹ä½ çš„ç¬¬ä¸€ç¯‡LaTeXæ–‡æ¡£ï¼" class="headerlink" title="3.1 å¼€å§‹ä½ çš„ç¬¬ä¸€ç¯‡LaTeXæ–‡æ¡£ï¼"></a>3.1 å¼€å§‹ä½ çš„ç¬¬ä¸€ç¯‡LaTeXæ–‡æ¡£ï¼</h3><p>â€‹ä¸‡äº‹ä¸‡ç‰©ç¬¬ä¸€æ­¥ï¼šé…ç¯å¢ƒï¼ä¸€èˆ¬æ¥è¯´æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>æœ¬åœ°ç¯å¢ƒé…ç½®ï¼š<a href="https://www.tug.org/texlive/">TeX Live - TeX Users Group</a>ã€‚éœ€è¦å®‰è£…textliveï¼Œåç»­å¯ä»¥é›†æˆåœ¨vscodeä¸­ä½¿ç”¨ï¼Œå…·ä½“çš„æ“ä½œæ–¹æ³•æ¯”è¾ƒç¹çï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œæœç´¢ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šä¿å§†çº§çš„ç¯å¢ƒæ­å»ºæ•™ç¨‹ã€‚ï¼ˆ<strong>ä¸æ¨èï¼Œä¸ªäººå»ºè®®æ˜¯ç­‰ä¸Šæ‰‹ç†Ÿæ‚‰äº†ä¹‹åå†è€ƒè™‘æ˜¯å¦å®‰è£…ï¼Œé…ç¯å¢ƒæŠ¥é”™çœŸçš„èƒ½æŠŠäººç»™çƒ¦æ­»</strong>ï¼‰</li><li><strong>æ¨èåœ¨çº¿LaTeXç½‘ç«™ï¼š</strong>ä½¿ç”¨LaTeXåœ¨çº¿ç½‘ç«™ï¼Œä¾‹å¦‚<a href="https://www.overleaf.com/">Overleaf</a>ï¼Œå›½å†…æœ‰äº›é«˜æ ¡ä¹Ÿä¼šå¼€é€šè‡ªå·±çš„LaTeXå¹³å°ã€‚åœ¨çº¿ç½‘ç«™æ›´åŠ è½»é‡åŒ–ï¼Œéšè—äº†é…ç½®ç¯å¢ƒçš„ç»†èŠ‚ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·å°±å¯ä»¥ä½¿ç”¨ï¼Œ<strong>éå¸¸æ¨èæ–°æ‰‹å°ç™½ä½¿ç”¨ï¼</strong></li><li>åœ¨æ¥ä¸‹æ¥çš„æ–°æ‰‹æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å…¨ç¨‹åœ¨<a href="https://www.overleaf.com/">Overleaf</a>ä¸Šè¿›è¡Œæ¼”ç¤ºï¼Œè¯·ç™»å½•ç½‘ç«™å¹¶æ³¨å†Œå¥½ä½ çš„è´¦å·ã€‚ï¼ˆä½¿ç”¨å…è´¹ç‰ˆå³å¯ï¼‰</li></ul><h3 id="3-2-å»ºç«‹ä¸€ä¸ªæ¨¡ç‰ˆLaTeX"><a href="#3-2-å»ºç«‹ä¸€ä¸ªæ¨¡ç‰ˆLaTeX" class="headerlink" title="3.2 å»ºç«‹ä¸€ä¸ªæ¨¡ç‰ˆLaTeX"></a>3.2 å»ºç«‹ä¸€ä¸ªæ¨¡ç‰ˆLaTeX</h3><p>â€‹å¯¹æ–°æ‰‹è€Œè¨€ï¼Œ<strong>å¿«é€Ÿä¸Šæ‰‹ç†Ÿæ‚‰LaTeXæ¯”äº†è§£LaTeXèƒŒåçš„åŸç†é‡è¦çš„å¤š</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†ä¼šä»ä¸€ä¸ªæ¨¡ç‰ˆLaTeXå‡ºå‘ï¼Œä»å®æ“æ…¢æ…¢è¿‡æ¸¡åˆ°åŸç†çš„è®²è§£ã€‚</p><p><img src="/posts/LaTeX-tutorial/s1.png" alt="Choose a template"></p><p>â€‹ç‚¹å‡»å·¦ä¸Šè§’çš„new projectâ€”â€”ç„¶åæœ‰å››ä¸ªé€‰é¡¹ï¼š</p><ul><li><p>Blank projectï¼ˆå®Œå…¨çš„ç©ºæ–‡æœ¬ï¼‰</p></li><li><p>Example Projectï¼ˆæ¨¡ç‰ˆï¼‰</p></li><li><p>Upload Projectï¼ˆä¸Šä¼ æœ¬åœ°é¡¹ç›®ï¼Œé€šå¸¸æ˜¯å‹ç¼©åŒ…å½¢å¼ï¼‰</p></li><li><p>Import Projectï¼ˆä»Githubå¼•å…¥ï¼‰</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Example Projectã€‚è¾“å…¥è‡ªå·±çš„Project Name(å»ºè®®è‹±æ–‡)ã€‚æˆ‘åœ¨è¿™é‡Œè¾“å…¥çš„æ˜¯Hello worldã€‚</p></li></ul><h3 id="3-3-æ¢ç´¢LaTeXæ¨¡ç‰ˆï¼"><a href="#3-3-æ¢ç´¢LaTeXæ¨¡ç‰ˆï¼" class="headerlink" title="3.3 æ¢ç´¢LaTeXæ¨¡ç‰ˆï¼"></a>3.3 æ¢ç´¢LaTeXæ¨¡ç‰ˆï¼</h3><p><img src="/posts/LaTeX-tutorial/image_9.png" alt="Hello world!"></p><p>â€‹å½“ä½ çœ‹åˆ°ä¸€åªç»å…¸çš„ç»¿è‰²å°é’è›™æ—¶ï¼Œæ­å–œä½ ï¼Œä½ å·²ç»æˆåŠŸåˆ›å»ºäº†ç¬¬ä¸€ä¸ªLaTeXæ–‡æ¡£ï¼</p><blockquote><p>æ²¡æœ‰çœ‹åˆ°ï¼Ÿè¯•è¯•ç‚¹ä¸€ä¸‹å³ä¸Šä¾§ç»¿è‰²çš„<strong>Recompile</strong>æŒ‰é’®è¯•è¯•çœ‹ï¼Œå¯èƒ½è¦ç­‰ä¸€ä¼šã€‚</p></blockquote><p>â€‹ç®€å•ä»‹ç»ä¸€ä¸‹å„æ¨¡å—éƒ½æ˜¯å¹²å•¥ç”¨çš„ï¼š</p><ul><li>æœ€å·¦è¾¹ï¼šæ–‡ä»¶æ å’Œ<strong>File Outline</strong><ul><li>æ–‡ä»¶æ å¯ä»¥ç†è§£ä¸º<strong>ä¸€ä¸ªå­˜æ”¾è¿™ä¸ªLaTeXæ–‡æ¡£æ‰€æœ‰èµ„æºçš„æ–‡ä»¶å¤¹</strong>ã€‚æˆ‘ä»¬ç°åœ¨ä¸­é—´æ‰€æ‰“å¼€çš„å°±æ˜¯æ–‡ä»¶å¤¹ä¸­çš„<strong>main.tex</strong>æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ˜¯LaTeXæ–‡æ¡£çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚è¿˜æœ‰ä¸€äº›é™„å±çš„èµ„æºä¹Ÿä¼šå­˜æ”¾åœ¨æ–‡ä»¶æ ä¸­ï¼ŒåŒ…æ‹¬æ’å…¥çš„å›¾ç‰‡ï¼Œè¿˜æœ‰å‚è€ƒæ–‡çŒ®(.bib)ã€‚ç›®å‰å¤§å®¶çŸ¥é“è¿™äº›å°±è¶³å¤Ÿäº†ã€‚</li><li>File Outline ä¸å¿…å¤šè¯´ï¼Œå±•ç¤ºæ–‡ç« å¤§çº²çš„åœ°æ–¹ã€‚</li></ul></li><li>æ­£ä¸­é—´ï¼šæ–‡æœ¬ç¼–è¾‘åŒºï¼Œä¹Ÿå°±æ˜¯æ•²ä»£ç çš„åœ°æ–¹ã€‚</li><li>æœ€å³è¾¹ï¼šè§†å›¾åŒºï¼šå½“ä½ ç‚¹å‡»<strong>Recompile</strong>çš„æŒ‰é’®ä¹‹åï¼Œ<strong>ç¼–è¯‘å™¨</strong>ï¼ˆç‚¹å‡»å·¦ä¸Šæ–¹çš„menuå¯ä»¥æŸ¥çœ‹ï¼Œ<strong>æ–°æ‰‹ä¸è¦éšä¾¿æ”¹å˜è¿™ä¸€é¡¹ï¼</strong>ï¼‰ä¼šæ ¹æ®main.texçš„ä»£ç ä»¥åŠä¸€äº›é™„å±æ–‡ä»¶ï¼ˆä¾‹å¦‚frog.jpgï¼‰ç”Ÿæˆæœ€ç»ˆçš„LaTeXæ–‡æ¡£ï¼ˆPDFï¼‰ï¼Œåœ¨å³ä¾§å¯ä»¥é¢„è§ˆï¼Œä¹Ÿå¯ä»¥å¯¼å‡ºä¿å­˜ã€‚</li></ul><p><img src="/posts/LaTeX-tutorial/image_11.png" alt="The Compiler"></p><ul><li>ä¸Šæ–¹ä¸€æ çš„ä¸€äº›å·¥å…·çœ‹åå­—åº”è¯¥å°±çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„äº†ï¼Œå’Œæ™®é€šçš„æ–‡æœ¬ç¼–è¾‘å™¨å·®ä¸å¤ªå¤šï¼Œéƒ½æ˜¯ä¸€äº›é™„åŠ åŠŸèƒ½ï¼Œè¯»è€…å¯ä»¥è‡ªå·±æ¥æ¢ç´¢ã€‚</li></ul><h3 id="3-4-è¿›å…¥main-tex"><a href="#3-4-è¿›å…¥main-tex" class="headerlink" title="3.4 è¿›å…¥main.tex"></a>3.4 è¿›å…¥main.tex</h3><p>â€‹æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨main.texçš„ä»£ç ä¸Šã€‚</p><h4 id="3-4-1-æ•´ä½“æ¶æ„"><a href="#3-4-1-æ•´ä½“æ¶æ„" class="headerlink" title="3.4.1 æ•´ä½“æ¶æ„"></a>3.4.1 æ•´ä½“æ¶æ„</h4><p>â€‹ä¸€ç¯‡æ ‡å‡†çš„LaTeXä»£ç æ¶æ„å¦‚ä¸‹ï¼š</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-comment">% è¿™æ˜¯ä¸€è¡Œæ³¨é‡Šï¼Œä¸ä¼šå¯¹ä»£ç äº§ç”Ÿä»»ä½•å½±å“</span><br><span class="hljs-keyword">\documentclass</span>&#123;article&#125;<br><span class="hljs-comment">%å¯¼è¨€åŒºï¼ˆç›¸å½“äºå‰æœŸçš„å‡†å¤‡å·¥ä½œï¼‰</span><br><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><span class="hljs-comment">%æ­£æ–‡ï¼ˆæ–‡ç« å†…å®¹ï¼‰</span><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br><span class="hljs-comment">% \end&#123;document&#125;ä»£è¡¨ç€main.texçš„ç»“å°¾ï¼Œç›¸å½“äºC++çš„return 0;è¿™ä¸ªè¯­å¥åé¢ä¸è¦åŠ ä¸Šä»»ä½•çš„ä¸œè¥¿ï¼ï¼ˆå› ä¸ºåŠ äº†ä¹Ÿæ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼‰</span><br></code></pre></td></tr></table></figure><p>â€‹<code>\</code>åœ¨LaTeXä¸­æ˜¯éå¸¸é‡è¦çš„ä¸€ä¸ªå­—ç¬¦ï¼Œç±»ä¼¼äºC&#x2F;C++ä¸­çš„è½¬ä¹‰å­—ç¬¦ï¼Œåœ¨åé¢è·Ÿç€çš„éƒ½æ˜¯<strong>LaTeXçš„å…³é”®è¯å’Œå‘½ä»¤</strong>ï¼ˆä¼šæœ‰ä»£ç é«˜äº®ï¼‰ï¼Œæˆ‘ä»¬<strong>é‡ç‚¹å­¦ä¹ çš„å†…å®¹</strong>å°±æ˜¯<strong>è¿™äº›å‘½ä»¤ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨è¿™äº›å‘½ä»¤</strong>ã€‚</p><p>â€‹é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ä»‹ç»LaTeXä¸­çš„<strong>å¯¼è¨€åŒº</strong>ï¼Œå³<code>\begin&#123;document&#125;</code>ä¹‹å‰çš„éƒ¨åˆ†ã€‚</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\documentclass</span>&#123;article&#125;<br><span class="hljs-comment">%è¿™è¡Œä»£ç æŒ‡å®šäº†æ–‡æ¡£çš„ç±»å‹ä¸º articleï¼Œå³æ–‡ç« ç±»å‹ã€‚LaTeX ä¸­æœ‰å‡ ç§æ–‡æ¡£ç±»å‹ï¼ˆå¦‚ reportã€book ç­‰ï¼‰ï¼Œarticle æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ï¼Œé€‚ç”¨äºè®ºæ–‡ã€æŠ¥å‘Šã€æ¼”è®²ç¨¿ç­‰ã€‚</span><br></code></pre></td></tr></table></figure><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs LaTeX"><span class="hljs-comment">% Language setting</span><br><span class="hljs-comment">% Replace `english&#x27; with e.g. `spanish&#x27; to change the document language</span><br><span class="hljs-keyword">\usepackage</span>[english]&#123;babel&#125;<br><span class="hljs-comment">% Useful packages</span><br><span class="hljs-keyword">\usepackage</span>&#123;amsmath&#125;<br><span class="hljs-keyword">\usepackage</span>&#123;graphicx&#125;<br><span class="hljs-keyword">\usepackage</span>[colorlinks=true, allcolors=blue]&#123;hyperref&#125;<br></code></pre></td></tr></table></figure><p>â€‹åœ¨LaTeXï¼Œå‡ ä¹æ‰€æœ‰çš„é«˜çº§æ“ä½œéƒ½æ˜¯å»ºç«‹åœ¨<strong>å¯¼å…¥å®åŒ…</strong>çš„åŸºç¡€ä¹‹ä¸Šçš„ï¼Œç±»ä¼¼äºC++ä¸­çš„#includeå’ŒPythonä¸­çš„importï¼Œå¯¼å…¥å®åŒ…å¯ä»¥è®©ä½ çš„LaTeXä»£ç å˜çš„æ›´åŠ å¼ºå¤§ã€‚åœ¨æ­¤å¤„å¯¼å…¥çš„ä¸‰ä¸ªå¸¸ç”¨å®åŒ…åˆ†åˆ«ç”¨äºæ•°å­¦å…¬å¼(amsmath)ï¼Œå›¾å½¢å¤„ç†(graphix)å’Œå¼•ç”¨(hyperref)ã€‚<br>â€‹åœ¨ä¹‹åçš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œä½ å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªå·±å¯¼å…¥ç‰¹å®šçš„å®åŒ…ï¼Œä¸è¿‡åˆ«æ‹…å¿ƒï¼Œåé¢ä¼šå…·ä½“æ•™ä½ æ€ä¹ˆåšçš„ã€‚</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\title</span>&#123;Your Paper&#125;<br><span class="hljs-keyword">\author</span>&#123;You&#125;<br><span class="hljs-comment">% ä½œè€…çš„ä¿¡æ¯å’Œæ–‡ç« æ ‡é¢˜ï¼Œè¿™ä¸€å—ä¹Ÿå¯ä»¥è‡ªå·±é­”æ”¹ï¼ˆå±äºé«˜çº§åŠŸèƒ½ï¼‰</span><br></code></pre></td></tr></table></figure><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><span class="hljs-comment">%æ­£æ–‡</span><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure><p>â€‹å¤¹åœ¨<code>\begin&#123;document&#125;</code>å’Œ<code>\end&#123;document&#125;</code>ä¹‹é—´çš„æ˜¯æ–‡ç« çš„æ­£æ–‡éƒ¨åˆ†ï¼Œ<strong>ä»»ä½•ä½ æƒ³åœ¨æœ€åPDFå‡ºç°çš„å†…å®¹ï¼Œæ— è®ºæ˜¯å›¾ç‰‡ï¼Œæ–‡å­—ï¼Œéƒ½éœ€è¦åœ¨<code>\begin&#123;document&#125;</code>å’Œ<code>\end&#123;document&#125;</code>ä¹‹é—´é€šè¿‡å‘½ä»¤è¡¨è¾¾å‡ºæ¥ï¼</strong>æ¥ä¸‹æ¥æˆ‘ä»¬æ¥é‡ç‚¹ä»‹ç»æ­£æ–‡éƒ¨åˆ†ã€‚</p><h4 id="3-4-2-æ­£æ–‡éƒ¨åˆ†â‘ â€”â€”æ–‡å­—"><a href="#3-4-2-æ­£æ–‡éƒ¨åˆ†â‘ â€”â€”æ–‡å­—" class="headerlink" title="3.4.2 æ­£æ–‡éƒ¨åˆ†â‘ â€”â€”æ–‡å­—"></a>3.4.2 æ­£æ–‡éƒ¨åˆ†â‘ â€”â€”æ–‡å­—</h4><blockquote><p>åœ¨è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºç™½æ–‡æ¡£ï¼Œæ‰€ä»¥å’ŒLaTeXæ¨¡ç‰ˆä¹‹é—´å­˜åœ¨å·®å¼‚ã€‚è¯»è€…å¯ä»¥å…ˆå°è¯•ç†è§£è¿™äº›æŒ‡ä»¤éƒ½ä»£è¡¨ç€ä»€ä¹ˆåŠŸèƒ½ï¼Œç„¶åå›åˆ°è‡ªå·±çš„templateä¸­å°è¯•â€œè¯»æ‡‚â€ä»–ï¼ä¹Ÿå¯ä»¥è‡ªå·±å°è¯•ä¿®æ”¹ä¸€äº›å†…å®¹çœ‹çœ‹æœ€åç”Ÿæˆçš„æ–‡æ¡£æœ‰ä»€ä¹ˆä¸åŒ~</p></blockquote><p>æ­£æ–‡çš„ä»£ç å¼€å§‹çœ‹ä¸æ‡‚äº†ï¼Ÿåˆ«ç€æ€¥ï¼Œå…ˆæ¥çœ‹çœ‹æˆ‘å†™çš„ç®€åŒ–ç‰ˆçš„</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\begin</span>&#123;document&#125;<br><span class="hljs-keyword">\maketitle</span><br><br><span class="hljs-keyword">\begin</span>&#123;abstract&#125;<br>Your abstract.<br><span class="hljs-keyword">\end</span>&#123;abstract&#125;<br><span class="hljs-keyword">\section</span>&#123;introducccction&#125;<br><span class="hljs-keyword">\section</span>&#123;Part1&#125;<br><span class="hljs-keyword">\subsection</span>&#123;hello&#125;<br>Hello, this is a test file.<br>is this a new paragraph?<br><br>is this a new paragraph?<br><span class="hljs-keyword">\subsection</span>&#123;world!&#125;<br><span class="hljs-keyword">\subsubsection</span>&#123;hahah&#125;<br><span class="hljs-keyword">\subsubsection</span>&#123;hahahahahah&#125;<br>i know you are very smart!<br><span class="hljs-keyword">\section</span>&#123;Part22&#125;<br><span class="hljs-keyword">\begin</span>&#123;enumerate&#125;<br>    <span class="hljs-keyword">\item</span> this is the firrst point<br>    <span class="hljs-keyword">\item</span> this is the 2nd points<br><span class="hljs-keyword">\end</span>&#123;enumerate&#125;<br><span class="hljs-keyword">\section</span>&#123;p3&#125;<br><span class="hljs-keyword">\section</span>&#123;Conclusion&#125;<br><br><span class="hljs-keyword">\end</span>&#123;document&#125;<br></code></pre></td></tr></table></figure><p>åŒ…å«ä¸€äº›å¿…è¦çš„æ–‡ä»¶å‡†å¤‡å·¥ä½œï¼Œè¿™ä»½PDFè¾“å‡ºå¦‚ä¸‹ï¼š</p><p><img src="/posts/LaTeX-tutorial/image_12.png" alt="The Output"></p><blockquote><p>ä¸ºäº†è®©å±•ç¤ºå˜å¾—æ›´åŠ æ¸…æ™°ï¼Œæˆ‘æ•…æ„æ‹¼é”™äº†è®¸å¤šå•è¯ï¼Œè¯·å‹¿æ¨¡ä»¿ï¼</p></blockquote><ul><li><p><code>\maketitle</code>å‘½ä»¤é¦–å…ˆè¾“å‡ºæ–‡ç« çš„æ ‡é¢˜ï¼ˆåŒ…æ‹¬ä½œè€…ä¿¡æ¯å’Œæ—¶é—´ï¼‰ï¼Œä¸è¦åˆ é™¤ã€‚</p></li><li><p>æ‘˜è¦ï¼ˆabstractï¼‰</p><ul><li>è®ºæ–‡çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œç”±<code>\begin&#123;abstract&#125;</code>å’Œ<code>\end&#123;abstract&#125;</code>åŒ…è£¹ã€‚</li></ul></li><li><p><code>\section</code>,<code>\subsection</code>,<code>\subsubsection</code></p><ul><li>ç±»ä¼¼äºè®ºæ–‡ä¸­1,2,3çº§å°æ ‡é¢˜çš„æ¦‚å¿µï¼Œè¯»è€…å¯ä»¥å°†ä»£ç ä¸­çš„æ–‡å­—å’Œæœ€ç»ˆè¾“å‡ºåœ¨PDFä¸­çš„ä½ç½®å¯¹åº”èµ·æ¥ï¼Œåº”è¯¥å¾ˆå¿«å°±èƒ½å¤Ÿç†è§£ã€‚</li><li>è¿™å°±æ˜¯LaTeXçš„å¼ºå¤§ä¹‹å¤„ï¼Œå¯èƒ½ç”¨èµ·æ¥æ²¡æœ‰wordå¯è§†åŒ–ï¼Œä½†æ˜¯ä»–çœå»äº†å¾ˆå¤šæ–‡å­—æ’ç‰ˆä»¥åŠå¤§å°è°ƒæ•´ä¼˜åŒ–çš„å·¥ä½œï¼Œå®é™…ä¸Šå¤§å¤§åœ°æé«˜äº†å·¥ä½œæ•ˆç‡ã€‚</li></ul></li><li><p>æ­£æ–‡</p><ul><li><p>æ–‡ç« ä¸­<em>i know you are very smart!</em> å’Œ<em>Hello, this is a test file. is this a new paragraph?</em> éƒ½æ˜¯æ­£æ–‡è¯­å¥ã€‚</p></li><li><p><strong>ç¼©è¿›</strong>ï¼šLaTeXé»˜è®¤æ¨¡ç‰ˆä¸­é¦–æ®µä¸ç¼©è¿›ï¼Œç¬¬äºŒæ®µæ‰ç¼©è¿›ï¼Œå¦‚æœæƒ³æ›´æ”¹è¿™ä¸ªè®¾ç½®ï¼Œå¯ä»¥åœ¨å¯¼è¨€åŒºåŠ å…¥å‘½ä»¤ï¼š</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\usepackage</span>&#123;indentfirst&#125;<br><span class="hljs-comment">% è¿™æ˜¯ä½ åŠ å…¥çš„ç¬¬ä¸€ä¸ªå®åŒ…ï¼å¿«æ¥compileä¸€ä¸‹çœ‹çœ‹æœ‰ä»€ä¹ˆå˜åŒ–å§ï¼</span><br></code></pre></td></tr></table></figure><p><img src="/posts/LaTeX-tutorial/image_13.png" alt="Indient"></p><p>ä½ ä¼šå‘ç°ï¼Œç¬¬ä¸€æ®µä¹Ÿç¼©è¿›å•¦ï¼</p></li><li><p><strong>æ¢è¡Œ</strong>ï¼š</p><ul><li><p>ç¬¬ä¸€ä¸ªé›·ç‚¹ï¼š<strong>åœ¨æºä»£ç ä¸­æ¢è¡Œå¹¶ä¸ä»£è¡¨çœŸçš„æ¢è¡Œäº†ï¼</strong>æ¯”å¦‚ç¬¬ä¸€ä¸ªis this a new paragraphå’ŒHello, this is a test file.åˆ†å±ä¸¤è¡Œï¼Œä½†ä»–ä»¬å®é™…è¾“å‡ºä¸Šåªåœ¨ä¸€è¡Œä¸Šé¢ã€‚</p></li><li><p>æœ€ç®€å•çš„æ¢è¡Œæ–¹æ³•ï¼š<strong>ç›´æ¥åœ¨æ®µè½ä¸­æ·»åŠ ä¸€ä¸ªç©ºè¡Œï¼Œå³æŒ‰ä¸‹ä¸¤ä¸ªå›è½¦é”®</strong>ï¼Œè¿™æ ·å°±èƒ½æˆåŠŸå®ç°æ¢è¡Œã€‚</p><p><strong>ä»¥ä¸‹å†…å®¹æ–°æ‰‹è‡ªåŠ¨è·³è¿‡ï¼</strong></p></li><li><p>ä½¿ç”¨<code>\\</code>æ¢è¡Œï¼Œä¸€ç§æ›´ç´§å‡‘çš„å†™æ³•ï¼ˆä½†æœ‰é£é™©ï¼‰</p></li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs LaTeX">This is the first line.<span class="hljs-keyword">\\</span><br>This is the second line.<br></code></pre></td></tr></table></figure><ul><li>å…¶ä»–æ¢è¡Œæ–¹æ³•ï¼šéƒ½æ˜¯é€šè¿‡ä¸€äº›å‘½ä»¤å®ç°ï¼Œå¯ä»¥ä½œè¡¥å……äº†è§£</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs latex">This is the first line.<br><span class="hljs-keyword">\newline</span><br>This is the second line.<br><span class="hljs-comment">% ç±»æ¯”çš„ï¼Œä½ åº”è¯¥å°±çŸ¥é“å‘½ä»¤</span><br><span class="hljs-keyword">\newpage</span><br><span class="hljs-comment">% æ˜¯ä»€ä¹ˆæ„æ€äº†å§ï¼</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œä½¿ç”¨<code>\\</code>å’Œ<code>\newline</code>è¿›è¡Œå¼ºåˆ¶æ¢è¡Œæ—¶ï¼Œä¸¤è¡Œä¹‹é—´æ²¡æœ‰é¢å¤–çš„å‚ç›´é—´è·ï¼æ ¼å¼ä¼šæœ‰å·®å¼‚ï¼Œ<strong>å»ºè®®éå¿…è¦ä¸è¦ä½¿ç”¨å¼ºåˆ¶æ¢è¡Œç¬¦</strong>ã€‚</p><p><img src="/posts/LaTeX-tutorial/image_14.png" alt="Using Newline Carefully"></p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-comment">% ä¸€äº›è¡¥å……å‘½ä»¤ï¼š</span><br><br><span class="hljs-comment">%æœ‰å‚ç›´é—´è·çš„æ¢è¡Œ</span><br>This is the first line.<br><span class="hljs-keyword">\vspace</span>&#123;1cm&#125;<br><br>This is the second line.<br><br><span class="hljs-comment">%æ— å‚ç›´é—´è·çš„æ¢è¡Œ</span><br>This is the first line.<br><span class="hljs-keyword">\noindent</span><br><br>This is the second line without extra space.<br><br></code></pre></td></tr></table></figure><p><img src="/posts/LaTeX-tutorial/image_15.png" alt="Some advanced techniques"></p></li></ul></li><li><p><code>enumerate</code></p><ul><li>ä¸­æ–‡ç¿»è¯‘â€œæšä¸¾â€ï¼Œç”¨äºæ–‡ç« ä¸­ç”Ÿæˆå°æ ‡å·ï¼Œä¸ä½œä¸ºå°æ ‡é¢˜å‡ºç°</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\section</span>&#123;Part22&#125;<br><span class="hljs-keyword">\begin</span>&#123;enumerate&#125;<br>    <span class="hljs-keyword">\item</span> this is the firrst point<br>    <span class="hljs-keyword">\item</span> this is the 2nd points<br><span class="hljs-keyword">\end</span>&#123;enumerate&#125;<br><span class="hljs-comment">% æ³¨æ„ä¸€ä¸ªbeginå¯¹åº”ä¸€ä¸ªendï¼Œä¸ç„¶ä¼šæŠ¥é”™ï¼</span><br></code></pre></td></tr></table></figure><p><img src="/posts/LaTeX-tutorial/image_16.png" alt="Enumerate"></p><ul><li>å¯ä»¥å’Œä¸€äº›æŒ‡ä»¤æ­é…ä½¿ç”¨ï¼Œä¾‹å¦‚åŠ ç²—<code>\textbf&#123;&#125;</code>ç­‰ç­‰ã€‚</li></ul></li><li><p>æ–‡æœ¬ç¾åŒ–ï¼š</p><blockquote><p>è¿™é‡Œçš„å‘½ä»¤éƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå°è¯•~</p></blockquote><ul><li>åŠ ç²—å‘½ä»¤</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\textbf</span>&#123;This text is bold.&#125;<br></code></pre></td></tr></table></figure><ul><li>æ–œçº¿å‘½ä»¤</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\textit</span>&#123;This text is italic.&#125;<br></code></pre></td></tr></table></figure><ul><li>ä¸‹åˆ’çº¿å‘½ä»¤</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\underline</span>&#123;This text is underlined.&#125;<br></code></pre></td></tr></table></figure><ul><li>ç­‰å®½å­—ä½“</li></ul><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-keyword">\texttt</span>&#123;This text is in typewriter font.&#125;<br></code></pre></td></tr></table></figure></li></ul><p>â€‹<strong>Congratulationsï¼åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œä½ å·²ç»èƒ½å¤Ÿå¤„ç†ä¸€ç¯‡æœ€åŸºæœ¬çš„latexçš„90%çš„å†…å®¹äº†ï¼ä½ å­¦ä¹ äº†å¦‚ä½•ç¼–è¾‘æ­£æ–‡ä¸­çš„æ–‡å­—éƒ¨åˆ†ï¼ˆè¿™å¸¸å¸¸å äº†æ–‡ç« çš„å¤§å¤´ï¼Œä¸æ˜¯å—ï¼Ÿï¼‰</strong></p><p>â€‹æ¥ä¸‹æ¥çš„æ—…ç¨‹ä¼šå˜çš„æ›´å¤æ‚ï¼Œä¹Ÿæ›´æœ‰è¶£ï¼Œæˆ‘ä»¬å°†ç»§ç»­å‘æˆ‘ä»¬çš„latexä¸­æ·»åŠ æ›´å¤šæœ‰è¶£çš„ä¸œè¥¿ï¼</p><h4 id="3-4-3-æ­£æ–‡éƒ¨åˆ†â‘¡â€”â€”å›¾ç‰‡å’Œå›¾è¡¨"><a href="#3-4-3-æ­£æ–‡éƒ¨åˆ†â‘¡â€”â€”å›¾ç‰‡å’Œå›¾è¡¨" class="headerlink" title="3.4.3 æ­£æ–‡éƒ¨åˆ†â‘¡â€”â€”å›¾ç‰‡å’Œå›¾è¡¨"></a>3.4.3 æ­£æ–‡éƒ¨åˆ†â‘¡â€”â€”å›¾ç‰‡å’Œå›¾è¡¨</h4><p>â€‹æ•°æ®å¯è§†åŒ–åœ¨ä¸€ç¯‡è®ºæ–‡ä¸­æ˜¯éå¸¸é‡è¦çš„ã€‚å› æ­¤ï¼Œä½ éœ€è¦å†é€‚å½“çš„ä½ç½®æ·»åŠ ä½ çš„å›¾è¡¨ï¼</p><ul><li>æ’å…¥å›¾ç‰‡</li><li>æ’å…¥ç»Ÿè®¡å›¾</li><li>æ’å…¥ç»Ÿè®¡è¡¨</li></ul><h4 id="3-4-4-æ­£æ–‡éƒ¨åˆ†â‘¢â€”â€”æ•°å­¦å…¬å¼"><a href="#3-4-4-æ­£æ–‡éƒ¨åˆ†â‘¢â€”â€”æ•°å­¦å…¬å¼" class="headerlink" title="3.4.4 æ­£æ–‡éƒ¨åˆ†â‘¢â€”â€”æ•°å­¦å…¬å¼"></a>3.4.4 æ­£æ–‡éƒ¨åˆ†â‘¢â€”â€”æ•°å­¦å…¬å¼</h4><h2 id="4-LaTeXç²¾è¿›"><a href="#4-LaTeXç²¾è¿›" class="headerlink" title="4 LaTeXç²¾è¿›"></a>4 LaTeXç²¾è¿›</h2><h3 id="4-1-åäº†ï¼ŒæŠ¥é”™äº†ï¼"><a href="#4-1-åäº†ï¼ŒæŠ¥é”™äº†ï¼" class="headerlink" title="4.1 åäº†ï¼ŒæŠ¥é”™äº†ï¼"></a>4.1 åäº†ï¼ŒæŠ¥é”™äº†ï¼</h3><h3 id="4-2-å¯¼å…¥ç‰¹å®šçš„å®åŒ…"><a href="#4-2-å¯¼å…¥ç‰¹å®šçš„å®åŒ…" class="headerlink" title="4.2 å¯¼å…¥ç‰¹å®šçš„å®åŒ…"></a>4.2 å¯¼å…¥ç‰¹å®šçš„å®åŒ…</h3><h3 id="4-3-Advanced-Methods"><a href="#4-3-Advanced-Methods" class="headerlink" title="4.3 Advanced Methods"></a>4.3 Advanced Methods</h3><h3 id="4-4-è‡ªå®šä¹‰ï¼Ÿ"><a href="#4-4-è‡ªå®šä¹‰ï¼Ÿ" class="headerlink" title="4.4 è‡ªå®šä¹‰ï¼Ÿ"></a>4.4 è‡ªå®šä¹‰ï¼Ÿ</h3><h3 id="4-5-ç½‘ç«™æŒ‡å—"><a href="#4-5-ç½‘ç«™æŒ‡å—" class="headerlink" title="4.5 ç½‘ç«™æŒ‡å—"></a>4.5 ç½‘ç«™æŒ‡å—</h3><h2 id="5-Conclusion-and-Outlook"><a href="#5-Conclusion-and-Outlook" class="headerlink" title="5 Conclusion and Outlook"></a>5 Conclusion and Outlook</h2><p>ï¼ˆ2024.11.22ï¼‰ç¬”è€…ç´¯å•¦ï¼Œä¹‹åä¼šæ›´æ–°çš„ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Efficient Tools</category>
      
    </categories>
    
    
    <tags>
      
      <tag>tutorial</tag>
      
      <tag>LaTeX</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Life-Musings</title>
    <link href="/posts/Life-musings/"/>
    <url>/posts/Life-musings/</url>
    
    <content type="html"><![CDATA[<h1 id="Life-Musings"><a href="#Life-Musings" class="headerlink" title="Life-Musings"></a>Life-Musings</h1><p><strong>ç”Ÿæ´»éšæƒ³å½•</strong></p><h2 id="2024-11-19"><a href="#2024-11-19" class="headerlink" title="2024.11.19"></a>2024.11.19</h2><p>ç¬¬ä¸€ç¯‡æ–‡ç« ï¼</p><h2 id="2024-12-4"><a href="#2024-12-4" class="headerlink" title="2024.12.4"></a>2024.12.4</h2><p>æ•°åˆ†æœŸä¸­è€ƒè¯•</p><p>å¥½éš¾å¥½éš¾å‘œå‘œå‘œ</p><h2 id="2024-12-18"><a href="#2024-12-18" class="headerlink" title="2024.12.18"></a>2024.12.18</h2><p>ä¸´è¿‘æœŸæœ«å‘¨ï¼Œworkloadç¡®å®ä¸Šæ¥äº†ã€‚</p><p>å¿ƒå¿ƒå¿µå¿µä¸€å­¦æœŸçš„å¯¼å¸ˆåˆ†é…ç»ˆäºå°˜åŸƒè½å®šäº†ï¼Œä¹Ÿç®—æ˜¯åˆ†é…ä¸Šå¿ƒä»ªçš„å¯¼å¸ˆäº†ã€‚æ¬£å–œä¹‹ä¸­åˆå¸¦ç€ä¸€ç‚¹ç„¦è™‘â€¦</p><p>ä¹‹åç»§ç»­åŠªåŠ›å§~</p><h2 id="2025-1-13"><a href="#2025-1-13" class="headerlink" title="2025.1.13"></a>2025.1.13</h2><p>è¿˜æ²¡è€ƒå®ŒæœŸæœ«ğŸ¤¡ğŸ¤¡ğŸ¤¡æˆç»©å·²ç»é™†ç»­å‡ºæ¥äº†</p><p>åˆ†äº«ä»Šå¤©çœ‹åˆ°çš„æ¢—å›¾</p><p><img src="https://ooo.0x0.ooo/2025/01/13/OE6g06.jpg" alt="RTFM"></p>]]></content>
    
    
    
    <tags>
      
      <tag>life</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/posts/hello-world/"/>
    <url>/posts/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>FAQ</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<div class="markdown-body"><center><p><font size=6><b>FAQ~&#128512&#128516&#128513</b></p></font></p></center><p><strong>Found some issues or bugs in the blog? Feel free to contact the author.</strong></p><p><strong>My email:</strong></p><ul><li><p><a href="mailto:xiyuan__yang@outlook.com">xiyuan__yang@outlook.com</a></p></li><li><p><a href="mailto:yangxiyuan@sjtu.edu.cn">yangxiyuan@sjtu.edu.cn</a></p></li></ul><h1 id="FAQs"><a href="#FAQs" class="headerlink" title="FAQs"></a>FAQs</h1><h2 id="å…¨æ˜¯çƒ‚å°¾æ–‡ç« ï¼Ÿ"><a href="#å…¨æ˜¯çƒ‚å°¾æ–‡ç« ï¼Ÿ" class="headerlink" title="å…¨æ˜¯çƒ‚å°¾æ–‡ç« ï¼Ÿ"></a>å…¨æ˜¯çƒ‚å°¾æ–‡ç« ï¼Ÿ</h2><p>å‘œå‘œå‘œåˆ«éª‚äº†ã€‚ã€‚ã€‚åšå®¢çš„æ›´æ–°çœŸçš„å¥½èŠ±æ—¶é—´ã€‚ã€‚ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¬”è€…ä¼šåŠªåŠ›æŠŠå‰é¢çš„å°±å‘å…¨éƒ¨å¡«ä¸Šå†å¼€æ–°å‘å“’ã€‚</p><ul><li>ä¸€èˆ¬åœ¨<code>Home</code>é¡µå†™å¥½æ‘˜è¦ï¼Œè®¾ç½®å¥½å°é¢ï¼ŒTagsä¸­æ ‡ä¸Š<code>Finished</code>çš„æ–‡ç« å°±æ˜¯å·²ç»å®Œæˆä¸ä¼šå¤§æ”¹çš„æ–‡ç« ï¼Œå¯æ”¾å¿ƒé£Ÿç”¨~</li><li>å¦‚æœTagsæ ‡æ³¨æ˜¯<code>Updating</code>ï¼Œä¸€èˆ¬æ˜¯ä¸€äº›å£°æ˜æ€§çš„æ–‡ç« ï¼Œè¡¨ç¤ºå†…å®¹ä¼šæ—¶ä¸æ—¶åœ°æ›´æ–°ã€‚</li><li>å¦‚æœæ˜¯å…‰ç§ƒç§ƒçš„ä¸€ç‰‡ï¼Œè¯´æ˜äºŸéœ€å®Œå·¥ã€‚ğŸ¤¡ğŸ¤¡ğŸ¤¡</li></ul><h2 id="å…³äºè¯„è®ºç³»ç»Ÿ"><a href="#å…³äºè¯„è®ºç³»ç»Ÿ" class="headerlink" title="å…³äºè¯„è®ºç³»ç»Ÿ"></a>å…³äºè¯„è®ºç³»ç»Ÿ</h2><p>è¯„è®ºç³»ç»Ÿç®—æ˜¯ç¬”è€…è¸©è¿‡çš„å¤§å‘ä¹‹ä¸€ï¼Œå‰åæ¢äº†å››äº”ä¸ªè¯„è®ºç³»ç»Ÿï¼Œæœ€åé€‰æ‹©äº†å¼ºå¤§çš„<code>giscus</code>æä¾›æ”¯æŒã€‚</p><p>ç›¸å…³ç½‘ç«™ï¼š<a href="https://giscus.app/zh-CN">Giscus</a></p><p><strong>æœ‰å…³è¯„è®ºç³»ç»Ÿçš„ä½¿ç”¨ï¼š</strong></p><ul><li><p>éœ€è¦è‡ªå·±çš„githubè´¦å·</p><ul><li><a href="https://giscus.app/zh-CN">Giscus</a>çš„ç½‘ç«™å¥½åƒä¼šè¢«å¢™ï¼Œå¯¼è‡´è¯„è®ºåŒºåŠ è½½å¤±è´¥ï¼Œè¯·è‡ªè¡Œè§£å†³ã€‚</li></ul></li><li><p>ä¹‹åä½¿ç”¨å°±å’Œæ­£å¸¸çš„è¯„è®ºåŒºæ²¡ä»€ä¹ˆåŒºåˆ«äº†ï¼Œè½»ç‚¹å–·~</p></li><li><p>ç›¸å…³çš„è¯„è®ºå†…å®¹å¯ä»¥åœ¨æˆ‘åšå®¢ä»“åº“çš„ <a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io/discussions">Discussion</a> é¡µé¢æ‰¾åˆ°ã€‚</p></li><li><p>ç›®å‰åªæœ‰æ–‡ç« é¡µå¯ä»¥å‘è¡¨è¯„è®ºå“¦ï¼Œæœ‰ä»€ä¹ˆå¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜å¯ä»¥ç»™æˆ‘å‘ <a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io/issues">issue</a> æˆ–è€…email æˆ‘ã€‚</p></li><li><p><strong>å¥½åƒæ‰‹æœºç«¯æ²¡åŠæ³•å‘è¡¨è¯„è®ºï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼‰ã€‚</strong></p></li></ul><h2 id="æ›´æ–°é¢‘ç‡ï¼Ÿæ›´æ–°å†…å®¹ï¼Ÿ"><a href="#æ›´æ–°é¢‘ç‡ï¼Ÿæ›´æ–°å†…å®¹ï¼Ÿ" class="headerlink" title="æ›´æ–°é¢‘ç‡ï¼Ÿæ›´æ–°å†…å®¹ï¼Ÿ"></a>æ›´æ–°é¢‘ç‡ï¼Ÿæ›´æ–°å†…å®¹ï¼Ÿ</h2><p><a href="https://xiyuanyang-code.github.io/above/">å‚è§è¿™é‡Œ</a></p><h2 id="æœ‰å…³åšå®¢çš„ç…§ç‰‡"><a href="#æœ‰å…³åšå®¢çš„ç…§ç‰‡" class="headerlink" title="æœ‰å…³åšå®¢çš„ç…§ç‰‡"></a>æœ‰å…³åšå®¢çš„ç…§ç‰‡</h2><p>åœ¨åšå®¢æ­£æ–‡ä¸­ä½¿ç”¨çš„å›¾ç‰‡éƒ½ä¼šå‚¨å­˜åœ¨<strong>å›¾åºŠ</strong>ä¸­ï¼ˆé™¤äº†å¼•ç”¨åˆ«äººçš„å›¾ç‰‡ï¼‰ï¼Œç½‘ç«™ <strong><a href="https://img.tg/yangxiyuan/albums">IMG.TG</a></strong></p><blockquote><p>æœ€åå¼•ç”¨ä¸€ä¸‹æˆ‘çš„å¶åƒçš„åšå®¢çš„FAQçš„æœ€åä¸€ä¸ªé—®é¢˜ï¼š</p><p>ç›¸å…³ç½‘å€ï¼š<a href="https://lilianweng.github.io/faq/">lilianweng</a></p><p><strong>Q: How can you keep up blogging?</strong></p><p><strong>A:</strong> â€œPain is inevitable but suffering is optionalâ€ â€” this is the first sentence of Haruki Murakamiâ€™s book <a href="https://www.goodreads.com/book/show/2195464.What_I_Talk_About_When_I_Talk_About_Running">â€œWhat I Talk About When I Talk About Runningâ€</a>. I love that book. His altitude towards running is pretty much aligned with how I feel about maintaining this blog.</p></blockquote><div/><hr><h1 id="English-Version-FAQs"><a href="#English-Version-FAQs" class="headerlink" title="English Version FAQs"></a>English Version FAQs</h1><h2 id="Are-all-your-posts-incomplete"><a href="#Are-all-your-posts-incomplete" class="headerlink" title="Are all your posts incomplete?"></a>Are all your posts incomplete?</h2><p>Please donâ€™t scold meâ€¦ ğŸ˜­ Maintaining and updating a blog takes a lot of time. Generally, I strive to finish old posts before starting new ones.</p><ul><li>Posts marked with <code>Finished</code> in the <em>Tags</em> section on the <code>Home</code> page, along with summaries and cover images, are complete and wonâ€™t undergo major changes. Feel free to enjoy them with peace of mind!</li><li>Posts marked with <code>Updating</code> in <em>Tags</em> are generally declarative in nature and are updated from time to time.</li><li>If a post has no tags at all, itâ€™s a work in urgent need of completion. ğŸ¤¡ğŸ¤¡ğŸ¤¡</li></ul><h2 id="About-the-Comment-System"><a href="#About-the-Comment-System" class="headerlink" title="About the Comment System"></a>About the Comment System</h2><p>The comment system has been one of the biggest challenges Iâ€™ve faced. After trying four or five systems, I finally settled on the robust support provided by <code>giscus</code>.</p><p>Relevant website: <a href="https://giscus.app/zh-CN">Giscus</a></p><p><strong>How to use the comment system:</strong></p><ul><li><p>You need your own GitHub account </p><ul><li>The <a href="https://giscus.app/">Giscus</a> website seems to be blocked, causing the comment section to fail to load. Please resolve this issue independently.</li></ul></li><li><p>Once logged in, using the comment section is no different from a regular comments platformâ€”please be gentle with your critiques. ğŸ˜‰</p></li><li><p>Comments are linked to the <a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io/discussions">Discussions</a> page in my blogâ€™s GitHub repository.</p></li><li><p>Currently, only article pages allow comments. For unusual issues, you can send me an <a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io/issues">issue</a> or email me.</p></li><li><p><strong>It seems that comments donâ€™t work on mobile devices (I have no idea why).</strong></p></li></ul><h2 id="How-often-do-you-update-What-do-you-post"><a href="#How-often-do-you-update-What-do-you-post" class="headerlink" title="How often do you update? What do you post?"></a>How often do you update? What do you post?</h2><p><a href="https://xiyuanyang-code.github.io/above/">See this page</a> for more details.</p><h2 id="Pictures"><a href="#Pictures" class="headerlink" title="Pictures"></a>Pictures</h2><p>All images used in the body of the blog will be stored on the <strong>image hosting platform</strong> (except for images referenced from others), on the website <strong><a href="https://img.tg/yangxiyuan/albums">IMG.TG</a></strong>.</p><blockquote><p>Finally, hereâ€™s a quote from my idolâ€™s FAQ page:</p><p>Relevant website: <a href="https://lilianweng.github.io/faq/">lilianweng</a></p><p><strong>Q: How can you keep up blogging?</strong></p><p><strong>A:</strong> â€œPain is inevitable but suffering is optionalâ€ â€” This is the first sentence of Haruki Murakamiâ€™s book <a href="https://www.goodreads.com/book/show/2195464.What_I_Talk_About_When_I_Talk_About_Running">â€œWhat I Talk About When I Talk About Runningâ€</a>. I love that book. His attitude toward running aligns closely with how I feel about maintaining this blog.</p></blockquote>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>Above</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<div class="markdown-body"><h1 id="Welcome-To-My-Blog"><a href="#Welcome-To-My-Blog" class="headerlink" title="Welcome To My Blog !"></a>Welcome To My Blog !</h1><h2 id="Before-The-Blog"><a href="#Before-The-Blog" class="headerlink" title="Before The Blog"></a>Before The Blog</h2><p>ä¸‰ä¸ªæœˆå‰ï¼Œæˆ‘é€šè¿‡å¶ç„¶çš„æœºä¼šäº†è§£åˆ°å‰ OpenAI ç ”ç©¶å‰¯æ€»è£ï¼Œä¸»ç®¡GPTæ¨¡å‹å®‰å…¨çš„æ°å‡ºåäººå¥³æ€§ï¼Œ<strong>ç¿è”(Lilian Weng)<strong>ã€‚å¥¹æå‡ºäº†è‘—åçš„</strong>Agent é…æ–¹ï¼šAgent&#x3D;LLM+Memory+planning skills+tool use</strong>ã€‚åœ¨å½“ä»Šçš„GPTæ—¶ä»£ï¼Œå¥¹å¯è°“æ˜¯åŠŸä¸å¯æ²¡ã€‚</p><p>åœ¨OpenAIå¯¹å¥¹çš„ç‹¬å®¶ä¸“è®¿<a href="https://openai.com/index/the-power-of-continuous-learning/">The power of continuous learning</a>ä¸­ï¼Œå¥¹æåˆ°ï¼š</p><blockquote><p>I believe in the power of learning and it is never too late to learn. Maintaining my personal blog is a good way to keep this curiosity going and learn about new progress in the deep learning community regularly. I also encourage my team to keep on learning, whether related or unrelated to their current projects. Ideas in different topics or fields can often inspire new ideas and broaden the potential solution space.</p><p>Iâ€™m also a strong believer in teamwork. If everyone shines in their best strength, we will get 1+1 &gt; 2. Meanwhile, we might often run into â€œdirtyâ€ work and personally Iâ€™m very willing to take on those tasks, because as long as thatâ€™s the biggest blocker or that task can add the biggest value into the project, nothing should be considered â€œdirtyâ€ or â€œtrivial.â€ I encourage people around me to do the same, being a team player and working together to expedite the team productivity.</p><p>æˆ‘ç›¸ä¿¡å­¦ä¹ çš„åŠ›é‡ï¼Œå­¦ä¹ æ°¸è¿œä¸ä¼šå¤ªè¿Ÿã€‚ç»´æŠ¤ä¸ªäººåšå®¢æ˜¯ä¸€ä¸ªä¿æŒå¥½å¥‡å¿ƒï¼Œå®šæœŸäº†è§£æ·±åº¦å­¦ä¹ ç¤¾åŒºæ–°è¿›å±•çš„å¥½æ–¹æ³•ã€‚æˆ‘ä¹Ÿé¼“åŠ±æˆ‘çš„å›¢é˜Ÿä¸æ–­å­¦ä¹ ï¼Œæ— è®ºæ˜¯å¦ä¸ä»–ä»¬å½“å‰çš„é¡¹ç›®ç›¸å…³ã€‚ä¸åŒä¸»é¢˜æˆ–é¢†åŸŸçš„æƒ³æ³•å¸¸å¸¸èƒ½æ¿€å‘æ–°çš„çµæ„Ÿï¼Œå¹¶æ‹“å®½æ½œåœ¨çš„è§£å†³æ–¹æ¡ˆç©ºé—´ã€‚</p><p>æˆ‘ä¹Ÿæ˜¯å›¢é˜Ÿåˆä½œçš„åšå®šä¿¡å¾’ã€‚å¦‚æœæ¯ä¸ªäººéƒ½èƒ½åœ¨è‡ªå·±æœ€æ“…é•¿çš„é¢†åŸŸå‘å…‰ï¼Œæˆ‘ä»¬å°±èƒ½å®ç°1+1å¤§äº2ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç¢°åˆ°ä¸€äº›â€œè„æ´»â€ï¼Œè€Œæˆ‘ä¸ªäººéå¸¸æ„¿æ„æ‰¿æ‹…è¿™äº›ä»»åŠ¡ï¼Œå› ä¸ºåªè¦é‚£æ˜¯æœ€å¤§çš„éšœç¢ï¼Œæˆ–è€…é‚£é¡¹ä»»åŠ¡èƒ½ä¸ºé¡¹ç›®å¸¦æ¥æœ€å¤§çš„ä»·å€¼ï¼Œå°±æ²¡æœ‰ä»€ä¹ˆæ˜¯â€œè„æ´»â€æˆ–â€œçäº‹â€ã€‚æˆ‘é¼“åŠ±å‘¨å›´çš„äººä¹Ÿè¿™æ ·åšï¼Œæˆä¸ºå›¢é˜Ÿçš„ä¸€å‘˜ï¼Œå…±åŒåŠªåŠ›æé«˜å›¢é˜Ÿçš„ç”Ÿäº§åŠ›ã€‚</p></blockquote><p><img src="https://images.ctfassets.net/kftzwdyauwt9/e3357d5a-b177-4b3a-1edf79a7f2dc/ca1f3418cd72b4eb84c9d1a09dfffc7f/stangel-2022-0421.jpg?w=3840&q=90&fm=webp" alt="Lilian Weng&#39;s interview"></p><p>å›¾æºï¼š<a href="https://openai.com/index/the-power-of-continuous-learning/">The power of continuous learning | OpenAI</a>   Photo: Jake Stangel</p><blockquote><p>PSï¼šè¿™ä¸ªå§å§å¥½æ¼‚äº®~</p></blockquote><p>è¿™ä¸<strong>è´¹æ›¼å­¦ä¹ æ³•ï¼ˆFeynman Techniqueï¼‰</strong>å¯è°“æ˜¯ä¸è°‹è€Œåˆï¼š</p><blockquote><p>1.Identify the subject. Write down everything you know about the topic.</p><p>2.Teach it to a child. If you can teach a concept to a child, youâ€™re way ahead of the game.</p><p>3.Identify your knowledge gaps. This is the point where the real learning happens.</p><p>4.Organize + simplify + Tell a story. Start to tell your story.</p></blockquote><p>æ­¤æ—¶ï¼Œåˆšåˆšæ­¥å…¥å¤§å­¦æ ¡å›­3ä¸ªæœˆçš„ç¬”è€…ï¼Œç”±äºæ·±å—é«˜ä¸­ä¼˜ç»©ä¸»ä¹‰å’Œåº”è¯•æ€æƒ³çš„é—é£è¼æ¯’ï¼Œå¯¹å¤§å­¦ç”Ÿæ´»å’Œè®¡ç®—æœºå­¦ç§‘çš„å­¦ä¹ é¢‡å…·ä¸é€‚åº”çš„ç–²æ€ã€‚å­¦ä¹ çš„çŸ¥è¯†å¦‚æ­¤æµ·é‡ï¼Œå´æ— æ³•ä¾é åº”è¯•å’Œåšé¢˜è¿›è¡Œå·©å›ºï¼Œè¯¥å¦‚ä½•æ˜¯å¥½ï¼Ÿ</p><p>æˆ–è®¸<strong>ä¸Šæ–‡å·²ç»ç»™å‡ºäº†ç­”æ¡ˆã€‚</strong></p><center><p><font size=6><b><p style="color:red;">æˆ‘è¦åˆ›å»ºè‡ªå·±çš„åšå®¢!</p></b></font></p></center><p>æ— è®ºæ˜¯ä¼ ç»Ÿçš„åšé¢˜åˆ·å·ï¼Œè¿˜æ˜¯åšå®¢ï¼Œäº¦æˆ–æ˜¯â€œè´¹æ›¼å­¦ä¹ æ³•â€ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯<strong>å¼ºåŒ–è®­ç»ƒäººè„‘åœ¨å¸æ”¶æ–°çŸ¥è¯†åçš„æœ‰æ•ˆè¾“å‡ºè¿‡ç¨‹</strong>ï¼šå½“ä½ èƒ½å¾ˆæµç•…åœ°ç»™å‡ºä¸€é“æ•°å­¦é¢˜çš„è‹¥å¹²ç§è¯æ˜æ–¹æ³•æ—¶ï¼Œèƒ½é€»è¾‘æ¸…æ™°åœ°å°†æ‰€å­¦çš„çŸ¥è¯†ç©¿æˆé€»è¾‘é“¾æ¡æˆ–æ€ç»´å¯¼å›¾ï¼Œå‘ˆç°åœ¨åšå®¢ä¸­ä¸ºä»–äººæ‰€å¸æ”¶æ—¶ï¼Œä½ ä¾¿é€šè¿‡<strong>æœ‰æ•ˆçš„å¯¹å¤–åšåŠŸè¾“å‡º</strong>å¾ˆå¥½åœ°å·©å›ºäº†æ‰€å­¦çš„çŸ¥è¯†ã€‚åŒæ—¶ï¼ŒçŸ¥è¯†çš„ä¸æ–­æ²‰æ·€ä¹Ÿå¸¦æ¥äº†è«å¤§çš„æˆå°±æ„Ÿã€‚</p><p>ä½†æ˜¯ï¼Œå†™ä¸€ç¯‡åšå®¢ï¼Œå¯ä¸ä»…ä»…æ˜¯æ‰“æ‰“å­—é‚£ä¹ˆç®€å•ã€‚</p><p>ä¸çŸ¥å„ä½åœ¨é«˜ä¸­å†™è®®è®ºæ–‡çš„æ—¶å€™æœ‰æ²¡æœ‰ä¸€ç§â€œå’¬ç‰™åˆ‡é½¿â€çš„æ„Ÿè§‰ï¼Œå°±æ˜¯<strong>æˆ‘æƒ³åˆ°çš„â‰ æˆ‘å®é™…æ„æ€å¥½çš„â‰ æˆ‘è¾“å‡ºçš„â‰ æˆ‘å¸Œæœ›æ‰€è¡¨è¾¾çš„</strong>ï¼Œç”šè‡³äºï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¿ƒä¸­æ‰€è°“çš„çµæ„Ÿåªæ˜¯<strong>ä¹ç°çš„åªè¨€ç‰‡è¯­çš„ç¢ç‰‡</strong>ï¼Œè·ç¦»æˆä¸ºä¸€ç¯‡é€»è¾‘æ¸…æ™°ï¼Œå†…å®¹è¯¦å®ä¸”æœ‰åˆ›æ–°æ€§çš„åšå®¢æ–‡ç« è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ã€‚è¿™ä¾¿æ˜¯åšå®¢å†™ä½œçš„éš¾ç‚¹ï¼Œä¹Ÿæ˜¯<strong>æˆ‘å¸Œæœ›é€šè¿‡ä¸ªäººåšå®¢æ¥è®­ç»ƒçš„æœ€é‡è¦çš„å†…å®¹ï¼šå°†å¿ƒé‡Œçš„çµæ„Ÿè¿›è¡Œæœ‰æ•ˆçš„è¾“å‡ºï¼ŒåŠ›æ±‚é€»è¾‘æ€§å’Œå­¦æœ¯çš„ä¸“ä¸šæ€§ã€‚</strong></p><h2 id="About-the-Blog"><a href="#About-the-Blog" class="headerlink" title="About the Blog"></a>About the Blog</h2><p><strong>Xiyuan Yangâ€™s Blog</strong>ï¼Œåˆ›å»ºäº<strong>2024å¹´11æœˆ19æ—¥</strong>ã€‚</p><p>ä»¥ä¸‹æ˜¯è‡ªæˆ‘ç®€ä»‹ï¼ˆæ‘˜è‡ª<a href="https://xiyuanyang-code.github.io/about/">About - Xiyuan Yangâ€™s Blog</a>ï¼‰ï¼š</p><blockquote><p>Greetings! I am <strong>Xiyuan Yang (æ¨å¸Œæ¸Š)</strong>, currently pursuing an undergraduate degree in Artificial Intelligence at Shanghai Jiao Tong University. With a longstanding aspiration to become a programmer, I am passionate about leveraging technology to make a meaningful impact on the world. Through my personal website, I aim to share a collection of my blogs and learning notes with you. Some of these entries will be presented as a series, updated at irregular intervals. Additionally, I will offer insights into my personal observations and reflections on life. I hope your visit here is both enjoyable and enriching!</p></blockquote><blockquote><p><strong>My email:</strong></p><ul><li><p><a href="mailto:xiyuan__yang@outlook.com">xiyuan__yang@outlook.com</a></p></li><li><p><a href="mailto:yangxiyuan@sjtu.edu.cn">yangxiyuan@sjtu.edu.cn</a></p><p>Feel free to contact me!</p></li></ul></blockquote><blockquote><p>VENI VIDI VICI</p></blockquote><p>è¿™ä¸ªåšå®¢çš„æ›´æ–°å†…å®¹å°†éšç€ç¬”è€…åç»­çš„ä¸“ä¸šè¯¾ç¨‹çš„å­¦ä¹ åŒæ­¥è¿›è¡Œï¼Œ<strong>æ—¨åœ¨åˆ†äº«ç¬”è€…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å­¦åˆ°çš„æœ‰æ„æ€çš„ä¸“ä¸šçŸ¥è¯†ï¼ŒåŠ›æ±‚åœ¨åšå®¢è¾“å‡ºçš„è¿‡ç¨‹ä¸­åŸ¹å…»è‡ªå·±çš„é€»è¾‘æ€ç»´å’Œè¡¨è¾¾èƒ½åŠ›</strong>ï¼Œä¸è¿‡æ›´æ–°æ—¶é—´ï¼Œæ›´æ–°å†…å®¹ï¼Œæ›´æ–°ç¯‡å¹…<strong>å°†ä¼šå®Œå…¨éšæœº</strong>ã€‚</p><p>æœ¬åšå®¢éƒ¨ç½²åœ¨githubçš„é™æ€ç½‘ç«™ä¸Šï¼Œè½®å­ä½¿ç”¨<code>Hexo</code>çš„<code>Fluid</code>çš„æ¨¡ç‰ˆï¼Œé…ç½®ç¯å¢ƒè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸‹é¢è´´å‡ºä¸€äº›ç›¸å…³çš„ç½‘å€ï¼Œæœ‰ç›¸åŒçˆ±å¥½çš„ç«¥é‹å¯ä»¥å‚è€ƒå€Ÿé‰´ä¸€ä¸‹ï¼š</p><ul><li><a href="https://github.com/xiyuanyang-code">xiyuanyang-code (Xiyuan Yang)æˆ‘çš„Githubä¸»é¡µ</a></li><li><a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io">xiyuanyang-code&#x2F;xiyuanyang-code.github.ioæˆ‘çš„åšå®¢Githubä»“åº“</a></li><li><a href="https://github.com/fluid-dev/hexo-theme-fluid">fluid-dev&#x2F;hexo-theme-fluid-Design theme for Hexo Fluidçš„Githubå®˜æ–¹ä»“åº“</a></li><li><a href="https://fluid-dev.github.io/hexo-fluid-docs/guide/">é…ç½®æŒ‡å— | Hexo Fluid ç”¨æˆ·æ‰‹å†Œ</a></li><li><a href="https://fluid-dev.github.io/hexo-fluid-docs/start/">å¼€å§‹ä½¿ç”¨ | Hexo Fluid ç”¨æˆ·æ‰‹å†Œ</a></li></ul><p>æœ‰å…³åšå®¢çš„å…·ä½“æ›´æ–°å†…å®¹ï¼Œè¯·è¯¦è§<code>Goals and Plans of Updates</code>éƒ¨åˆ†~</p><h2 id="Goals-and-Plans-of-Updates"><a href="#Goals-and-Plans-of-Updates" class="headerlink" title="Goals and Plans of Updates"></a>Goals and Plans of Updates</h2><h3 id="æ›´æ–°çš„ä¸»è¦å†…å®¹"><a href="#æ›´æ–°çš„ä¸»è¦å†…å®¹" class="headerlink" title="æ›´æ–°çš„ä¸»è¦å†…å®¹"></a>æ›´æ–°çš„ä¸»è¦å†…å®¹</h3><p>ç¬”è€…æ›´æ–°çš„ä¸»è¦å†…å®¹åŒ…æ‹¬ï¼šï¼ˆ<strong>è‰æ‹Ÿ</strong>ï¼‰</p><ul><li>ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•å­¦ä¹ <ul><li>C&#x2F;C++</li><li>Python<ul><li>è¯­æ³•</li><li>Anaconda</li><li>ä¸€äº›å¸¸è§çš„åº“</li></ul></li><li>HTML&#x2F;Javascript</li><li>Bash&#x2F;Shell</li></ul></li><li>ä¸€äº›å¸¸ç”¨çš„å·¥å…·æ•™ç¨‹<ul><li>LaTeX</li><li>å‘½ä»¤è¡Œ</li><li>Git</li><li>Vimç¼–è¾‘å™¨</li><li>Linuxå’ŒæœåŠ¡å™¨ï¼ˆä¸»è¦å’Œæ·±åº¦å­¦ä¹ ç›¸å…³ï¼‰<ul><li>Linuxå¸¸è§å‘½ä»¤</li><li>Tmux</li><li>SSHè¿œç¨‹è¿æ¥</li></ul></li></ul></li><li>[CS]ç®—æ³•<ul><li>æ•°æ®ç»“æ„</li><li>ç®—æ³•</li><li>è®¡ç®—æœºå››å¤§ä»¶</li></ul></li><li>AIä¸“ä¸šè¯¾<ul><li>æœºå™¨å­¦ä¹ </li><li>å¼ºåŒ–å­¦ä¹ </li><li>æ·±åº¦å­¦ä¹ <ul><li>Pytorch</li></ul></li></ul></li><li>AIå‰æ²¿&amp;ç»å…¸è®ºæ–‡ç²¾è¯»</li><li><del>ä¸€äº›æ™¦æ¶©éš¾æ‡‚çš„</del>æ•°å­¦è¯¾</li><li>å‘å‘ç‰¢éªš</li></ul><h3 id="å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰"><a href="#å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰" class="headerlink" title="å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰"></a>å…·ä½“çš„åˆ†ç±»ï¼ˆå®æ—¶æ›´æ–°ï¼‰</h3><ul><li><strong>Code</strong></li><li><strong>Math</strong></li><li><strong>Efficient Tools</strong></li><li><strong>Algorithm</strong></li><li><strong>Frontier and Classic Papers in AI</strong></li><li><strong>AI Core Courses</strong></li></ul><h3 id="å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰"><a href="#å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰" class="headerlink" title="å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰"></a>å…·ä½“çš„æ ‡ç­¾ï¼ˆå®æ—¶æ›´æ–°ï¼‰</h3><p>è§ <a href="https://xiyuanyang-code.github.io/tags/">Tags</a> é¡µã€‚</p><h2 id="Several-Pages"><a href="#Several-Pages" class="headerlink" title="Several Pages"></a>Several Pages</h2><p>ä»¥ä¸‹æ˜¯å¯¹æœ¬åšå®¢è‹¥å¹²åŸºæœ¬é¡µé¢çš„ä»‹ç»ï¼š</p><ul><li><h4 id="Home"><a href="#Home" class="headerlink" title="Home"></a>Home</h4></li><li><h4 id="Introï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰"><a href="#Introï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰" class="headerlink" title="Introï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰"></a><strong>Intro</strong>ï¼ˆä½ ç°åœ¨åœ¨çš„åœ°æ–¹ï¼‰</h4></li><li><h4 id="Archivesï¼ˆæ–‡ç« ï¼‰"><a href="#Archivesï¼ˆæ–‡ç« ï¼‰" class="headerlink" title="Archivesï¼ˆæ–‡ç« ï¼‰"></a>Archivesï¼ˆæ–‡ç« ï¼‰</h4></li><li><h4 id="Categoriesï¼ˆåˆ†ç±»é¡µï¼‰"><a href="#Categoriesï¼ˆåˆ†ç±»é¡µï¼‰" class="headerlink" title="Categoriesï¼ˆåˆ†ç±»é¡µï¼‰"></a>Categoriesï¼ˆåˆ†ç±»é¡µï¼‰</h4></li><li><h4 id="Tagsï¼ˆæ ‡ç­¾é¡µï¼‰"><a href="#Tagsï¼ˆæ ‡ç­¾é¡µï¼‰" class="headerlink" title="Tagsï¼ˆæ ‡ç­¾é¡µï¼‰"></a>Tagsï¼ˆæ ‡ç­¾é¡µï¼‰</h4></li><li><h4 id="Aboutï¼ˆå…³äºä½œè€…ï¼‰"><a href="#Aboutï¼ˆå…³äºä½œè€…ï¼‰" class="headerlink" title="Aboutï¼ˆå…³äºä½œè€…ï¼‰"></a>Aboutï¼ˆå…³äºä½œè€…ï¼‰</h4></li><li><h4 id="FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰"><a href="#FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰" class="headerlink" title="FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰"></a>FAQï¼ˆä¸€äº›å¸¸è§çš„é—®é¢˜ï¼‰</h4></li><li><h4 id="Resumeï¼ˆAcademic-CV-of-the-Authorï¼‰"><a href="#Resumeï¼ˆAcademic-CV-of-the-Authorï¼‰" class="headerlink" title="Resumeï¼ˆAcademic CV of the Authorï¼‰"></a>Resumeï¼ˆ<strong>Academic CV of the Author</strong>ï¼‰</h4></li></ul><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://github.com/lilianweng">lilianweng (Lilian)çš„githubä¸»é¡µ</a></p><p> <a href="https://lilianweng.github.io/">Lilâ€™Logï¼ˆç¿è”çš„åšå®¢ï¼‰</a></p><p><a href="https://openai.com/index/the-power-of-continuous-learning/">The power of continuous learning | OpenAI</a></p><p><a href="https://github.com/xiyuanyang-code">https://github.com/xiyuanyang-code</a></p><p><a href="https://github.com/xiyuanyang-code/xiyuanyang-code.github.io">https://github.com/xiyuanyang-code/xiyuanyang-code.github.io</a></p><center><p><font size=6><b>æ¬¢è¿å¤§å®¶å¸¸å¸¸æ¥ç©~&#128512&#128516&#128513</p></font></p></center><div/>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>About</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<p>Greetings! I am <strong>Xiyuan Yang (æ¨å¸Œæ¸Š)</strong>, currently pursuing an undergraduate degree in Artificial Intelligence at Shanghai Jiao Tong University. With a longstanding aspiration to become a programmer, I am passionate about leveraging technology to make a meaningful impact on the world. Through my personal website, I aim to share a collection of my blogs and learning notes with you. Some of these entries will be presented as a series, updated at irregular intervals. Additionally, I will offer insights into my personal observations and reflections on life. I hope your visit here is both enjoyable and enriching!</p><p><strong>My email:</strong></p><ul><li><p><a href="mailto:&#x78;&#x69;&#x79;&#x75;&#x61;&#x6e;&#x5f;&#x5f;&#x79;&#x61;&#x6e;&#x67;&#x40;&#x6f;&#117;&#116;&#108;&#111;&#111;&#x6b;&#46;&#x63;&#x6f;&#109;">&#x78;&#x69;&#x79;&#x75;&#x61;&#x6e;&#x5f;&#x5f;&#x79;&#x61;&#x6e;&#x67;&#x40;&#x6f;&#117;&#116;&#108;&#111;&#111;&#x6b;&#46;&#x63;&#x6f;&#109;</a></p></li><li><p><a href="mailto:&#121;&#97;&#x6e;&#x67;&#120;&#105;&#x79;&#x75;&#x61;&#110;&#x40;&#x73;&#106;&#116;&#x75;&#x2e;&#x65;&#x64;&#117;&#46;&#99;&#110;">&#121;&#97;&#x6e;&#x67;&#120;&#105;&#x79;&#x75;&#x61;&#110;&#x40;&#x73;&#106;&#116;&#x75;&#x2e;&#x65;&#x64;&#117;&#46;&#99;&#110;</a></p><p>Feel free to contact me!</p></li></ul><blockquote><p>VENI VIDI VICI</p></blockquote>]]></content>
    
  </entry>
  
  
  
  <entry>
    <title>Resume</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<div class="markdown-body">    Hello, I'm Xiyuan Yang!    </div>]]></content>
    
  </entry>
  
  
  
</search>
